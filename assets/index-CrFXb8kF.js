var zm=Object.defineProperty;var fp=Ae=>{throw TypeError(Ae)};var jm=(Ae,_e,ke)=>_e in Ae?zm(Ae,_e,{enumerable:!0,configurable:!0,writable:!0,value:ke}):Ae[_e]=ke;var br=(Ae,_e,ke)=>jm(Ae,typeof _e!="symbol"?_e+"":_e,ke),qd=(Ae,_e,ke)=>_e.has(Ae)||fp("Cannot "+ke);var un=(Ae,_e,ke)=>(qd(Ae,_e,"read from private field"),ke?ke.call(Ae):_e.get(Ae)),ai=(Ae,_e,ke)=>_e.has(Ae)?fp("Cannot add the same private member more than once"):_e instanceof WeakSet?_e.add(Ae):_e.set(Ae,ke),ci=(Ae,_e,ke,Re)=>(qd(Ae,_e,"write to private field"),Re?Re.call(Ae,ke):_e.set(Ae,ke),ke),Kn=(Ae,_e,ke)=>(qd(Ae,_e,"access private method"),ke);var Gl=(Ae,_e,ke,Re)=>({set _(Ie){ci(Ae,_e,Ie,ke)},get _(){return un(Ae,_e,Re)}});(function(){const _e=document.createElement("link").relList;if(_e&&_e.supports&&_e.supports("modulepreload"))return;for(const Ie of document.querySelectorAll('link[rel="modulepreload"]'))Re(Ie);new MutationObserver(Ie=>{for(const Fe of Ie)if(Fe.type==="childList")for(const Ne of Fe.addedNodes)Ne.tagName==="LINK"&&Ne.rel==="modulepreload"&&Re(Ne)}).observe(document,{childList:!0,subtree:!0});function ke(Ie){const Fe={};return Ie.integrity&&(Fe.integrity=Ie.integrity),Ie.referrerPolicy&&(Fe.referrerPolicy=Ie.referrerPolicy),Ie.crossOrigin==="use-credentials"?Fe.credentials="include":Ie.crossOrigin==="anonymous"?Fe.credentials="omit":Fe.credentials="same-origin",Fe}function Re(Ie){if(Ie.ep)return;Ie.ep=!0;const Fe=ke(Ie);fetch(Ie.href,Fe)}})();function getDefaultExportFromCjs(Ae){return Ae&&Ae.__esModule&&Object.prototype.hasOwnProperty.call(Ae,"default")?Ae.default:Ae}function getAugmentedNamespace(Ae){if(Ae.__esModule)return Ae;var _e=Ae.default;if(typeof _e=="function"){var ke=function Re(){return this instanceof Re?Reflect.construct(_e,arguments,this.constructor):_e.apply(this,arguments)};ke.prototype=_e.prototype}else ke={};return Object.defineProperty(ke,"__esModule",{value:!0}),Object.keys(Ae).forEach(function(Re){var Ie=Object.getOwnPropertyDescriptor(Ae,Re);Object.defineProperty(ke,Re,Ie.get?Ie:{enumerable:!0,get:function(){return Ae[Re]}})}),ke}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var Ae=Symbol.for("react.element"),_e=Symbol.for("react.portal"),ke=Symbol.for("react.fragment"),Re=Symbol.for("react.strict_mode"),Ie=Symbol.for("react.profiler"),Fe=Symbol.for("react.provider"),Ne=Symbol.for("react.context"),je=Symbol.for("react.forward_ref"),Be=Symbol.for("react.suspense"),He=Symbol.for("react.memo"),We=Symbol.for("react.lazy"),Ge=Symbol.iterator;function Xe(Sn){return Sn===null||typeof Sn!="object"?null:(Sn=Ge&&Sn[Ge]||Sn["@@iterator"],typeof Sn=="function"?Sn:null)}var $e={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qe=Object.assign,Ue={};function Ye(Sn,fn,on){this.props=Sn,this.context=fn,this.refs=Ue,this.updater=on||$e}Ye.prototype.isReactComponent={},Ye.prototype.setState=function(Sn,fn){if(typeof Sn!="object"&&typeof Sn!="function"&&Sn!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Sn,fn,"setState")},Ye.prototype.forceUpdate=function(Sn){this.updater.enqueueForceUpdate(this,Sn,"forceUpdate")};function Ze(){}Ze.prototype=Ye.prototype;function Qe(Sn,fn,on){this.props=Sn,this.context=fn,this.refs=Ue,this.updater=on||$e}var pn=Qe.prototype=new Ze;pn.constructor=Qe,qe(pn,Ye.prototype),pn.isPureReactComponent=!0;var nn=Array.isArray,rn=Object.prototype.hasOwnProperty,cn={current:null},tn={key:!0,ref:!0,__self:!0,__source:!0};function Je(Sn,fn,on){var ln,_n={},Tn=null,Pn=null;if(fn!=null)for(ln in fn.ref!==void 0&&(Pn=fn.ref),fn.key!==void 0&&(Tn=""+fn.key),fn)rn.call(fn,ln)&&!tn.hasOwnProperty(ln)&&(_n[ln]=fn[ln]);var Rn=arguments.length-2;if(Rn===1)_n.children=on;else if(1<Rn){for(var Dn=Array(Rn),Xn=0;Xn<Rn;Xn++)Dn[Xn]=arguments[Xn+2];_n.children=Dn}if(Sn&&Sn.defaultProps)for(ln in Rn=Sn.defaultProps,Rn)_n[ln]===void 0&&(_n[ln]=Rn[ln]);return{$$typeof:Ae,type:Sn,key:Tn,ref:Pn,props:_n,_owner:cn.current}}function an(Sn,fn){return{$$typeof:Ae,type:Sn.type,key:fn,ref:Sn.ref,props:Sn.props,_owner:Sn._owner}}function gn(Sn){return typeof Sn=="object"&&Sn!==null&&Sn.$$typeof===Ae}function Ke(Sn){var fn={"=":"=0",":":"=2"};return"$"+Sn.replace(/[=:]/g,function(on){return fn[on]})}var sn=/\/+/g;function hn(Sn,fn){return typeof Sn=="object"&&Sn!==null&&Sn.key!=null?Ke(""+Sn.key):fn.toString(36)}function Cn(Sn,fn,on,ln,_n){var Tn=typeof Sn;(Tn==="undefined"||Tn==="boolean")&&(Sn=null);var Pn=!1;if(Sn===null)Pn=!0;else switch(Tn){case"string":case"number":Pn=!0;break;case"object":switch(Sn.$$typeof){case Ae:case _e:Pn=!0}}if(Pn)return Pn=Sn,_n=_n(Pn),Sn=ln===""?"."+hn(Pn,0):ln,nn(_n)?(on="",Sn!=null&&(on=Sn.replace(sn,"$&/")+"/"),Cn(_n,fn,on,"",function(Xn){return Xn})):_n!=null&&(gn(_n)&&(_n=an(_n,on+(!_n.key||Pn&&Pn.key===_n.key?"":(""+_n.key).replace(sn,"$&/")+"/")+Sn)),fn.push(_n)),1;if(Pn=0,ln=ln===""?".":ln+":",nn(Sn))for(var Rn=0;Rn<Sn.length;Rn++){Tn=Sn[Rn];var Dn=ln+hn(Tn,Rn);Pn+=Cn(Tn,fn,on,Dn,_n)}else if(Dn=Xe(Sn),typeof Dn=="function")for(Sn=Dn.call(Sn),Rn=0;!(Tn=Sn.next()).done;)Tn=Tn.value,Dn=ln+hn(Tn,Rn++),Pn+=Cn(Tn,fn,on,Dn,_n);else if(Tn==="object")throw fn=String(Sn),Error("Objects are not valid as a React child (found: "+(fn==="[object Object]"?"object with keys {"+Object.keys(Sn).join(", ")+"}":fn)+"). If you meant to render a collection of children, use an array instead.");return Pn}function bn(Sn,fn,on){if(Sn==null)return Sn;var ln=[],_n=0;return Cn(Sn,ln,"","",function(Tn){return fn.call(on,Tn,_n++)}),ln}function En(Sn){if(Sn._status===-1){var fn=Sn._result;fn=fn(),fn.then(function(on){(Sn._status===0||Sn._status===-1)&&(Sn._status=1,Sn._result=on)},function(on){(Sn._status===0||Sn._status===-1)&&(Sn._status=2,Sn._result=on)}),Sn._status===-1&&(Sn._status=0,Sn._result=fn)}if(Sn._status===1)return Sn._result.default;throw Sn._result}var yn={current:null},xn={transition:null},vn={ReactCurrentDispatcher:yn,ReactCurrentBatchConfig:xn,ReactCurrentOwner:cn};function kn(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:bn,forEach:function(Sn,fn,on){bn(Sn,function(){fn.apply(this,arguments)},on)},count:function(Sn){var fn=0;return bn(Sn,function(){fn++}),fn},toArray:function(Sn){return bn(Sn,function(fn){return fn})||[]},only:function(Sn){if(!gn(Sn))throw Error("React.Children.only expected to receive a single React element child.");return Sn}},react_production_min.Component=Ye,react_production_min.Fragment=ke,react_production_min.Profiler=Ie,react_production_min.PureComponent=Qe,react_production_min.StrictMode=Re,react_production_min.Suspense=Be,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vn,react_production_min.act=kn,react_production_min.cloneElement=function(Sn,fn,on){if(Sn==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Sn+".");var ln=qe({},Sn.props),_n=Sn.key,Tn=Sn.ref,Pn=Sn._owner;if(fn!=null){if(fn.ref!==void 0&&(Tn=fn.ref,Pn=cn.current),fn.key!==void 0&&(_n=""+fn.key),Sn.type&&Sn.type.defaultProps)var Rn=Sn.type.defaultProps;for(Dn in fn)rn.call(fn,Dn)&&!tn.hasOwnProperty(Dn)&&(ln[Dn]=fn[Dn]===void 0&&Rn!==void 0?Rn[Dn]:fn[Dn])}var Dn=arguments.length-2;if(Dn===1)ln.children=on;else if(1<Dn){Rn=Array(Dn);for(var Xn=0;Xn<Dn;Xn++)Rn[Xn]=arguments[Xn+2];ln.children=Rn}return{$$typeof:Ae,type:Sn.type,key:_n,ref:Tn,props:ln,_owner:Pn}},react_production_min.createContext=function(Sn){return Sn={$$typeof:Ne,_currentValue:Sn,_currentValue2:Sn,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Sn.Provider={$$typeof:Fe,_context:Sn},Sn.Consumer=Sn},react_production_min.createElement=Je,react_production_min.createFactory=function(Sn){var fn=Je.bind(null,Sn);return fn.type=Sn,fn},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(Sn){return{$$typeof:je,render:Sn}},react_production_min.isValidElement=gn,react_production_min.lazy=function(Sn){return{$$typeof:We,_payload:{_status:-1,_result:Sn},_init:En}},react_production_min.memo=function(Sn,fn){return{$$typeof:He,type:Sn,compare:fn===void 0?null:fn}},react_production_min.startTransition=function(Sn){var fn=xn.transition;xn.transition={};try{Sn()}finally{xn.transition=fn}},react_production_min.unstable_act=kn,react_production_min.useCallback=function(Sn,fn){return yn.current.useCallback(Sn,fn)},react_production_min.useContext=function(Sn){return yn.current.useContext(Sn)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(Sn){return yn.current.useDeferredValue(Sn)},react_production_min.useEffect=function(Sn,fn){return yn.current.useEffect(Sn,fn)},react_production_min.useId=function(){return yn.current.useId()},react_production_min.useImperativeHandle=function(Sn,fn,on){return yn.current.useImperativeHandle(Sn,fn,on)},react_production_min.useInsertionEffect=function(Sn,fn){return yn.current.useInsertionEffect(Sn,fn)},react_production_min.useLayoutEffect=function(Sn,fn){return yn.current.useLayoutEffect(Sn,fn)},react_production_min.useMemo=function(Sn,fn){return yn.current.useMemo(Sn,fn)},react_production_min.useReducer=function(Sn,fn,on){return yn.current.useReducer(Sn,fn,on)},react_production_min.useRef=function(Sn){return yn.current.useRef(Sn)},react_production_min.useState=function(Sn){return yn.current.useState(Sn)},react_production_min.useSyncExternalStore=function(Sn,fn,on){return yn.current.useSyncExternalStore(Sn,fn,on)},react_production_min.useTransition=function(){return yn.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var Ae=requireReact(),_e=Symbol.for("react.element"),ke=Symbol.for("react.fragment"),Re=Object.prototype.hasOwnProperty,Ie=Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fe={key:!0,ref:!0,__self:!0,__source:!0};function Ne(je,Be,He){var We,Ge={},Xe=null,$e=null;He!==void 0&&(Xe=""+He),Be.key!==void 0&&(Xe=""+Be.key),Be.ref!==void 0&&($e=Be.ref);for(We in Be)Re.call(Be,We)&&!Fe.hasOwnProperty(We)&&(Ge[We]=Be[We]);if(je&&je.defaultProps)for(We in Be=je.defaultProps,Be)Ge[We]===void 0&&(Ge[We]=Be[We]);return{$$typeof:_e,type:je,key:Xe,ref:$e,props:Ge,_owner:Ie.current}}return reactJsxRuntime_production_min.Fragment=ke,reactJsxRuntime_production_min.jsx=Ne,reactJsxRuntime_production_min.jsxs=Ne,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(Ae){function _e(xn,vn){var kn=xn.length;xn.push(vn);e:for(;0<kn;){var Sn=kn-1>>>1,fn=xn[Sn];if(0<Ie(fn,vn))xn[Sn]=vn,xn[kn]=fn,kn=Sn;else break e}}function ke(xn){return xn.length===0?null:xn[0]}function Re(xn){if(xn.length===0)return null;var vn=xn[0],kn=xn.pop();if(kn!==vn){xn[0]=kn;e:for(var Sn=0,fn=xn.length,on=fn>>>1;Sn<on;){var ln=2*(Sn+1)-1,_n=xn[ln],Tn=ln+1,Pn=xn[Tn];if(0>Ie(_n,kn))Tn<fn&&0>Ie(Pn,_n)?(xn[Sn]=Pn,xn[Tn]=kn,Sn=Tn):(xn[Sn]=_n,xn[ln]=kn,Sn=ln);else if(Tn<fn&&0>Ie(Pn,kn))xn[Sn]=Pn,xn[Tn]=kn,Sn=Tn;else break e}}return vn}function Ie(xn,vn){var kn=xn.sortIndex-vn.sortIndex;return kn!==0?kn:xn.id-vn.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Fe=performance;Ae.unstable_now=function(){return Fe.now()}}else{var Ne=Date,je=Ne.now();Ae.unstable_now=function(){return Ne.now()-je}}var Be=[],He=[],We=1,Ge=null,Xe=3,$e=!1,qe=!1,Ue=!1,Ye=typeof setTimeout=="function"?setTimeout:null,Ze=typeof clearTimeout=="function"?clearTimeout:null,Qe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function pn(xn){for(var vn=ke(He);vn!==null;){if(vn.callback===null)Re(He);else if(vn.startTime<=xn)Re(He),vn.sortIndex=vn.expirationTime,_e(Be,vn);else break;vn=ke(He)}}function nn(xn){if(Ue=!1,pn(xn),!qe)if(ke(Be)!==null)qe=!0,En(rn);else{var vn=ke(He);vn!==null&&yn(nn,vn.startTime-xn)}}function rn(xn,vn){qe=!1,Ue&&(Ue=!1,Ze(Je),Je=-1),$e=!0;var kn=Xe;try{for(pn(vn),Ge=ke(Be);Ge!==null&&(!(Ge.expirationTime>vn)||xn&&!Ke());){var Sn=Ge.callback;if(typeof Sn=="function"){Ge.callback=null,Xe=Ge.priorityLevel;var fn=Sn(Ge.expirationTime<=vn);vn=Ae.unstable_now(),typeof fn=="function"?Ge.callback=fn:Ge===ke(Be)&&Re(Be),pn(vn)}else Re(Be);Ge=ke(Be)}if(Ge!==null)var on=!0;else{var ln=ke(He);ln!==null&&yn(nn,ln.startTime-vn),on=!1}return on}finally{Ge=null,Xe=kn,$e=!1}}var cn=!1,tn=null,Je=-1,an=5,gn=-1;function Ke(){return!(Ae.unstable_now()-gn<an)}function sn(){if(tn!==null){var xn=Ae.unstable_now();gn=xn;var vn=!0;try{vn=tn(!0,xn)}finally{vn?hn():(cn=!1,tn=null)}}else cn=!1}var hn;if(typeof Qe=="function")hn=function(){Qe(sn)};else if(typeof MessageChannel<"u"){var Cn=new MessageChannel,bn=Cn.port2;Cn.port1.onmessage=sn,hn=function(){bn.postMessage(null)}}else hn=function(){Ye(sn,0)};function En(xn){tn=xn,cn||(cn=!0,hn())}function yn(xn,vn){Je=Ye(function(){xn(Ae.unstable_now())},vn)}Ae.unstable_IdlePriority=5,Ae.unstable_ImmediatePriority=1,Ae.unstable_LowPriority=4,Ae.unstable_NormalPriority=3,Ae.unstable_Profiling=null,Ae.unstable_UserBlockingPriority=2,Ae.unstable_cancelCallback=function(xn){xn.callback=null},Ae.unstable_continueExecution=function(){qe||$e||(qe=!0,En(rn))},Ae.unstable_forceFrameRate=function(xn){0>xn||125<xn?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):an=0<xn?Math.floor(1e3/xn):5},Ae.unstable_getCurrentPriorityLevel=function(){return Xe},Ae.unstable_getFirstCallbackNode=function(){return ke(Be)},Ae.unstable_next=function(xn){switch(Xe){case 1:case 2:case 3:var vn=3;break;default:vn=Xe}var kn=Xe;Xe=vn;try{return xn()}finally{Xe=kn}},Ae.unstable_pauseExecution=function(){},Ae.unstable_requestPaint=function(){},Ae.unstable_runWithPriority=function(xn,vn){switch(xn){case 1:case 2:case 3:case 4:case 5:break;default:xn=3}var kn=Xe;Xe=xn;try{return vn()}finally{Xe=kn}},Ae.unstable_scheduleCallback=function(xn,vn,kn){var Sn=Ae.unstable_now();switch(typeof kn=="object"&&kn!==null?(kn=kn.delay,kn=typeof kn=="number"&&0<kn?Sn+kn:Sn):kn=Sn,xn){case 1:var fn=-1;break;case 2:fn=250;break;case 5:fn=1073741823;break;case 4:fn=1e4;break;default:fn=5e3}return fn=kn+fn,xn={id:We++,callback:vn,priorityLevel:xn,startTime:kn,expirationTime:fn,sortIndex:-1},kn>Sn?(xn.sortIndex=kn,_e(He,xn),ke(Be)===null&&xn===ke(He)&&(Ue?(Ze(Je),Je=-1):Ue=!0,yn(nn,kn-Sn))):(xn.sortIndex=fn,_e(Be,xn),qe||$e||(qe=!0,En(rn))),xn},Ae.unstable_shouldYield=Ke,Ae.unstable_wrapCallback=function(xn){var vn=Xe;return function(){var kn=Xe;Xe=vn;try{return xn.apply(this,arguments)}finally{Xe=kn}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var Ae=requireReact(),_e=requireScheduler();function ke(Le){for(var De="https://reactjs.org/docs/error-decoder.html?invariant="+Le,ze=1;ze<arguments.length;ze++)De+="&args[]="+encodeURIComponent(arguments[ze]);return"Minified React error #"+Le+"; visit "+De+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Re=new Set,Ie={};function Fe(Le,De){Ne(Le,De),Ne(Le+"Capture",De)}function Ne(Le,De){for(Ie[Le]=De,Le=0;Le<De.length;Le++)Re.add(De[Le])}var je=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Be=Object.prototype.hasOwnProperty,He=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,We={},Ge={};function Xe(Le){return Be.call(Ge,Le)?!0:Be.call(We,Le)?!1:He.test(Le)?Ge[Le]=!0:(We[Le]=!0,!1)}function $e(Le,De,ze,Ve){if(ze!==null&&ze.type===0)return!1;switch(typeof De){case"function":case"symbol":return!0;case"boolean":return Ve?!1:ze!==null?!ze.acceptsBooleans:(Le=Le.toLowerCase().slice(0,5),Le!=="data-"&&Le!=="aria-");default:return!1}}function qe(Le,De,ze,Ve){if(De===null||typeof De>"u"||$e(Le,De,ze,Ve))return!0;if(Ve)return!1;if(ze!==null)switch(ze.type){case 3:return!De;case 4:return De===!1;case 5:return isNaN(De);case 6:return isNaN(De)||1>De}return!1}function Ue(Le,De,ze,Ve,en,dn,Mn){this.acceptsBooleans=De===2||De===3||De===4,this.attributeName=Ve,this.attributeNamespace=en,this.mustUseProperty=ze,this.propertyName=Le,this.type=De,this.sanitizeURL=dn,this.removeEmptyString=Mn}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(Le){Ye[Le]=new Ue(Le,0,!1,Le,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(Le){var De=Le[0];Ye[De]=new Ue(De,1,!1,Le[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(Le){Ye[Le]=new Ue(Le,2,!1,Le.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(Le){Ye[Le]=new Ue(Le,2,!1,Le,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(Le){Ye[Le]=new Ue(Le,3,!1,Le.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(Le){Ye[Le]=new Ue(Le,3,!0,Le,null,!1,!1)}),["capture","download"].forEach(function(Le){Ye[Le]=new Ue(Le,4,!1,Le,null,!1,!1)}),["cols","rows","size","span"].forEach(function(Le){Ye[Le]=new Ue(Le,6,!1,Le,null,!1,!1)}),["rowSpan","start"].forEach(function(Le){Ye[Le]=new Ue(Le,5,!1,Le.toLowerCase(),null,!1,!1)});var Ze=/[\-:]([a-z])/g;function Qe(Le){return Le[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(Le){var De=Le.replace(Ze,Qe);Ye[De]=new Ue(De,1,!1,Le,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(Le){var De=Le.replace(Ze,Qe);Ye[De]=new Ue(De,1,!1,Le,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(Le){var De=Le.replace(Ze,Qe);Ye[De]=new Ue(De,1,!1,Le,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(Le){Ye[Le]=new Ue(Le,1,!1,Le.toLowerCase(),null,!1,!1)}),Ye.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(Le){Ye[Le]=new Ue(Le,1,!1,Le.toLowerCase(),null,!0,!0)});function pn(Le,De,ze,Ve){var en=Ye.hasOwnProperty(De)?Ye[De]:null;(en!==null?en.type!==0:Ve||!(2<De.length)||De[0]!=="o"&&De[0]!=="O"||De[1]!=="n"&&De[1]!=="N")&&(qe(De,ze,en,Ve)&&(ze=null),Ve||en===null?Xe(De)&&(ze===null?Le.removeAttribute(De):Le.setAttribute(De,""+ze)):en.mustUseProperty?Le[en.propertyName]=ze===null?en.type===3?!1:"":ze:(De=en.attributeName,Ve=en.attributeNamespace,ze===null?Le.removeAttribute(De):(en=en.type,ze=en===3||en===4&&ze===!0?"":""+ze,Ve?Le.setAttributeNS(Ve,De,ze):Le.setAttribute(De,ze))))}var nn=Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rn=Symbol.for("react.element"),cn=Symbol.for("react.portal"),tn=Symbol.for("react.fragment"),Je=Symbol.for("react.strict_mode"),an=Symbol.for("react.profiler"),gn=Symbol.for("react.provider"),Ke=Symbol.for("react.context"),sn=Symbol.for("react.forward_ref"),hn=Symbol.for("react.suspense"),Cn=Symbol.for("react.suspense_list"),bn=Symbol.for("react.memo"),En=Symbol.for("react.lazy"),yn=Symbol.for("react.offscreen"),xn=Symbol.iterator;function vn(Le){return Le===null||typeof Le!="object"?null:(Le=xn&&Le[xn]||Le["@@iterator"],typeof Le=="function"?Le:null)}var kn=Object.assign,Sn;function fn(Le){if(Sn===void 0)try{throw Error()}catch(ze){var De=ze.stack.trim().match(/\n( *(at )?)/);Sn=De&&De[1]||""}return`
`+Sn+Le}var on=!1;function ln(Le,De){if(!Le||on)return"";on=!0;var ze=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(De)if(De=function(){throw Error()},Object.defineProperty(De.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(De,[])}catch(Si){var Ve=Si}Reflect.construct(Le,[],De)}else{try{De.call()}catch(Si){Ve=Si}Le.call(De.prototype)}else{try{throw Error()}catch(Si){Ve=Si}Le()}}catch(Si){if(Si&&Ve&&typeof Si.stack=="string"){for(var en=Si.stack.split(`
`),dn=Ve.stack.split(`
`),Mn=en.length-1,Hn=dn.length-1;1<=Mn&&0<=Hn&&en[Mn]!==dn[Hn];)Hn--;for(;1<=Mn&&0<=Hn;Mn--,Hn--)if(en[Mn]!==dn[Hn]){if(Mn!==1||Hn!==1)do if(Mn--,Hn--,0>Hn||en[Mn]!==dn[Hn]){var Jn=`
`+en[Mn].replace(" at new "," at ");return Le.displayName&&Jn.includes("<anonymous>")&&(Jn=Jn.replace("<anonymous>",Le.displayName)),Jn}while(1<=Mn&&0<=Hn);break}}}finally{on=!1,Error.prepareStackTrace=ze}return(Le=Le?Le.displayName||Le.name:"")?fn(Le):""}function _n(Le){switch(Le.tag){case 5:return fn(Le.type);case 16:return fn("Lazy");case 13:return fn("Suspense");case 19:return fn("SuspenseList");case 0:case 2:case 15:return Le=ln(Le.type,!1),Le;case 11:return Le=ln(Le.type.render,!1),Le;case 1:return Le=ln(Le.type,!0),Le;default:return""}}function Tn(Le){if(Le==null)return null;if(typeof Le=="function")return Le.displayName||Le.name||null;if(typeof Le=="string")return Le;switch(Le){case tn:return"Fragment";case cn:return"Portal";case an:return"Profiler";case Je:return"StrictMode";case hn:return"Suspense";case Cn:return"SuspenseList"}if(typeof Le=="object")switch(Le.$$typeof){case Ke:return(Le.displayName||"Context")+".Consumer";case gn:return(Le._context.displayName||"Context")+".Provider";case sn:var De=Le.render;return Le=Le.displayName,Le||(Le=De.displayName||De.name||"",Le=Le!==""?"ForwardRef("+Le+")":"ForwardRef"),Le;case bn:return De=Le.displayName||null,De!==null?De:Tn(Le.type)||"Memo";case En:De=Le._payload,Le=Le._init;try{return Tn(Le(De))}catch{}}return null}function Pn(Le){var De=Le.type;switch(Le.tag){case 24:return"Cache";case 9:return(De.displayName||"Context")+".Consumer";case 10:return(De._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return Le=De.render,Le=Le.displayName||Le.name||"",De.displayName||(Le!==""?"ForwardRef("+Le+")":"ForwardRef");case 7:return"Fragment";case 5:return De;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tn(De);case 8:return De===Je?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof De=="function")return De.displayName||De.name||null;if(typeof De=="string")return De}return null}function Rn(Le){switch(typeof Le){case"boolean":case"number":case"string":case"undefined":return Le;case"object":return Le;default:return""}}function Dn(Le){var De=Le.type;return(Le=Le.nodeName)&&Le.toLowerCase()==="input"&&(De==="checkbox"||De==="radio")}function Xn(Le){var De=Dn(Le)?"checked":"value",ze=Object.getOwnPropertyDescriptor(Le.constructor.prototype,De),Ve=""+Le[De];if(!Le.hasOwnProperty(De)&&typeof ze<"u"&&typeof ze.get=="function"&&typeof ze.set=="function"){var en=ze.get,dn=ze.set;return Object.defineProperty(Le,De,{configurable:!0,get:function(){return en.call(this)},set:function(Mn){Ve=""+Mn,dn.call(this,Mn)}}),Object.defineProperty(Le,De,{enumerable:ze.enumerable}),{getValue:function(){return Ve},setValue:function(Mn){Ve=""+Mn},stopTracking:function(){Le._valueTracker=null,delete Le[De]}}}}function li(Le){Le._valueTracker||(Le._valueTracker=Xn(Le))}function oi(Le){if(!Le)return!1;var De=Le._valueTracker;if(!De)return!0;var ze=De.getValue(),Ve="";return Le&&(Ve=Dn(Le)?Le.checked?"true":"false":Le.value),Le=Ve,Le!==ze?(De.setValue(Le),!0):!1}function di(Le){if(Le=Le||(typeof document<"u"?document:void 0),typeof Le>"u")return null;try{return Le.activeElement||Le.body}catch{return Le.body}}function vi(Le,De){var ze=De.checked;return kn({},De,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:ze??Le._wrapperState.initialChecked})}function yi(Le,De){var ze=De.defaultValue==null?"":De.defaultValue,Ve=De.checked!=null?De.checked:De.defaultChecked;ze=Rn(De.value!=null?De.value:ze),Le._wrapperState={initialChecked:Ve,initialValue:ze,controlled:De.type==="checkbox"||De.type==="radio"?De.checked!=null:De.value!=null}}function Zn(Le,De){De=De.checked,De!=null&&pn(Le,"checked",De,!1)}function Gn(Le,De){Zn(Le,De);var ze=Rn(De.value),Ve=De.type;if(ze!=null)Ve==="number"?(ze===0&&Le.value===""||Le.value!=ze)&&(Le.value=""+ze):Le.value!==""+ze&&(Le.value=""+ze);else if(Ve==="submit"||Ve==="reset"){Le.removeAttribute("value");return}De.hasOwnProperty("value")?Ln(Le,De.type,ze):De.hasOwnProperty("defaultValue")&&Ln(Le,De.type,Rn(De.defaultValue)),De.checked==null&&De.defaultChecked!=null&&(Le.defaultChecked=!!De.defaultChecked)}function wn(Le,De,ze){if(De.hasOwnProperty("value")||De.hasOwnProperty("defaultValue")){var Ve=De.type;if(!(Ve!=="submit"&&Ve!=="reset"||De.value!==void 0&&De.value!==null))return;De=""+Le._wrapperState.initialValue,ze||De===Le.value||(Le.value=De),Le.defaultValue=De}ze=Le.name,ze!==""&&(Le.name=""),Le.defaultChecked=!!Le._wrapperState.initialChecked,ze!==""&&(Le.name=ze)}function Ln(Le,De,ze){(De!=="number"||di(Le.ownerDocument)!==Le)&&(ze==null?Le.defaultValue=""+Le._wrapperState.initialValue:Le.defaultValue!==""+ze&&(Le.defaultValue=""+ze))}var Wn=Array.isArray;function Bn(Le,De,ze,Ve){if(Le=Le.options,De){De={};for(var en=0;en<ze.length;en++)De["$"+ze[en]]=!0;for(ze=0;ze<Le.length;ze++)en=De.hasOwnProperty("$"+Le[ze].value),Le[ze].selected!==en&&(Le[ze].selected=en),en&&Ve&&(Le[ze].defaultSelected=!0)}else{for(ze=""+Rn(ze),De=null,en=0;en<Le.length;en++){if(Le[en].value===ze){Le[en].selected=!0,Ve&&(Le[en].defaultSelected=!0);return}De!==null||Le[en].disabled||(De=Le[en])}De!==null&&(De.selected=!0)}}function Yn(Le,De){if(De.dangerouslySetInnerHTML!=null)throw Error(ke(91));return kn({},De,{value:void 0,defaultValue:void 0,children:""+Le._wrapperState.initialValue})}function fi(Le,De){var ze=De.value;if(ze==null){if(ze=De.children,De=De.defaultValue,ze!=null){if(De!=null)throw Error(ke(92));if(Wn(ze)){if(1<ze.length)throw Error(ke(93));ze=ze[0]}De=ze}De==null&&(De=""),ze=De}Le._wrapperState={initialValue:Rn(ze)}}function gi(Le,De){var ze=Rn(De.value),Ve=Rn(De.defaultValue);ze!=null&&(ze=""+ze,ze!==Le.value&&(Le.value=ze),De.defaultValue==null&&Le.defaultValue!==ze&&(Le.defaultValue=ze)),Ve!=null&&(Le.defaultValue=""+Ve)}function $n(Le){var De=Le.textContent;De===Le._wrapperState.initialValue&&De!==""&&De!==null&&(Le.value=De)}function Pi(Le){switch(Le){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ei(Le,De){return Le==null||Le==="http://www.w3.org/1999/xhtml"?Pi(De):Le==="http://www.w3.org/2000/svg"&&De==="foreignObject"?"http://www.w3.org/1999/xhtml":Le}var Yi,Wi=function(Le){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(De,ze,Ve,en){MSApp.execUnsafeLocalFunction(function(){return Le(De,ze,Ve,en)})}:Le}(function(Le,De){if(Le.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in Le)Le.innerHTML=De;else{for(Yi=Yi||document.createElement("div"),Yi.innerHTML="<svg>"+De.valueOf().toString()+"</svg>",De=Yi.firstChild;Le.firstChild;)Le.removeChild(Le.firstChild);for(;De.firstChild;)Le.appendChild(De.firstChild)}});function ir(Le,De){if(De){var ze=Le.firstChild;if(ze&&ze===Le.lastChild&&ze.nodeType===3){ze.nodeValue=De;return}}Le.textContent=De}var Mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xi=["Webkit","ms","Moz","O"];Object.keys(Mi).forEach(function(Le){Xi.forEach(function(De){De=De+Le.charAt(0).toUpperCase()+Le.substring(1),Mi[De]=Mi[Le]})});function er(Le,De,ze){return De==null||typeof De=="boolean"||De===""?"":ze||typeof De!="number"||De===0||Mi.hasOwnProperty(Le)&&Mi[Le]?(""+De).trim():De+"px"}function Mr(Le,De){Le=Le.style;for(var ze in De)if(De.hasOwnProperty(ze)){var Ve=ze.indexOf("--")===0,en=er(ze,De[ze],Ve);ze==="float"&&(ze="cssFloat"),Ve?Le.setProperty(ze,en):Le[ze]=en}}var _i=kn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qn(Le,De){if(De){if(_i[Le]&&(De.children!=null||De.dangerouslySetInnerHTML!=null))throw Error(ke(137,Le));if(De.dangerouslySetInnerHTML!=null){if(De.children!=null)throw Error(ke(60));if(typeof De.dangerouslySetInnerHTML!="object"||!("__html"in De.dangerouslySetInnerHTML))throw Error(ke(61))}if(De.style!=null&&typeof De.style!="object")throw Error(ke(62))}}function ti(Le,De){if(Le.indexOf("-")===-1)return typeof De.is=="string";switch(Le){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bi=null;function Vi(Le){return Le=Le.target||Le.srcElement||window,Le.correspondingUseElement&&(Le=Le.correspondingUseElement),Le.nodeType===3?Le.parentNode:Le}var Qi=null,Fn=null,pi=null;function Ti(Le){if(Le=Ol(Le)){if(typeof Qi!="function")throw Error(ke(280));var De=Le.stateNode;De&&(De=kc(De),Qi(Le.stateNode,Le.type,De))}}function $i(Le){Fn?pi?pi.push(Le):pi=[Le]:Fn=Le}function Gi(){if(Fn){var Le=Fn,De=pi;if(pi=Fn=null,Ti(Le),De)for(Le=0;Le<De.length;Le++)Ti(De[Le])}}function ji(Le,De){return Le(De)}function In(){}var On=!1;function Vn(Le,De,ze){if(On)return Le(De,ze);On=!0;try{return ji(Le,De,ze)}finally{On=!1,(Fn!==null||pi!==null)&&(In(),Gi())}}function ui(Le,De){var ze=Le.stateNode;if(ze===null)return null;var Ve=kc(ze);if(Ve===null)return null;ze=Ve[De];e:switch(De){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Ve=!Ve.disabled)||(Le=Le.type,Ve=!(Le==="button"||Le==="input"||Le==="select"||Le==="textarea")),Le=!Ve;break e;default:Le=!1}if(Le)return null;if(ze&&typeof ze!="function")throw Error(ke(231,De,typeof ze));return ze}var hi=!1;if(je)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){hi=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{hi=!1}function Ai(Le,De,ze,Ve,en,dn,Mn,Hn,Jn){var Si=Array.prototype.slice.call(arguments,3);try{De.apply(ze,Si)}catch(Di){this.onError(Di)}}var Ui=!1,qi=null,Fi=!1,yr=null,Ki={onError:function(Le){Ui=!0,qi=Le}};function Ji(Le,De,ze,Ve,en,dn,Mn,Hn,Jn){Ui=!1,qi=null,Ai.apply(Ki,arguments)}function pr(Le,De,ze,Ve,en,dn,Mn,Hn,Jn){if(Ji.apply(this,arguments),Ui){if(Ui){var Si=qi;Ui=!1,qi=null}else throw Error(ke(198));Fi||(Fi=!0,yr=Si)}}function Sr(Le){var De=Le,ze=Le;if(Le.alternate)for(;De.return;)De=De.return;else{Le=De;do De=Le,(De.flags&4098)!==0&&(ze=De.return),Le=De.return;while(Le)}return De.tag===3?ze:null}function Fr(Le){if(Le.tag===13){var De=Le.memoizedState;if(De===null&&(Le=Le.alternate,Le!==null&&(De=Le.memoizedState)),De!==null)return De.dehydrated}return null}function Vr(Le){if(Sr(Le)!==Le)throw Error(ke(188))}function vs(Le){var De=Le.alternate;if(!De){if(De=Sr(Le),De===null)throw Error(ke(188));return De!==Le?null:Le}for(var ze=Le,Ve=De;;){var en=ze.return;if(en===null)break;var dn=en.alternate;if(dn===null){if(Ve=en.return,Ve!==null){ze=Ve;continue}break}if(en.child===dn.child){for(dn=en.child;dn;){if(dn===ze)return Vr(en),Le;if(dn===Ve)return Vr(en),De;dn=dn.sibling}throw Error(ke(188))}if(ze.return!==Ve.return)ze=en,Ve=dn;else{for(var Mn=!1,Hn=en.child;Hn;){if(Hn===ze){Mn=!0,ze=en,Ve=dn;break}if(Hn===Ve){Mn=!0,Ve=en,ze=dn;break}Hn=Hn.sibling}if(!Mn){for(Hn=dn.child;Hn;){if(Hn===ze){Mn=!0,ze=dn,Ve=en;break}if(Hn===Ve){Mn=!0,Ve=dn,ze=en;break}Hn=Hn.sibling}if(!Mn)throw Error(ke(189))}}if(ze.alternate!==Ve)throw Error(ke(190))}if(ze.tag!==3)throw Error(ke(188));return ze.stateNode.current===ze?Le:De}function ts(Le){return Le=vs(Le),Le!==null?Ws(Le):null}function Ws(Le){if(Le.tag===5||Le.tag===6)return Le;for(Le=Le.child;Le!==null;){var De=Ws(Le);if(De!==null)return De;Le=Le.sibling}return null}var Zs=_e.unstable_scheduleCallback,Qs=_e.unstable_cancelCallback,Da=_e.unstable_shouldYield,ku=_e.unstable_requestPaint,hs=_e.unstable_now,Na=_e.unstable_getCurrentPriorityLevel,Sl=_e.unstable_ImmediatePriority,nc=_e.unstable_UserBlockingPriority,za=_e.unstable_NormalPriority,Cu=_e.unstable_LowPriority,ic=_e.unstable_IdlePriority,ja=null,Ns=null;function rc(Le){if(Ns&&typeof Ns.onCommitFiberRoot=="function")try{Ns.onCommitFiberRoot(ja,Le,void 0,(Le.current.flags&128)===128)}catch{}}var Vs=Math.clz32?Math.clz32:Au,Pu=Math.log,fa=Math.LN2;function Au(Le){return Le>>>=0,Le===0?32:31-(Pu(Le)/fa|0)|0}var Ba=64,Ha=4194304;function Io(Le){switch(Le&-Le){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Le&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return Le&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return Le}}function Wa(Le,De){var ze=Le.pendingLanes;if(ze===0)return 0;var Ve=0,en=Le.suspendedLanes,dn=Le.pingedLanes,Mn=ze&268435455;if(Mn!==0){var Hn=Mn&~en;Hn!==0?Ve=Io(Hn):(dn&=Mn,dn!==0&&(Ve=Io(dn)))}else Mn=ze&~en,Mn!==0?Ve=Io(Mn):dn!==0&&(Ve=Io(dn));if(Ve===0)return 0;if(De!==0&&De!==Ve&&(De&en)===0&&(en=Ve&-Ve,dn=De&-De,en>=dn||en===16&&(dn&4194240)!==0))return De;if((Ve&4)!==0&&(Ve|=ze&16),De=Le.entangledLanes,De!==0)for(Le=Le.entanglements,De&=Ve;0<De;)ze=31-Vs(De),en=1<<ze,Ve|=Le[ze],De&=~en;return Ve}function Mu(Le,De){switch(Le){case 1:case 2:case 4:return De+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return De+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sc(Le,De){for(var ze=Le.suspendedLanes,Ve=Le.pingedLanes,en=Le.expirationTimes,dn=Le.pendingLanes;0<dn;){var Mn=31-Vs(dn),Hn=1<<Mn,Jn=en[Mn];Jn===-1?((Hn&ze)===0||(Hn&Ve)!==0)&&(en[Mn]=Mu(Hn,De)):Jn<=De&&(Le.expiredLanes|=Hn),dn&=~Hn}}function Va(Le){return Le=Le.pendingLanes&-1073741825,Le!==0?Le:Le&1073741824?1073741824:0}function oc(){var Le=Ba;return Ba<<=1,(Ba&4194240)===0&&(Ba=64),Le}function xl(Le){for(var De=[],ze=0;31>ze;ze++)De.push(Le);return De}function Fo(Le,De,ze){Le.pendingLanes|=De,De!==536870912&&(Le.suspendedLanes=0,Le.pingedLanes=0),Le=Le.eventTimes,De=31-Vs(De),Le[De]=ze}function Tu(Le,De){var ze=Le.pendingLanes&~De;Le.pendingLanes=De,Le.suspendedLanes=0,Le.pingedLanes=0,Le.expiredLanes&=De,Le.mutableReadLanes&=De,Le.entangledLanes&=De,De=Le.entanglements;var Ve=Le.eventTimes;for(Le=Le.expirationTimes;0<ze;){var en=31-Vs(ze),dn=1<<en;De[en]=0,Ve[en]=-1,Le[en]=-1,ze&=~dn}}function Ua(Le,De){var ze=Le.entangledLanes|=De;for(Le=Le.entanglements;ze;){var Ve=31-Vs(ze),en=1<<Ve;en&De|Le[Ve]&De&&(Le[Ve]|=De),ze&=~en}}var Yr=0;function ac(Le){return Le&=-Le,1<Le?4<Le?(Le&268435455)!==0?16:536870912:4:1}var $a,El,lc,Do,cc,qa=!1,Xa=[],Js=null,oo=null,Co=null,Xo=new Map,Go=new Map,ao=[],Ru="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uc(Le,De){switch(Le){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":oo=null;break;case"mouseover":case"mouseout":Co=null;break;case"pointerover":case"pointerout":Xo.delete(De.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(De.pointerId)}}function pa(Le,De,ze,Ve,en,dn){return Le===null||Le.nativeEvent!==dn?(Le={blockedOn:De,domEventName:ze,eventSystemFlags:Ve,nativeEvent:dn,targetContainers:[en]},De!==null&&(De=Ol(De),De!==null&&El(De)),Le):(Le.eventSystemFlags|=Ve,De=Le.targetContainers,en!==null&&De.indexOf(en)===-1&&De.push(en),Le)}function mn(Le,De,ze,Ve,en){switch(De){case"focusin":return Js=pa(Js,Le,De,ze,Ve,en),!0;case"dragenter":return oo=pa(oo,Le,De,ze,Ve,en),!0;case"mouseover":return Co=pa(Co,Le,De,ze,Ve,en),!0;case"pointerover":var dn=en.pointerId;return Xo.set(dn,pa(Xo.get(dn)||null,Le,De,ze,Ve,en)),!0;case"gotpointercapture":return dn=en.pointerId,Go.set(dn,pa(Go.get(dn)||null,Le,De,ze,Ve,en)),!0}return!1}function An(Le){var De=Ea(Le.target);if(De!==null){var ze=Sr(De);if(ze!==null){if(De=ze.tag,De===13){if(De=Fr(ze),De!==null){Le.blockedOn=De,cc(Le.priority,function(){lc(ze)});return}}else if(De===3&&ze.stateNode.current.memoizedState.isDehydrated){Le.blockedOn=ze.tag===3?ze.stateNode.containerInfo:null;return}}}Le.blockedOn=null}function Nn(Le){if(Le.blockedOn!==null)return!1;for(var De=Le.targetContainers;0<De.length;){var ze=wi(Le.domEventName,Le.eventSystemFlags,De[0],Le.nativeEvent);if(ze===null){ze=Le.nativeEvent;var Ve=new ze.constructor(ze.type,ze);Bi=Ve,ze.target.dispatchEvent(Ve),Bi=null}else return De=Ol(ze),De!==null&&El(De),Le.blockedOn=ze,!1;De.shift()}return!0}function zn(Le,De,ze){Nn(Le)&&ze.delete(De)}function Un(){qa=!1,Js!==null&&Nn(Js)&&(Js=null),oo!==null&&Nn(oo)&&(oo=null),Co!==null&&Nn(Co)&&(Co=null),Xo.forEach(zn),Go.forEach(zn)}function qn(Le,De){Le.blockedOn===De&&(Le.blockedOn=null,qa||(qa=!0,_e.unstable_scheduleCallback(_e.unstable_NormalPriority,Un)))}function ri(Le){function De(en){return qn(en,Le)}if(0<Xa.length){qn(Xa[0],Le);for(var ze=1;ze<Xa.length;ze++){var Ve=Xa[ze];Ve.blockedOn===Le&&(Ve.blockedOn=null)}}for(Js!==null&&qn(Js,Le),oo!==null&&qn(oo,Le),Co!==null&&qn(Co,Le),Xo.forEach(De),Go.forEach(De),ze=0;ze<ao.length;ze++)Ve=ao[ze],Ve.blockedOn===Le&&(Ve.blockedOn=null);for(;0<ao.length&&(ze=ao[0],ze.blockedOn===null);)An(ze),ze.blockedOn===null&&ao.shift()}var ei=nn.ReactCurrentBatchConfig,jn=!0;function ii(Le,De,ze,Ve){var en=Yr,dn=ei.transition;ei.transition=null;try{Yr=1,Ci(Le,De,ze,Ve)}finally{Yr=en,ei.transition=dn}}function ni(Le,De,ze,Ve){var en=Yr,dn=ei.transition;ei.transition=null;try{Yr=4,Ci(Le,De,ze,Ve)}finally{Yr=en,ei.transition=dn}}function Ci(Le,De,ze,Ve){if(jn){var en=wi(Le,De,ze,Ve);if(en===null)Du(Le,De,Ve,ki,ze),uc(Le,Ve);else if(mn(en,Le,De,ze,Ve))Ve.stopPropagation();else if(uc(Le,Ve),De&4&&-1<Ru.indexOf(Le)){for(;en!==null;){var dn=Ol(en);if(dn!==null&&$a(dn),dn=wi(Le,De,ze,Ve),dn===null&&Du(Le,De,Ve,ki,ze),dn===en)break;en=dn}en!==null&&Ve.stopPropagation()}else Du(Le,De,Ve,null,ze)}}var ki=null;function wi(Le,De,ze,Ve){if(ki=null,Le=Vi(Ve),Le=Ea(Le),Le!==null)if(De=Sr(Le),De===null)Le=null;else if(ze=De.tag,ze===13){if(Le=Fr(De),Le!==null)return Le;Le=null}else if(ze===3){if(De.stateNode.current.memoizedState.isDehydrated)return De.tag===3?De.stateNode.containerInfo:null;Le=null}else De!==Le&&(Le=null);return ki=Le,null}function Ni(Le){switch(Le){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Na()){case Sl:return 1;case nc:return 4;case za:case Cu:return 16;case ic:return 536870912;default:return 16}default:return 16}}var Li=null,Oi=null,kr=null;function dr(){if(kr)return kr;var Le,De=Oi,ze=De.length,Ve,en="value"in Li?Li.value:Li.textContent,dn=en.length;for(Le=0;Le<ze&&De[Le]===en[Le];Le++);var Mn=ze-Le;for(Ve=1;Ve<=Mn&&De[ze-Ve]===en[dn-Ve];Ve++);return kr=en.slice(Le,1<Ve?1-Ve:void 0)}function cr(Le){var De=Le.keyCode;return"charCode"in Le?(Le=Le.charCode,Le===0&&De===13&&(Le=13)):Le=De,Le===10&&(Le=13),32<=Le||Le===13?Le:0}function vr(){return!0}function tr(){return!1}function or(Le){function De(ze,Ve,en,dn,Mn){this._reactName=ze,this._targetInst=en,this.type=Ve,this.nativeEvent=dn,this.target=Mn,this.currentTarget=null;for(var Hn in Le)Le.hasOwnProperty(Hn)&&(ze=Le[Hn],this[Hn]=ze?ze(dn):dn[Hn]);return this.isDefaultPrevented=(dn.defaultPrevented!=null?dn.defaultPrevented:dn.returnValue===!1)?vr:tr,this.isPropagationStopped=tr,this}return kn(De.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ze=this.nativeEvent;ze&&(ze.preventDefault?ze.preventDefault():typeof ze.returnValue!="unknown"&&(ze.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var ze=this.nativeEvent;ze&&(ze.stopPropagation?ze.stopPropagation():typeof ze.cancelBubble!="unknown"&&(ze.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),De}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(Le){return Le.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zr=or(hr),Dr=kn({},hr,{view:0,detail:0}),Hr=or(Dr),Br,Wr,ns,Kr=kn({},Dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(Le){return Le.relatedTarget===void 0?Le.fromElement===Le.srcElement?Le.toElement:Le.fromElement:Le.relatedTarget},movementX:function(Le){return"movementX"in Le?Le.movementX:(Le!==ns&&(ns&&Le.type==="mousemove"?(Br=Le.screenX-ns.screenX,Wr=Le.screenY-ns.screenY):Wr=Br=0,ns=Le),Br)},movementY:function(Le){return"movementY"in Le?Le.movementY:Wr}}),us=or(Kr),rs=kn({},Kr,{dataTransfer:0}),os=or(rs),as=kn({},Dr,{relatedTarget:0}),is=or(as),ws=kn({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),lo=or(ws),eo=kn({},hr,{clipboardData:function(Le){return"clipboardData"in Le?Le.clipboardData:window.clipboardData}}),_s=or(eo),Ls=kn({},hr,{data:0}),co=or(Ls),xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ar(Le){var De=this.nativeEvent;return De.getModifierState?De.getModifierState(Le):(Le=rr[Le])?!!De[Le]:!1}function nr(){return ar}var wr=kn({},Dr,{key:function(Le){if(Le.key){var De=xr[Le.key]||Le.key;if(De!=="Unidentified")return De}return Le.type==="keypress"?(Le=cr(Le),Le===13?"Enter":String.fromCharCode(Le)):Le.type==="keydown"||Le.type==="keyup"?mr[Le.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(Le){return Le.type==="keypress"?cr(Le):0},keyCode:function(Le){return Le.type==="keydown"||Le.type==="keyup"?Le.keyCode:0},which:function(Le){return Le.type==="keypress"?cr(Le):Le.type==="keydown"||Le.type==="keyup"?Le.keyCode:0}}),Cr=or(wr),lr=kn({},Kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=or(lr),Tr=kn({},Dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),Or=or(Tr),Jr=kn({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zr=or(Jr),xs=kn({},Kr,{deltaX:function(Le){return"deltaX"in Le?Le.deltaX:"wheelDeltaX"in Le?-Le.wheelDeltaX:0},deltaY:function(Le){return"deltaY"in Le?Le.deltaY:"wheelDeltaY"in Le?-Le.wheelDeltaY:"wheelDelta"in Le?-Le.wheelDelta:0},deltaZ:0,deltaMode:0}),zs=or(xs),Rr=[9,13,27,32],bs=je&&"CompositionEvent"in window,qr=null;je&&"documentMode"in document&&(qr=document.documentMode);var es=je&&"TextEvent"in window&&!qr,fs=je&&(!bs||qr&&8<qr&&11>=qr),Xr=" ",bo=!1;function No(Le,De){switch(Le){case"keyup":return Rr.indexOf(De.keyCode)!==-1;case"keydown":return De.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(Le){return Le=Le.detail,typeof Le=="object"&&"data"in Le?Le.data:null}var Us=!1;function ga(Le,De){switch(Le){case"compositionend":return ma(De);case"keypress":return De.which!==32?null:(bo=!0,Xr);case"textInput":return Le=De.data,Le===Xr&&bo?null:Le;default:return null}}function Lu(Le,De){if(Us)return Le==="compositionend"||!bs&&No(Le,De)?(Le=dr(),kr=Oi=Li=null,Us=!1,Le):null;switch(Le){case"paste":return null;case"keypress":if(!(De.ctrlKey||De.altKey||De.metaKey)||De.ctrlKey&&De.altKey){if(De.char&&1<De.char.length)return De.char;if(De.which)return String.fromCharCode(De.which)}return null;case"compositionend":return fs&&De.locale!=="ko"?null:De.data;default:return null}}var js={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wl(Le){var De=Le&&Le.nodeName&&Le.nodeName.toLowerCase();return De==="input"?!!js[Le.type]:De==="textarea"}function dc(Le,De,ze,Ve){$i(Ve),De=xc(De,"onChange"),0<De.length&&(ze=new zr("onChange","change",null,ze,Ve),Le.push({event:ze,listeners:De}))}var $r=null,va=null;function Po(Le){Ah(Le,0)}function Ga(Le){var De=tl(Le);if(oi(De))return Le}function Ou(Le,De){if(Le==="change")return De}var hc=!1;if(je){var ba;if(je){var Ya="oninput"in document;if(!Ya){var fc=document.createElement("div");fc.setAttribute("oninput","return;"),Ya=typeof fc.oninput=="function"}ba=Ya}else ba=!1;hc=ba&&(!document.documentMode||9<document.documentMode)}function pc(){$r&&($r.detachEvent("onpropertychange",mc),va=$r=null)}function mc(Le){if(Le.propertyName==="value"&&Ga(va)){var De=[];dc(De,va,Le,Vi(Le)),Vn(Po,De)}}function Ao(Le,De,ze){Le==="focusin"?(pc(),$r=De,va=ze,$r.attachEvent("onpropertychange",mc)):Le==="focusout"&&pc()}function Iu(Le){if(Le==="selectionchange"||Le==="keyup"||Le==="keydown")return Ga(va)}function gc(Le,De){if(Le==="click")return Ga(De)}function vc(Le,De){if(Le==="input"||Le==="change")return Ga(De)}function kl(Le,De){return Le===De&&(Le!==0||1/Le===1/De)||Le!==Le&&De!==De}var $s=typeof Object.is=="function"?Object.is:kl;function Yo(Le,De){if($s(Le,De))return!0;if(typeof Le!="object"||Le===null||typeof De!="object"||De===null)return!1;var ze=Object.keys(Le),Ve=Object.keys(De);if(ze.length!==Ve.length)return!1;for(Ve=0;Ve<ze.length;Ve++){var en=ze[Ve];if(!Be.call(De,en)||!$s(Le[en],De[en]))return!1}return!0}function Mo(Le){for(;Le&&Le.firstChild;)Le=Le.firstChild;return Le}function bc(Le,De){var ze=Mo(Le);Le=0;for(var Ve;ze;){if(ze.nodeType===3){if(Ve=Le+ze.textContent.length,Le<=De&&Ve>=De)return{node:ze,offset:De-Le};Le=Ve}e:{for(;ze;){if(ze.nextSibling){ze=ze.nextSibling;break e}ze=ze.parentNode}ze=void 0}ze=Mo(ze)}}function yc(Le,De){return Le&&De?Le===De?!0:Le&&Le.nodeType===3?!1:De&&De.nodeType===3?yc(Le,De.parentNode):"contains"in Le?Le.contains(De):Le.compareDocumentPosition?!!(Le.compareDocumentPosition(De)&16):!1:!1}function Ka(){for(var Le=window,De=di();De instanceof Le.HTMLIFrameElement;){try{var ze=typeof De.contentWindow.location.href=="string"}catch{ze=!1}if(ze)Le=De.contentWindow;else break;De=di(Le.document)}return De}function ya(Le){var De=Le&&Le.nodeName&&Le.nodeName.toLowerCase();return De&&(De==="input"&&(Le.type==="text"||Le.type==="search"||Le.type==="tel"||Le.type==="url"||Le.type==="password")||De==="textarea"||Le.contentEditable==="true")}function Cl(Le){var De=Ka(),ze=Le.focusedElem,Ve=Le.selectionRange;if(De!==ze&&ze&&ze.ownerDocument&&yc(ze.ownerDocument.documentElement,ze)){if(Ve!==null&&ya(ze)){if(De=Ve.start,Le=Ve.end,Le===void 0&&(Le=De),"selectionStart"in ze)ze.selectionStart=De,ze.selectionEnd=Math.min(Le,ze.value.length);else if(Le=(De=ze.ownerDocument||document)&&De.defaultView||window,Le.getSelection){Le=Le.getSelection();var en=ze.textContent.length,dn=Math.min(Ve.start,en);Ve=Ve.end===void 0?dn:Math.min(Ve.end,en),!Le.extend&&dn>Ve&&(en=Ve,Ve=dn,dn=en),en=bc(ze,dn);var Mn=bc(ze,Ve);en&&Mn&&(Le.rangeCount!==1||Le.anchorNode!==en.node||Le.anchorOffset!==en.offset||Le.focusNode!==Mn.node||Le.focusOffset!==Mn.offset)&&(De=De.createRange(),De.setStart(en.node,en.offset),Le.removeAllRanges(),dn>Ve?(Le.addRange(De),Le.extend(Mn.node,Mn.offset)):(De.setEnd(Mn.node,Mn.offset),Le.addRange(De)))}}for(De=[],Le=ze;Le=Le.parentNode;)Le.nodeType===1&&De.push({element:Le,left:Le.scrollLeft,top:Le.scrollTop});for(typeof ze.focus=="function"&&ze.focus(),ze=0;ze<De.length;ze++)Le=De[ze],Le.element.scrollLeft=Le.left,Le.element.scrollTop=Le.top}}var _c=je&&"documentMode"in document&&11>=document.documentMode,Ko=null,_a=null,Sa=null,Pl=!1;function Al(Le,De,ze){var Ve=ze.window===ze?ze.document:ze.nodeType===9?ze:ze.ownerDocument;Pl||Ko==null||Ko!==di(Ve)||(Ve=Ko,"selectionStart"in Ve&&ya(Ve)?Ve={start:Ve.selectionStart,end:Ve.selectionEnd}:(Ve=(Ve.ownerDocument&&Ve.ownerDocument.defaultView||window).getSelection(),Ve={anchorNode:Ve.anchorNode,anchorOffset:Ve.anchorOffset,focusNode:Ve.focusNode,focusOffset:Ve.focusOffset}),Sa&&Yo(Sa,Ve)||(Sa=Ve,Ve=xc(_a,"onSelect"),0<Ve.length&&(De=new zr("onSelect","select",null,De,ze),Le.push({event:De,listeners:Ve}),De.target=Ko)))}function Ri(Le,De){var ze={};return ze[Le.toLowerCase()]=De.toLowerCase(),ze["Webkit"+Le]="webkit"+De,ze["Moz"+Le]="moz"+De,ze}var Er={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionend:Ri("Transition","TransitionEnd")},Ir={},Ur={};je&&(Ur=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function jr(Le){if(Ir[Le])return Ir[Le];if(!Er[Le])return Le;var De=Er[Le],ze;for(ze in De)if(De.hasOwnProperty(ze)&&ze in Ur)return Ir[Le]=De[ze];return Le}var Nr=jr("animationend"),ps=jr("animationiteration"),yo=jr("animationstart"),Za=jr("transitionend"),xa=new Map,_o="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function no(Le,De){xa.set(Le,De),Fe(De,[Le])}for(var Qa=0;Qa<_o.length;Qa++){var Zo=_o[Qa],Qo=Zo.toLowerCase(),Gp=Zo[0].toUpperCase()+Zo.slice(1);no(Qo,"on"+Gp)}no(Nr,"onAnimationEnd"),no(ps,"onAnimationIteration"),no(yo,"onAnimationStart"),no("dblclick","onDoubleClick"),no("focusin","onFocus"),no("focusout","onBlur"),no(Za,"onTransitionEnd"),Ne("onMouseEnter",["mouseout","mouseover"]),Ne("onMouseLeave",["mouseout","mouseover"]),Ne("onPointerEnter",["pointerout","pointerover"]),Ne("onPointerLeave",["pointerout","pointerover"]),Fe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ml));function Ph(Le,De,ze){var Ve=Le.type||"unknown-event";Le.currentTarget=ze,pr(Ve,De,void 0,Le),Le.currentTarget=null}function Ah(Le,De){De=(De&4)!==0;for(var ze=0;ze<Le.length;ze++){var Ve=Le[ze],en=Ve.event;Ve=Ve.listeners;e:{var dn=void 0;if(De)for(var Mn=Ve.length-1;0<=Mn;Mn--){var Hn=Ve[Mn],Jn=Hn.instance,Si=Hn.currentTarget;if(Hn=Hn.listener,Jn!==dn&&en.isPropagationStopped())break e;Ph(en,Hn,Si),dn=Jn}else for(Mn=0;Mn<Ve.length;Mn++){if(Hn=Ve[Mn],Jn=Hn.instance,Si=Hn.currentTarget,Hn=Hn.listener,Jn!==dn&&en.isPropagationStopped())break e;Ph(en,Hn,Si),dn=Jn}}}if(Fi)throw Le=yr,Fi=!1,yr=null,Le}function ls(Le,De){var ze=De[Wu];ze===void 0&&(ze=De[Wu]=new Set);var Ve=Le+"__bubble";ze.has(Ve)||(Mh(De,Le,2,!1),ze.add(Ve))}function Fu(Le,De,ze){var Ve=0;De&&(Ve|=4),Mh(ze,Le,Ve,De)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Tl(Le){if(!Le[Sc]){Le[Sc]=!0,Re.forEach(function(ze){ze!=="selectionchange"&&(Yp.has(ze)||Fu(ze,!1,Le),Fu(ze,!0,Le))});var De=Le.nodeType===9?Le:Le.ownerDocument;De===null||De[Sc]||(De[Sc]=!0,Fu("selectionchange",!1,De))}}function Mh(Le,De,ze,Ve){switch(Ni(De)){case 1:var en=ii;break;case 4:en=ni;break;default:en=Ci}ze=en.bind(null,De,ze,Le),en=void 0,!hi||De!=="touchstart"&&De!=="touchmove"&&De!=="wheel"||(en=!0),Ve?en!==void 0?Le.addEventListener(De,ze,{capture:!0,passive:en}):Le.addEventListener(De,ze,!0):en!==void 0?Le.addEventListener(De,ze,{passive:en}):Le.addEventListener(De,ze,!1)}function Du(Le,De,ze,Ve,en){var dn=Ve;if((De&1)===0&&(De&2)===0&&Ve!==null)e:for(;;){if(Ve===null)return;var Mn=Ve.tag;if(Mn===3||Mn===4){var Hn=Ve.stateNode.containerInfo;if(Hn===en||Hn.nodeType===8&&Hn.parentNode===en)break;if(Mn===4)for(Mn=Ve.return;Mn!==null;){var Jn=Mn.tag;if((Jn===3||Jn===4)&&(Jn=Mn.stateNode.containerInfo,Jn===en||Jn.nodeType===8&&Jn.parentNode===en))return;Mn=Mn.return}for(;Hn!==null;){if(Mn=Ea(Hn),Mn===null)return;if(Jn=Mn.tag,Jn===5||Jn===6){Ve=dn=Mn;continue e}Hn=Hn.parentNode}}Ve=Ve.return}Vn(function(){var Si=dn,Di=Vi(ze),zi=[];e:{var Ii=xa.get(Le);if(Ii!==void 0){var sr=zr,fr=Le;switch(Le){case"keypress":if(cr(ze)===0)break e;case"keydown":case"keyup":sr=Cr;break;case"focusin":fr="focus",sr=is;break;case"focusout":fr="blur",sr=is;break;case"beforeblur":case"afterblur":sr=is;break;case"click":if(ze.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":sr=us;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":sr=os;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":sr=Or;break;case Nr:case ps:case yo:sr=lo;break;case Za:sr=Zr;break;case"scroll":sr=Hr;break;case"wheel":sr=zs;break;case"copy":case"cut":case"paste":sr=_s;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":sr=Zi}var gr=(De&4)!==0,Ss=!gr&&Le==="scroll",mi=gr?Ii!==null?Ii+"Capture":null:Ii;gr=[];for(var si=Si,bi;si!==null;){bi=si;var Hi=bi.stateNode;if(bi.tag===5&&Hi!==null&&(bi=Hi,mi!==null&&(Hi=ui(si,mi),Hi!=null&&gr.push(Rl(si,Hi,bi)))),Ss)break;si=si.return}0<gr.length&&(Ii=new sr(Ii,fr,null,ze,Di),zi.push({event:Ii,listeners:gr}))}}if((De&7)===0){e:{if(Ii=Le==="mouseover"||Le==="pointerover",sr=Le==="mouseout"||Le==="pointerout",Ii&&ze!==Bi&&(fr=ze.relatedTarget||ze.fromElement)&&(Ea(fr)||fr[zo]))break e;if((sr||Ii)&&(Ii=Di.window===Di?Di:(Ii=Di.ownerDocument)?Ii.defaultView||Ii.parentWindow:window,sr?(fr=ze.relatedTarget||ze.toElement,sr=Si,fr=fr?Ea(fr):null,fr!==null&&(Ss=Sr(fr),fr!==Ss||fr.tag!==5&&fr.tag!==6)&&(fr=null)):(sr=null,fr=Si),sr!==fr)){if(gr=us,Hi="onMouseLeave",mi="onMouseEnter",si="mouse",(Le==="pointerout"||Le==="pointerover")&&(gr=Zi,Hi="onPointerLeave",mi="onPointerEnter",si="pointer"),Ss=sr==null?Ii:tl(sr),bi=fr==null?Ii:tl(fr),Ii=new gr(Hi,si+"leave",sr,ze,Di),Ii.target=Ss,Ii.relatedTarget=bi,Hi=null,Ea(Di)===Si&&(gr=new gr(mi,si+"enter",fr,ze,Di),gr.target=bi,gr.relatedTarget=Ss,Hi=gr),Ss=Hi,sr&&fr)t:{for(gr=sr,mi=fr,si=0,bi=gr;bi;bi=Ja(bi))si++;for(bi=0,Hi=mi;Hi;Hi=Ja(Hi))bi++;for(;0<si-bi;)gr=Ja(gr),si--;for(;0<bi-si;)mi=Ja(mi),bi--;for(;si--;){if(gr===mi||mi!==null&&gr===mi.alternate)break t;gr=Ja(gr),mi=Ja(mi)}gr=null}else gr=null;sr!==null&&Th(zi,Ii,sr,gr,!1),fr!==null&&Ss!==null&&Th(zi,Ss,fr,gr,!0)}}e:{if(Ii=Si?tl(Si):window,sr=Ii.nodeName&&Ii.nodeName.toLowerCase(),sr==="select"||sr==="input"&&Ii.type==="file")var _r=Ou;else if(wl(Ii))if(hc)_r=vc;else{_r=Iu;var Pr=Ao}else(sr=Ii.nodeName)&&sr.toLowerCase()==="input"&&(Ii.type==="checkbox"||Ii.type==="radio")&&(_r=gc);if(_r&&(_r=_r(Le,Si))){dc(zi,_r,ze,Di);break e}Pr&&Pr(Le,Ii,Si),Le==="focusout"&&(Pr=Ii._wrapperState)&&Pr.controlled&&Ii.type==="number"&&Ln(Ii,"number",Ii.value)}switch(Pr=Si?tl(Si):window,Le){case"focusin":(wl(Pr)||Pr.contentEditable==="true")&&(Ko=Pr,_a=Si,Sa=null);break;case"focusout":Sa=_a=Ko=null;break;case"mousedown":Pl=!0;break;case"contextmenu":case"mouseup":case"dragend":Pl=!1,Al(zi,ze,Di);break;case"selectionchange":if(_c)break;case"keydown":case"keyup":Al(zi,ze,Di)}var Ar;if(bs)e:{switch(Le){case"compositionstart":var Lr="onCompositionStart";break e;case"compositionend":Lr="onCompositionEnd";break e;case"compositionupdate":Lr="onCompositionUpdate";break e}Lr=void 0}else Us?No(Le,ze)&&(Lr="onCompositionEnd"):Le==="keydown"&&ze.keyCode===229&&(Lr="onCompositionStart");Lr&&(fs&&ze.locale!=="ko"&&(Us||Lr!=="onCompositionStart"?Lr==="onCompositionEnd"&&Us&&(Ar=dr()):(Li=Di,Oi="value"in Li?Li.value:Li.textContent,Us=!0)),Pr=xc(Si,Lr),0<Pr.length&&(Lr=new co(Lr,Le,null,ze,Di),zi.push({event:Lr,listeners:Pr}),Ar?Lr.data=Ar:(Ar=ma(ze),Ar!==null&&(Lr.data=Ar)))),(Ar=es?ga(Le,ze):Lu(Le,ze))&&(Si=xc(Si,"onBeforeInput"),0<Si.length&&(Di=new co("onBeforeInput","beforeinput",null,ze,Di),zi.push({event:Di,listeners:Si}),Di.data=Ar))}Ah(zi,De)})}function Rl(Le,De,ze){return{instance:Le,listener:De,currentTarget:ze}}function xc(Le,De){for(var ze=De+"Capture",Ve=[];Le!==null;){var en=Le,dn=en.stateNode;en.tag===5&&dn!==null&&(en=dn,dn=ui(Le,ze),dn!=null&&Ve.unshift(Rl(Le,dn,en)),dn=ui(Le,De),dn!=null&&Ve.push(Rl(Le,dn,en))),Le=Le.return}return Ve}function Ja(Le){if(Le===null)return null;do Le=Le.return;while(Le&&Le.tag!==5);return Le||null}function Th(Le,De,ze,Ve,en){for(var dn=De._reactName,Mn=[];ze!==null&&ze!==Ve;){var Hn=ze,Jn=Hn.alternate,Si=Hn.stateNode;if(Jn!==null&&Jn===Ve)break;Hn.tag===5&&Si!==null&&(Hn=Si,en?(Jn=ui(ze,dn),Jn!=null&&Mn.unshift(Rl(ze,Jn,Hn))):en||(Jn=ui(ze,dn),Jn!=null&&Mn.push(Rl(ze,Jn,Hn)))),ze=ze.return}Mn.length!==0&&Le.push({event:De,listeners:Mn})}var Kp=/\r\n?/g,Zp=/\u0000|\uFFFD/g;function Rh(Le){return(typeof Le=="string"?Le:""+Le).replace(Kp,`
`).replace(Zp,"")}function Ec(Le,De,ze){if(De=Rh(De),Rh(Le)!==De&&ze)throw Error(ke(425))}function wc(){}var Nu=null,zu=null;function ju(Le,De){return Le==="textarea"||Le==="noscript"||typeof De.children=="string"||typeof De.children=="number"||typeof De.dangerouslySetInnerHTML=="object"&&De.dangerouslySetInnerHTML!==null&&De.dangerouslySetInnerHTML.__html!=null}var Bu=typeof setTimeout=="function"?setTimeout:void 0,Qp=typeof clearTimeout=="function"?clearTimeout:void 0,Lh=typeof Promise=="function"?Promise:void 0,Jp=typeof queueMicrotask=="function"?queueMicrotask:typeof Lh<"u"?function(Le){return Lh.resolve(null).then(Le).catch(em)}:Bu;function em(Le){setTimeout(function(){throw Le})}function Hu(Le,De){var ze=De,Ve=0;do{var en=ze.nextSibling;if(Le.removeChild(ze),en&&en.nodeType===8)if(ze=en.data,ze==="/$"){if(Ve===0){Le.removeChild(en),ri(De);return}Ve--}else ze!=="$"&&ze!=="$?"&&ze!=="$!"||Ve++;ze=en}while(ze);ri(De)}function Jo(Le){for(;Le!=null;Le=Le.nextSibling){var De=Le.nodeType;if(De===1||De===3)break;if(De===8){if(De=Le.data,De==="$"||De==="$!"||De==="$?")break;if(De==="/$")return null}}return Le}function Oh(Le){Le=Le.previousSibling;for(var De=0;Le;){if(Le.nodeType===8){var ze=Le.data;if(ze==="$"||ze==="$!"||ze==="$?"){if(De===0)return Le;De--}else ze==="/$"&&De++}Le=Le.previousSibling}return null}var el=Math.random().toString(36).slice(2),To="__reactFiber$"+el,Ll="__reactProps$"+el,zo="__reactContainer$"+el,Wu="__reactEvents$"+el,tm="__reactListeners$"+el,nm="__reactHandles$"+el;function Ea(Le){var De=Le[To];if(De)return De;for(var ze=Le.parentNode;ze;){if(De=ze[zo]||ze[To]){if(ze=De.alternate,De.child!==null||ze!==null&&ze.child!==null)for(Le=Oh(Le);Le!==null;){if(ze=Le[To])return ze;Le=Oh(Le)}return De}Le=ze,ze=Le.parentNode}return null}function Ol(Le){return Le=Le[To]||Le[zo],!Le||Le.tag!==5&&Le.tag!==6&&Le.tag!==13&&Le.tag!==3?null:Le}function tl(Le){if(Le.tag===5||Le.tag===6)return Le.stateNode;throw Error(ke(33))}function kc(Le){return Le[Ll]||null}var Vu=[],nl=-1;function ea(Le){return{current:Le}}function cs(Le){0>nl||(Le.current=Vu[nl],Vu[nl]=null,nl--)}function ss(Le,De){nl++,Vu[nl]=Le.current,Le.current=De}var ta={},Os=ea(ta),qs=ea(!1),wa=ta;function il(Le,De){var ze=Le.type.contextTypes;if(!ze)return ta;var Ve=Le.stateNode;if(Ve&&Ve.__reactInternalMemoizedUnmaskedChildContext===De)return Ve.__reactInternalMemoizedMaskedChildContext;var en={},dn;for(dn in ze)en[dn]=De[dn];return Ve&&(Le=Le.stateNode,Le.__reactInternalMemoizedUnmaskedChildContext=De,Le.__reactInternalMemoizedMaskedChildContext=en),en}function Xs(Le){return Le=Le.childContextTypes,Le!=null}function Cc(){cs(qs),cs(Os)}function Ih(Le,De,ze){if(Os.current!==ta)throw Error(ke(168));ss(Os,De),ss(qs,ze)}function Fh(Le,De,ze){var Ve=Le.stateNode;if(De=De.childContextTypes,typeof Ve.getChildContext!="function")return ze;Ve=Ve.getChildContext();for(var en in Ve)if(!(en in De))throw Error(ke(108,Pn(Le)||"Unknown",en));return kn({},ze,Ve)}function Pc(Le){return Le=(Le=Le.stateNode)&&Le.__reactInternalMemoizedMergedChildContext||ta,wa=Os.current,ss(Os,Le),ss(qs,qs.current),!0}function Dh(Le,De,ze){var Ve=Le.stateNode;if(!Ve)throw Error(ke(169));ze?(Le=Fh(Le,De,wa),Ve.__reactInternalMemoizedMergedChildContext=Le,cs(qs),cs(Os),ss(Os,Le)):cs(qs),ss(qs,ze)}var jo=null,Ac=!1,Uu=!1;function Nh(Le){jo===null?jo=[Le]:jo.push(Le)}function im(Le){Ac=!0,Nh(Le)}function na(){if(!Uu&&jo!==null){Uu=!0;var Le=0,De=Yr;try{var ze=jo;for(Yr=1;Le<ze.length;Le++){var Ve=ze[Le];do Ve=Ve(!0);while(Ve!==null)}jo=null,Ac=!1}catch(en){throw jo!==null&&(jo=jo.slice(Le+1)),Zs(Sl,na),en}finally{Yr=De,Uu=!1}}return null}var rl=[],sl=0,Mc=null,Tc=0,uo=[],ho=0,ka=null,Bo=1,Ho="";function Ca(Le,De){rl[sl++]=Tc,rl[sl++]=Mc,Mc=Le,Tc=De}function zh(Le,De,ze){uo[ho++]=Bo,uo[ho++]=Ho,uo[ho++]=ka,ka=Le;var Ve=Bo;Le=Ho;var en=32-Vs(Ve)-1;Ve&=~(1<<en),ze+=1;var dn=32-Vs(De)+en;if(30<dn){var Mn=en-en%5;dn=(Ve&(1<<Mn)-1).toString(32),Ve>>=Mn,en-=Mn,Bo=1<<32-Vs(De)+en|ze<<en|Ve,Ho=dn+Le}else Bo=1<<dn|ze<<en|Ve,Ho=Le}function $u(Le){Le.return!==null&&(Ca(Le,1),zh(Le,1,0))}function qu(Le){for(;Le===Mc;)Mc=rl[--sl],rl[sl]=null,Tc=rl[--sl],rl[sl]=null;for(;Le===ka;)ka=uo[--ho],uo[ho]=null,Ho=uo[--ho],uo[ho]=null,Bo=uo[--ho],uo[ho]=null}var io=null,ro=null,ds=!1,So=null;function jh(Le,De){var ze=go(5,null,null,0);ze.elementType="DELETED",ze.stateNode=De,ze.return=Le,De=Le.deletions,De===null?(Le.deletions=[ze],Le.flags|=16):De.push(ze)}function Bh(Le,De){switch(Le.tag){case 5:var ze=Le.type;return De=De.nodeType!==1||ze.toLowerCase()!==De.nodeName.toLowerCase()?null:De,De!==null?(Le.stateNode=De,io=Le,ro=Jo(De.firstChild),!0):!1;case 6:return De=Le.pendingProps===""||De.nodeType!==3?null:De,De!==null?(Le.stateNode=De,io=Le,ro=null,!0):!1;case 13:return De=De.nodeType!==8?null:De,De!==null?(ze=ka!==null?{id:Bo,overflow:Ho}:null,Le.memoizedState={dehydrated:De,treeContext:ze,retryLane:1073741824},ze=go(18,null,null,0),ze.stateNode=De,ze.return=Le,Le.child=ze,io=Le,ro=null,!0):!1;default:return!1}}function Xu(Le){return(Le.mode&1)!==0&&(Le.flags&128)===0}function Gu(Le){if(ds){var De=ro;if(De){var ze=De;if(!Bh(Le,De)){if(Xu(Le))throw Error(ke(418));De=Jo(ze.nextSibling);var Ve=io;De&&Bh(Le,De)?jh(Ve,ze):(Le.flags=Le.flags&-4097|2,ds=!1,io=Le)}}else{if(Xu(Le))throw Error(ke(418));Le.flags=Le.flags&-4097|2,ds=!1,io=Le}}}function Hh(Le){for(Le=Le.return;Le!==null&&Le.tag!==5&&Le.tag!==3&&Le.tag!==13;)Le=Le.return;io=Le}function Rc(Le){if(Le!==io)return!1;if(!ds)return Hh(Le),ds=!0,!1;var De;if((De=Le.tag!==3)&&!(De=Le.tag!==5)&&(De=Le.type,De=De!=="head"&&De!=="body"&&!ju(Le.type,Le.memoizedProps)),De&&(De=ro)){if(Xu(Le))throw Wh(),Error(ke(418));for(;De;)jh(Le,De),De=Jo(De.nextSibling)}if(Hh(Le),Le.tag===13){if(Le=Le.memoizedState,Le=Le!==null?Le.dehydrated:null,!Le)throw Error(ke(317));e:{for(Le=Le.nextSibling,De=0;Le;){if(Le.nodeType===8){var ze=Le.data;if(ze==="/$"){if(De===0){ro=Jo(Le.nextSibling);break e}De--}else ze!=="$"&&ze!=="$!"&&ze!=="$?"||De++}Le=Le.nextSibling}ro=null}}else ro=io?Jo(Le.stateNode.nextSibling):null;return!0}function Wh(){for(var Le=ro;Le;)Le=Jo(Le.nextSibling)}function ol(){ro=io=null,ds=!1}function Yu(Le){So===null?So=[Le]:So.push(Le)}var rm=nn.ReactCurrentBatchConfig;function Il(Le,De,ze){if(Le=ze.ref,Le!==null&&typeof Le!="function"&&typeof Le!="object"){if(ze._owner){if(ze=ze._owner,ze){if(ze.tag!==1)throw Error(ke(309));var Ve=ze.stateNode}if(!Ve)throw Error(ke(147,Le));var en=Ve,dn=""+Le;return De!==null&&De.ref!==null&&typeof De.ref=="function"&&De.ref._stringRef===dn?De.ref:(De=function(Mn){var Hn=en.refs;Mn===null?delete Hn[dn]:Hn[dn]=Mn},De._stringRef=dn,De)}if(typeof Le!="string")throw Error(ke(284));if(!ze._owner)throw Error(ke(290,Le))}return Le}function Lc(Le,De){throw Le=Object.prototype.toString.call(De),Error(ke(31,Le==="[object Object]"?"object with keys {"+Object.keys(De).join(", ")+"}":Le))}function Vh(Le){var De=Le._init;return De(Le._payload)}function Uh(Le){function De(mi,si){if(Le){var bi=mi.deletions;bi===null?(mi.deletions=[si],mi.flags|=16):bi.push(si)}}function ze(mi,si){if(!Le)return null;for(;si!==null;)De(mi,si),si=si.sibling;return null}function Ve(mi,si){for(mi=new Map;si!==null;)si.key!==null?mi.set(si.key,si):mi.set(si.index,si),si=si.sibling;return mi}function en(mi,si){return mi=ua(mi,si),mi.index=0,mi.sibling=null,mi}function dn(mi,si,bi){return mi.index=bi,Le?(bi=mi.alternate,bi!==null?(bi=bi.index,bi<si?(mi.flags|=2,si):bi):(mi.flags|=2,si)):(mi.flags|=1048576,si)}function Mn(mi){return Le&&mi.alternate===null&&(mi.flags|=2),mi}function Hn(mi,si,bi,Hi){return si===null||si.tag!==6?(si=Bd(bi,mi.mode,Hi),si.return=mi,si):(si=en(si,bi),si.return=mi,si)}function Jn(mi,si,bi,Hi){var _r=bi.type;return _r===tn?Di(mi,si,bi.props.children,Hi,bi.key):si!==null&&(si.elementType===_r||typeof _r=="object"&&_r!==null&&_r.$$typeof===En&&Vh(_r)===si.type)?(Hi=en(si,bi.props),Hi.ref=Il(mi,si,bi),Hi.return=mi,Hi):(Hi=nu(bi.type,bi.key,bi.props,null,mi.mode,Hi),Hi.ref=Il(mi,si,bi),Hi.return=mi,Hi)}function Si(mi,si,bi,Hi){return si===null||si.tag!==4||si.stateNode.containerInfo!==bi.containerInfo||si.stateNode.implementation!==bi.implementation?(si=Hd(bi,mi.mode,Hi),si.return=mi,si):(si=en(si,bi.children||[]),si.return=mi,si)}function Di(mi,si,bi,Hi,_r){return si===null||si.tag!==7?(si=Ia(bi,mi.mode,Hi,_r),si.return=mi,si):(si=en(si,bi),si.return=mi,si)}function zi(mi,si,bi){if(typeof si=="string"&&si!==""||typeof si=="number")return si=Bd(""+si,mi.mode,bi),si.return=mi,si;if(typeof si=="object"&&si!==null){switch(si.$$typeof){case rn:return bi=nu(si.type,si.key,si.props,null,mi.mode,bi),bi.ref=Il(mi,null,si),bi.return=mi,bi;case cn:return si=Hd(si,mi.mode,bi),si.return=mi,si;case En:var Hi=si._init;return zi(mi,Hi(si._payload),bi)}if(Wn(si)||vn(si))return si=Ia(si,mi.mode,bi,null),si.return=mi,si;Lc(mi,si)}return null}function Ii(mi,si,bi,Hi){var _r=si!==null?si.key:null;if(typeof bi=="string"&&bi!==""||typeof bi=="number")return _r!==null?null:Hn(mi,si,""+bi,Hi);if(typeof bi=="object"&&bi!==null){switch(bi.$$typeof){case rn:return bi.key===_r?Jn(mi,si,bi,Hi):null;case cn:return bi.key===_r?Si(mi,si,bi,Hi):null;case En:return _r=bi._init,Ii(mi,si,_r(bi._payload),Hi)}if(Wn(bi)||vn(bi))return _r!==null?null:Di(mi,si,bi,Hi,null);Lc(mi,bi)}return null}function sr(mi,si,bi,Hi,_r){if(typeof Hi=="string"&&Hi!==""||typeof Hi=="number")return mi=mi.get(bi)||null,Hn(si,mi,""+Hi,_r);if(typeof Hi=="object"&&Hi!==null){switch(Hi.$$typeof){case rn:return mi=mi.get(Hi.key===null?bi:Hi.key)||null,Jn(si,mi,Hi,_r);case cn:return mi=mi.get(Hi.key===null?bi:Hi.key)||null,Si(si,mi,Hi,_r);case En:var Pr=Hi._init;return sr(mi,si,bi,Pr(Hi._payload),_r)}if(Wn(Hi)||vn(Hi))return mi=mi.get(bi)||null,Di(si,mi,Hi,_r,null);Lc(si,Hi)}return null}function fr(mi,si,bi,Hi){for(var _r=null,Pr=null,Ar=si,Lr=si=0,Ms=null;Ar!==null&&Lr<bi.length;Lr++){Ar.index>Lr?(Ms=Ar,Ar=null):Ms=Ar.sibling;var Qr=Ii(mi,Ar,bi[Lr],Hi);if(Qr===null){Ar===null&&(Ar=Ms);break}Le&&Ar&&Qr.alternate===null&&De(mi,Ar),si=dn(Qr,si,Lr),Pr===null?_r=Qr:Pr.sibling=Qr,Pr=Qr,Ar=Ms}if(Lr===bi.length)return ze(mi,Ar),ds&&Ca(mi,Lr),_r;if(Ar===null){for(;Lr<bi.length;Lr++)Ar=zi(mi,bi[Lr],Hi),Ar!==null&&(si=dn(Ar,si,Lr),Pr===null?_r=Ar:Pr.sibling=Ar,Pr=Ar);return ds&&Ca(mi,Lr),_r}for(Ar=Ve(mi,Ar);Lr<bi.length;Lr++)Ms=sr(Ar,mi,Lr,bi[Lr],Hi),Ms!==null&&(Le&&Ms.alternate!==null&&Ar.delete(Ms.key===null?Lr:Ms.key),si=dn(Ms,si,Lr),Pr===null?_r=Ms:Pr.sibling=Ms,Pr=Ms);return Le&&Ar.forEach(function(da){return De(mi,da)}),ds&&Ca(mi,Lr),_r}function gr(mi,si,bi,Hi){var _r=vn(bi);if(typeof _r!="function")throw Error(ke(150));if(bi=_r.call(bi),bi==null)throw Error(ke(151));for(var Pr=_r=null,Ar=si,Lr=si=0,Ms=null,Qr=bi.next();Ar!==null&&!Qr.done;Lr++,Qr=bi.next()){Ar.index>Lr?(Ms=Ar,Ar=null):Ms=Ar.sibling;var da=Ii(mi,Ar,Qr.value,Hi);if(da===null){Ar===null&&(Ar=Ms);break}Le&&Ar&&da.alternate===null&&De(mi,Ar),si=dn(da,si,Lr),Pr===null?_r=da:Pr.sibling=da,Pr=da,Ar=Ms}if(Qr.done)return ze(mi,Ar),ds&&Ca(mi,Lr),_r;if(Ar===null){for(;!Qr.done;Lr++,Qr=bi.next())Qr=zi(mi,Qr.value,Hi),Qr!==null&&(si=dn(Qr,si,Lr),Pr===null?_r=Qr:Pr.sibling=Qr,Pr=Qr);return ds&&Ca(mi,Lr),_r}for(Ar=Ve(mi,Ar);!Qr.done;Lr++,Qr=bi.next())Qr=sr(Ar,mi,Lr,Qr.value,Hi),Qr!==null&&(Le&&Qr.alternate!==null&&Ar.delete(Qr.key===null?Lr:Qr.key),si=dn(Qr,si,Lr),Pr===null?_r=Qr:Pr.sibling=Qr,Pr=Qr);return Le&&Ar.forEach(function(Nm){return De(mi,Nm)}),ds&&Ca(mi,Lr),_r}function Ss(mi,si,bi,Hi){if(typeof bi=="object"&&bi!==null&&bi.type===tn&&bi.key===null&&(bi=bi.props.children),typeof bi=="object"&&bi!==null){switch(bi.$$typeof){case rn:e:{for(var _r=bi.key,Pr=si;Pr!==null;){if(Pr.key===_r){if(_r=bi.type,_r===tn){if(Pr.tag===7){ze(mi,Pr.sibling),si=en(Pr,bi.props.children),si.return=mi,mi=si;break e}}else if(Pr.elementType===_r||typeof _r=="object"&&_r!==null&&_r.$$typeof===En&&Vh(_r)===Pr.type){ze(mi,Pr.sibling),si=en(Pr,bi.props),si.ref=Il(mi,Pr,bi),si.return=mi,mi=si;break e}ze(mi,Pr);break}else De(mi,Pr);Pr=Pr.sibling}bi.type===tn?(si=Ia(bi.props.children,mi.mode,Hi,bi.key),si.return=mi,mi=si):(Hi=nu(bi.type,bi.key,bi.props,null,mi.mode,Hi),Hi.ref=Il(mi,si,bi),Hi.return=mi,mi=Hi)}return Mn(mi);case cn:e:{for(Pr=bi.key;si!==null;){if(si.key===Pr)if(si.tag===4&&si.stateNode.containerInfo===bi.containerInfo&&si.stateNode.implementation===bi.implementation){ze(mi,si.sibling),si=en(si,bi.children||[]),si.return=mi,mi=si;break e}else{ze(mi,si);break}else De(mi,si);si=si.sibling}si=Hd(bi,mi.mode,Hi),si.return=mi,mi=si}return Mn(mi);case En:return Pr=bi._init,Ss(mi,si,Pr(bi._payload),Hi)}if(Wn(bi))return fr(mi,si,bi,Hi);if(vn(bi))return gr(mi,si,bi,Hi);Lc(mi,bi)}return typeof bi=="string"&&bi!==""||typeof bi=="number"?(bi=""+bi,si!==null&&si.tag===6?(ze(mi,si.sibling),si=en(si,bi),si.return=mi,mi=si):(ze(mi,si),si=Bd(bi,mi.mode,Hi),si.return=mi,mi=si),Mn(mi)):ze(mi,si)}return Ss}var al=Uh(!0),$h=Uh(!1),Oc=ea(null),Ic=null,ll=null,Ku=null;function Zu(){Ku=ll=Ic=null}function Qu(Le){var De=Oc.current;cs(Oc),Le._currentValue=De}function Ju(Le,De,ze){for(;Le!==null;){var Ve=Le.alternate;if((Le.childLanes&De)!==De?(Le.childLanes|=De,Ve!==null&&(Ve.childLanes|=De)):Ve!==null&&(Ve.childLanes&De)!==De&&(Ve.childLanes|=De),Le===ze)break;Le=Le.return}}function cl(Le,De){Ic=Le,Ku=ll=null,Le=Le.dependencies,Le!==null&&Le.firstContext!==null&&((Le.lanes&De)!==0&&(Gs=!0),Le.firstContext=null)}function fo(Le){var De=Le._currentValue;if(Ku!==Le)if(Le={context:Le,memoizedValue:De,next:null},ll===null){if(Ic===null)throw Error(ke(308));ll=Le,Ic.dependencies={lanes:0,firstContext:Le}}else ll=ll.next=Le;return De}var Pa=null;function ed(Le){Pa===null?Pa=[Le]:Pa.push(Le)}function qh(Le,De,ze,Ve){var en=De.interleaved;return en===null?(ze.next=ze,ed(De)):(ze.next=en.next,en.next=ze),De.interleaved=ze,Wo(Le,Ve)}function Wo(Le,De){Le.lanes|=De;var ze=Le.alternate;for(ze!==null&&(ze.lanes|=De),ze=Le,Le=Le.return;Le!==null;)Le.childLanes|=De,ze=Le.alternate,ze!==null&&(ze.childLanes|=De),ze=Le,Le=Le.return;return ze.tag===3?ze.stateNode:null}var ia=!1;function td(Le){Le.updateQueue={baseState:Le.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xh(Le,De){Le=Le.updateQueue,De.updateQueue===Le&&(De.updateQueue={baseState:Le.baseState,firstBaseUpdate:Le.firstBaseUpdate,lastBaseUpdate:Le.lastBaseUpdate,shared:Le.shared,effects:Le.effects})}function Vo(Le,De){return{eventTime:Le,lane:De,tag:0,payload:null,callback:null,next:null}}function ra(Le,De,ze){var Ve=Le.updateQueue;if(Ve===null)return null;if(Ve=Ve.shared,(Gr&2)!==0){var en=Ve.pending;return en===null?De.next=De:(De.next=en.next,en.next=De),Ve.pending=De,Wo(Le,ze)}return en=Ve.interleaved,en===null?(De.next=De,ed(Ve)):(De.next=en.next,en.next=De),Ve.interleaved=De,Wo(Le,ze)}function Fc(Le,De,ze){if(De=De.updateQueue,De!==null&&(De=De.shared,(ze&4194240)!==0)){var Ve=De.lanes;Ve&=Le.pendingLanes,ze|=Ve,De.lanes=ze,Ua(Le,ze)}}function Gh(Le,De){var ze=Le.updateQueue,Ve=Le.alternate;if(Ve!==null&&(Ve=Ve.updateQueue,ze===Ve)){var en=null,dn=null;if(ze=ze.firstBaseUpdate,ze!==null){do{var Mn={eventTime:ze.eventTime,lane:ze.lane,tag:ze.tag,payload:ze.payload,callback:ze.callback,next:null};dn===null?en=dn=Mn:dn=dn.next=Mn,ze=ze.next}while(ze!==null);dn===null?en=dn=De:dn=dn.next=De}else en=dn=De;ze={baseState:Ve.baseState,firstBaseUpdate:en,lastBaseUpdate:dn,shared:Ve.shared,effects:Ve.effects},Le.updateQueue=ze;return}Le=ze.lastBaseUpdate,Le===null?ze.firstBaseUpdate=De:Le.next=De,ze.lastBaseUpdate=De}function Dc(Le,De,ze,Ve){var en=Le.updateQueue;ia=!1;var dn=en.firstBaseUpdate,Mn=en.lastBaseUpdate,Hn=en.shared.pending;if(Hn!==null){en.shared.pending=null;var Jn=Hn,Si=Jn.next;Jn.next=null,Mn===null?dn=Si:Mn.next=Si,Mn=Jn;var Di=Le.alternate;Di!==null&&(Di=Di.updateQueue,Hn=Di.lastBaseUpdate,Hn!==Mn&&(Hn===null?Di.firstBaseUpdate=Si:Hn.next=Si,Di.lastBaseUpdate=Jn))}if(dn!==null){var zi=en.baseState;Mn=0,Di=Si=Jn=null,Hn=dn;do{var Ii=Hn.lane,sr=Hn.eventTime;if((Ve&Ii)===Ii){Di!==null&&(Di=Di.next={eventTime:sr,lane:0,tag:Hn.tag,payload:Hn.payload,callback:Hn.callback,next:null});e:{var fr=Le,gr=Hn;switch(Ii=De,sr=ze,gr.tag){case 1:if(fr=gr.payload,typeof fr=="function"){zi=fr.call(sr,zi,Ii);break e}zi=fr;break e;case 3:fr.flags=fr.flags&-65537|128;case 0:if(fr=gr.payload,Ii=typeof fr=="function"?fr.call(sr,zi,Ii):fr,Ii==null)break e;zi=kn({},zi,Ii);break e;case 2:ia=!0}}Hn.callback!==null&&Hn.lane!==0&&(Le.flags|=64,Ii=en.effects,Ii===null?en.effects=[Hn]:Ii.push(Hn))}else sr={eventTime:sr,lane:Ii,tag:Hn.tag,payload:Hn.payload,callback:Hn.callback,next:null},Di===null?(Si=Di=sr,Jn=zi):Di=Di.next=sr,Mn|=Ii;if(Hn=Hn.next,Hn===null){if(Hn=en.shared.pending,Hn===null)break;Ii=Hn,Hn=Ii.next,Ii.next=null,en.lastBaseUpdate=Ii,en.shared.pending=null}}while(!0);if(Di===null&&(Jn=zi),en.baseState=Jn,en.firstBaseUpdate=Si,en.lastBaseUpdate=Di,De=en.shared.interleaved,De!==null){en=De;do Mn|=en.lane,en=en.next;while(en!==De)}else dn===null&&(en.shared.lanes=0);Ta|=Mn,Le.lanes=Mn,Le.memoizedState=zi}}function Yh(Le,De,ze){if(Le=De.effects,De.effects=null,Le!==null)for(De=0;De<Le.length;De++){var Ve=Le[De],en=Ve.callback;if(en!==null){if(Ve.callback=null,Ve=ze,typeof en!="function")throw Error(ke(191,en));en.call(Ve)}}}var Fl={},Ro=ea(Fl),Dl=ea(Fl),Nl=ea(Fl);function Aa(Le){if(Le===Fl)throw Error(ke(174));return Le}function nd(Le,De){switch(ss(Nl,De),ss(Dl,Le),ss(Ro,Fl),Le=De.nodeType,Le){case 9:case 11:De=(De=De.documentElement)?De.namespaceURI:Ei(null,"");break;default:Le=Le===8?De.parentNode:De,De=Le.namespaceURI||null,Le=Le.tagName,De=Ei(De,Le)}cs(Ro),ss(Ro,De)}function ul(){cs(Ro),cs(Dl),cs(Nl)}function Kh(Le){Aa(Nl.current);var De=Aa(Ro.current),ze=Ei(De,Le.type);De!==ze&&(ss(Dl,Le),ss(Ro,ze))}function id(Le){Dl.current===Le&&(cs(Ro),cs(Dl))}var ms=ea(0);function Nc(Le){for(var De=Le;De!==null;){if(De.tag===13){var ze=De.memoizedState;if(ze!==null&&(ze=ze.dehydrated,ze===null||ze.data==="$?"||ze.data==="$!"))return De}else if(De.tag===19&&De.memoizedProps.revealOrder!==void 0){if((De.flags&128)!==0)return De}else if(De.child!==null){De.child.return=De,De=De.child;continue}if(De===Le)break;for(;De.sibling===null;){if(De.return===null||De.return===Le)return null;De=De.return}De.sibling.return=De.return,De=De.sibling}return null}var rd=[];function sd(){for(var Le=0;Le<rd.length;Le++)rd[Le]._workInProgressVersionPrimary=null;rd.length=0}var zc=nn.ReactCurrentDispatcher,od=nn.ReactCurrentBatchConfig,Ma=0,gs=null,ks=null,Ps=null,jc=!1,zl=!1,jl=0,sm=0;function Is(){throw Error(ke(321))}function ad(Le,De){if(De===null)return!1;for(var ze=0;ze<De.length&&ze<Le.length;ze++)if(!$s(Le[ze],De[ze]))return!1;return!0}function ld(Le,De,ze,Ve,en,dn){if(Ma=dn,gs=De,De.memoizedState=null,De.updateQueue=null,De.lanes=0,zc.current=Le===null||Le.memoizedState===null?cm:um,Le=ze(Ve,en),zl){dn=0;do{if(zl=!1,jl=0,25<=dn)throw Error(ke(301));dn+=1,Ps=ks=null,De.updateQueue=null,zc.current=dm,Le=ze(Ve,en)}while(zl)}if(zc.current=Wc,De=ks!==null&&ks.next!==null,Ma=0,Ps=ks=gs=null,jc=!1,De)throw Error(ke(300));return Le}function cd(){var Le=jl!==0;return jl=0,Le}function Lo(){var Le={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ps===null?gs.memoizedState=Ps=Le:Ps=Ps.next=Le,Ps}function po(){if(ks===null){var Le=gs.alternate;Le=Le!==null?Le.memoizedState:null}else Le=ks.next;var De=Ps===null?gs.memoizedState:Ps.next;if(De!==null)Ps=De,ks=Le;else{if(Le===null)throw Error(ke(310));ks=Le,Le={memoizedState:ks.memoizedState,baseState:ks.baseState,baseQueue:ks.baseQueue,queue:ks.queue,next:null},Ps===null?gs.memoizedState=Ps=Le:Ps=Ps.next=Le}return Ps}function Bl(Le,De){return typeof De=="function"?De(Le):De}function ud(Le){var De=po(),ze=De.queue;if(ze===null)throw Error(ke(311));ze.lastRenderedReducer=Le;var Ve=ks,en=Ve.baseQueue,dn=ze.pending;if(dn!==null){if(en!==null){var Mn=en.next;en.next=dn.next,dn.next=Mn}Ve.baseQueue=en=dn,ze.pending=null}if(en!==null){dn=en.next,Ve=Ve.baseState;var Hn=Mn=null,Jn=null,Si=dn;do{var Di=Si.lane;if((Ma&Di)===Di)Jn!==null&&(Jn=Jn.next={lane:0,action:Si.action,hasEagerState:Si.hasEagerState,eagerState:Si.eagerState,next:null}),Ve=Si.hasEagerState?Si.eagerState:Le(Ve,Si.action);else{var zi={lane:Di,action:Si.action,hasEagerState:Si.hasEagerState,eagerState:Si.eagerState,next:null};Jn===null?(Hn=Jn=zi,Mn=Ve):Jn=Jn.next=zi,gs.lanes|=Di,Ta|=Di}Si=Si.next}while(Si!==null&&Si!==dn);Jn===null?Mn=Ve:Jn.next=Hn,$s(Ve,De.memoizedState)||(Gs=!0),De.memoizedState=Ve,De.baseState=Mn,De.baseQueue=Jn,ze.lastRenderedState=Ve}if(Le=ze.interleaved,Le!==null){en=Le;do dn=en.lane,gs.lanes|=dn,Ta|=dn,en=en.next;while(en!==Le)}else en===null&&(ze.lanes=0);return[De.memoizedState,ze.dispatch]}function dd(Le){var De=po(),ze=De.queue;if(ze===null)throw Error(ke(311));ze.lastRenderedReducer=Le;var Ve=ze.dispatch,en=ze.pending,dn=De.memoizedState;if(en!==null){ze.pending=null;var Mn=en=en.next;do dn=Le(dn,Mn.action),Mn=Mn.next;while(Mn!==en);$s(dn,De.memoizedState)||(Gs=!0),De.memoizedState=dn,De.baseQueue===null&&(De.baseState=dn),ze.lastRenderedState=dn}return[dn,Ve]}function Zh(){}function Qh(Le,De){var ze=gs,Ve=po(),en=De(),dn=!$s(Ve.memoizedState,en);if(dn&&(Ve.memoizedState=en,Gs=!0),Ve=Ve.queue,hd(tf.bind(null,ze,Ve,Le),[Le]),Ve.getSnapshot!==De||dn||Ps!==null&&Ps.memoizedState.tag&1){if(ze.flags|=2048,Hl(9,ef.bind(null,ze,Ve,en,De),void 0,null),As===null)throw Error(ke(349));(Ma&30)!==0||Jh(ze,De,en)}return en}function Jh(Le,De,ze){Le.flags|=16384,Le={getSnapshot:De,value:ze},De=gs.updateQueue,De===null?(De={lastEffect:null,stores:null},gs.updateQueue=De,De.stores=[Le]):(ze=De.stores,ze===null?De.stores=[Le]:ze.push(Le))}function ef(Le,De,ze,Ve){De.value=ze,De.getSnapshot=Ve,nf(De)&&rf(Le)}function tf(Le,De,ze){return ze(function(){nf(De)&&rf(Le)})}function nf(Le){var De=Le.getSnapshot;Le=Le.value;try{var ze=De();return!$s(Le,ze)}catch{return!0}}function rf(Le){var De=Wo(Le,1);De!==null&&ko(De,Le,1,-1)}function sf(Le){var De=Lo();return typeof Le=="function"&&(Le=Le()),De.memoizedState=De.baseState=Le,Le={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:Le},De.queue=Le,Le=Le.dispatch=lm.bind(null,gs,Le),[De.memoizedState,Le]}function Hl(Le,De,ze,Ve){return Le={tag:Le,create:De,destroy:ze,deps:Ve,next:null},De=gs.updateQueue,De===null?(De={lastEffect:null,stores:null},gs.updateQueue=De,De.lastEffect=Le.next=Le):(ze=De.lastEffect,ze===null?De.lastEffect=Le.next=Le:(Ve=ze.next,ze.next=Le,Le.next=Ve,De.lastEffect=Le)),Le}function of(){return po().memoizedState}function Bc(Le,De,ze,Ve){var en=Lo();gs.flags|=Le,en.memoizedState=Hl(1|De,ze,void 0,Ve===void 0?null:Ve)}function Hc(Le,De,ze,Ve){var en=po();Ve=Ve===void 0?null:Ve;var dn=void 0;if(ks!==null){var Mn=ks.memoizedState;if(dn=Mn.destroy,Ve!==null&&ad(Ve,Mn.deps)){en.memoizedState=Hl(De,ze,dn,Ve);return}}gs.flags|=Le,en.memoizedState=Hl(1|De,ze,dn,Ve)}function af(Le,De){return Bc(8390656,8,Le,De)}function hd(Le,De){return Hc(2048,8,Le,De)}function lf(Le,De){return Hc(4,2,Le,De)}function cf(Le,De){return Hc(4,4,Le,De)}function uf(Le,De){if(typeof De=="function")return Le=Le(),De(Le),function(){De(null)};if(De!=null)return Le=Le(),De.current=Le,function(){De.current=null}}function df(Le,De,ze){return ze=ze!=null?ze.concat([Le]):null,Hc(4,4,uf.bind(null,De,Le),ze)}function fd(){}function hf(Le,De){var ze=po();De=De===void 0?null:De;var Ve=ze.memoizedState;return Ve!==null&&De!==null&&ad(De,Ve[1])?Ve[0]:(ze.memoizedState=[Le,De],Le)}function ff(Le,De){var ze=po();De=De===void 0?null:De;var Ve=ze.memoizedState;return Ve!==null&&De!==null&&ad(De,Ve[1])?Ve[0]:(Le=Le(),ze.memoizedState=[Le,De],Le)}function pf(Le,De,ze){return(Ma&21)===0?(Le.baseState&&(Le.baseState=!1,Gs=!0),Le.memoizedState=ze):($s(ze,De)||(ze=oc(),gs.lanes|=ze,Ta|=ze,Le.baseState=!0),De)}function om(Le,De){var ze=Yr;Yr=ze!==0&&4>ze?ze:4,Le(!0);var Ve=od.transition;od.transition={};try{Le(!1),De()}finally{Yr=ze,od.transition=Ve}}function mf(){return po().memoizedState}function am(Le,De,ze){var Ve=la(Le);if(ze={lane:Ve,action:ze,hasEagerState:!1,eagerState:null,next:null},gf(Le))vf(De,ze);else if(ze=qh(Le,De,ze,Ve),ze!==null){var en=Hs();ko(ze,Le,Ve,en),bf(ze,De,Ve)}}function lm(Le,De,ze){var Ve=la(Le),en={lane:Ve,action:ze,hasEagerState:!1,eagerState:null,next:null};if(gf(Le))vf(De,en);else{var dn=Le.alternate;if(Le.lanes===0&&(dn===null||dn.lanes===0)&&(dn=De.lastRenderedReducer,dn!==null))try{var Mn=De.lastRenderedState,Hn=dn(Mn,ze);if(en.hasEagerState=!0,en.eagerState=Hn,$s(Hn,Mn)){var Jn=De.interleaved;Jn===null?(en.next=en,ed(De)):(en.next=Jn.next,Jn.next=en),De.interleaved=en;return}}catch{}finally{}ze=qh(Le,De,en,Ve),ze!==null&&(en=Hs(),ko(ze,Le,Ve,en),bf(ze,De,Ve))}}function gf(Le){var De=Le.alternate;return Le===gs||De!==null&&De===gs}function vf(Le,De){zl=jc=!0;var ze=Le.pending;ze===null?De.next=De:(De.next=ze.next,ze.next=De),Le.pending=De}function bf(Le,De,ze){if((ze&4194240)!==0){var Ve=De.lanes;Ve&=Le.pendingLanes,ze|=Ve,De.lanes=ze,Ua(Le,ze)}}var Wc={readContext:fo,useCallback:Is,useContext:Is,useEffect:Is,useImperativeHandle:Is,useInsertionEffect:Is,useLayoutEffect:Is,useMemo:Is,useReducer:Is,useRef:Is,useState:Is,useDebugValue:Is,useDeferredValue:Is,useTransition:Is,useMutableSource:Is,useSyncExternalStore:Is,useId:Is,unstable_isNewReconciler:!1},cm={readContext:fo,useCallback:function(Le,De){return Lo().memoizedState=[Le,De===void 0?null:De],Le},useContext:fo,useEffect:af,useImperativeHandle:function(Le,De,ze){return ze=ze!=null?ze.concat([Le]):null,Bc(4194308,4,uf.bind(null,De,Le),ze)},useLayoutEffect:function(Le,De){return Bc(4194308,4,Le,De)},useInsertionEffect:function(Le,De){return Bc(4,2,Le,De)},useMemo:function(Le,De){var ze=Lo();return De=De===void 0?null:De,Le=Le(),ze.memoizedState=[Le,De],Le},useReducer:function(Le,De,ze){var Ve=Lo();return De=ze!==void 0?ze(De):De,Ve.memoizedState=Ve.baseState=De,Le={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Le,lastRenderedState:De},Ve.queue=Le,Le=Le.dispatch=am.bind(null,gs,Le),[Ve.memoizedState,Le]},useRef:function(Le){var De=Lo();return Le={current:Le},De.memoizedState=Le},useState:sf,useDebugValue:fd,useDeferredValue:function(Le){return Lo().memoizedState=Le},useTransition:function(){var Le=sf(!1),De=Le[0];return Le=om.bind(null,Le[1]),Lo().memoizedState=Le,[De,Le]},useMutableSource:function(){},useSyncExternalStore:function(Le,De,ze){var Ve=gs,en=Lo();if(ds){if(ze===void 0)throw Error(ke(407));ze=ze()}else{if(ze=De(),As===null)throw Error(ke(349));(Ma&30)!==0||Jh(Ve,De,ze)}en.memoizedState=ze;var dn={value:ze,getSnapshot:De};return en.queue=dn,af(tf.bind(null,Ve,dn,Le),[Le]),Ve.flags|=2048,Hl(9,ef.bind(null,Ve,dn,ze,De),void 0,null),ze},useId:function(){var Le=Lo(),De=As.identifierPrefix;if(ds){var ze=Ho,Ve=Bo;ze=(Ve&~(1<<32-Vs(Ve)-1)).toString(32)+ze,De=":"+De+"R"+ze,ze=jl++,0<ze&&(De+="H"+ze.toString(32)),De+=":"}else ze=sm++,De=":"+De+"r"+ze.toString(32)+":";return Le.memoizedState=De},unstable_isNewReconciler:!1},um={readContext:fo,useCallback:hf,useContext:fo,useEffect:hd,useImperativeHandle:df,useInsertionEffect:lf,useLayoutEffect:cf,useMemo:ff,useReducer:ud,useRef:of,useState:function(){return ud(Bl)},useDebugValue:fd,useDeferredValue:function(Le){var De=po();return pf(De,ks.memoizedState,Le)},useTransition:function(){var Le=ud(Bl)[0],De=po().memoizedState;return[Le,De]},useMutableSource:Zh,useSyncExternalStore:Qh,useId:mf,unstable_isNewReconciler:!1},dm={readContext:fo,useCallback:hf,useContext:fo,useEffect:hd,useImperativeHandle:df,useInsertionEffect:lf,useLayoutEffect:cf,useMemo:ff,useReducer:dd,useRef:of,useState:function(){return dd(Bl)},useDebugValue:fd,useDeferredValue:function(Le){var De=po();return ks===null?De.memoizedState=Le:pf(De,ks.memoizedState,Le)},useTransition:function(){var Le=dd(Bl)[0],De=po().memoizedState;return[Le,De]},useMutableSource:Zh,useSyncExternalStore:Qh,useId:mf,unstable_isNewReconciler:!1};function xo(Le,De){if(Le&&Le.defaultProps){De=kn({},De),Le=Le.defaultProps;for(var ze in Le)De[ze]===void 0&&(De[ze]=Le[ze]);return De}return De}function pd(Le,De,ze,Ve){De=Le.memoizedState,ze=ze(Ve,De),ze=ze==null?De:kn({},De,ze),Le.memoizedState=ze,Le.lanes===0&&(Le.updateQueue.baseState=ze)}var Vc={isMounted:function(Le){return(Le=Le._reactInternals)?Sr(Le)===Le:!1},enqueueSetState:function(Le,De,ze){Le=Le._reactInternals;var Ve=Hs(),en=la(Le),dn=Vo(Ve,en);dn.payload=De,ze!=null&&(dn.callback=ze),De=ra(Le,dn,en),De!==null&&(ko(De,Le,en,Ve),Fc(De,Le,en))},enqueueReplaceState:function(Le,De,ze){Le=Le._reactInternals;var Ve=Hs(),en=la(Le),dn=Vo(Ve,en);dn.tag=1,dn.payload=De,ze!=null&&(dn.callback=ze),De=ra(Le,dn,en),De!==null&&(ko(De,Le,en,Ve),Fc(De,Le,en))},enqueueForceUpdate:function(Le,De){Le=Le._reactInternals;var ze=Hs(),Ve=la(Le),en=Vo(ze,Ve);en.tag=2,De!=null&&(en.callback=De),De=ra(Le,en,Ve),De!==null&&(ko(De,Le,Ve,ze),Fc(De,Le,Ve))}};function yf(Le,De,ze,Ve,en,dn,Mn){return Le=Le.stateNode,typeof Le.shouldComponentUpdate=="function"?Le.shouldComponentUpdate(Ve,dn,Mn):De.prototype&&De.prototype.isPureReactComponent?!Yo(ze,Ve)||!Yo(en,dn):!0}function _f(Le,De,ze){var Ve=!1,en=ta,dn=De.contextType;return typeof dn=="object"&&dn!==null?dn=fo(dn):(en=Xs(De)?wa:Os.current,Ve=De.contextTypes,dn=(Ve=Ve!=null)?il(Le,en):ta),De=new De(ze,dn),Le.memoizedState=De.state!==null&&De.state!==void 0?De.state:null,De.updater=Vc,Le.stateNode=De,De._reactInternals=Le,Ve&&(Le=Le.stateNode,Le.__reactInternalMemoizedUnmaskedChildContext=en,Le.__reactInternalMemoizedMaskedChildContext=dn),De}function Sf(Le,De,ze,Ve){Le=De.state,typeof De.componentWillReceiveProps=="function"&&De.componentWillReceiveProps(ze,Ve),typeof De.UNSAFE_componentWillReceiveProps=="function"&&De.UNSAFE_componentWillReceiveProps(ze,Ve),De.state!==Le&&Vc.enqueueReplaceState(De,De.state,null)}function md(Le,De,ze,Ve){var en=Le.stateNode;en.props=ze,en.state=Le.memoizedState,en.refs={},td(Le);var dn=De.contextType;typeof dn=="object"&&dn!==null?en.context=fo(dn):(dn=Xs(De)?wa:Os.current,en.context=il(Le,dn)),en.state=Le.memoizedState,dn=De.getDerivedStateFromProps,typeof dn=="function"&&(pd(Le,De,dn,ze),en.state=Le.memoizedState),typeof De.getDerivedStateFromProps=="function"||typeof en.getSnapshotBeforeUpdate=="function"||typeof en.UNSAFE_componentWillMount!="function"&&typeof en.componentWillMount!="function"||(De=en.state,typeof en.componentWillMount=="function"&&en.componentWillMount(),typeof en.UNSAFE_componentWillMount=="function"&&en.UNSAFE_componentWillMount(),De!==en.state&&Vc.enqueueReplaceState(en,en.state,null),Dc(Le,ze,en,Ve),en.state=Le.memoizedState),typeof en.componentDidMount=="function"&&(Le.flags|=4194308)}function dl(Le,De){try{var ze="",Ve=De;do ze+=_n(Ve),Ve=Ve.return;while(Ve);var en=ze}catch(dn){en=`
Error generating stack: `+dn.message+`
`+dn.stack}return{value:Le,source:De,stack:en,digest:null}}function gd(Le,De,ze){return{value:Le,source:null,stack:ze??null,digest:De??null}}function vd(Le,De){try{console.error(De.value)}catch(ze){setTimeout(function(){throw ze})}}var hm=typeof WeakMap=="function"?WeakMap:Map;function xf(Le,De,ze){ze=Vo(-1,ze),ze.tag=3,ze.payload={element:null};var Ve=De.value;return ze.callback=function(){Kc||(Kc=!0,Ld=Ve),vd(Le,De)},ze}function Ef(Le,De,ze){ze=Vo(-1,ze),ze.tag=3;var Ve=Le.type.getDerivedStateFromError;if(typeof Ve=="function"){var en=De.value;ze.payload=function(){return Ve(en)},ze.callback=function(){vd(Le,De)}}var dn=Le.stateNode;return dn!==null&&typeof dn.componentDidCatch=="function"&&(ze.callback=function(){vd(Le,De),typeof Ve!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var Mn=De.stack;this.componentDidCatch(De.value,{componentStack:Mn!==null?Mn:""})}),ze}function wf(Le,De,ze){var Ve=Le.pingCache;if(Ve===null){Ve=Le.pingCache=new hm;var en=new Set;Ve.set(De,en)}else en=Ve.get(De),en===void 0&&(en=new Set,Ve.set(De,en));en.has(ze)||(en.add(ze),Le=Cm.bind(null,Le,De,ze),De.then(Le,Le))}function kf(Le){do{var De;if((De=Le.tag===13)&&(De=Le.memoizedState,De=De!==null?De.dehydrated!==null:!0),De)return Le;Le=Le.return}while(Le!==null);return null}function Cf(Le,De,ze,Ve,en){return(Le.mode&1)===0?(Le===De?Le.flags|=65536:(Le.flags|=128,ze.flags|=131072,ze.flags&=-52805,ze.tag===1&&(ze.alternate===null?ze.tag=17:(De=Vo(-1,1),De.tag=2,ra(ze,De,1))),ze.lanes|=1),Le):(Le.flags|=65536,Le.lanes=en,Le)}var fm=nn.ReactCurrentOwner,Gs=!1;function Bs(Le,De,ze,Ve){De.child=Le===null?$h(De,null,ze,Ve):al(De,Le.child,ze,Ve)}function Pf(Le,De,ze,Ve,en){ze=ze.render;var dn=De.ref;return cl(De,en),Ve=ld(Le,De,ze,Ve,dn,en),ze=cd(),Le!==null&&!Gs?(De.updateQueue=Le.updateQueue,De.flags&=-2053,Le.lanes&=~en,Uo(Le,De,en)):(ds&&ze&&$u(De),De.flags|=1,Bs(Le,De,Ve,en),De.child)}function Af(Le,De,ze,Ve,en){if(Le===null){var dn=ze.type;return typeof dn=="function"&&!jd(dn)&&dn.defaultProps===void 0&&ze.compare===null&&ze.defaultProps===void 0?(De.tag=15,De.type=dn,Mf(Le,De,dn,Ve,en)):(Le=nu(ze.type,null,Ve,De,De.mode,en),Le.ref=De.ref,Le.return=De,De.child=Le)}if(dn=Le.child,(Le.lanes&en)===0){var Mn=dn.memoizedProps;if(ze=ze.compare,ze=ze!==null?ze:Yo,ze(Mn,Ve)&&Le.ref===De.ref)return Uo(Le,De,en)}return De.flags|=1,Le=ua(dn,Ve),Le.ref=De.ref,Le.return=De,De.child=Le}function Mf(Le,De,ze,Ve,en){if(Le!==null){var dn=Le.memoizedProps;if(Yo(dn,Ve)&&Le.ref===De.ref)if(Gs=!1,De.pendingProps=Ve=dn,(Le.lanes&en)!==0)(Le.flags&131072)!==0&&(Gs=!0);else return De.lanes=Le.lanes,Uo(Le,De,en)}return bd(Le,De,ze,Ve,en)}function Tf(Le,De,ze){var Ve=De.pendingProps,en=Ve.children,dn=Le!==null?Le.memoizedState:null;if(Ve.mode==="hidden")if((De.mode&1)===0)De.memoizedState={baseLanes:0,cachePool:null,transitions:null},ss(fl,so),so|=ze;else{if((ze&1073741824)===0)return Le=dn!==null?dn.baseLanes|ze:ze,De.lanes=De.childLanes=1073741824,De.memoizedState={baseLanes:Le,cachePool:null,transitions:null},De.updateQueue=null,ss(fl,so),so|=Le,null;De.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve=dn!==null?dn.baseLanes:ze,ss(fl,so),so|=Ve}else dn!==null?(Ve=dn.baseLanes|ze,De.memoizedState=null):Ve=ze,ss(fl,so),so|=Ve;return Bs(Le,De,en,ze),De.child}function Rf(Le,De){var ze=De.ref;(Le===null&&ze!==null||Le!==null&&Le.ref!==ze)&&(De.flags|=512,De.flags|=2097152)}function bd(Le,De,ze,Ve,en){var dn=Xs(ze)?wa:Os.current;return dn=il(De,dn),cl(De,en),ze=ld(Le,De,ze,Ve,dn,en),Ve=cd(),Le!==null&&!Gs?(De.updateQueue=Le.updateQueue,De.flags&=-2053,Le.lanes&=~en,Uo(Le,De,en)):(ds&&Ve&&$u(De),De.flags|=1,Bs(Le,De,ze,en),De.child)}function Lf(Le,De,ze,Ve,en){if(Xs(ze)){var dn=!0;Pc(De)}else dn=!1;if(cl(De,en),De.stateNode===null)$c(Le,De),_f(De,ze,Ve),md(De,ze,Ve,en),Ve=!0;else if(Le===null){var Mn=De.stateNode,Hn=De.memoizedProps;Mn.props=Hn;var Jn=Mn.context,Si=ze.contextType;typeof Si=="object"&&Si!==null?Si=fo(Si):(Si=Xs(ze)?wa:Os.current,Si=il(De,Si));var Di=ze.getDerivedStateFromProps,zi=typeof Di=="function"||typeof Mn.getSnapshotBeforeUpdate=="function";zi||typeof Mn.UNSAFE_componentWillReceiveProps!="function"&&typeof Mn.componentWillReceiveProps!="function"||(Hn!==Ve||Jn!==Si)&&Sf(De,Mn,Ve,Si),ia=!1;var Ii=De.memoizedState;Mn.state=Ii,Dc(De,Ve,Mn,en),Jn=De.memoizedState,Hn!==Ve||Ii!==Jn||qs.current||ia?(typeof Di=="function"&&(pd(De,ze,Di,Ve),Jn=De.memoizedState),(Hn=ia||yf(De,ze,Hn,Ve,Ii,Jn,Si))?(zi||typeof Mn.UNSAFE_componentWillMount!="function"&&typeof Mn.componentWillMount!="function"||(typeof Mn.componentWillMount=="function"&&Mn.componentWillMount(),typeof Mn.UNSAFE_componentWillMount=="function"&&Mn.UNSAFE_componentWillMount()),typeof Mn.componentDidMount=="function"&&(De.flags|=4194308)):(typeof Mn.componentDidMount=="function"&&(De.flags|=4194308),De.memoizedProps=Ve,De.memoizedState=Jn),Mn.props=Ve,Mn.state=Jn,Mn.context=Si,Ve=Hn):(typeof Mn.componentDidMount=="function"&&(De.flags|=4194308),Ve=!1)}else{Mn=De.stateNode,Xh(Le,De),Hn=De.memoizedProps,Si=De.type===De.elementType?Hn:xo(De.type,Hn),Mn.props=Si,zi=De.pendingProps,Ii=Mn.context,Jn=ze.contextType,typeof Jn=="object"&&Jn!==null?Jn=fo(Jn):(Jn=Xs(ze)?wa:Os.current,Jn=il(De,Jn));var sr=ze.getDerivedStateFromProps;(Di=typeof sr=="function"||typeof Mn.getSnapshotBeforeUpdate=="function")||typeof Mn.UNSAFE_componentWillReceiveProps!="function"&&typeof Mn.componentWillReceiveProps!="function"||(Hn!==zi||Ii!==Jn)&&Sf(De,Mn,Ve,Jn),ia=!1,Ii=De.memoizedState,Mn.state=Ii,Dc(De,Ve,Mn,en);var fr=De.memoizedState;Hn!==zi||Ii!==fr||qs.current||ia?(typeof sr=="function"&&(pd(De,ze,sr,Ve),fr=De.memoizedState),(Si=ia||yf(De,ze,Si,Ve,Ii,fr,Jn)||!1)?(Di||typeof Mn.UNSAFE_componentWillUpdate!="function"&&typeof Mn.componentWillUpdate!="function"||(typeof Mn.componentWillUpdate=="function"&&Mn.componentWillUpdate(Ve,fr,Jn),typeof Mn.UNSAFE_componentWillUpdate=="function"&&Mn.UNSAFE_componentWillUpdate(Ve,fr,Jn)),typeof Mn.componentDidUpdate=="function"&&(De.flags|=4),typeof Mn.getSnapshotBeforeUpdate=="function"&&(De.flags|=1024)):(typeof Mn.componentDidUpdate!="function"||Hn===Le.memoizedProps&&Ii===Le.memoizedState||(De.flags|=4),typeof Mn.getSnapshotBeforeUpdate!="function"||Hn===Le.memoizedProps&&Ii===Le.memoizedState||(De.flags|=1024),De.memoizedProps=Ve,De.memoizedState=fr),Mn.props=Ve,Mn.state=fr,Mn.context=Jn,Ve=Si):(typeof Mn.componentDidUpdate!="function"||Hn===Le.memoizedProps&&Ii===Le.memoizedState||(De.flags|=4),typeof Mn.getSnapshotBeforeUpdate!="function"||Hn===Le.memoizedProps&&Ii===Le.memoizedState||(De.flags|=1024),Ve=!1)}return yd(Le,De,ze,Ve,dn,en)}function yd(Le,De,ze,Ve,en,dn){Rf(Le,De);var Mn=(De.flags&128)!==0;if(!Ve&&!Mn)return en&&Dh(De,ze,!1),Uo(Le,De,dn);Ve=De.stateNode,fm.current=De;var Hn=Mn&&typeof ze.getDerivedStateFromError!="function"?null:Ve.render();return De.flags|=1,Le!==null&&Mn?(De.child=al(De,Le.child,null,dn),De.child=al(De,null,Hn,dn)):Bs(Le,De,Hn,dn),De.memoizedState=Ve.state,en&&Dh(De,ze,!0),De.child}function Of(Le){var De=Le.stateNode;De.pendingContext?Ih(Le,De.pendingContext,De.pendingContext!==De.context):De.context&&Ih(Le,De.context,!1),nd(Le,De.containerInfo)}function If(Le,De,ze,Ve,en){return ol(),Yu(en),De.flags|=256,Bs(Le,De,ze,Ve),De.child}var _d={dehydrated:null,treeContext:null,retryLane:0};function Sd(Le){return{baseLanes:Le,cachePool:null,transitions:null}}function Ff(Le,De,ze){var Ve=De.pendingProps,en=ms.current,dn=!1,Mn=(De.flags&128)!==0,Hn;if((Hn=Mn)||(Hn=Le!==null&&Le.memoizedState===null?!1:(en&2)!==0),Hn?(dn=!0,De.flags&=-129):(Le===null||Le.memoizedState!==null)&&(en|=1),ss(ms,en&1),Le===null)return Gu(De),Le=De.memoizedState,Le!==null&&(Le=Le.dehydrated,Le!==null)?((De.mode&1)===0?De.lanes=1:Le.data==="$!"?De.lanes=8:De.lanes=1073741824,null):(Mn=Ve.children,Le=Ve.fallback,dn?(Ve=De.mode,dn=De.child,Mn={mode:"hidden",children:Mn},(Ve&1)===0&&dn!==null?(dn.childLanes=0,dn.pendingProps=Mn):dn=iu(Mn,Ve,0,null),Le=Ia(Le,Ve,ze,null),dn.return=De,Le.return=De,dn.sibling=Le,De.child=dn,De.child.memoizedState=Sd(ze),De.memoizedState=_d,Le):xd(De,Mn));if(en=Le.memoizedState,en!==null&&(Hn=en.dehydrated,Hn!==null))return pm(Le,De,Mn,Ve,Hn,en,ze);if(dn){dn=Ve.fallback,Mn=De.mode,en=Le.child,Hn=en.sibling;var Jn={mode:"hidden",children:Ve.children};return(Mn&1)===0&&De.child!==en?(Ve=De.child,Ve.childLanes=0,Ve.pendingProps=Jn,De.deletions=null):(Ve=ua(en,Jn),Ve.subtreeFlags=en.subtreeFlags&14680064),Hn!==null?dn=ua(Hn,dn):(dn=Ia(dn,Mn,ze,null),dn.flags|=2),dn.return=De,Ve.return=De,Ve.sibling=dn,De.child=Ve,Ve=dn,dn=De.child,Mn=Le.child.memoizedState,Mn=Mn===null?Sd(ze):{baseLanes:Mn.baseLanes|ze,cachePool:null,transitions:Mn.transitions},dn.memoizedState=Mn,dn.childLanes=Le.childLanes&~ze,De.memoizedState=_d,Ve}return dn=Le.child,Le=dn.sibling,Ve=ua(dn,{mode:"visible",children:Ve.children}),(De.mode&1)===0&&(Ve.lanes=ze),Ve.return=De,Ve.sibling=null,Le!==null&&(ze=De.deletions,ze===null?(De.deletions=[Le],De.flags|=16):ze.push(Le)),De.child=Ve,De.memoizedState=null,Ve}function xd(Le,De){return De=iu({mode:"visible",children:De},Le.mode,0,null),De.return=Le,Le.child=De}function Uc(Le,De,ze,Ve){return Ve!==null&&Yu(Ve),al(De,Le.child,null,ze),Le=xd(De,De.pendingProps.children),Le.flags|=2,De.memoizedState=null,Le}function pm(Le,De,ze,Ve,en,dn,Mn){if(ze)return De.flags&256?(De.flags&=-257,Ve=gd(Error(ke(422))),Uc(Le,De,Mn,Ve)):De.memoizedState!==null?(De.child=Le.child,De.flags|=128,null):(dn=Ve.fallback,en=De.mode,Ve=iu({mode:"visible",children:Ve.children},en,0,null),dn=Ia(dn,en,Mn,null),dn.flags|=2,Ve.return=De,dn.return=De,Ve.sibling=dn,De.child=Ve,(De.mode&1)!==0&&al(De,Le.child,null,Mn),De.child.memoizedState=Sd(Mn),De.memoizedState=_d,dn);if((De.mode&1)===0)return Uc(Le,De,Mn,null);if(en.data==="$!"){if(Ve=en.nextSibling&&en.nextSibling.dataset,Ve)var Hn=Ve.dgst;return Ve=Hn,dn=Error(ke(419)),Ve=gd(dn,Ve,void 0),Uc(Le,De,Mn,Ve)}if(Hn=(Mn&Le.childLanes)!==0,Gs||Hn){if(Ve=As,Ve!==null){switch(Mn&-Mn){case 4:en=2;break;case 16:en=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:en=32;break;case 536870912:en=268435456;break;default:en=0}en=(en&(Ve.suspendedLanes|Mn))!==0?0:en,en!==0&&en!==dn.retryLane&&(dn.retryLane=en,Wo(Le,en),ko(Ve,Le,en,-1))}return zd(),Ve=gd(Error(ke(421))),Uc(Le,De,Mn,Ve)}return en.data==="$?"?(De.flags|=128,De.child=Le.child,De=Pm.bind(null,Le),en._reactRetry=De,null):(Le=dn.treeContext,ro=Jo(en.nextSibling),io=De,ds=!0,So=null,Le!==null&&(uo[ho++]=Bo,uo[ho++]=Ho,uo[ho++]=ka,Bo=Le.id,Ho=Le.overflow,ka=De),De=xd(De,Ve.children),De.flags|=4096,De)}function Df(Le,De,ze){Le.lanes|=De;var Ve=Le.alternate;Ve!==null&&(Ve.lanes|=De),Ju(Le.return,De,ze)}function Ed(Le,De,ze,Ve,en){var dn=Le.memoizedState;dn===null?Le.memoizedState={isBackwards:De,rendering:null,renderingStartTime:0,last:Ve,tail:ze,tailMode:en}:(dn.isBackwards=De,dn.rendering=null,dn.renderingStartTime=0,dn.last=Ve,dn.tail=ze,dn.tailMode=en)}function Nf(Le,De,ze){var Ve=De.pendingProps,en=Ve.revealOrder,dn=Ve.tail;if(Bs(Le,De,Ve.children,ze),Ve=ms.current,(Ve&2)!==0)Ve=Ve&1|2,De.flags|=128;else{if(Le!==null&&(Le.flags&128)!==0)e:for(Le=De.child;Le!==null;){if(Le.tag===13)Le.memoizedState!==null&&Df(Le,ze,De);else if(Le.tag===19)Df(Le,ze,De);else if(Le.child!==null){Le.child.return=Le,Le=Le.child;continue}if(Le===De)break e;for(;Le.sibling===null;){if(Le.return===null||Le.return===De)break e;Le=Le.return}Le.sibling.return=Le.return,Le=Le.sibling}Ve&=1}if(ss(ms,Ve),(De.mode&1)===0)De.memoizedState=null;else switch(en){case"forwards":for(ze=De.child,en=null;ze!==null;)Le=ze.alternate,Le!==null&&Nc(Le)===null&&(en=ze),ze=ze.sibling;ze=en,ze===null?(en=De.child,De.child=null):(en=ze.sibling,ze.sibling=null),Ed(De,!1,en,ze,dn);break;case"backwards":for(ze=null,en=De.child,De.child=null;en!==null;){if(Le=en.alternate,Le!==null&&Nc(Le)===null){De.child=en;break}Le=en.sibling,en.sibling=ze,ze=en,en=Le}Ed(De,!0,ze,null,dn);break;case"together":Ed(De,!1,null,null,void 0);break;default:De.memoizedState=null}return De.child}function $c(Le,De){(De.mode&1)===0&&Le!==null&&(Le.alternate=null,De.alternate=null,De.flags|=2)}function Uo(Le,De,ze){if(Le!==null&&(De.dependencies=Le.dependencies),Ta|=De.lanes,(ze&De.childLanes)===0)return null;if(Le!==null&&De.child!==Le.child)throw Error(ke(153));if(De.child!==null){for(Le=De.child,ze=ua(Le,Le.pendingProps),De.child=ze,ze.return=De;Le.sibling!==null;)Le=Le.sibling,ze=ze.sibling=ua(Le,Le.pendingProps),ze.return=De;ze.sibling=null}return De.child}function mm(Le,De,ze){switch(De.tag){case 3:Of(De),ol();break;case 5:Kh(De);break;case 1:Xs(De.type)&&Pc(De);break;case 4:nd(De,De.stateNode.containerInfo);break;case 10:var Ve=De.type._context,en=De.memoizedProps.value;ss(Oc,Ve._currentValue),Ve._currentValue=en;break;case 13:if(Ve=De.memoizedState,Ve!==null)return Ve.dehydrated!==null?(ss(ms,ms.current&1),De.flags|=128,null):(ze&De.child.childLanes)!==0?Ff(Le,De,ze):(ss(ms,ms.current&1),Le=Uo(Le,De,ze),Le!==null?Le.sibling:null);ss(ms,ms.current&1);break;case 19:if(Ve=(ze&De.childLanes)!==0,(Le.flags&128)!==0){if(Ve)return Nf(Le,De,ze);De.flags|=128}if(en=De.memoizedState,en!==null&&(en.rendering=null,en.tail=null,en.lastEffect=null),ss(ms,ms.current),Ve)break;return null;case 22:case 23:return De.lanes=0,Tf(Le,De,ze)}return Uo(Le,De,ze)}var zf,wd,jf,Bf;zf=function(Le,De){for(var ze=De.child;ze!==null;){if(ze.tag===5||ze.tag===6)Le.appendChild(ze.stateNode);else if(ze.tag!==4&&ze.child!==null){ze.child.return=ze,ze=ze.child;continue}if(ze===De)break;for(;ze.sibling===null;){if(ze.return===null||ze.return===De)return;ze=ze.return}ze.sibling.return=ze.return,ze=ze.sibling}},wd=function(){},jf=function(Le,De,ze,Ve){var en=Le.memoizedProps;if(en!==Ve){Le=De.stateNode,Aa(Ro.current);var dn=null;switch(ze){case"input":en=vi(Le,en),Ve=vi(Le,Ve),dn=[];break;case"select":en=kn({},en,{value:void 0}),Ve=kn({},Ve,{value:void 0}),dn=[];break;case"textarea":en=Yn(Le,en),Ve=Yn(Le,Ve),dn=[];break;default:typeof en.onClick!="function"&&typeof Ve.onClick=="function"&&(Le.onclick=wc)}Qn(ze,Ve);var Mn;ze=null;for(Si in en)if(!Ve.hasOwnProperty(Si)&&en.hasOwnProperty(Si)&&en[Si]!=null)if(Si==="style"){var Hn=en[Si];for(Mn in Hn)Hn.hasOwnProperty(Mn)&&(ze||(ze={}),ze[Mn]="")}else Si!=="dangerouslySetInnerHTML"&&Si!=="children"&&Si!=="suppressContentEditableWarning"&&Si!=="suppressHydrationWarning"&&Si!=="autoFocus"&&(Ie.hasOwnProperty(Si)?dn||(dn=[]):(dn=dn||[]).push(Si,null));for(Si in Ve){var Jn=Ve[Si];if(Hn=en!=null?en[Si]:void 0,Ve.hasOwnProperty(Si)&&Jn!==Hn&&(Jn!=null||Hn!=null))if(Si==="style")if(Hn){for(Mn in Hn)!Hn.hasOwnProperty(Mn)||Jn&&Jn.hasOwnProperty(Mn)||(ze||(ze={}),ze[Mn]="");for(Mn in Jn)Jn.hasOwnProperty(Mn)&&Hn[Mn]!==Jn[Mn]&&(ze||(ze={}),ze[Mn]=Jn[Mn])}else ze||(dn||(dn=[]),dn.push(Si,ze)),ze=Jn;else Si==="dangerouslySetInnerHTML"?(Jn=Jn?Jn.__html:void 0,Hn=Hn?Hn.__html:void 0,Jn!=null&&Hn!==Jn&&(dn=dn||[]).push(Si,Jn)):Si==="children"?typeof Jn!="string"&&typeof Jn!="number"||(dn=dn||[]).push(Si,""+Jn):Si!=="suppressContentEditableWarning"&&Si!=="suppressHydrationWarning"&&(Ie.hasOwnProperty(Si)?(Jn!=null&&Si==="onScroll"&&ls("scroll",Le),dn||Hn===Jn||(dn=[])):(dn=dn||[]).push(Si,Jn))}ze&&(dn=dn||[]).push("style",ze);var Si=dn;(De.updateQueue=Si)&&(De.flags|=4)}},Bf=function(Le,De,ze,Ve){ze!==Ve&&(De.flags|=4)};function Wl(Le,De){if(!ds)switch(Le.tailMode){case"hidden":De=Le.tail;for(var ze=null;De!==null;)De.alternate!==null&&(ze=De),De=De.sibling;ze===null?Le.tail=null:ze.sibling=null;break;case"collapsed":ze=Le.tail;for(var Ve=null;ze!==null;)ze.alternate!==null&&(Ve=ze),ze=ze.sibling;Ve===null?De||Le.tail===null?Le.tail=null:Le.tail.sibling=null:Ve.sibling=null}}function Fs(Le){var De=Le.alternate!==null&&Le.alternate.child===Le.child,ze=0,Ve=0;if(De)for(var en=Le.child;en!==null;)ze|=en.lanes|en.childLanes,Ve|=en.subtreeFlags&14680064,Ve|=en.flags&14680064,en.return=Le,en=en.sibling;else for(en=Le.child;en!==null;)ze|=en.lanes|en.childLanes,Ve|=en.subtreeFlags,Ve|=en.flags,en.return=Le,en=en.sibling;return Le.subtreeFlags|=Ve,Le.childLanes=ze,De}function gm(Le,De,ze){var Ve=De.pendingProps;switch(qu(De),De.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fs(De),null;case 1:return Xs(De.type)&&Cc(),Fs(De),null;case 3:return Ve=De.stateNode,ul(),cs(qs),cs(Os),sd(),Ve.pendingContext&&(Ve.context=Ve.pendingContext,Ve.pendingContext=null),(Le===null||Le.child===null)&&(Rc(De)?De.flags|=4:Le===null||Le.memoizedState.isDehydrated&&(De.flags&256)===0||(De.flags|=1024,So!==null&&(Fd(So),So=null))),wd(Le,De),Fs(De),null;case 5:id(De);var en=Aa(Nl.current);if(ze=De.type,Le!==null&&De.stateNode!=null)jf(Le,De,ze,Ve,en),Le.ref!==De.ref&&(De.flags|=512,De.flags|=2097152);else{if(!Ve){if(De.stateNode===null)throw Error(ke(166));return Fs(De),null}if(Le=Aa(Ro.current),Rc(De)){Ve=De.stateNode,ze=De.type;var dn=De.memoizedProps;switch(Ve[To]=De,Ve[Ll]=dn,Le=(De.mode&1)!==0,ze){case"dialog":ls("cancel",Ve),ls("close",Ve);break;case"iframe":case"object":case"embed":ls("load",Ve);break;case"video":case"audio":for(en=0;en<Ml.length;en++)ls(Ml[en],Ve);break;case"source":ls("error",Ve);break;case"img":case"image":case"link":ls("error",Ve),ls("load",Ve);break;case"details":ls("toggle",Ve);break;case"input":yi(Ve,dn),ls("invalid",Ve);break;case"select":Ve._wrapperState={wasMultiple:!!dn.multiple},ls("invalid",Ve);break;case"textarea":fi(Ve,dn),ls("invalid",Ve)}Qn(ze,dn),en=null;for(var Mn in dn)if(dn.hasOwnProperty(Mn)){var Hn=dn[Mn];Mn==="children"?typeof Hn=="string"?Ve.textContent!==Hn&&(dn.suppressHydrationWarning!==!0&&Ec(Ve.textContent,Hn,Le),en=["children",Hn]):typeof Hn=="number"&&Ve.textContent!==""+Hn&&(dn.suppressHydrationWarning!==!0&&Ec(Ve.textContent,Hn,Le),en=["children",""+Hn]):Ie.hasOwnProperty(Mn)&&Hn!=null&&Mn==="onScroll"&&ls("scroll",Ve)}switch(ze){case"input":li(Ve),wn(Ve,dn,!0);break;case"textarea":li(Ve),$n(Ve);break;case"select":case"option":break;default:typeof dn.onClick=="function"&&(Ve.onclick=wc)}Ve=en,De.updateQueue=Ve,Ve!==null&&(De.flags|=4)}else{Mn=en.nodeType===9?en:en.ownerDocument,Le==="http://www.w3.org/1999/xhtml"&&(Le=Pi(ze)),Le==="http://www.w3.org/1999/xhtml"?ze==="script"?(Le=Mn.createElement("div"),Le.innerHTML="<script><\/script>",Le=Le.removeChild(Le.firstChild)):typeof Ve.is=="string"?Le=Mn.createElement(ze,{is:Ve.is}):(Le=Mn.createElement(ze),ze==="select"&&(Mn=Le,Ve.multiple?Mn.multiple=!0:Ve.size&&(Mn.size=Ve.size))):Le=Mn.createElementNS(Le,ze),Le[To]=De,Le[Ll]=Ve,zf(Le,De,!1,!1),De.stateNode=Le;e:{switch(Mn=ti(ze,Ve),ze){case"dialog":ls("cancel",Le),ls("close",Le),en=Ve;break;case"iframe":case"object":case"embed":ls("load",Le),en=Ve;break;case"video":case"audio":for(en=0;en<Ml.length;en++)ls(Ml[en],Le);en=Ve;break;case"source":ls("error",Le),en=Ve;break;case"img":case"image":case"link":ls("error",Le),ls("load",Le),en=Ve;break;case"details":ls("toggle",Le),en=Ve;break;case"input":yi(Le,Ve),en=vi(Le,Ve),ls("invalid",Le);break;case"option":en=Ve;break;case"select":Le._wrapperState={wasMultiple:!!Ve.multiple},en=kn({},Ve,{value:void 0}),ls("invalid",Le);break;case"textarea":fi(Le,Ve),en=Yn(Le,Ve),ls("invalid",Le);break;default:en=Ve}Qn(ze,en),Hn=en;for(dn in Hn)if(Hn.hasOwnProperty(dn)){var Jn=Hn[dn];dn==="style"?Mr(Le,Jn):dn==="dangerouslySetInnerHTML"?(Jn=Jn?Jn.__html:void 0,Jn!=null&&Wi(Le,Jn)):dn==="children"?typeof Jn=="string"?(ze!=="textarea"||Jn!=="")&&ir(Le,Jn):typeof Jn=="number"&&ir(Le,""+Jn):dn!=="suppressContentEditableWarning"&&dn!=="suppressHydrationWarning"&&dn!=="autoFocus"&&(Ie.hasOwnProperty(dn)?Jn!=null&&dn==="onScroll"&&ls("scroll",Le):Jn!=null&&pn(Le,dn,Jn,Mn))}switch(ze){case"input":li(Le),wn(Le,Ve,!1);break;case"textarea":li(Le),$n(Le);break;case"option":Ve.value!=null&&Le.setAttribute("value",""+Rn(Ve.value));break;case"select":Le.multiple=!!Ve.multiple,dn=Ve.value,dn!=null?Bn(Le,!!Ve.multiple,dn,!1):Ve.defaultValue!=null&&Bn(Le,!!Ve.multiple,Ve.defaultValue,!0);break;default:typeof en.onClick=="function"&&(Le.onclick=wc)}switch(ze){case"button":case"input":case"select":case"textarea":Ve=!!Ve.autoFocus;break e;case"img":Ve=!0;break e;default:Ve=!1}}Ve&&(De.flags|=4)}De.ref!==null&&(De.flags|=512,De.flags|=2097152)}return Fs(De),null;case 6:if(Le&&De.stateNode!=null)Bf(Le,De,Le.memoizedProps,Ve);else{if(typeof Ve!="string"&&De.stateNode===null)throw Error(ke(166));if(ze=Aa(Nl.current),Aa(Ro.current),Rc(De)){if(Ve=De.stateNode,ze=De.memoizedProps,Ve[To]=De,(dn=Ve.nodeValue!==ze)&&(Le=io,Le!==null))switch(Le.tag){case 3:Ec(Ve.nodeValue,ze,(Le.mode&1)!==0);break;case 5:Le.memoizedProps.suppressHydrationWarning!==!0&&Ec(Ve.nodeValue,ze,(Le.mode&1)!==0)}dn&&(De.flags|=4)}else Ve=(ze.nodeType===9?ze:ze.ownerDocument).createTextNode(Ve),Ve[To]=De,De.stateNode=Ve}return Fs(De),null;case 13:if(cs(ms),Ve=De.memoizedState,Le===null||Le.memoizedState!==null&&Le.memoizedState.dehydrated!==null){if(ds&&ro!==null&&(De.mode&1)!==0&&(De.flags&128)===0)Wh(),ol(),De.flags|=98560,dn=!1;else if(dn=Rc(De),Ve!==null&&Ve.dehydrated!==null){if(Le===null){if(!dn)throw Error(ke(318));if(dn=De.memoizedState,dn=dn!==null?dn.dehydrated:null,!dn)throw Error(ke(317));dn[To]=De}else ol(),(De.flags&128)===0&&(De.memoizedState=null),De.flags|=4;Fs(De),dn=!1}else So!==null&&(Fd(So),So=null),dn=!0;if(!dn)return De.flags&65536?De:null}return(De.flags&128)!==0?(De.lanes=ze,De):(Ve=Ve!==null,Ve!==(Le!==null&&Le.memoizedState!==null)&&Ve&&(De.child.flags|=8192,(De.mode&1)!==0&&(Le===null||(ms.current&1)!==0?Cs===0&&(Cs=3):zd())),De.updateQueue!==null&&(De.flags|=4),Fs(De),null);case 4:return ul(),wd(Le,De),Le===null&&Tl(De.stateNode.containerInfo),Fs(De),null;case 10:return Qu(De.type._context),Fs(De),null;case 17:return Xs(De.type)&&Cc(),Fs(De),null;case 19:if(cs(ms),dn=De.memoizedState,dn===null)return Fs(De),null;if(Ve=(De.flags&128)!==0,Mn=dn.rendering,Mn===null)if(Ve)Wl(dn,!1);else{if(Cs!==0||Le!==null&&(Le.flags&128)!==0)for(Le=De.child;Le!==null;){if(Mn=Nc(Le),Mn!==null){for(De.flags|=128,Wl(dn,!1),Ve=Mn.updateQueue,Ve!==null&&(De.updateQueue=Ve,De.flags|=4),De.subtreeFlags=0,Ve=ze,ze=De.child;ze!==null;)dn=ze,Le=Ve,dn.flags&=14680066,Mn=dn.alternate,Mn===null?(dn.childLanes=0,dn.lanes=Le,dn.child=null,dn.subtreeFlags=0,dn.memoizedProps=null,dn.memoizedState=null,dn.updateQueue=null,dn.dependencies=null,dn.stateNode=null):(dn.childLanes=Mn.childLanes,dn.lanes=Mn.lanes,dn.child=Mn.child,dn.subtreeFlags=0,dn.deletions=null,dn.memoizedProps=Mn.memoizedProps,dn.memoizedState=Mn.memoizedState,dn.updateQueue=Mn.updateQueue,dn.type=Mn.type,Le=Mn.dependencies,dn.dependencies=Le===null?null:{lanes:Le.lanes,firstContext:Le.firstContext}),ze=ze.sibling;return ss(ms,ms.current&1|2),De.child}Le=Le.sibling}dn.tail!==null&&hs()>pl&&(De.flags|=128,Ve=!0,Wl(dn,!1),De.lanes=4194304)}else{if(!Ve)if(Le=Nc(Mn),Le!==null){if(De.flags|=128,Ve=!0,ze=Le.updateQueue,ze!==null&&(De.updateQueue=ze,De.flags|=4),Wl(dn,!0),dn.tail===null&&dn.tailMode==="hidden"&&!Mn.alternate&&!ds)return Fs(De),null}else 2*hs()-dn.renderingStartTime>pl&&ze!==1073741824&&(De.flags|=128,Ve=!0,Wl(dn,!1),De.lanes=4194304);dn.isBackwards?(Mn.sibling=De.child,De.child=Mn):(ze=dn.last,ze!==null?ze.sibling=Mn:De.child=Mn,dn.last=Mn)}return dn.tail!==null?(De=dn.tail,dn.rendering=De,dn.tail=De.sibling,dn.renderingStartTime=hs(),De.sibling=null,ze=ms.current,ss(ms,Ve?ze&1|2:ze&1),De):(Fs(De),null);case 22:case 23:return Nd(),Ve=De.memoizedState!==null,Le!==null&&Le.memoizedState!==null!==Ve&&(De.flags|=8192),Ve&&(De.mode&1)!==0?(so&1073741824)!==0&&(Fs(De),De.subtreeFlags&6&&(De.flags|=8192)):Fs(De),null;case 24:return null;case 25:return null}throw Error(ke(156,De.tag))}function vm(Le,De){switch(qu(De),De.tag){case 1:return Xs(De.type)&&Cc(),Le=De.flags,Le&65536?(De.flags=Le&-65537|128,De):null;case 3:return ul(),cs(qs),cs(Os),sd(),Le=De.flags,(Le&65536)!==0&&(Le&128)===0?(De.flags=Le&-65537|128,De):null;case 5:return id(De),null;case 13:if(cs(ms),Le=De.memoizedState,Le!==null&&Le.dehydrated!==null){if(De.alternate===null)throw Error(ke(340));ol()}return Le=De.flags,Le&65536?(De.flags=Le&-65537|128,De):null;case 19:return cs(ms),null;case 4:return ul(),null;case 10:return Qu(De.type._context),null;case 22:case 23:return Nd(),null;case 24:return null;default:return null}}var qc=!1,Ds=!1,bm=typeof WeakSet=="function"?WeakSet:Set,ur=null;function hl(Le,De){var ze=Le.ref;if(ze!==null)if(typeof ze=="function")try{ze(null)}catch(Ve){ys(Le,De,Ve)}else ze.current=null}function kd(Le,De,ze){try{ze()}catch(Ve){ys(Le,De,Ve)}}var Hf=!1;function ym(Le,De){if(Nu=jn,Le=Ka(),ya(Le)){if("selectionStart"in Le)var ze={start:Le.selectionStart,end:Le.selectionEnd};else e:{ze=(ze=Le.ownerDocument)&&ze.defaultView||window;var Ve=ze.getSelection&&ze.getSelection();if(Ve&&Ve.rangeCount!==0){ze=Ve.anchorNode;var en=Ve.anchorOffset,dn=Ve.focusNode;Ve=Ve.focusOffset;try{ze.nodeType,dn.nodeType}catch{ze=null;break e}var Mn=0,Hn=-1,Jn=-1,Si=0,Di=0,zi=Le,Ii=null;t:for(;;){for(var sr;zi!==ze||en!==0&&zi.nodeType!==3||(Hn=Mn+en),zi!==dn||Ve!==0&&zi.nodeType!==3||(Jn=Mn+Ve),zi.nodeType===3&&(Mn+=zi.nodeValue.length),(sr=zi.firstChild)!==null;)Ii=zi,zi=sr;for(;;){if(zi===Le)break t;if(Ii===ze&&++Si===en&&(Hn=Mn),Ii===dn&&++Di===Ve&&(Jn=Mn),(sr=zi.nextSibling)!==null)break;zi=Ii,Ii=zi.parentNode}zi=sr}ze=Hn===-1||Jn===-1?null:{start:Hn,end:Jn}}else ze=null}ze=ze||{start:0,end:0}}else ze=null;for(zu={focusedElem:Le,selectionRange:ze},jn=!1,ur=De;ur!==null;)if(De=ur,Le=De.child,(De.subtreeFlags&1028)!==0&&Le!==null)Le.return=De,ur=Le;else for(;ur!==null;){De=ur;try{var fr=De.alternate;if((De.flags&1024)!==0)switch(De.tag){case 0:case 11:case 15:break;case 1:if(fr!==null){var gr=fr.memoizedProps,Ss=fr.memoizedState,mi=De.stateNode,si=mi.getSnapshotBeforeUpdate(De.elementType===De.type?gr:xo(De.type,gr),Ss);mi.__reactInternalSnapshotBeforeUpdate=si}break;case 3:var bi=De.stateNode.containerInfo;bi.nodeType===1?bi.textContent="":bi.nodeType===9&&bi.documentElement&&bi.removeChild(bi.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(Hi){ys(De,De.return,Hi)}if(Le=De.sibling,Le!==null){Le.return=De.return,ur=Le;break}ur=De.return}return fr=Hf,Hf=!1,fr}function Vl(Le,De,ze){var Ve=De.updateQueue;if(Ve=Ve!==null?Ve.lastEffect:null,Ve!==null){var en=Ve=Ve.next;do{if((en.tag&Le)===Le){var dn=en.destroy;en.destroy=void 0,dn!==void 0&&kd(De,ze,dn)}en=en.next}while(en!==Ve)}}function Xc(Le,De){if(De=De.updateQueue,De=De!==null?De.lastEffect:null,De!==null){var ze=De=De.next;do{if((ze.tag&Le)===Le){var Ve=ze.create;ze.destroy=Ve()}ze=ze.next}while(ze!==De)}}function Cd(Le){var De=Le.ref;if(De!==null){var ze=Le.stateNode;switch(Le.tag){case 5:Le=ze;break;default:Le=ze}typeof De=="function"?De(Le):De.current=Le}}function Wf(Le){var De=Le.alternate;De!==null&&(Le.alternate=null,Wf(De)),Le.child=null,Le.deletions=null,Le.sibling=null,Le.tag===5&&(De=Le.stateNode,De!==null&&(delete De[To],delete De[Ll],delete De[Wu],delete De[tm],delete De[nm])),Le.stateNode=null,Le.return=null,Le.dependencies=null,Le.memoizedProps=null,Le.memoizedState=null,Le.pendingProps=null,Le.stateNode=null,Le.updateQueue=null}function Vf(Le){return Le.tag===5||Le.tag===3||Le.tag===4}function Uf(Le){e:for(;;){for(;Le.sibling===null;){if(Le.return===null||Vf(Le.return))return null;Le=Le.return}for(Le.sibling.return=Le.return,Le=Le.sibling;Le.tag!==5&&Le.tag!==6&&Le.tag!==18;){if(Le.flags&2||Le.child===null||Le.tag===4)continue e;Le.child.return=Le,Le=Le.child}if(!(Le.flags&2))return Le.stateNode}}function Pd(Le,De,ze){var Ve=Le.tag;if(Ve===5||Ve===6)Le=Le.stateNode,De?ze.nodeType===8?ze.parentNode.insertBefore(Le,De):ze.insertBefore(Le,De):(ze.nodeType===8?(De=ze.parentNode,De.insertBefore(Le,ze)):(De=ze,De.appendChild(Le)),ze=ze._reactRootContainer,ze!=null||De.onclick!==null||(De.onclick=wc));else if(Ve!==4&&(Le=Le.child,Le!==null))for(Pd(Le,De,ze),Le=Le.sibling;Le!==null;)Pd(Le,De,ze),Le=Le.sibling}function Ad(Le,De,ze){var Ve=Le.tag;if(Ve===5||Ve===6)Le=Le.stateNode,De?ze.insertBefore(Le,De):ze.appendChild(Le);else if(Ve!==4&&(Le=Le.child,Le!==null))for(Ad(Le,De,ze),Le=Le.sibling;Le!==null;)Ad(Le,De,ze),Le=Le.sibling}var Ts=null,Eo=!1;function sa(Le,De,ze){for(ze=ze.child;ze!==null;)$f(Le,De,ze),ze=ze.sibling}function $f(Le,De,ze){if(Ns&&typeof Ns.onCommitFiberUnmount=="function")try{Ns.onCommitFiberUnmount(ja,ze)}catch{}switch(ze.tag){case 5:Ds||hl(ze,De);case 6:var Ve=Ts,en=Eo;Ts=null,sa(Le,De,ze),Ts=Ve,Eo=en,Ts!==null&&(Eo?(Le=Ts,ze=ze.stateNode,Le.nodeType===8?Le.parentNode.removeChild(ze):Le.removeChild(ze)):Ts.removeChild(ze.stateNode));break;case 18:Ts!==null&&(Eo?(Le=Ts,ze=ze.stateNode,Le.nodeType===8?Hu(Le.parentNode,ze):Le.nodeType===1&&Hu(Le,ze),ri(Le)):Hu(Ts,ze.stateNode));break;case 4:Ve=Ts,en=Eo,Ts=ze.stateNode.containerInfo,Eo=!0,sa(Le,De,ze),Ts=Ve,Eo=en;break;case 0:case 11:case 14:case 15:if(!Ds&&(Ve=ze.updateQueue,Ve!==null&&(Ve=Ve.lastEffect,Ve!==null))){en=Ve=Ve.next;do{var dn=en,Mn=dn.destroy;dn=dn.tag,Mn!==void 0&&((dn&2)!==0||(dn&4)!==0)&&kd(ze,De,Mn),en=en.next}while(en!==Ve)}sa(Le,De,ze);break;case 1:if(!Ds&&(hl(ze,De),Ve=ze.stateNode,typeof Ve.componentWillUnmount=="function"))try{Ve.props=ze.memoizedProps,Ve.state=ze.memoizedState,Ve.componentWillUnmount()}catch(Hn){ys(ze,De,Hn)}sa(Le,De,ze);break;case 21:sa(Le,De,ze);break;case 22:ze.mode&1?(Ds=(Ve=Ds)||ze.memoizedState!==null,sa(Le,De,ze),Ds=Ve):sa(Le,De,ze);break;default:sa(Le,De,ze)}}function qf(Le){var De=Le.updateQueue;if(De!==null){Le.updateQueue=null;var ze=Le.stateNode;ze===null&&(ze=Le.stateNode=new bm),De.forEach(function(Ve){var en=Am.bind(null,Le,Ve);ze.has(Ve)||(ze.add(Ve),Ve.then(en,en))})}}function wo(Le,De){var ze=De.deletions;if(ze!==null)for(var Ve=0;Ve<ze.length;Ve++){var en=ze[Ve];try{var dn=Le,Mn=De,Hn=Mn;e:for(;Hn!==null;){switch(Hn.tag){case 5:Ts=Hn.stateNode,Eo=!1;break e;case 3:Ts=Hn.stateNode.containerInfo,Eo=!0;break e;case 4:Ts=Hn.stateNode.containerInfo,Eo=!0;break e}Hn=Hn.return}if(Ts===null)throw Error(ke(160));$f(dn,Mn,en),Ts=null,Eo=!1;var Jn=en.alternate;Jn!==null&&(Jn.return=null),en.return=null}catch(Si){ys(en,De,Si)}}if(De.subtreeFlags&12854)for(De=De.child;De!==null;)Xf(De,Le),De=De.sibling}function Xf(Le,De){var ze=Le.alternate,Ve=Le.flags;switch(Le.tag){case 0:case 11:case 14:case 15:if(wo(De,Le),Oo(Le),Ve&4){try{Vl(3,Le,Le.return),Xc(3,Le)}catch(gr){ys(Le,Le.return,gr)}try{Vl(5,Le,Le.return)}catch(gr){ys(Le,Le.return,gr)}}break;case 1:wo(De,Le),Oo(Le),Ve&512&&ze!==null&&hl(ze,ze.return);break;case 5:if(wo(De,Le),Oo(Le),Ve&512&&ze!==null&&hl(ze,ze.return),Le.flags&32){var en=Le.stateNode;try{ir(en,"")}catch(gr){ys(Le,Le.return,gr)}}if(Ve&4&&(en=Le.stateNode,en!=null)){var dn=Le.memoizedProps,Mn=ze!==null?ze.memoizedProps:dn,Hn=Le.type,Jn=Le.updateQueue;if(Le.updateQueue=null,Jn!==null)try{Hn==="input"&&dn.type==="radio"&&dn.name!=null&&Zn(en,dn),ti(Hn,Mn);var Si=ti(Hn,dn);for(Mn=0;Mn<Jn.length;Mn+=2){var Di=Jn[Mn],zi=Jn[Mn+1];Di==="style"?Mr(en,zi):Di==="dangerouslySetInnerHTML"?Wi(en,zi):Di==="children"?ir(en,zi):pn(en,Di,zi,Si)}switch(Hn){case"input":Gn(en,dn);break;case"textarea":gi(en,dn);break;case"select":var Ii=en._wrapperState.wasMultiple;en._wrapperState.wasMultiple=!!dn.multiple;var sr=dn.value;sr!=null?Bn(en,!!dn.multiple,sr,!1):Ii!==!!dn.multiple&&(dn.defaultValue!=null?Bn(en,!!dn.multiple,dn.defaultValue,!0):Bn(en,!!dn.multiple,dn.multiple?[]:"",!1))}en[Ll]=dn}catch(gr){ys(Le,Le.return,gr)}}break;case 6:if(wo(De,Le),Oo(Le),Ve&4){if(Le.stateNode===null)throw Error(ke(162));en=Le.stateNode,dn=Le.memoizedProps;try{en.nodeValue=dn}catch(gr){ys(Le,Le.return,gr)}}break;case 3:if(wo(De,Le),Oo(Le),Ve&4&&ze!==null&&ze.memoizedState.isDehydrated)try{ri(De.containerInfo)}catch(gr){ys(Le,Le.return,gr)}break;case 4:wo(De,Le),Oo(Le);break;case 13:wo(De,Le),Oo(Le),en=Le.child,en.flags&8192&&(dn=en.memoizedState!==null,en.stateNode.isHidden=dn,!dn||en.alternate!==null&&en.alternate.memoizedState!==null||(Rd=hs())),Ve&4&&qf(Le);break;case 22:if(Di=ze!==null&&ze.memoizedState!==null,Le.mode&1?(Ds=(Si=Ds)||Di,wo(De,Le),Ds=Si):wo(De,Le),Oo(Le),Ve&8192){if(Si=Le.memoizedState!==null,(Le.stateNode.isHidden=Si)&&!Di&&(Le.mode&1)!==0)for(ur=Le,Di=Le.child;Di!==null;){for(zi=ur=Di;ur!==null;){switch(Ii=ur,sr=Ii.child,Ii.tag){case 0:case 11:case 14:case 15:Vl(4,Ii,Ii.return);break;case 1:hl(Ii,Ii.return);var fr=Ii.stateNode;if(typeof fr.componentWillUnmount=="function"){Ve=Ii,ze=Ii.return;try{De=Ve,fr.props=De.memoizedProps,fr.state=De.memoizedState,fr.componentWillUnmount()}catch(gr){ys(Ve,ze,gr)}}break;case 5:hl(Ii,Ii.return);break;case 22:if(Ii.memoizedState!==null){Kf(zi);continue}}sr!==null?(sr.return=Ii,ur=sr):Kf(zi)}Di=Di.sibling}e:for(Di=null,zi=Le;;){if(zi.tag===5){if(Di===null){Di=zi;try{en=zi.stateNode,Si?(dn=en.style,typeof dn.setProperty=="function"?dn.setProperty("display","none","important"):dn.display="none"):(Hn=zi.stateNode,Jn=zi.memoizedProps.style,Mn=Jn!=null&&Jn.hasOwnProperty("display")?Jn.display:null,Hn.style.display=er("display",Mn))}catch(gr){ys(Le,Le.return,gr)}}}else if(zi.tag===6){if(Di===null)try{zi.stateNode.nodeValue=Si?"":zi.memoizedProps}catch(gr){ys(Le,Le.return,gr)}}else if((zi.tag!==22&&zi.tag!==23||zi.memoizedState===null||zi===Le)&&zi.child!==null){zi.child.return=zi,zi=zi.child;continue}if(zi===Le)break e;for(;zi.sibling===null;){if(zi.return===null||zi.return===Le)break e;Di===zi&&(Di=null),zi=zi.return}Di===zi&&(Di=null),zi.sibling.return=zi.return,zi=zi.sibling}}break;case 19:wo(De,Le),Oo(Le),Ve&4&&qf(Le);break;case 21:break;default:wo(De,Le),Oo(Le)}}function Oo(Le){var De=Le.flags;if(De&2){try{e:{for(var ze=Le.return;ze!==null;){if(Vf(ze)){var Ve=ze;break e}ze=ze.return}throw Error(ke(160))}switch(Ve.tag){case 5:var en=Ve.stateNode;Ve.flags&32&&(ir(en,""),Ve.flags&=-33);var dn=Uf(Le);Ad(Le,dn,en);break;case 3:case 4:var Mn=Ve.stateNode.containerInfo,Hn=Uf(Le);Pd(Le,Hn,Mn);break;default:throw Error(ke(161))}}catch(Jn){ys(Le,Le.return,Jn)}Le.flags&=-3}De&4096&&(Le.flags&=-4097)}function _m(Le,De,ze){ur=Le,Gf(Le)}function Gf(Le,De,ze){for(var Ve=(Le.mode&1)!==0;ur!==null;){var en=ur,dn=en.child;if(en.tag===22&&Ve){var Mn=en.memoizedState!==null||qc;if(!Mn){var Hn=en.alternate,Jn=Hn!==null&&Hn.memoizedState!==null||Ds;Hn=qc;var Si=Ds;if(qc=Mn,(Ds=Jn)&&!Si)for(ur=en;ur!==null;)Mn=ur,Jn=Mn.child,Mn.tag===22&&Mn.memoizedState!==null?Zf(en):Jn!==null?(Jn.return=Mn,ur=Jn):Zf(en);for(;dn!==null;)ur=dn,Gf(dn),dn=dn.sibling;ur=en,qc=Hn,Ds=Si}Yf(Le)}else(en.subtreeFlags&8772)!==0&&dn!==null?(dn.return=en,ur=dn):Yf(Le)}}function Yf(Le){for(;ur!==null;){var De=ur;if((De.flags&8772)!==0){var ze=De.alternate;try{if((De.flags&8772)!==0)switch(De.tag){case 0:case 11:case 15:Ds||Xc(5,De);break;case 1:var Ve=De.stateNode;if(De.flags&4&&!Ds)if(ze===null)Ve.componentDidMount();else{var en=De.elementType===De.type?ze.memoizedProps:xo(De.type,ze.memoizedProps);Ve.componentDidUpdate(en,ze.memoizedState,Ve.__reactInternalSnapshotBeforeUpdate)}var dn=De.updateQueue;dn!==null&&Yh(De,dn,Ve);break;case 3:var Mn=De.updateQueue;if(Mn!==null){if(ze=null,De.child!==null)switch(De.child.tag){case 5:ze=De.child.stateNode;break;case 1:ze=De.child.stateNode}Yh(De,Mn,ze)}break;case 5:var Hn=De.stateNode;if(ze===null&&De.flags&4){ze=Hn;var Jn=De.memoizedProps;switch(De.type){case"button":case"input":case"select":case"textarea":Jn.autoFocus&&ze.focus();break;case"img":Jn.src&&(ze.src=Jn.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(De.memoizedState===null){var Si=De.alternate;if(Si!==null){var Di=Si.memoizedState;if(Di!==null){var zi=Di.dehydrated;zi!==null&&ri(zi)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}Ds||De.flags&512&&Cd(De)}catch(Ii){ys(De,De.return,Ii)}}if(De===Le){ur=null;break}if(ze=De.sibling,ze!==null){ze.return=De.return,ur=ze;break}ur=De.return}}function Kf(Le){for(;ur!==null;){var De=ur;if(De===Le){ur=null;break}var ze=De.sibling;if(ze!==null){ze.return=De.return,ur=ze;break}ur=De.return}}function Zf(Le){for(;ur!==null;){var De=ur;try{switch(De.tag){case 0:case 11:case 15:var ze=De.return;try{Xc(4,De)}catch(Jn){ys(De,ze,Jn)}break;case 1:var Ve=De.stateNode;if(typeof Ve.componentDidMount=="function"){var en=De.return;try{Ve.componentDidMount()}catch(Jn){ys(De,en,Jn)}}var dn=De.return;try{Cd(De)}catch(Jn){ys(De,dn,Jn)}break;case 5:var Mn=De.return;try{Cd(De)}catch(Jn){ys(De,Mn,Jn)}}}catch(Jn){ys(De,De.return,Jn)}if(De===Le){ur=null;break}var Hn=De.sibling;if(Hn!==null){Hn.return=De.return,ur=Hn;break}ur=De.return}}var Sm=Math.ceil,Gc=nn.ReactCurrentDispatcher,Md=nn.ReactCurrentOwner,mo=nn.ReactCurrentBatchConfig,Gr=0,As=null,Es=null,Rs=0,so=0,fl=ea(0),Cs=0,Ul=null,Ta=0,Yc=0,Td=0,$l=null,Ys=null,Rd=0,pl=1/0,$o=null,Kc=!1,Ld=null,oa=null,Zc=!1,aa=null,Qc=0,ql=0,Od=null,Jc=-1,eu=0;function Hs(){return(Gr&6)!==0?hs():Jc!==-1?Jc:Jc=hs()}function la(Le){return(Le.mode&1)===0?1:(Gr&2)!==0&&Rs!==0?Rs&-Rs:rm.transition!==null?(eu===0&&(eu=oc()),eu):(Le=Yr,Le!==0||(Le=window.event,Le=Le===void 0?16:Ni(Le.type)),Le)}function ko(Le,De,ze,Ve){if(50<ql)throw ql=0,Od=null,Error(ke(185));Fo(Le,ze,Ve),((Gr&2)===0||Le!==As)&&(Le===As&&((Gr&2)===0&&(Yc|=ze),Cs===4&&ca(Le,Rs)),Ks(Le,Ve),ze===1&&Gr===0&&(De.mode&1)===0&&(pl=hs()+500,Ac&&na()))}function Ks(Le,De){var ze=Le.callbackNode;sc(Le,De);var Ve=Wa(Le,Le===As?Rs:0);if(Ve===0)ze!==null&&Qs(ze),Le.callbackNode=null,Le.callbackPriority=0;else if(De=Ve&-Ve,Le.callbackPriority!==De){if(ze!=null&&Qs(ze),De===1)Le.tag===0?im(Jf.bind(null,Le)):Nh(Jf.bind(null,Le)),Jp(function(){(Gr&6)===0&&na()}),ze=null;else{switch(ac(Ve)){case 1:ze=Sl;break;case 4:ze=nc;break;case 16:ze=za;break;case 536870912:ze=ic;break;default:ze=za}ze=ap(ze,Qf.bind(null,Le))}Le.callbackPriority=De,Le.callbackNode=ze}}function Qf(Le,De){if(Jc=-1,eu=0,(Gr&6)!==0)throw Error(ke(327));var ze=Le.callbackNode;if(ml()&&Le.callbackNode!==ze)return null;var Ve=Wa(Le,Le===As?Rs:0);if(Ve===0)return null;if((Ve&30)!==0||(Ve&Le.expiredLanes)!==0||De)De=tu(Le,Ve);else{De=Ve;var en=Gr;Gr|=2;var dn=tp();(As!==Le||Rs!==De)&&($o=null,pl=hs()+500,La(Le,De));do try{wm();break}catch(Hn){ep(Le,Hn)}while(!0);Zu(),Gc.current=dn,Gr=en,Es!==null?De=0:(As=null,Rs=0,De=Cs)}if(De!==0){if(De===2&&(en=Va(Le),en!==0&&(Ve=en,De=Id(Le,en))),De===1)throw ze=Ul,La(Le,0),ca(Le,Ve),Ks(Le,hs()),ze;if(De===6)ca(Le,Ve);else{if(en=Le.current.alternate,(Ve&30)===0&&!xm(en)&&(De=tu(Le,Ve),De===2&&(dn=Va(Le),dn!==0&&(Ve=dn,De=Id(Le,dn))),De===1))throw ze=Ul,La(Le,0),ca(Le,Ve),Ks(Le,hs()),ze;switch(Le.finishedWork=en,Le.finishedLanes=Ve,De){case 0:case 1:throw Error(ke(345));case 2:Oa(Le,Ys,$o);break;case 3:if(ca(Le,Ve),(Ve&130023424)===Ve&&(De=Rd+500-hs(),10<De)){if(Wa(Le,0)!==0)break;if(en=Le.suspendedLanes,(en&Ve)!==Ve){Hs(),Le.pingedLanes|=Le.suspendedLanes&en;break}Le.timeoutHandle=Bu(Oa.bind(null,Le,Ys,$o),De);break}Oa(Le,Ys,$o);break;case 4:if(ca(Le,Ve),(Ve&4194240)===Ve)break;for(De=Le.eventTimes,en=-1;0<Ve;){var Mn=31-Vs(Ve);dn=1<<Mn,Mn=De[Mn],Mn>en&&(en=Mn),Ve&=~dn}if(Ve=en,Ve=hs()-Ve,Ve=(120>Ve?120:480>Ve?480:1080>Ve?1080:1920>Ve?1920:3e3>Ve?3e3:4320>Ve?4320:1960*Sm(Ve/1960))-Ve,10<Ve){Le.timeoutHandle=Bu(Oa.bind(null,Le,Ys,$o),Ve);break}Oa(Le,Ys,$o);break;case 5:Oa(Le,Ys,$o);break;default:throw Error(ke(329))}}}return Ks(Le,hs()),Le.callbackNode===ze?Qf.bind(null,Le):null}function Id(Le,De){var ze=$l;return Le.current.memoizedState.isDehydrated&&(La(Le,De).flags|=256),Le=tu(Le,De),Le!==2&&(De=Ys,Ys=ze,De!==null&&Fd(De)),Le}function Fd(Le){Ys===null?Ys=Le:Ys.push.apply(Ys,Le)}function xm(Le){for(var De=Le;;){if(De.flags&16384){var ze=De.updateQueue;if(ze!==null&&(ze=ze.stores,ze!==null))for(var Ve=0;Ve<ze.length;Ve++){var en=ze[Ve],dn=en.getSnapshot;en=en.value;try{if(!$s(dn(),en))return!1}catch{return!1}}}if(ze=De.child,De.subtreeFlags&16384&&ze!==null)ze.return=De,De=ze;else{if(De===Le)break;for(;De.sibling===null;){if(De.return===null||De.return===Le)return!0;De=De.return}De.sibling.return=De.return,De=De.sibling}}return!0}function ca(Le,De){for(De&=~Td,De&=~Yc,Le.suspendedLanes|=De,Le.pingedLanes&=~De,Le=Le.expirationTimes;0<De;){var ze=31-Vs(De),Ve=1<<ze;Le[ze]=-1,De&=~Ve}}function Jf(Le){if((Gr&6)!==0)throw Error(ke(327));ml();var De=Wa(Le,0);if((De&1)===0)return Ks(Le,hs()),null;var ze=tu(Le,De);if(Le.tag!==0&&ze===2){var Ve=Va(Le);Ve!==0&&(De=Ve,ze=Id(Le,Ve))}if(ze===1)throw ze=Ul,La(Le,0),ca(Le,De),Ks(Le,hs()),ze;if(ze===6)throw Error(ke(345));return Le.finishedWork=Le.current.alternate,Le.finishedLanes=De,Oa(Le,Ys,$o),Ks(Le,hs()),null}function Dd(Le,De){var ze=Gr;Gr|=1;try{return Le(De)}finally{Gr=ze,Gr===0&&(pl=hs()+500,Ac&&na())}}function Ra(Le){aa!==null&&aa.tag===0&&(Gr&6)===0&&ml();var De=Gr;Gr|=1;var ze=mo.transition,Ve=Yr;try{if(mo.transition=null,Yr=1,Le)return Le()}finally{Yr=Ve,mo.transition=ze,Gr=De,(Gr&6)===0&&na()}}function Nd(){so=fl.current,cs(fl)}function La(Le,De){Le.finishedWork=null,Le.finishedLanes=0;var ze=Le.timeoutHandle;if(ze!==-1&&(Le.timeoutHandle=-1,Qp(ze)),Es!==null)for(ze=Es.return;ze!==null;){var Ve=ze;switch(qu(Ve),Ve.tag){case 1:Ve=Ve.type.childContextTypes,Ve!=null&&Cc();break;case 3:ul(),cs(qs),cs(Os),sd();break;case 5:id(Ve);break;case 4:ul();break;case 13:cs(ms);break;case 19:cs(ms);break;case 10:Qu(Ve.type._context);break;case 22:case 23:Nd()}ze=ze.return}if(As=Le,Es=Le=ua(Le.current,null),Rs=so=De,Cs=0,Ul=null,Td=Yc=Ta=0,Ys=$l=null,Pa!==null){for(De=0;De<Pa.length;De++)if(ze=Pa[De],Ve=ze.interleaved,Ve!==null){ze.interleaved=null;var en=Ve.next,dn=ze.pending;if(dn!==null){var Mn=dn.next;dn.next=en,Ve.next=Mn}ze.pending=Ve}Pa=null}return Le}function ep(Le,De){do{var ze=Es;try{if(Zu(),zc.current=Wc,jc){for(var Ve=gs.memoizedState;Ve!==null;){var en=Ve.queue;en!==null&&(en.pending=null),Ve=Ve.next}jc=!1}if(Ma=0,Ps=ks=gs=null,zl=!1,jl=0,Md.current=null,ze===null||ze.return===null){Cs=1,Ul=De,Es=null;break}e:{var dn=Le,Mn=ze.return,Hn=ze,Jn=De;if(De=Rs,Hn.flags|=32768,Jn!==null&&typeof Jn=="object"&&typeof Jn.then=="function"){var Si=Jn,Di=Hn,zi=Di.tag;if((Di.mode&1)===0&&(zi===0||zi===11||zi===15)){var Ii=Di.alternate;Ii?(Di.updateQueue=Ii.updateQueue,Di.memoizedState=Ii.memoizedState,Di.lanes=Ii.lanes):(Di.updateQueue=null,Di.memoizedState=null)}var sr=kf(Mn);if(sr!==null){sr.flags&=-257,Cf(sr,Mn,Hn,dn,De),sr.mode&1&&wf(dn,Si,De),De=sr,Jn=Si;var fr=De.updateQueue;if(fr===null){var gr=new Set;gr.add(Jn),De.updateQueue=gr}else fr.add(Jn);break e}else{if((De&1)===0){wf(dn,Si,De),zd();break e}Jn=Error(ke(426))}}else if(ds&&Hn.mode&1){var Ss=kf(Mn);if(Ss!==null){(Ss.flags&65536)===0&&(Ss.flags|=256),Cf(Ss,Mn,Hn,dn,De),Yu(dl(Jn,Hn));break e}}dn=Jn=dl(Jn,Hn),Cs!==4&&(Cs=2),$l===null?$l=[dn]:$l.push(dn),dn=Mn;do{switch(dn.tag){case 3:dn.flags|=65536,De&=-De,dn.lanes|=De;var mi=xf(dn,Jn,De);Gh(dn,mi);break e;case 1:Hn=Jn;var si=dn.type,bi=dn.stateNode;if((dn.flags&128)===0&&(typeof si.getDerivedStateFromError=="function"||bi!==null&&typeof bi.componentDidCatch=="function"&&(oa===null||!oa.has(bi)))){dn.flags|=65536,De&=-De,dn.lanes|=De;var Hi=Ef(dn,Hn,De);Gh(dn,Hi);break e}}dn=dn.return}while(dn!==null)}ip(ze)}catch(_r){De=_r,Es===ze&&ze!==null&&(Es=ze=ze.return);continue}break}while(!0)}function tp(){var Le=Gc.current;return Gc.current=Wc,Le===null?Wc:Le}function zd(){(Cs===0||Cs===3||Cs===2)&&(Cs=4),As===null||(Ta&268435455)===0&&(Yc&268435455)===0||ca(As,Rs)}function tu(Le,De){var ze=Gr;Gr|=2;var Ve=tp();(As!==Le||Rs!==De)&&($o=null,La(Le,De));do try{Em();break}catch(en){ep(Le,en)}while(!0);if(Zu(),Gr=ze,Gc.current=Ve,Es!==null)throw Error(ke(261));return As=null,Rs=0,Cs}function Em(){for(;Es!==null;)np(Es)}function wm(){for(;Es!==null&&!Da();)np(Es)}function np(Le){var De=op(Le.alternate,Le,so);Le.memoizedProps=Le.pendingProps,De===null?ip(Le):Es=De,Md.current=null}function ip(Le){var De=Le;do{var ze=De.alternate;if(Le=De.return,(De.flags&32768)===0){if(ze=gm(ze,De,so),ze!==null){Es=ze;return}}else{if(ze=vm(ze,De),ze!==null){ze.flags&=32767,Es=ze;return}if(Le!==null)Le.flags|=32768,Le.subtreeFlags=0,Le.deletions=null;else{Cs=6,Es=null;return}}if(De=De.sibling,De!==null){Es=De;return}Es=De=Le}while(De!==null);Cs===0&&(Cs=5)}function Oa(Le,De,ze){var Ve=Yr,en=mo.transition;try{mo.transition=null,Yr=1,km(Le,De,ze,Ve)}finally{mo.transition=en,Yr=Ve}return null}function km(Le,De,ze,Ve){do ml();while(aa!==null);if((Gr&6)!==0)throw Error(ke(327));ze=Le.finishedWork;var en=Le.finishedLanes;if(ze===null)return null;if(Le.finishedWork=null,Le.finishedLanes=0,ze===Le.current)throw Error(ke(177));Le.callbackNode=null,Le.callbackPriority=0;var dn=ze.lanes|ze.childLanes;if(Tu(Le,dn),Le===As&&(Es=As=null,Rs=0),(ze.subtreeFlags&2064)===0&&(ze.flags&2064)===0||Zc||(Zc=!0,ap(za,function(){return ml(),null})),dn=(ze.flags&15990)!==0,(ze.subtreeFlags&15990)!==0||dn){dn=mo.transition,mo.transition=null;var Mn=Yr;Yr=1;var Hn=Gr;Gr|=4,Md.current=null,ym(Le,ze),Xf(ze,Le),Cl(zu),jn=!!Nu,zu=Nu=null,Le.current=ze,_m(ze),ku(),Gr=Hn,Yr=Mn,mo.transition=dn}else Le.current=ze;if(Zc&&(Zc=!1,aa=Le,Qc=en),dn=Le.pendingLanes,dn===0&&(oa=null),rc(ze.stateNode),Ks(Le,hs()),De!==null)for(Ve=Le.onRecoverableError,ze=0;ze<De.length;ze++)en=De[ze],Ve(en.value,{componentStack:en.stack,digest:en.digest});if(Kc)throw Kc=!1,Le=Ld,Ld=null,Le;return(Qc&1)!==0&&Le.tag!==0&&ml(),dn=Le.pendingLanes,(dn&1)!==0?Le===Od?ql++:(ql=0,Od=Le):ql=0,na(),null}function ml(){if(aa!==null){var Le=ac(Qc),De=mo.transition,ze=Yr;try{if(mo.transition=null,Yr=16>Le?16:Le,aa===null)var Ve=!1;else{if(Le=aa,aa=null,Qc=0,(Gr&6)!==0)throw Error(ke(331));var en=Gr;for(Gr|=4,ur=Le.current;ur!==null;){var dn=ur,Mn=dn.child;if((ur.flags&16)!==0){var Hn=dn.deletions;if(Hn!==null){for(var Jn=0;Jn<Hn.length;Jn++){var Si=Hn[Jn];for(ur=Si;ur!==null;){var Di=ur;switch(Di.tag){case 0:case 11:case 15:Vl(8,Di,dn)}var zi=Di.child;if(zi!==null)zi.return=Di,ur=zi;else for(;ur!==null;){Di=ur;var Ii=Di.sibling,sr=Di.return;if(Wf(Di),Di===Si){ur=null;break}if(Ii!==null){Ii.return=sr,ur=Ii;break}ur=sr}}}var fr=dn.alternate;if(fr!==null){var gr=fr.child;if(gr!==null){fr.child=null;do{var Ss=gr.sibling;gr.sibling=null,gr=Ss}while(gr!==null)}}ur=dn}}if((dn.subtreeFlags&2064)!==0&&Mn!==null)Mn.return=dn,ur=Mn;else e:for(;ur!==null;){if(dn=ur,(dn.flags&2048)!==0)switch(dn.tag){case 0:case 11:case 15:Vl(9,dn,dn.return)}var mi=dn.sibling;if(mi!==null){mi.return=dn.return,ur=mi;break e}ur=dn.return}}var si=Le.current;for(ur=si;ur!==null;){Mn=ur;var bi=Mn.child;if((Mn.subtreeFlags&2064)!==0&&bi!==null)bi.return=Mn,ur=bi;else e:for(Mn=si;ur!==null;){if(Hn=ur,(Hn.flags&2048)!==0)try{switch(Hn.tag){case 0:case 11:case 15:Xc(9,Hn)}}catch(_r){ys(Hn,Hn.return,_r)}if(Hn===Mn){ur=null;break e}var Hi=Hn.sibling;if(Hi!==null){Hi.return=Hn.return,ur=Hi;break e}ur=Hn.return}}if(Gr=en,na(),Ns&&typeof Ns.onPostCommitFiberRoot=="function")try{Ns.onPostCommitFiberRoot(ja,Le)}catch{}Ve=!0}return Ve}finally{Yr=ze,mo.transition=De}}return!1}function rp(Le,De,ze){De=dl(ze,De),De=xf(Le,De,1),Le=ra(Le,De,1),De=Hs(),Le!==null&&(Fo(Le,1,De),Ks(Le,De))}function ys(Le,De,ze){if(Le.tag===3)rp(Le,Le,ze);else for(;De!==null;){if(De.tag===3){rp(De,Le,ze);break}else if(De.tag===1){var Ve=De.stateNode;if(typeof De.type.getDerivedStateFromError=="function"||typeof Ve.componentDidCatch=="function"&&(oa===null||!oa.has(Ve))){Le=dl(ze,Le),Le=Ef(De,Le,1),De=ra(De,Le,1),Le=Hs(),De!==null&&(Fo(De,1,Le),Ks(De,Le));break}}De=De.return}}function Cm(Le,De,ze){var Ve=Le.pingCache;Ve!==null&&Ve.delete(De),De=Hs(),Le.pingedLanes|=Le.suspendedLanes&ze,As===Le&&(Rs&ze)===ze&&(Cs===4||Cs===3&&(Rs&130023424)===Rs&&500>hs()-Rd?La(Le,0):Td|=ze),Ks(Le,De)}function sp(Le,De){De===0&&((Le.mode&1)===0?De=1:(De=Ha,Ha<<=1,(Ha&130023424)===0&&(Ha=4194304)));var ze=Hs();Le=Wo(Le,De),Le!==null&&(Fo(Le,De,ze),Ks(Le,ze))}function Pm(Le){var De=Le.memoizedState,ze=0;De!==null&&(ze=De.retryLane),sp(Le,ze)}function Am(Le,De){var ze=0;switch(Le.tag){case 13:var Ve=Le.stateNode,en=Le.memoizedState;en!==null&&(ze=en.retryLane);break;case 19:Ve=Le.stateNode;break;default:throw Error(ke(314))}Ve!==null&&Ve.delete(De),sp(Le,ze)}var op;op=function(Le,De,ze){if(Le!==null)if(Le.memoizedProps!==De.pendingProps||qs.current)Gs=!0;else{if((Le.lanes&ze)===0&&(De.flags&128)===0)return Gs=!1,mm(Le,De,ze);Gs=(Le.flags&131072)!==0}else Gs=!1,ds&&(De.flags&1048576)!==0&&zh(De,Tc,De.index);switch(De.lanes=0,De.tag){case 2:var Ve=De.type;$c(Le,De),Le=De.pendingProps;var en=il(De,Os.current);cl(De,ze),en=ld(null,De,Ve,Le,en,ze);var dn=cd();return De.flags|=1,typeof en=="object"&&en!==null&&typeof en.render=="function"&&en.$$typeof===void 0?(De.tag=1,De.memoizedState=null,De.updateQueue=null,Xs(Ve)?(dn=!0,Pc(De)):dn=!1,De.memoizedState=en.state!==null&&en.state!==void 0?en.state:null,td(De),en.updater=Vc,De.stateNode=en,en._reactInternals=De,md(De,Ve,Le,ze),De=yd(null,De,Ve,!0,dn,ze)):(De.tag=0,ds&&dn&&$u(De),Bs(null,De,en,ze),De=De.child),De;case 16:Ve=De.elementType;e:{switch($c(Le,De),Le=De.pendingProps,en=Ve._init,Ve=en(Ve._payload),De.type=Ve,en=De.tag=Tm(Ve),Le=xo(Ve,Le),en){case 0:De=bd(null,De,Ve,Le,ze);break e;case 1:De=Lf(null,De,Ve,Le,ze);break e;case 11:De=Pf(null,De,Ve,Le,ze);break e;case 14:De=Af(null,De,Ve,xo(Ve.type,Le),ze);break e}throw Error(ke(306,Ve,""))}return De;case 0:return Ve=De.type,en=De.pendingProps,en=De.elementType===Ve?en:xo(Ve,en),bd(Le,De,Ve,en,ze);case 1:return Ve=De.type,en=De.pendingProps,en=De.elementType===Ve?en:xo(Ve,en),Lf(Le,De,Ve,en,ze);case 3:e:{if(Of(De),Le===null)throw Error(ke(387));Ve=De.pendingProps,dn=De.memoizedState,en=dn.element,Xh(Le,De),Dc(De,Ve,null,ze);var Mn=De.memoizedState;if(Ve=Mn.element,dn.isDehydrated)if(dn={element:Ve,isDehydrated:!1,cache:Mn.cache,pendingSuspenseBoundaries:Mn.pendingSuspenseBoundaries,transitions:Mn.transitions},De.updateQueue.baseState=dn,De.memoizedState=dn,De.flags&256){en=dl(Error(ke(423)),De),De=If(Le,De,Ve,ze,en);break e}else if(Ve!==en){en=dl(Error(ke(424)),De),De=If(Le,De,Ve,ze,en);break e}else for(ro=Jo(De.stateNode.containerInfo.firstChild),io=De,ds=!0,So=null,ze=$h(De,null,Ve,ze),De.child=ze;ze;)ze.flags=ze.flags&-3|4096,ze=ze.sibling;else{if(ol(),Ve===en){De=Uo(Le,De,ze);break e}Bs(Le,De,Ve,ze)}De=De.child}return De;case 5:return Kh(De),Le===null&&Gu(De),Ve=De.type,en=De.pendingProps,dn=Le!==null?Le.memoizedProps:null,Mn=en.children,ju(Ve,en)?Mn=null:dn!==null&&ju(Ve,dn)&&(De.flags|=32),Rf(Le,De),Bs(Le,De,Mn,ze),De.child;case 6:return Le===null&&Gu(De),null;case 13:return Ff(Le,De,ze);case 4:return nd(De,De.stateNode.containerInfo),Ve=De.pendingProps,Le===null?De.child=al(De,null,Ve,ze):Bs(Le,De,Ve,ze),De.child;case 11:return Ve=De.type,en=De.pendingProps,en=De.elementType===Ve?en:xo(Ve,en),Pf(Le,De,Ve,en,ze);case 7:return Bs(Le,De,De.pendingProps,ze),De.child;case 8:return Bs(Le,De,De.pendingProps.children,ze),De.child;case 12:return Bs(Le,De,De.pendingProps.children,ze),De.child;case 10:e:{if(Ve=De.type._context,en=De.pendingProps,dn=De.memoizedProps,Mn=en.value,ss(Oc,Ve._currentValue),Ve._currentValue=Mn,dn!==null)if($s(dn.value,Mn)){if(dn.children===en.children&&!qs.current){De=Uo(Le,De,ze);break e}}else for(dn=De.child,dn!==null&&(dn.return=De);dn!==null;){var Hn=dn.dependencies;if(Hn!==null){Mn=dn.child;for(var Jn=Hn.firstContext;Jn!==null;){if(Jn.context===Ve){if(dn.tag===1){Jn=Vo(-1,ze&-ze),Jn.tag=2;var Si=dn.updateQueue;if(Si!==null){Si=Si.shared;var Di=Si.pending;Di===null?Jn.next=Jn:(Jn.next=Di.next,Di.next=Jn),Si.pending=Jn}}dn.lanes|=ze,Jn=dn.alternate,Jn!==null&&(Jn.lanes|=ze),Ju(dn.return,ze,De),Hn.lanes|=ze;break}Jn=Jn.next}}else if(dn.tag===10)Mn=dn.type===De.type?null:dn.child;else if(dn.tag===18){if(Mn=dn.return,Mn===null)throw Error(ke(341));Mn.lanes|=ze,Hn=Mn.alternate,Hn!==null&&(Hn.lanes|=ze),Ju(Mn,ze,De),Mn=dn.sibling}else Mn=dn.child;if(Mn!==null)Mn.return=dn;else for(Mn=dn;Mn!==null;){if(Mn===De){Mn=null;break}if(dn=Mn.sibling,dn!==null){dn.return=Mn.return,Mn=dn;break}Mn=Mn.return}dn=Mn}Bs(Le,De,en.children,ze),De=De.child}return De;case 9:return en=De.type,Ve=De.pendingProps.children,cl(De,ze),en=fo(en),Ve=Ve(en),De.flags|=1,Bs(Le,De,Ve,ze),De.child;case 14:return Ve=De.type,en=xo(Ve,De.pendingProps),en=xo(Ve.type,en),Af(Le,De,Ve,en,ze);case 15:return Mf(Le,De,De.type,De.pendingProps,ze);case 17:return Ve=De.type,en=De.pendingProps,en=De.elementType===Ve?en:xo(Ve,en),$c(Le,De),De.tag=1,Xs(Ve)?(Le=!0,Pc(De)):Le=!1,cl(De,ze),_f(De,Ve,en),md(De,Ve,en,ze),yd(null,De,Ve,!0,Le,ze);case 19:return Nf(Le,De,ze);case 22:return Tf(Le,De,ze)}throw Error(ke(156,De.tag))};function ap(Le,De){return Zs(Le,De)}function Mm(Le,De,ze,Ve){this.tag=Le,this.key=ze,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=De,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Ve,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function go(Le,De,ze,Ve){return new Mm(Le,De,ze,Ve)}function jd(Le){return Le=Le.prototype,!(!Le||!Le.isReactComponent)}function Tm(Le){if(typeof Le=="function")return jd(Le)?1:0;if(Le!=null){if(Le=Le.$$typeof,Le===sn)return 11;if(Le===bn)return 14}return 2}function ua(Le,De){var ze=Le.alternate;return ze===null?(ze=go(Le.tag,De,Le.key,Le.mode),ze.elementType=Le.elementType,ze.type=Le.type,ze.stateNode=Le.stateNode,ze.alternate=Le,Le.alternate=ze):(ze.pendingProps=De,ze.type=Le.type,ze.flags=0,ze.subtreeFlags=0,ze.deletions=null),ze.flags=Le.flags&14680064,ze.childLanes=Le.childLanes,ze.lanes=Le.lanes,ze.child=Le.child,ze.memoizedProps=Le.memoizedProps,ze.memoizedState=Le.memoizedState,ze.updateQueue=Le.updateQueue,De=Le.dependencies,ze.dependencies=De===null?null:{lanes:De.lanes,firstContext:De.firstContext},ze.sibling=Le.sibling,ze.index=Le.index,ze.ref=Le.ref,ze}function nu(Le,De,ze,Ve,en,dn){var Mn=2;if(Ve=Le,typeof Le=="function")jd(Le)&&(Mn=1);else if(typeof Le=="string")Mn=5;else e:switch(Le){case tn:return Ia(ze.children,en,dn,De);case Je:Mn=8,en|=8;break;case an:return Le=go(12,ze,De,en|2),Le.elementType=an,Le.lanes=dn,Le;case hn:return Le=go(13,ze,De,en),Le.elementType=hn,Le.lanes=dn,Le;case Cn:return Le=go(19,ze,De,en),Le.elementType=Cn,Le.lanes=dn,Le;case yn:return iu(ze,en,dn,De);default:if(typeof Le=="object"&&Le!==null)switch(Le.$$typeof){case gn:Mn=10;break e;case Ke:Mn=9;break e;case sn:Mn=11;break e;case bn:Mn=14;break e;case En:Mn=16,Ve=null;break e}throw Error(ke(130,Le==null?Le:typeof Le,""))}return De=go(Mn,ze,De,en),De.elementType=Le,De.type=Ve,De.lanes=dn,De}function Ia(Le,De,ze,Ve){return Le=go(7,Le,Ve,De),Le.lanes=ze,Le}function iu(Le,De,ze,Ve){return Le=go(22,Le,Ve,De),Le.elementType=yn,Le.lanes=ze,Le.stateNode={isHidden:!1},Le}function Bd(Le,De,ze){return Le=go(6,Le,null,De),Le.lanes=ze,Le}function Hd(Le,De,ze){return De=go(4,Le.children!==null?Le.children:[],Le.key,De),De.lanes=ze,De.stateNode={containerInfo:Le.containerInfo,pendingChildren:null,implementation:Le.implementation},De}function Rm(Le,De,ze,Ve,en){this.tag=De,this.containerInfo=Le,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xl(0),this.expirationTimes=xl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xl(0),this.identifierPrefix=Ve,this.onRecoverableError=en,this.mutableSourceEagerHydrationData=null}function Wd(Le,De,ze,Ve,en,dn,Mn,Hn,Jn){return Le=new Rm(Le,De,ze,Hn,Jn),De===1?(De=1,dn===!0&&(De|=8)):De=0,dn=go(3,null,null,De),Le.current=dn,dn.stateNode=Le,dn.memoizedState={element:Ve,isDehydrated:ze,cache:null,transitions:null,pendingSuspenseBoundaries:null},td(dn),Le}function Lm(Le,De,ze){var Ve=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cn,key:Ve==null?null:""+Ve,children:Le,containerInfo:De,implementation:ze}}function lp(Le){if(!Le)return ta;Le=Le._reactInternals;e:{if(Sr(Le)!==Le||Le.tag!==1)throw Error(ke(170));var De=Le;do{switch(De.tag){case 3:De=De.stateNode.context;break e;case 1:if(Xs(De.type)){De=De.stateNode.__reactInternalMemoizedMergedChildContext;break e}}De=De.return}while(De!==null);throw Error(ke(171))}if(Le.tag===1){var ze=Le.type;if(Xs(ze))return Fh(Le,ze,De)}return De}function cp(Le,De,ze,Ve,en,dn,Mn,Hn,Jn){return Le=Wd(ze,Ve,!0,Le,en,dn,Mn,Hn,Jn),Le.context=lp(null),ze=Le.current,Ve=Hs(),en=la(ze),dn=Vo(Ve,en),dn.callback=De??null,ra(ze,dn,en),Le.current.lanes=en,Fo(Le,en,Ve),Ks(Le,Ve),Le}function ru(Le,De,ze,Ve){var en=De.current,dn=Hs(),Mn=la(en);return ze=lp(ze),De.context===null?De.context=ze:De.pendingContext=ze,De=Vo(dn,Mn),De.payload={element:Le},Ve=Ve===void 0?null:Ve,Ve!==null&&(De.callback=Ve),Le=ra(en,De,Mn),Le!==null&&(ko(Le,en,Mn,dn),Fc(Le,en,Mn)),Mn}function su(Le){if(Le=Le.current,!Le.child)return null;switch(Le.child.tag){case 5:return Le.child.stateNode;default:return Le.child.stateNode}}function up(Le,De){if(Le=Le.memoizedState,Le!==null&&Le.dehydrated!==null){var ze=Le.retryLane;Le.retryLane=ze!==0&&ze<De?ze:De}}function Vd(Le,De){up(Le,De),(Le=Le.alternate)&&up(Le,De)}function Om(){return null}var dp=typeof reportError=="function"?reportError:function(Le){console.error(Le)};function Ud(Le){this._internalRoot=Le}ou.prototype.render=Ud.prototype.render=function(Le){var De=this._internalRoot;if(De===null)throw Error(ke(409));ru(Le,De,null,null)},ou.prototype.unmount=Ud.prototype.unmount=function(){var Le=this._internalRoot;if(Le!==null){this._internalRoot=null;var De=Le.containerInfo;Ra(function(){ru(null,Le,null,null)}),De[zo]=null}};function ou(Le){this._internalRoot=Le}ou.prototype.unstable_scheduleHydration=function(Le){if(Le){var De=Do();Le={blockedOn:null,target:Le,priority:De};for(var ze=0;ze<ao.length&&De!==0&&De<ao[ze].priority;ze++);ao.splice(ze,0,Le),ze===0&&An(Le)}};function $d(Le){return!(!Le||Le.nodeType!==1&&Le.nodeType!==9&&Le.nodeType!==11)}function au(Le){return!(!Le||Le.nodeType!==1&&Le.nodeType!==9&&Le.nodeType!==11&&(Le.nodeType!==8||Le.nodeValue!==" react-mount-point-unstable "))}function hp(){}function Im(Le,De,ze,Ve,en){if(en){if(typeof Ve=="function"){var dn=Ve;Ve=function(){var Si=su(Mn);dn.call(Si)}}var Mn=cp(De,Ve,Le,0,null,!1,!1,"",hp);return Le._reactRootContainer=Mn,Le[zo]=Mn.current,Tl(Le.nodeType===8?Le.parentNode:Le),Ra(),Mn}for(;en=Le.lastChild;)Le.removeChild(en);if(typeof Ve=="function"){var Hn=Ve;Ve=function(){var Si=su(Jn);Hn.call(Si)}}var Jn=Wd(Le,0,!1,null,null,!1,!1,"",hp);return Le._reactRootContainer=Jn,Le[zo]=Jn.current,Tl(Le.nodeType===8?Le.parentNode:Le),Ra(function(){ru(De,Jn,ze,Ve)}),Jn}function lu(Le,De,ze,Ve,en){var dn=ze._reactRootContainer;if(dn){var Mn=dn;if(typeof en=="function"){var Hn=en;en=function(){var Jn=su(Mn);Hn.call(Jn)}}ru(De,Mn,Le,en)}else Mn=Im(ze,De,Le,en,Ve);return su(Mn)}$a=function(Le){switch(Le.tag){case 3:var De=Le.stateNode;if(De.current.memoizedState.isDehydrated){var ze=Io(De.pendingLanes);ze!==0&&(Ua(De,ze|1),Ks(De,hs()),(Gr&6)===0&&(pl=hs()+500,na()))}break;case 13:Ra(function(){var Ve=Wo(Le,1);if(Ve!==null){var en=Hs();ko(Ve,Le,1,en)}}),Vd(Le,1)}},El=function(Le){if(Le.tag===13){var De=Wo(Le,134217728);if(De!==null){var ze=Hs();ko(De,Le,134217728,ze)}Vd(Le,134217728)}},lc=function(Le){if(Le.tag===13){var De=la(Le),ze=Wo(Le,De);if(ze!==null){var Ve=Hs();ko(ze,Le,De,Ve)}Vd(Le,De)}},Do=function(){return Yr},cc=function(Le,De){var ze=Yr;try{return Yr=Le,De()}finally{Yr=ze}},Qi=function(Le,De,ze){switch(De){case"input":if(Gn(Le,ze),De=ze.name,ze.type==="radio"&&De!=null){for(ze=Le;ze.parentNode;)ze=ze.parentNode;for(ze=ze.querySelectorAll("input[name="+JSON.stringify(""+De)+'][type="radio"]'),De=0;De<ze.length;De++){var Ve=ze[De];if(Ve!==Le&&Ve.form===Le.form){var en=kc(Ve);if(!en)throw Error(ke(90));oi(Ve),Gn(Ve,en)}}}break;case"textarea":gi(Le,ze);break;case"select":De=ze.value,De!=null&&Bn(Le,!!ze.multiple,De,!1)}},ji=Dd,In=Ra;var Fm={usingClientEntryPoint:!1,Events:[Ol,tl,kc,$i,Gi,Dd]},Xl={findFiberByHostInstance:Ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dm={bundleType:Xl.bundleType,version:Xl.version,rendererPackageName:Xl.rendererPackageName,rendererConfig:Xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(Le){return Le=ts(Le),Le===null?null:Le.stateNode},findFiberByHostInstance:Xl.findFiberByHostInstance||Om,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{ja=cu.inject(Dm),Ns=cu}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fm,reactDom_production_min.createPortal=function(Le,De){var ze=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$d(De))throw Error(ke(200));return Lm(Le,De,null,ze)},reactDom_production_min.createRoot=function(Le,De){if(!$d(Le))throw Error(ke(299));var ze=!1,Ve="",en=dp;return De!=null&&(De.unstable_strictMode===!0&&(ze=!0),De.identifierPrefix!==void 0&&(Ve=De.identifierPrefix),De.onRecoverableError!==void 0&&(en=De.onRecoverableError)),De=Wd(Le,1,!1,null,null,ze,!1,Ve,en),Le[zo]=De.current,Tl(Le.nodeType===8?Le.parentNode:Le),new Ud(De)},reactDom_production_min.findDOMNode=function(Le){if(Le==null)return null;if(Le.nodeType===1)return Le;var De=Le._reactInternals;if(De===void 0)throw typeof Le.render=="function"?Error(ke(188)):(Le=Object.keys(Le).join(","),Error(ke(268,Le)));return Le=ts(De),Le=Le===null?null:Le.stateNode,Le},reactDom_production_min.flushSync=function(Le){return Ra(Le)},reactDom_production_min.hydrate=function(Le,De,ze){if(!au(De))throw Error(ke(200));return lu(null,Le,De,!0,ze)},reactDom_production_min.hydrateRoot=function(Le,De,ze){if(!$d(Le))throw Error(ke(405));var Ve=ze!=null&&ze.hydratedSources||null,en=!1,dn="",Mn=dp;if(ze!=null&&(ze.unstable_strictMode===!0&&(en=!0),ze.identifierPrefix!==void 0&&(dn=ze.identifierPrefix),ze.onRecoverableError!==void 0&&(Mn=ze.onRecoverableError)),De=cp(De,null,Le,1,ze??null,en,!1,dn,Mn),Le[zo]=De.current,Tl(Le),Ve)for(Le=0;Le<Ve.length;Le++)ze=Ve[Le],en=ze._getVersion,en=en(ze._source),De.mutableSourceEagerHydrationData==null?De.mutableSourceEagerHydrationData=[ze,en]:De.mutableSourceEagerHydrationData.push(ze,en);return new ou(De)},reactDom_production_min.render=function(Le,De,ze){if(!au(De))throw Error(ke(200));return lu(null,Le,De,!1,ze)},reactDom_production_min.unmountComponentAtNode=function(Le){if(!au(Le))throw Error(ke(40));return Le._reactRootContainer?(Ra(function(){lu(null,null,Le,!1,function(){Le._reactRootContainer=null,Le[zo]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=Dd,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(Le,De,ze,Ve){if(!au(ze))throw Error(ke(200));if(Le==null||Le._reactInternals===void 0)throw Error(ke(38));return lu(Le,De,ze,!1,Ve)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function Ae(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ae)}catch(_e){console.error(_e)}}return Ae(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var Ae=requireReactDom();return client.createRoot=Ae.createRoot,client.hydrateRoot=Ae.hydrateRoot,client}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports),Typewriter=({text:Ae,delay:_e})=>{const[ke,Re]=reactExports.useState(""),[Ie,Fe]=reactExports.useState(0);return reactExports.useEffect(()=>{if(Ie<Ae.length){const Ne=setTimeout(()=>{Re(je=>je+Ae[Ie]),Fe(je=>je+1)},_e);return()=>clearTimeout(Ne)}else setTimeout(()=>{Fe(0),Re("")},1e4)},[Ie,_e,Ae]),jsxRuntimeExports.jsx("span",{className:"Typewriter",children:ke})},home={title:"HoneyVapor",text:"Hello! My name is Yael, and I'm HoneyVapor",img:"./img/HoneyVapor_logo.png"},about={title:"About Me",text:"I'm a fullstack developer since I was 17",description:`Born in <2003/> and hailing from Mexico, I am a self-taught full-stack developer with a deep passion for technology. My programming journey began at <15/> with C and C++, which laid a strong foundation for my skills. A year later, I ventured into web development, mastering HTML, CSS, and JavaScript before diving into backend technologies like PHP and SQL with MySQL. By the time I was <17/>, I was operating as a full-stack developer. At <18/>, my skill set expanded significantly as I learned TypeScript through Angular and honed my abilities with React and Django. My professional career began at this time with a full-stack role at "El Rey del Tornillo," followed by a position as a Test Analyst at "IBM" at age <19/>. Subsequently, I joined "TotalGround" as an IT department assistant, where I developed various landing pages and internal applications. This experience paved the way for my work as a freelancer, creating bespoke web applications and websites for clients. Driven by a love for continuous learning, I've recently been enhancing previous projects like 'Report Maker' and 'Ensi App'. My curiosity also led me into the world of Network-Attached Storage (NAS), where I engineered an interface to run a sovereign Large Language Model (LLM) entirely on a local network. This endeavor not only expanded my technical skills but also deepened my understanding of server-side data security. Currently, my focus is on two exciting ventures: a video game that I have been passionately developing for several years, and my personal LLM laboratory. I am eager to continue exploring new frontiers in programming and am particularly excited about opportunities in the AI environment.`,enterprises:[{name:"El Rey del Tornillo",role:"Fullstack Developer",startDate:"2021-01-01",endDate:"2022-01-01",href:"https://elreydeltornillo.com/",img:"./img/logo_rey.png"},{name:"IBM",role:"Test Analyst",startDate:"2022-02-01",endDate:"2023-01-01",href:"https://www.ibm.com/mx-es",img:"./img/IBM.png"},{name:"TotalGround",role:"IT Department Assistant",startDate:"2023-02-01",endDate:null,href:"https://www.totalground.com/",img:"./img/Logo-TG.png"}]},tech={title:"Technologies",text:"I have experience with a wide range of technologies, including:",list:["HTML","CSS","JavaScript","TypeScript","PHP","Python","Django","React","Angular","MySQL","PostgreSQL","MongoDB","Git"],datewhenIbegin:[2018,2018,2018,2022,2019,2018,2023,2023,2022,2019,2024,2022,2023]},certificates={title:"Certificates",text:"I have completed several courses and certifications to enhance my skills, including:",list:[{name:"English for IT",href:"./docs/English certify.pdf",icon:"translate"},{name:"Database Administrator",href:"./docs/certificado_admin_bd.pdf",icon:"database"},{name:"Python Full Stack Developer",href:"./docs/certificado_poo.pdf",icon:"code-slash"},{name:"Linux Server Administrator",href:"./docs/certificado_admin_servers.pdf",icon:"hdd-rack-fill"},{name:"Data Curator",href:"./docs/certificado_curador_de_datos.pdf",icon:"bar-chart-steps"},{name:"Cyber Security",href:"./docs/certificado_seguridad_informatica.pdf",icon:"shield-shaded"}]},projects=[{title:"Inveraf",desc:"This is a webapp where you can invest in. And it's awesome! You can invest in crypto, and in the stock market. This project was made with React, PHP and MySQL. I used the API of Binance. Actually, the project is only in github, because the owner don't have the money to pay the server.",tech:["React","PHP","MySQL","Binance API","Material-UI","TSX","CSS","TypeScript"],img:"./img/inveraf-new.png",page:"https://miinversioneninveraf.online/"},{title:"Report Maker",desc:'This is a webapp where you can make reports. This project was made with React, PHP and MySQL. I used an API made by me. Is a secure API, because I used POST method to send the data from the client to the server. This app is for a company called "Stars", what is a chemical company. This app is for the employees of the company.',tech:["React","PHP","MySQL","Bootstrap","JSX","CSS","JavaScript"],img:"./img/reportmk-principal.png",page:"https://honeyvapor.infinityfreeapp.com/report-mk/?i=1"},{title:"ENSI App",desc:'This is a webapp for an enterprise called "ENSI EXPORT & IMPORT". This project was made with React, PHP and MySQL. This app is for the employees of the company. This is a logistic company and the app is for the employees to see the status of the packages. And print some formats to send the packages.',tech:["React","PHP","MySQL","Bootstrap","JSX","CSS","JavaScript"],img:"./img/ensi-cut.png",page:"https://ensiexport.com/"},{title:"Yue Long App",desc:'This is a demo app for a dojo called "Yue Long". This project was made with React, Python and MySQL. This app is for the alumns of the dojo. This app is for learning purposes and experimentation. It isnt finished yet.',tech:["React","Python","MySQL","Material-UI","JSX","CSS","JavaScript"],img:"./img/yue-long-app.png",page:"https://honeyvapor.github.io/yue-long-app/"},{title:"LLMs Lab",desc:"This is a new project of mine. I am creating a lab for Large Language Models (LLMs). This project is in its early stages, but I am excited about the potential it holds. The goal is to create a platform where I can experiment with different LLMs and their applications. Keeping the data privacy and security in mind, I am building this lab to run entirely on a local network. This way, I can ensure that all data remains secure and private. The lab will include various tools and interfaces to interact with the LLMs, allowing for a wide range of experiments and applications.",tech:["React","FastAPI","PostgreSQL","Docker","Python","TypeScript"],img:"./img/ai-lab.png",page:"#"},{title:"Løgic Errør",desc:"This is a videogame that I have been developing for several years. It is a 3D open world game with a unique art style and engaging gameplay mechanics. The game features various levels, each with its own challenges and puzzles to solve. I am using JavaScript vanilla for the game development, which allows me to create a rich gaming experience with smooth animations and responsive controls. The game is in development, and I am constantly adding new features and improving the gameplay. I am excited to share more about this project in the future.",tech:["React","FastAPI","MongoDB","MySQL","JavaScript","CSS","HTML","JSX"],img:"./img/logicerr-gameplay.png",page:"#"}],contact={title:"Contact",text:"Thanks for visiting my portfolio!",email:"honeyvapor.contact@gmail.com"},data={home,about,tech,certificates,projects,contact},Home=Ae=>{const[_e,ke]=reactExports.useState(!0),[Re,Ie]=reactExports.useState(!0);return Re&&(()=>{setTimeout(()=>{ke(!1)},1e3),Ie(!1)})(),jsxRuntimeExports.jsxs("div",{className:"home",children:[jsxRuntimeExports.jsx("img",{className:`${_e?"active":""}`,src:data.home.img,alt:"HoneyVapor logo",onClick:Ae.clicked}),jsxRuntimeExports.jsx("h1",{children:data.home.title}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx(Typewriter,{text:data.home.text,delay:200})})]})},About=()=>{const Ae=data.about.description.split(/(<\d+\/>)/g),_e=()=>Ae.map((ke,Re)=>{const Ie=ke.match(/^<(\d+)\/>$/);return Ie?jsxRuntimeExports.jsx("span",{className:"text-red",children:jsxRuntimeExports.jsx(Typewriter,{text:`<${Ie[1]}/>`,delay:0})},Re):ke?jsxRuntimeExports.jsx("span",{children:ke},Re):null});return jsxRuntimeExports.jsx("div",{className:"about",children:jsxRuntimeExports.jsxs("div",{className:"row m-0 p-0",children:[jsxRuntimeExports.jsxs("div",{className:"col-md-6",children:[jsxRuntimeExports.jsx("h1",{children:data.about.title}),jsxRuntimeExports.jsx("h3",{children:jsxRuntimeExports.jsx(Typewriter,{text:data.about.text,delay:100})}),jsxRuntimeExports.jsx("p",{children:_e()})]}),jsxRuntimeExports.jsx("div",{className:"col-md-6",children:jsxRuntimeExports.jsxs("div",{className:"about-image-container",children:[jsxRuntimeExports.jsx("div",{className:"row mt-3",children:data.about.enterprises.map((ke,Re)=>jsxRuntimeExports.jsx("div",{className:`${Re===data.about.enterprises.length-1?"col-12":"col-md-6"}`,children:jsxRuntimeExports.jsxs("div",{className:"job-card",children:[jsxRuntimeExports.jsx("h4",{children:ke.name}),jsxRuntimeExports.jsx("p",{children:ke.role}),ke.img&&jsxRuntimeExports.jsx("img",{src:ke.img,alt:ke.name,className:"job-logo",width:100,height:"auto"}),jsxRuntimeExports.jsxs("p",{children:[new Date(ke.startDate).toLocaleDateString()," -"," ",ke.endDate?new Date(ke.endDate).toLocaleDateString():"Present"]}),ke.href&&jsxRuntimeExports.jsx("a",{href:ke.href,target:"_blank",rel:"noopener noreferrer",children:"Visit Website"})]})},Re))}),jsxRuntimeExports.jsx("img",{id:"about-me-img",src:"./img/Trajeado.png",alt:"Honey Vapor"})]})})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function round(Ae){return Ae+.5|0}const lim=(Ae,_e,ke)=>Math.max(Math.min(Ae,ke),_e);function p2b(Ae){return lim(round(Ae*2.55),0,255)}function n2b(Ae){return lim(round(Ae*255),0,255)}function b2n(Ae){return lim(round(Ae/2.55)/100,0,1)}function n2p(Ae){return lim(round(Ae*100),0,100)}const map$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex=[..."0123456789ABCDEF"],h1=Ae=>hex[Ae&15],h2=Ae=>hex[(Ae&240)>>4]+hex[Ae&15],eq=Ae=>(Ae&240)>>4===(Ae&15),isShort=Ae=>eq(Ae.r)&&eq(Ae.g)&&eq(Ae.b)&&eq(Ae.a);function hexParse(Ae){var _e=Ae.length,ke;return Ae[0]==="#"&&(_e===4||_e===5?ke={r:255&map$1[Ae[1]]*17,g:255&map$1[Ae[2]]*17,b:255&map$1[Ae[3]]*17,a:_e===5?map$1[Ae[4]]*17:255}:(_e===7||_e===9)&&(ke={r:map$1[Ae[1]]<<4|map$1[Ae[2]],g:map$1[Ae[3]]<<4|map$1[Ae[4]],b:map$1[Ae[5]]<<4|map$1[Ae[6]],a:_e===9?map$1[Ae[7]]<<4|map$1[Ae[8]]:255})),ke}const alpha=(Ae,_e)=>Ae<255?_e(Ae):"";function hexString(Ae){var _e=isShort(Ae)?h1:h2;return Ae?"#"+_e(Ae.r)+_e(Ae.g)+_e(Ae.b)+alpha(Ae.a,_e):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(Ae,_e,ke){const Re=_e*Math.min(ke,1-ke),Ie=(Fe,Ne=(Fe+Ae/30)%12)=>ke-Re*Math.max(Math.min(Ne-3,9-Ne,1),-1);return[Ie(0),Ie(8),Ie(4)]}function hsv2rgbn(Ae,_e,ke){const Re=(Ie,Fe=(Ie+Ae/60)%6)=>ke-ke*_e*Math.max(Math.min(Fe,4-Fe,1),0);return[Re(5),Re(3),Re(1)]}function hwb2rgbn(Ae,_e,ke){const Re=hsl2rgbn(Ae,1,.5);let Ie;for(_e+ke>1&&(Ie=1/(_e+ke),_e*=Ie,ke*=Ie),Ie=0;Ie<3;Ie++)Re[Ie]*=1-_e-ke,Re[Ie]+=_e;return Re}function hueValue(Ae,_e,ke,Re,Ie){return Ae===Ie?(_e-ke)/Re+(_e<ke?6:0):_e===Ie?(ke-Ae)/Re+2:(Ae-_e)/Re+4}function rgb2hsl(Ae){const ke=Ae.r/255,Re=Ae.g/255,Ie=Ae.b/255,Fe=Math.max(ke,Re,Ie),Ne=Math.min(ke,Re,Ie),je=(Fe+Ne)/2;let Be,He,We;return Fe!==Ne&&(We=Fe-Ne,He=je>.5?We/(2-Fe-Ne):We/(Fe+Ne),Be=hueValue(ke,Re,Ie,We,Fe),Be=Be*60+.5),[Be|0,He||0,je]}function calln(Ae,_e,ke,Re){return(Array.isArray(_e)?Ae(_e[0],_e[1],_e[2]):Ae(_e,ke,Re)).map(n2b)}function hsl2rgb(Ae,_e,ke){return calln(hsl2rgbn,Ae,_e,ke)}function hwb2rgb(Ae,_e,ke){return calln(hwb2rgbn,Ae,_e,ke)}function hsv2rgb(Ae,_e,ke){return calln(hsv2rgbn,Ae,_e,ke)}function hue(Ae){return(Ae%360+360)%360}function hueParse(Ae){const _e=HUE_RE.exec(Ae);let ke=255,Re;if(!_e)return;_e[5]!==Re&&(ke=_e[6]?p2b(+_e[5]):n2b(+_e[5]));const Ie=hue(+_e[2]),Fe=+_e[3]/100,Ne=+_e[4]/100;return _e[1]==="hwb"?Re=hwb2rgb(Ie,Fe,Ne):_e[1]==="hsv"?Re=hsv2rgb(Ie,Fe,Ne):Re=hsl2rgb(Ie,Fe,Ne),{r:Re[0],g:Re[1],b:Re[2],a:ke}}function rotate(Ae,_e){var ke=rgb2hsl(Ae);ke[0]=hue(ke[0]+_e),ke=hsl2rgb(ke),Ae.r=ke[0],Ae.g=ke[1],Ae.b=ke[2]}function hslString(Ae){if(!Ae)return;const _e=rgb2hsl(Ae),ke=_e[0],Re=n2p(_e[1]),Ie=n2p(_e[2]);return Ae.a<255?`hsla(${ke}, ${Re}%, ${Ie}%, ${b2n(Ae.a)})`:`hsl(${ke}, ${Re}%, ${Ie}%)`}const map={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const Ae={},_e=Object.keys(names$1),ke=Object.keys(map);let Re,Ie,Fe,Ne,je;for(Re=0;Re<_e.length;Re++){for(Ne=je=_e[Re],Ie=0;Ie<ke.length;Ie++)Fe=ke[Ie],je=je.replace(Fe,map[Fe]);Fe=parseInt(names$1[Ne],16),Ae[je]=[Fe>>16&255,Fe>>8&255,Fe&255]}return Ae}let names;function nameParse(Ae){names||(names=unpack(),names.transparent=[0,0,0,0]);const _e=names[Ae.toLowerCase()];return _e&&{r:_e[0],g:_e[1],b:_e[2],a:_e.length===4?_e[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(Ae){const _e=RGB_RE.exec(Ae);let ke=255,Re,Ie,Fe;if(_e){if(_e[7]!==Re){const Ne=+_e[7];ke=_e[8]?p2b(Ne):lim(Ne*255,0,255)}return Re=+_e[1],Ie=+_e[3],Fe=+_e[5],Re=255&(_e[2]?p2b(Re):lim(Re,0,255)),Ie=255&(_e[4]?p2b(Ie):lim(Ie,0,255)),Fe=255&(_e[6]?p2b(Fe):lim(Fe,0,255)),{r:Re,g:Ie,b:Fe,a:ke}}}function rgbString(Ae){return Ae&&(Ae.a<255?`rgba(${Ae.r}, ${Ae.g}, ${Ae.b}, ${b2n(Ae.a)})`:`rgb(${Ae.r}, ${Ae.g}, ${Ae.b})`)}const to=Ae=>Ae<=.0031308?Ae*12.92:Math.pow(Ae,1/2.4)*1.055-.055,from=Ae=>Ae<=.04045?Ae/12.92:Math.pow((Ae+.055)/1.055,2.4);function interpolate$1(Ae,_e,ke){const Re=from(b2n(Ae.r)),Ie=from(b2n(Ae.g)),Fe=from(b2n(Ae.b));return{r:n2b(to(Re+ke*(from(b2n(_e.r))-Re))),g:n2b(to(Ie+ke*(from(b2n(_e.g))-Ie))),b:n2b(to(Fe+ke*(from(b2n(_e.b))-Fe))),a:Ae.a+ke*(_e.a-Ae.a)}}function modHSL(Ae,_e,ke){if(Ae){let Re=rgb2hsl(Ae);Re[_e]=Math.max(0,Math.min(Re[_e]+Re[_e]*ke,_e===0?360:1)),Re=hsl2rgb(Re),Ae.r=Re[0],Ae.g=Re[1],Ae.b=Re[2]}}function clone$1(Ae,_e){return Ae&&Object.assign(_e||{},Ae)}function fromObject(Ae){var _e={r:0,g:0,b:0,a:255};return Array.isArray(Ae)?Ae.length>=3&&(_e={r:Ae[0],g:Ae[1],b:Ae[2],a:255},Ae.length>3&&(_e.a=n2b(Ae[3]))):(_e=clone$1(Ae,{r:0,g:0,b:0,a:1}),_e.a=n2b(_e.a)),_e}function functionParse(Ae){return Ae.charAt(0)==="r"?rgbParse(Ae):hueParse(Ae)}class Color{constructor(_e){if(_e instanceof Color)return _e;const ke=typeof _e;let Re;ke==="object"?Re=fromObject(_e):ke==="string"&&(Re=hexParse(_e)||nameParse(_e)||functionParse(_e)),this._rgb=Re,this._valid=!!Re}get valid(){return this._valid}get rgb(){var _e=clone$1(this._rgb);return _e&&(_e.a=b2n(_e.a)),_e}set rgb(_e){this._rgb=fromObject(_e)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(_e,ke){if(_e){const Re=this.rgb,Ie=_e.rgb;let Fe;const Ne=ke===Fe?.5:ke,je=2*Ne-1,Be=Re.a-Ie.a,He=((je*Be===-1?je:(je+Be)/(1+je*Be))+1)/2;Fe=1-He,Re.r=255&He*Re.r+Fe*Ie.r+.5,Re.g=255&He*Re.g+Fe*Ie.g+.5,Re.b=255&He*Re.b+Fe*Ie.b+.5,Re.a=Ne*Re.a+(1-Ne)*Ie.a,this.rgb=Re}return this}interpolate(_e,ke){return _e&&(this._rgb=interpolate$1(this._rgb,_e._rgb,ke)),this}clone(){return new Color(this.rgb)}alpha(_e){return this._rgb.a=n2b(_e),this}clearer(_e){const ke=this._rgb;return ke.a*=1-_e,this}greyscale(){const _e=this._rgb,ke=round(_e.r*.3+_e.g*.59+_e.b*.11);return _e.r=_e.g=_e.b=ke,this}opaquer(_e){const ke=this._rgb;return ke.a*=1+_e,this}negate(){const _e=this._rgb;return _e.r=255-_e.r,_e.g=255-_e.g,_e.b=255-_e.b,this}lighten(_e){return modHSL(this._rgb,2,_e),this}darken(_e){return modHSL(this._rgb,2,-_e),this}saturate(_e){return modHSL(this._rgb,1,_e),this}desaturate(_e){return modHSL(this._rgb,1,-_e),this}rotate(_e){return rotate(this._rgb,_e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function noop(){}const uid=(()=>{let Ae=0;return()=>Ae++})();function isNullOrUndef(Ae){return Ae==null}function isArray(Ae){if(Array.isArray&&Array.isArray(Ae))return!0;const _e=Object.prototype.toString.call(Ae);return _e.slice(0,7)==="[object"&&_e.slice(-6)==="Array]"}function isObject(Ae){return Ae!==null&&Object.prototype.toString.call(Ae)==="[object Object]"}function isNumberFinite(Ae){return(typeof Ae=="number"||Ae instanceof Number)&&isFinite(+Ae)}function finiteOrDefault(Ae,_e){return isNumberFinite(Ae)?Ae:_e}function valueOrDefault(Ae,_e){return typeof Ae>"u"?_e:Ae}const toDimension=(Ae,_e)=>typeof Ae=="string"&&Ae.endsWith("%")?parseFloat(Ae)/100*_e:+Ae;function callback(Ae,_e,ke){if(Ae&&typeof Ae.call=="function")return Ae.apply(ke,_e)}function each(Ae,_e,ke,Re){let Ie,Fe,Ne;if(isArray(Ae))for(Fe=Ae.length,Ie=0;Ie<Fe;Ie++)_e.call(ke,Ae[Ie],Ie);else if(isObject(Ae))for(Ne=Object.keys(Ae),Fe=Ne.length,Ie=0;Ie<Fe;Ie++)_e.call(ke,Ae[Ne[Ie]],Ne[Ie])}function _elementsEqual(Ae,_e){let ke,Re,Ie,Fe;if(!Ae||!_e||Ae.length!==_e.length)return!1;for(ke=0,Re=Ae.length;ke<Re;++ke)if(Ie=Ae[ke],Fe=_e[ke],Ie.datasetIndex!==Fe.datasetIndex||Ie.index!==Fe.index)return!1;return!0}function clone(Ae){if(isArray(Ae))return Ae.map(clone);if(isObject(Ae)){const _e=Object.create(null),ke=Object.keys(Ae),Re=ke.length;let Ie=0;for(;Ie<Re;++Ie)_e[ke[Ie]]=clone(Ae[ke[Ie]]);return _e}return Ae}function isValidKey(Ae){return["__proto__","prototype","constructor"].indexOf(Ae)===-1}function _merger(Ae,_e,ke,Re){if(!isValidKey(Ae))return;const Ie=_e[Ae],Fe=ke[Ae];isObject(Ie)&&isObject(Fe)?merge(Ie,Fe,Re):_e[Ae]=clone(Fe)}function merge(Ae,_e,ke){const Re=isArray(_e)?_e:[_e],Ie=Re.length;if(!isObject(Ae))return Ae;ke=ke||{};const Fe=ke.merger||_merger;let Ne;for(let je=0;je<Ie;++je){if(Ne=Re[je],!isObject(Ne))continue;const Be=Object.keys(Ne);for(let He=0,We=Be.length;He<We;++He)Fe(Be[He],Ae,Ne,ke)}return Ae}function mergeIf(Ae,_e){return merge(Ae,_e,{merger:_mergerIf})}function _mergerIf(Ae,_e,ke){if(!isValidKey(Ae))return;const Re=_e[Ae],Ie=ke[Ae];isObject(Re)&&isObject(Ie)?mergeIf(Re,Ie):Object.prototype.hasOwnProperty.call(_e,Ae)||(_e[Ae]=clone(Ie))}const keyResolvers={"":Ae=>Ae,x:Ae=>Ae.x,y:Ae=>Ae.y};function _splitKey(Ae){const _e=Ae.split("."),ke=[];let Re="";for(const Ie of _e)Re+=Ie,Re.endsWith("\\")?Re=Re.slice(0,-1)+".":(ke.push(Re),Re="");return ke}function _getKeyResolver(Ae){const _e=_splitKey(Ae);return ke=>{for(const Re of _e){if(Re==="")break;ke=ke&&ke[Re]}return ke}}function resolveObjectKey(Ae,_e){return(keyResolvers[_e]||(keyResolvers[_e]=_getKeyResolver(_e)))(Ae)}function _capitalize(Ae){return Ae.charAt(0).toUpperCase()+Ae.slice(1)}const defined=Ae=>typeof Ae<"u",isFunction=Ae=>typeof Ae=="function",setsEqual=(Ae,_e)=>{if(Ae.size!==_e.size)return!1;for(const ke of Ae)if(!_e.has(ke))return!1;return!0};function _isClickEvent(Ae){return Ae.type==="mouseup"||Ae.type==="click"||Ae.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign=Math.sign;function almostEquals(Ae,_e,ke){return Math.abs(Ae-_e)<ke}function niceNum(Ae){const _e=Math.round(Ae);Ae=almostEquals(Ae,_e,Ae/1e3)?_e:Ae;const ke=Math.pow(10,Math.floor(log10(Ae))),Re=Ae/ke;return(Re<=1?1:Re<=2?2:Re<=5?5:10)*ke}function _factorize(Ae){const _e=[],ke=Math.sqrt(Ae);let Re;for(Re=1;Re<ke;Re++)Ae%Re===0&&(_e.push(Re),_e.push(Ae/Re));return ke===(ke|0)&&_e.push(ke),_e.sort((Ie,Fe)=>Ie-Fe).pop(),_e}function isNonPrimitive(Ae){return typeof Ae=="symbol"||typeof Ae=="object"&&Ae!==null&&!(Symbol.toPrimitive in Ae||"toString"in Ae||"valueOf"in Ae)}function isNumber(Ae){return!isNonPrimitive(Ae)&&!isNaN(parseFloat(Ae))&&isFinite(Ae)}function almostWhole(Ae,_e){const ke=Math.round(Ae);return ke-_e<=Ae&&ke+_e>=Ae}function _setMinAndMaxByKey(Ae,_e,ke){let Re,Ie,Fe;for(Re=0,Ie=Ae.length;Re<Ie;Re++)Fe=Ae[Re][ke],isNaN(Fe)||(_e.min=Math.min(_e.min,Fe),_e.max=Math.max(_e.max,Fe))}function toRadians(Ae){return Ae*(PI/180)}function toDegrees(Ae){return Ae*(180/PI)}function _decimalPlaces(Ae){if(!isNumberFinite(Ae))return;let _e=1,ke=0;for(;Math.round(Ae*_e)/_e!==Ae;)_e*=10,ke++;return ke}function getAngleFromPoint(Ae,_e){const ke=_e.x-Ae.x,Re=_e.y-Ae.y,Ie=Math.sqrt(ke*ke+Re*Re);let Fe=Math.atan2(Re,ke);return Fe<-.5*PI&&(Fe+=TAU),{angle:Fe,distance:Ie}}function distanceBetweenPoints(Ae,_e){return Math.sqrt(Math.pow(_e.x-Ae.x,2)+Math.pow(_e.y-Ae.y,2))}function _normalizeAngle(Ae){return(Ae%TAU+TAU)%TAU}function _angleBetween(Ae,_e,ke,Re){const Ie=_normalizeAngle(Ae),Fe=_normalizeAngle(_e),Ne=_normalizeAngle(ke),je=_normalizeAngle(Fe-Ie),Be=_normalizeAngle(Ne-Ie),He=_normalizeAngle(Ie-Fe),We=_normalizeAngle(Ie-Ne);return Ie===Fe||Ie===Ne||Re||je>Be&&He<We}function _limitValue(Ae,_e,ke){return Math.max(_e,Math.min(ke,Ae))}function _int16Range(Ae){return _limitValue(Ae,-32768,32767)}function _isBetween(Ae,_e,ke,Re=1e-6){return Ae>=Math.min(_e,ke)-Re&&Ae<=Math.max(_e,ke)+Re}function _lookup(Ae,_e,ke){ke=ke||(Ne=>Ae[Ne]<_e);let Re=Ae.length-1,Ie=0,Fe;for(;Re-Ie>1;)Fe=Ie+Re>>1,ke(Fe)?Ie=Fe:Re=Fe;return{lo:Ie,hi:Re}}const _lookupByKey=(Ae,_e,ke,Re)=>_lookup(Ae,ke,Re?Ie=>{const Fe=Ae[Ie][_e];return Fe<ke||Fe===ke&&Ae[Ie+1][_e]===ke}:Ie=>Ae[Ie][_e]<ke),_rlookupByKey=(Ae,_e,ke)=>_lookup(Ae,ke,Re=>Ae[Re][_e]>=ke);function _filterBetween(Ae,_e,ke){let Re=0,Ie=Ae.length;for(;Re<Ie&&Ae[Re]<_e;)Re++;for(;Ie>Re&&Ae[Ie-1]>ke;)Ie--;return Re>0||Ie<Ae.length?Ae.slice(Re,Ie):Ae}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(Ae,_e){if(Ae._chartjs){Ae._chartjs.listeners.push(_e);return}Object.defineProperty(Ae,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[_e]}}),arrayEvents.forEach(ke=>{const Re="_onData"+_capitalize(ke),Ie=Ae[ke];Object.defineProperty(Ae,ke,{configurable:!0,enumerable:!1,value(...Fe){const Ne=Ie.apply(this,Fe);return Ae._chartjs.listeners.forEach(je=>{typeof je[Re]=="function"&&je[Re](...Fe)}),Ne}})})}function unlistenArrayEvents(Ae,_e){const ke=Ae._chartjs;if(!ke)return;const Re=ke.listeners,Ie=Re.indexOf(_e);Ie!==-1&&Re.splice(Ie,1),!(Re.length>0)&&(arrayEvents.forEach(Fe=>{delete Ae[Fe]}),delete Ae._chartjs)}function _arrayUnique(Ae){const _e=new Set(Ae);return _e.size===Ae.length?Ae:Array.from(_e)}const requestAnimFrame=function(){return typeof window>"u"?function(Ae){return Ae()}:window.requestAnimationFrame}();function throttled(Ae,_e){let ke=[],Re=!1;return function(...Ie){ke=Ie,Re||(Re=!0,requestAnimFrame.call(window,()=>{Re=!1,Ae.apply(_e,ke)}))}}function debounce(Ae,_e){let ke;return function(...Re){return _e?(clearTimeout(ke),ke=setTimeout(Ae,_e,Re)):Ae.apply(this,Re),_e}}const _toLeftRightCenter=Ae=>Ae==="start"?"left":Ae==="end"?"right":"center",_alignStartEnd=(Ae,_e,ke)=>Ae==="start"?_e:Ae==="end"?ke:(_e+ke)/2,_textX=(Ae,_e,ke,Re)=>Ae===(Re?"left":"right")?ke:Ae==="center"?(_e+ke)/2:_e,atEdge=Ae=>Ae===0||Ae===1,elasticIn=(Ae,_e,ke)=>-(Math.pow(2,10*(Ae-=1))*Math.sin((Ae-_e)*TAU/ke)),elasticOut=(Ae,_e,ke)=>Math.pow(2,-10*Ae)*Math.sin((Ae-_e)*TAU/ke)+1,effects={linear:Ae=>Ae,easeInQuad:Ae=>Ae*Ae,easeOutQuad:Ae=>-Ae*(Ae-2),easeInOutQuad:Ae=>(Ae/=.5)<1?.5*Ae*Ae:-.5*(--Ae*(Ae-2)-1),easeInCubic:Ae=>Ae*Ae*Ae,easeOutCubic:Ae=>(Ae-=1)*Ae*Ae+1,easeInOutCubic:Ae=>(Ae/=.5)<1?.5*Ae*Ae*Ae:.5*((Ae-=2)*Ae*Ae+2),easeInQuart:Ae=>Ae*Ae*Ae*Ae,easeOutQuart:Ae=>-((Ae-=1)*Ae*Ae*Ae-1),easeInOutQuart:Ae=>(Ae/=.5)<1?.5*Ae*Ae*Ae*Ae:-.5*((Ae-=2)*Ae*Ae*Ae-2),easeInQuint:Ae=>Ae*Ae*Ae*Ae*Ae,easeOutQuint:Ae=>(Ae-=1)*Ae*Ae*Ae*Ae+1,easeInOutQuint:Ae=>(Ae/=.5)<1?.5*Ae*Ae*Ae*Ae*Ae:.5*((Ae-=2)*Ae*Ae*Ae*Ae+2),easeInSine:Ae=>-Math.cos(Ae*HALF_PI)+1,easeOutSine:Ae=>Math.sin(Ae*HALF_PI),easeInOutSine:Ae=>-.5*(Math.cos(PI*Ae)-1),easeInExpo:Ae=>Ae===0?0:Math.pow(2,10*(Ae-1)),easeOutExpo:Ae=>Ae===1?1:-Math.pow(2,-10*Ae)+1,easeInOutExpo:Ae=>atEdge(Ae)?Ae:Ae<.5?.5*Math.pow(2,10*(Ae*2-1)):.5*(-Math.pow(2,-10*(Ae*2-1))+2),easeInCirc:Ae=>Ae>=1?Ae:-(Math.sqrt(1-Ae*Ae)-1),easeOutCirc:Ae=>Math.sqrt(1-(Ae-=1)*Ae),easeInOutCirc:Ae=>(Ae/=.5)<1?-.5*(Math.sqrt(1-Ae*Ae)-1):.5*(Math.sqrt(1-(Ae-=2)*Ae)+1),easeInElastic:Ae=>atEdge(Ae)?Ae:elasticIn(Ae,.075,.3),easeOutElastic:Ae=>atEdge(Ae)?Ae:elasticOut(Ae,.075,.3),easeInOutElastic(Ae){return atEdge(Ae)?Ae:Ae<.5?.5*elasticIn(Ae*2,.1125,.45):.5+.5*elasticOut(Ae*2-1,.1125,.45)},easeInBack(Ae){return Ae*Ae*((1.70158+1)*Ae-1.70158)},easeOutBack(Ae){return(Ae-=1)*Ae*((1.70158+1)*Ae+1.70158)+1},easeInOutBack(Ae){let _e=1.70158;return(Ae/=.5)<1?.5*(Ae*Ae*(((_e*=1.525)+1)*Ae-_e)):.5*((Ae-=2)*Ae*(((_e*=1.525)+1)*Ae+_e)+2)},easeInBounce:Ae=>1-effects.easeOutBounce(1-Ae),easeOutBounce(Ae){return Ae<1/2.75?7.5625*Ae*Ae:Ae<2/2.75?7.5625*(Ae-=1.5/2.75)*Ae+.75:Ae<2.5/2.75?7.5625*(Ae-=2.25/2.75)*Ae+.9375:7.5625*(Ae-=2.625/2.75)*Ae+.984375},easeInOutBounce:Ae=>Ae<.5?effects.easeInBounce(Ae*2)*.5:effects.easeOutBounce(Ae*2-1)*.5+.5};function isPatternOrGradient(Ae){if(Ae&&typeof Ae=="object"){const _e=Ae.toString();return _e==="[object CanvasPattern]"||_e==="[object CanvasGradient]"}return!1}function color(Ae){return isPatternOrGradient(Ae)?Ae:new Color(Ae)}function getHoverColor(Ae){return isPatternOrGradient(Ae)?Ae:new Color(Ae).saturate(.5).darken(.1).hexString()}const numbers=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(Ae){Ae.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),Ae.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:_e=>_e!=="onProgress"&&_e!=="onComplete"&&_e!=="fn"}),Ae.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers}}),Ae.describe("animations",{_fallback:"animation"}),Ae.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:_e=>_e|0}}}})}function applyLayoutsDefaults(Ae){Ae.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(Ae,_e){_e=_e||{};const ke=Ae+JSON.stringify(_e);let Re=intlCache.get(ke);return Re||(Re=new Intl.NumberFormat(Ae,_e),intlCache.set(ke,Re)),Re}function formatNumber(Ae,_e,ke){return getNumberFormat(_e,ke).format(Ae)}const formatters={values(Ae){return isArray(Ae)?Ae:""+Ae},numeric(Ae,_e,ke){if(Ae===0)return"0";const Re=this.chart.options.locale;let Ie,Fe=Ae;if(ke.length>1){const He=Math.max(Math.abs(ke[0].value),Math.abs(ke[ke.length-1].value));(He<1e-4||He>1e15)&&(Ie="scientific"),Fe=calculateDelta(Ae,ke)}const Ne=log10(Math.abs(Fe)),je=isNaN(Ne)?1:Math.max(Math.min(-1*Math.floor(Ne),20),0),Be={notation:Ie,minimumFractionDigits:je,maximumFractionDigits:je};return Object.assign(Be,this.options.ticks.format),formatNumber(Ae,Re,Be)}};function calculateDelta(Ae,_e){let ke=_e.length>3?_e[2].value-_e[1].value:_e[1].value-_e[0].value;return Math.abs(ke)>=1&&Ae!==Math.floor(Ae)&&(ke=Ae-Math.floor(Ae)),ke}var Ticks={formatters};function applyScaleDefaults(Ae){Ae.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(_e,ke)=>ke.lineWidth,tickColor:(_e,ke)=>ke.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Ae.route("scale.ticks","color","","color"),Ae.route("scale.grid","color","","borderColor"),Ae.route("scale.border","color","","borderColor"),Ae.route("scale.title","color","","color"),Ae.describe("scale",{_fallback:!1,_scriptable:_e=>!_e.startsWith("before")&&!_e.startsWith("after")&&_e!=="callback"&&_e!=="parser",_indexable:_e=>_e!=="borderDash"&&_e!=="tickBorderDash"&&_e!=="dash"}),Ae.describe("scales",{_fallback:"scale"}),Ae.describe("scale.ticks",{_scriptable:_e=>_e!=="backdropPadding"&&_e!=="callback",_indexable:_e=>_e!=="backdropPadding"})}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(Ae,_e){if(!_e)return Ae;const ke=_e.split(".");for(let Re=0,Ie=ke.length;Re<Ie;++Re){const Fe=ke[Re];Ae=Ae[Fe]||(Ae[Fe]=Object.create(null))}return Ae}function set(Ae,_e,ke){return typeof _e=="string"?merge(getScope$1(Ae,_e),ke):merge(getScope$1(Ae,""),_e)}class Defaults{constructor(_e,ke){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=Re=>Re.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(Re,Ie)=>getHoverColor(Ie.backgroundColor),this.hoverBorderColor=(Re,Ie)=>getHoverColor(Ie.borderColor),this.hoverColor=(Re,Ie)=>getHoverColor(Ie.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(_e),this.apply(ke)}set(_e,ke){return set(this,_e,ke)}get(_e){return getScope$1(this,_e)}describe(_e,ke){return set(descriptors,_e,ke)}override(_e,ke){return set(overrides,_e,ke)}route(_e,ke,Re,Ie){const Fe=getScope$1(this,_e),Ne=getScope$1(this,Re),je="_"+ke;Object.defineProperties(Fe,{[je]:{value:Fe[ke],writable:!0},[ke]:{enumerable:!0,get(){const Be=this[je],He=Ne[Ie];return isObject(Be)?Object.assign({},He,Be):valueOrDefault(Be,He)},set(Be){this[je]=Be}}})}apply(_e){_e.forEach(ke=>ke(this))}}var defaults=new Defaults({_scriptable:Ae=>!Ae.startsWith("on"),_indexable:Ae=>Ae!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(Ae){return!Ae||isNullOrUndef(Ae.size)||isNullOrUndef(Ae.family)?null:(Ae.style?Ae.style+" ":"")+(Ae.weight?Ae.weight+" ":"")+Ae.size+"px "+Ae.family}function _measureText(Ae,_e,ke,Re,Ie){let Fe=_e[Ie];return Fe||(Fe=_e[Ie]=Ae.measureText(Ie).width,ke.push(Ie)),Fe>Re&&(Re=Fe),Re}function _alignPixel(Ae,_e,ke){const Re=Ae.currentDevicePixelRatio,Ie=ke!==0?Math.max(ke/2,.5):0;return Math.round((_e-Ie)*Re)/Re+Ie}function clearCanvas(Ae,_e){!_e&&!Ae||(_e=_e||Ae.getContext("2d"),_e.save(),_e.resetTransform(),_e.clearRect(0,0,Ae.width,Ae.height),_e.restore())}function drawPoint(Ae,_e,ke,Re){drawPointLegend(Ae,_e,ke,Re,null)}function drawPointLegend(Ae,_e,ke,Re,Ie){let Fe,Ne,je,Be,He,We,Ge,Xe;const $e=_e.pointStyle,qe=_e.rotation,Ue=_e.radius;let Ye=(qe||0)*RAD_PER_DEG;if($e&&typeof $e=="object"&&(Fe=$e.toString(),Fe==="[object HTMLImageElement]"||Fe==="[object HTMLCanvasElement]")){Ae.save(),Ae.translate(ke,Re),Ae.rotate(Ye),Ae.drawImage($e,-$e.width/2,-$e.height/2,$e.width,$e.height),Ae.restore();return}if(!(isNaN(Ue)||Ue<=0)){switch(Ae.beginPath(),$e){default:Ie?Ae.ellipse(ke,Re,Ie/2,Ue,0,0,TAU):Ae.arc(ke,Re,Ue,0,TAU),Ae.closePath();break;case"triangle":We=Ie?Ie/2:Ue,Ae.moveTo(ke+Math.sin(Ye)*We,Re-Math.cos(Ye)*Ue),Ye+=TWO_THIRDS_PI,Ae.lineTo(ke+Math.sin(Ye)*We,Re-Math.cos(Ye)*Ue),Ye+=TWO_THIRDS_PI,Ae.lineTo(ke+Math.sin(Ye)*We,Re-Math.cos(Ye)*Ue),Ae.closePath();break;case"rectRounded":He=Ue*.516,Be=Ue-He,Ne=Math.cos(Ye+QUARTER_PI)*Be,Ge=Math.cos(Ye+QUARTER_PI)*(Ie?Ie/2-He:Be),je=Math.sin(Ye+QUARTER_PI)*Be,Xe=Math.sin(Ye+QUARTER_PI)*(Ie?Ie/2-He:Be),Ae.arc(ke-Ge,Re-je,He,Ye-PI,Ye-HALF_PI),Ae.arc(ke+Xe,Re-Ne,He,Ye-HALF_PI,Ye),Ae.arc(ke+Ge,Re+je,He,Ye,Ye+HALF_PI),Ae.arc(ke-Xe,Re+Ne,He,Ye+HALF_PI,Ye+PI),Ae.closePath();break;case"rect":if(!qe){Be=Math.SQRT1_2*Ue,We=Ie?Ie/2:Be,Ae.rect(ke-We,Re-Be,2*We,2*Be);break}Ye+=QUARTER_PI;case"rectRot":Ge=Math.cos(Ye)*(Ie?Ie/2:Ue),Ne=Math.cos(Ye)*Ue,je=Math.sin(Ye)*Ue,Xe=Math.sin(Ye)*(Ie?Ie/2:Ue),Ae.moveTo(ke-Ge,Re-je),Ae.lineTo(ke+Xe,Re-Ne),Ae.lineTo(ke+Ge,Re+je),Ae.lineTo(ke-Xe,Re+Ne),Ae.closePath();break;case"crossRot":Ye+=QUARTER_PI;case"cross":Ge=Math.cos(Ye)*(Ie?Ie/2:Ue),Ne=Math.cos(Ye)*Ue,je=Math.sin(Ye)*Ue,Xe=Math.sin(Ye)*(Ie?Ie/2:Ue),Ae.moveTo(ke-Ge,Re-je),Ae.lineTo(ke+Ge,Re+je),Ae.moveTo(ke+Xe,Re-Ne),Ae.lineTo(ke-Xe,Re+Ne);break;case"star":Ge=Math.cos(Ye)*(Ie?Ie/2:Ue),Ne=Math.cos(Ye)*Ue,je=Math.sin(Ye)*Ue,Xe=Math.sin(Ye)*(Ie?Ie/2:Ue),Ae.moveTo(ke-Ge,Re-je),Ae.lineTo(ke+Ge,Re+je),Ae.moveTo(ke+Xe,Re-Ne),Ae.lineTo(ke-Xe,Re+Ne),Ye+=QUARTER_PI,Ge=Math.cos(Ye)*(Ie?Ie/2:Ue),Ne=Math.cos(Ye)*Ue,je=Math.sin(Ye)*Ue,Xe=Math.sin(Ye)*(Ie?Ie/2:Ue),Ae.moveTo(ke-Ge,Re-je),Ae.lineTo(ke+Ge,Re+je),Ae.moveTo(ke+Xe,Re-Ne),Ae.lineTo(ke-Xe,Re+Ne);break;case"line":Ne=Ie?Ie/2:Math.cos(Ye)*Ue,je=Math.sin(Ye)*Ue,Ae.moveTo(ke-Ne,Re-je),Ae.lineTo(ke+Ne,Re+je);break;case"dash":Ae.moveTo(ke,Re),Ae.lineTo(ke+Math.cos(Ye)*(Ie?Ie/2:Ue),Re+Math.sin(Ye)*Ue);break;case!1:Ae.closePath();break}Ae.fill(),_e.borderWidth>0&&Ae.stroke()}}function _isPointInArea(Ae,_e,ke){return ke=ke||.5,!_e||Ae&&Ae.x>_e.left-ke&&Ae.x<_e.right+ke&&Ae.y>_e.top-ke&&Ae.y<_e.bottom+ke}function clipArea(Ae,_e){Ae.save(),Ae.beginPath(),Ae.rect(_e.left,_e.top,_e.right-_e.left,_e.bottom-_e.top),Ae.clip()}function unclipArea(Ae){Ae.restore()}function setRenderOpts(Ae,_e){_e.translation&&Ae.translate(_e.translation[0],_e.translation[1]),isNullOrUndef(_e.rotation)||Ae.rotate(_e.rotation),_e.color&&(Ae.fillStyle=_e.color),_e.textAlign&&(Ae.textAlign=_e.textAlign),_e.textBaseline&&(Ae.textBaseline=_e.textBaseline)}function decorateText(Ae,_e,ke,Re,Ie){if(Ie.strikethrough||Ie.underline){const Fe=Ae.measureText(Re),Ne=_e-Fe.actualBoundingBoxLeft,je=_e+Fe.actualBoundingBoxRight,Be=ke-Fe.actualBoundingBoxAscent,He=ke+Fe.actualBoundingBoxDescent,We=Ie.strikethrough?(Be+He)/2:He;Ae.strokeStyle=Ae.fillStyle,Ae.beginPath(),Ae.lineWidth=Ie.decorationWidth||2,Ae.moveTo(Ne,We),Ae.lineTo(je,We),Ae.stroke()}}function drawBackdrop(Ae,_e){const ke=Ae.fillStyle;Ae.fillStyle=_e.color,Ae.fillRect(_e.left,_e.top,_e.width,_e.height),Ae.fillStyle=ke}function renderText(Ae,_e,ke,Re,Ie,Fe={}){const Ne=isArray(_e)?_e:[_e],je=Fe.strokeWidth>0&&Fe.strokeColor!=="";let Be,He;for(Ae.save(),Ae.font=Ie.string,setRenderOpts(Ae,Fe),Be=0;Be<Ne.length;++Be)He=Ne[Be],Fe.backdrop&&drawBackdrop(Ae,Fe.backdrop),je&&(Fe.strokeColor&&(Ae.strokeStyle=Fe.strokeColor),isNullOrUndef(Fe.strokeWidth)||(Ae.lineWidth=Fe.strokeWidth),Ae.strokeText(He,ke,Re,Fe.maxWidth)),Ae.fillText(He,ke,Re,Fe.maxWidth),decorateText(Ae,ke,Re,He,Fe),Re+=Number(Ie.lineHeight);Ae.restore()}function addRoundedRectPath(Ae,_e){const{x:ke,y:Re,w:Ie,h:Fe,radius:Ne}=_e;Ae.arc(ke+Ne.topLeft,Re+Ne.topLeft,Ne.topLeft,1.5*PI,PI,!0),Ae.lineTo(ke,Re+Fe-Ne.bottomLeft),Ae.arc(ke+Ne.bottomLeft,Re+Fe-Ne.bottomLeft,Ne.bottomLeft,PI,HALF_PI,!0),Ae.lineTo(ke+Ie-Ne.bottomRight,Re+Fe),Ae.arc(ke+Ie-Ne.bottomRight,Re+Fe-Ne.bottomRight,Ne.bottomRight,HALF_PI,0,!0),Ae.lineTo(ke+Ie,Re+Ne.topRight),Ae.arc(ke+Ie-Ne.topRight,Re+Ne.topRight,Ne.topRight,0,-HALF_PI,!0),Ae.lineTo(ke+Ne.topLeft,Re)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(Ae,_e){const ke=(""+Ae).match(LINE_HEIGHT);if(!ke||ke[1]==="normal")return _e*1.2;switch(Ae=+ke[2],ke[3]){case"px":return Ae;case"%":Ae/=100;break}return _e*Ae}const numberOrZero=Ae=>+Ae||0;function _readValueToProps(Ae,_e){const ke={},Re=isObject(_e),Ie=Re?Object.keys(_e):_e,Fe=isObject(Ae)?Re?Ne=>valueOrDefault(Ae[Ne],Ae[_e[Ne]]):Ne=>Ae[Ne]:()=>Ae;for(const Ne of Ie)ke[Ne]=numberOrZero(Fe(Ne));return ke}function toTRBL(Ae){return _readValueToProps(Ae,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(Ae){return _readValueToProps(Ae,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(Ae){const _e=toTRBL(Ae);return _e.width=_e.left+_e.right,_e.height=_e.top+_e.bottom,_e}function toFont(Ae,_e){Ae=Ae||{},_e=_e||defaults.font;let ke=valueOrDefault(Ae.size,_e.size);typeof ke=="string"&&(ke=parseInt(ke,10));let Re=valueOrDefault(Ae.style,_e.style);Re&&!(""+Re).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+Re+'"'),Re=void 0);const Ie={family:valueOrDefault(Ae.family,_e.family),lineHeight:toLineHeight(valueOrDefault(Ae.lineHeight,_e.lineHeight),ke),size:ke,style:Re,weight:valueOrDefault(Ae.weight,_e.weight),string:""};return Ie.string=toFontString(Ie),Ie}function resolve(Ae,_e,ke,Re){let Ie,Fe,Ne;for(Ie=0,Fe=Ae.length;Ie<Fe;++Ie)if(Ne=Ae[Ie],Ne!==void 0&&Ne!==void 0)return Ne}function _addGrace(Ae,_e,ke){const{min:Re,max:Ie}=Ae,Fe=toDimension(_e,(Ie-Re)/2),Ne=(je,Be)=>ke&&je===0?0:je+Be;return{min:Ne(Re,-Math.abs(Fe)),max:Ne(Ie,Fe)}}function createContext(Ae,_e){return Object.assign(Object.create(Ae),_e)}function _createResolver(Ae,_e=[""],ke,Re,Ie=()=>Ae[0]){const Fe=ke||Ae;typeof Re>"u"&&(Re=_resolve("_fallback",Ae));const Ne={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:Ae,_rootScopes:Fe,_fallback:Re,_getTarget:Ie,override:je=>_createResolver([je,...Ae],_e,Fe,Re)};return new Proxy(Ne,{deleteProperty(je,Be){return delete je[Be],delete je._keys,delete Ae[0][Be],!0},get(je,Be){return _cached(je,Be,()=>_resolveWithPrefixes(Be,_e,Ae,je))},getOwnPropertyDescriptor(je,Be){return Reflect.getOwnPropertyDescriptor(je._scopes[0],Be)},getPrototypeOf(){return Reflect.getPrototypeOf(Ae[0])},has(je,Be){return getKeysFromAllScopes(je).includes(Be)},ownKeys(je){return getKeysFromAllScopes(je)},set(je,Be,He){const We=je._storage||(je._storage=Ie());return je[Be]=We[Be]=He,delete je._keys,!0}})}function _attachContext(Ae,_e,ke,Re){const Ie={_cacheable:!1,_proxy:Ae,_context:_e,_subProxy:ke,_stack:new Set,_descriptors:_descriptors(Ae,Re),setContext:Fe=>_attachContext(Ae,Fe,ke,Re),override:Fe=>_attachContext(Ae.override(Fe),_e,ke,Re)};return new Proxy(Ie,{deleteProperty(Fe,Ne){return delete Fe[Ne],delete Ae[Ne],!0},get(Fe,Ne,je){return _cached(Fe,Ne,()=>_resolveWithContext(Fe,Ne,je))},getOwnPropertyDescriptor(Fe,Ne){return Fe._descriptors.allKeys?Reflect.has(Ae,Ne)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(Ae,Ne)},getPrototypeOf(){return Reflect.getPrototypeOf(Ae)},has(Fe,Ne){return Reflect.has(Ae,Ne)},ownKeys(){return Reflect.ownKeys(Ae)},set(Fe,Ne,je){return Ae[Ne]=je,delete Fe[Ne],!0}})}function _descriptors(Ae,_e={scriptable:!0,indexable:!0}){const{_scriptable:ke=_e.scriptable,_indexable:Re=_e.indexable,_allKeys:Ie=_e.allKeys}=Ae;return{allKeys:Ie,scriptable:ke,indexable:Re,isScriptable:isFunction(ke)?ke:()=>ke,isIndexable:isFunction(Re)?Re:()=>Re}}const readKey=(Ae,_e)=>Ae?Ae+_capitalize(_e):_e,needsSubResolver=(Ae,_e)=>isObject(_e)&&Ae!=="adapters"&&(Object.getPrototypeOf(_e)===null||_e.constructor===Object);function _cached(Ae,_e,ke){if(Object.prototype.hasOwnProperty.call(Ae,_e)||_e==="constructor")return Ae[_e];const Re=ke();return Ae[_e]=Re,Re}function _resolveWithContext(Ae,_e,ke){const{_proxy:Re,_context:Ie,_subProxy:Fe,_descriptors:Ne}=Ae;let je=Re[_e];return isFunction(je)&&Ne.isScriptable(_e)&&(je=_resolveScriptable(_e,je,Ae,ke)),isArray(je)&&je.length&&(je=_resolveArray(_e,je,Ae,Ne.isIndexable)),needsSubResolver(_e,je)&&(je=_attachContext(je,Ie,Fe&&Fe[_e],Ne)),je}function _resolveScriptable(Ae,_e,ke,Re){const{_proxy:Ie,_context:Fe,_subProxy:Ne,_stack:je}=ke;if(je.has(Ae))throw new Error("Recursion detected: "+Array.from(je).join("->")+"->"+Ae);je.add(Ae);let Be=_e(Fe,Ne||Re);return je.delete(Ae),needsSubResolver(Ae,Be)&&(Be=createSubResolver(Ie._scopes,Ie,Ae,Be)),Be}function _resolveArray(Ae,_e,ke,Re){const{_proxy:Ie,_context:Fe,_subProxy:Ne,_descriptors:je}=ke;if(typeof Fe.index<"u"&&Re(Ae))return _e[Fe.index%_e.length];if(isObject(_e[0])){const Be=_e,He=Ie._scopes.filter(We=>We!==Be);_e=[];for(const We of Be){const Ge=createSubResolver(He,Ie,Ae,We);_e.push(_attachContext(Ge,Fe,Ne&&Ne[Ae],je))}}return _e}function resolveFallback(Ae,_e,ke){return isFunction(Ae)?Ae(_e,ke):Ae}const getScope=(Ae,_e)=>Ae===!0?_e:typeof Ae=="string"?resolveObjectKey(_e,Ae):void 0;function addScopes(Ae,_e,ke,Re,Ie){for(const Fe of _e){const Ne=getScope(ke,Fe);if(Ne){Ae.add(Ne);const je=resolveFallback(Ne._fallback,ke,Ie);if(typeof je<"u"&&je!==ke&&je!==Re)return je}else if(Ne===!1&&typeof Re<"u"&&ke!==Re)return null}return!1}function createSubResolver(Ae,_e,ke,Re){const Ie=_e._rootScopes,Fe=resolveFallback(_e._fallback,ke,Re),Ne=[...Ae,...Ie],je=new Set;je.add(Re);let Be=addScopesFromKey(je,Ne,ke,Fe||ke,Re);return Be===null||typeof Fe<"u"&&Fe!==ke&&(Be=addScopesFromKey(je,Ne,Fe,Be,Re),Be===null)?!1:_createResolver(Array.from(je),[""],Ie,Fe,()=>subGetTarget(_e,ke,Re))}function addScopesFromKey(Ae,_e,ke,Re,Ie){for(;ke;)ke=addScopes(Ae,_e,ke,Re,Ie);return ke}function subGetTarget(Ae,_e,ke){const Re=Ae._getTarget();_e in Re||(Re[_e]={});const Ie=Re[_e];return isArray(Ie)&&isObject(ke)?ke:Ie||{}}function _resolveWithPrefixes(Ae,_e,ke,Re){let Ie;for(const Fe of _e)if(Ie=_resolve(readKey(Fe,Ae),ke),typeof Ie<"u")return needsSubResolver(Ae,Ie)?createSubResolver(ke,Re,Ae,Ie):Ie}function _resolve(Ae,_e){for(const ke of _e){if(!ke)continue;const Re=ke[Ae];if(typeof Re<"u")return Re}}function getKeysFromAllScopes(Ae){let _e=Ae._keys;return _e||(_e=Ae._keys=resolveKeysFromAllScopes(Ae._scopes)),_e}function resolveKeysFromAllScopes(Ae){const _e=new Set;for(const ke of Ae)for(const Re of Object.keys(ke).filter(Ie=>!Ie.startsWith("_")))_e.add(Re);return Array.from(_e)}function _isDomSupported(){return typeof window<"u"&&typeof document<"u"}function _getParentNode(Ae){let _e=Ae.parentNode;return _e&&_e.toString()==="[object ShadowRoot]"&&(_e=_e.host),_e}function parseMaxStyle(Ae,_e,ke){let Re;return typeof Ae=="string"?(Re=parseInt(Ae,10),Ae.indexOf("%")!==-1&&(Re=Re/100*_e.parentNode[ke])):Re=Ae,Re}const getComputedStyle$1=Ae=>Ae.ownerDocument.defaultView.getComputedStyle(Ae,null);function getStyle(Ae,_e){return getComputedStyle$1(Ae).getPropertyValue(_e)}const positions=["top","right","bottom","left"];function getPositionedStyle(Ae,_e,ke){const Re={};ke=ke?"-"+ke:"";for(let Ie=0;Ie<4;Ie++){const Fe=positions[Ie];Re[Fe]=parseFloat(Ae[_e+"-"+Fe+ke])||0}return Re.width=Re.left+Re.right,Re.height=Re.top+Re.bottom,Re}const useOffsetPos=(Ae,_e,ke)=>(Ae>0||_e>0)&&(!ke||!ke.shadowRoot);function getCanvasPosition(Ae,_e){const ke=Ae.touches,Re=ke&&ke.length?ke[0]:Ae,{offsetX:Ie,offsetY:Fe}=Re;let Ne=!1,je,Be;if(useOffsetPos(Ie,Fe,Ae.target))je=Ie,Be=Fe;else{const He=_e.getBoundingClientRect();je=Re.clientX-He.left,Be=Re.clientY-He.top,Ne=!0}return{x:je,y:Be,box:Ne}}function getRelativePosition(Ae,_e){if("native"in Ae)return Ae;const{canvas:ke,currentDevicePixelRatio:Re}=_e,Ie=getComputedStyle$1(ke),Fe=Ie.boxSizing==="border-box",Ne=getPositionedStyle(Ie,"padding"),je=getPositionedStyle(Ie,"border","width"),{x:Be,y:He,box:We}=getCanvasPosition(Ae,ke),Ge=Ne.left+(We&&je.left),Xe=Ne.top+(We&&je.top);let{width:$e,height:qe}=_e;return Fe&&($e-=Ne.width+je.width,qe-=Ne.height+je.height),{x:Math.round((Be-Ge)/$e*ke.width/Re),y:Math.round((He-Xe)/qe*ke.height/Re)}}function getContainerSize(Ae,_e,ke){let Re,Ie;if(_e===void 0||ke===void 0){const Fe=Ae&&_getParentNode(Ae);if(!Fe)_e=Ae.clientWidth,ke=Ae.clientHeight;else{const Ne=Fe.getBoundingClientRect(),je=getComputedStyle$1(Fe),Be=getPositionedStyle(je,"border","width"),He=getPositionedStyle(je,"padding");_e=Ne.width-He.width-Be.width,ke=Ne.height-He.height-Be.height,Re=parseMaxStyle(je.maxWidth,Fe,"clientWidth"),Ie=parseMaxStyle(je.maxHeight,Fe,"clientHeight")}}return{width:_e,height:ke,maxWidth:Re||INFINITY,maxHeight:Ie||INFINITY}}const round1=Ae=>Math.round(Ae*10)/10;function getMaximumSize(Ae,_e,ke,Re){const Ie=getComputedStyle$1(Ae),Fe=getPositionedStyle(Ie,"margin"),Ne=parseMaxStyle(Ie.maxWidth,Ae,"clientWidth")||INFINITY,je=parseMaxStyle(Ie.maxHeight,Ae,"clientHeight")||INFINITY,Be=getContainerSize(Ae,_e,ke);let{width:He,height:We}=Be;if(Ie.boxSizing==="content-box"){const Xe=getPositionedStyle(Ie,"border","width"),$e=getPositionedStyle(Ie,"padding");He-=$e.width+Xe.width,We-=$e.height+Xe.height}return He=Math.max(0,He-Fe.width),We=Math.max(0,Re?He/Re:We-Fe.height),He=round1(Math.min(He,Ne,Be.maxWidth)),We=round1(Math.min(We,je,Be.maxHeight)),He&&!We&&(We=round1(He/2)),(_e!==void 0||ke!==void 0)&&Re&&Be.height&&We>Be.height&&(We=Be.height,He=round1(Math.floor(We*Re))),{width:He,height:We}}function retinaScale(Ae,_e,ke){const Re=_e||1,Ie=Math.floor(Ae.height*Re),Fe=Math.floor(Ae.width*Re);Ae.height=Math.floor(Ae.height),Ae.width=Math.floor(Ae.width);const Ne=Ae.canvas;return Ne.style&&(ke||!Ne.style.height&&!Ne.style.width)&&(Ne.style.height=`${Ae.height}px`,Ne.style.width=`${Ae.width}px`),Ae.currentDevicePixelRatio!==Re||Ne.height!==Ie||Ne.width!==Fe?(Ae.currentDevicePixelRatio=Re,Ne.height=Ie,Ne.width=Fe,Ae.ctx.setTransform(Re,0,0,Re,0,0),!0):!1}const supportsEventListenerOptions=function(){let Ae=!1;try{const _e={get passive(){return Ae=!0,!1}};_isDomSupported()&&(window.addEventListener("test",null,_e),window.removeEventListener("test",null,_e))}catch{}return Ae}();function readUsedSize(Ae,_e){const ke=getStyle(Ae,_e),Re=ke&&ke.match(/^(\d+)(\.\d+)?px$/);return Re?+Re[1]:void 0}const getRightToLeftAdapter=function(Ae,_e){return{x(ke){return Ae+Ae+_e-ke},setWidth(ke){_e=ke},textAlign(ke){return ke==="center"?ke:ke==="right"?"left":"right"},xPlus(ke,Re){return ke-Re},leftForLtr(ke,Re){return ke-Re}}},getLeftToRightAdapter=function(){return{x(Ae){return Ae},setWidth(Ae){},textAlign(Ae){return Ae},xPlus(Ae,_e){return Ae+_e},leftForLtr(Ae,_e){return Ae}}};function getRtlAdapter(Ae,_e,ke){return Ae?getRightToLeftAdapter(_e,ke):getLeftToRightAdapter()}function overrideTextDirection(Ae,_e){let ke,Re;(_e==="ltr"||_e==="rtl")&&(ke=Ae.canvas.style,Re=[ke.getPropertyValue("direction"),ke.getPropertyPriority("direction")],ke.setProperty("direction",_e,"important"),Ae.prevTextDirection=Re)}function restoreTextDirection(Ae,_e){_e!==void 0&&(delete Ae.prevTextDirection,Ae.canvas.style.setProperty("direction",_e[0],_e[1]))}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(_e,ke,Re,Ie){const Fe=ke.listeners[Ie],Ne=ke.duration;Fe.forEach(je=>je({chart:_e,initial:ke.initial,numSteps:Ne,currentStep:Math.min(Re-ke.start,Ne)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(_e=Date.now()){let ke=0;this._charts.forEach((Re,Ie)=>{if(!Re.running||!Re.items.length)return;const Fe=Re.items;let Ne=Fe.length-1,je=!1,Be;for(;Ne>=0;--Ne)Be=Fe[Ne],Be._active?(Be._total>Re.duration&&(Re.duration=Be._total),Be.tick(_e),je=!0):(Fe[Ne]=Fe[Fe.length-1],Fe.pop());je&&(Ie.draw(),this._notify(Ie,Re,_e,"progress")),Fe.length||(Re.running=!1,this._notify(Ie,Re,_e,"complete"),Re.initial=!1),ke+=Fe.length}),this._lastDate=_e,ke===0&&(this._running=!1)}_getAnims(_e){const ke=this._charts;let Re=ke.get(_e);return Re||(Re={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},ke.set(_e,Re)),Re}listen(_e,ke,Re){this._getAnims(_e).listeners[ke].push(Re)}add(_e,ke){!ke||!ke.length||this._getAnims(_e).items.push(...ke)}has(_e){return this._getAnims(_e).items.length>0}start(_e){const ke=this._charts.get(_e);ke&&(ke.running=!0,ke.start=Date.now(),ke.duration=ke.items.reduce((Re,Ie)=>Math.max(Re,Ie._duration),0),this._refresh())}running(_e){if(!this._running)return!1;const ke=this._charts.get(_e);return!(!ke||!ke.running||!ke.items.length)}stop(_e){const ke=this._charts.get(_e);if(!ke||!ke.items.length)return;const Re=ke.items;let Ie=Re.length-1;for(;Ie>=0;--Ie)Re[Ie].cancel();ke.items=[],this._notify(_e,ke,Date.now(),"complete")}remove(_e){return this._charts.delete(_e)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(Ae,_e,ke){return ke>.5?_e:Ae},color(Ae,_e,ke){const Re=color(Ae||transparent),Ie=Re.valid&&color(_e||transparent);return Ie&&Ie.valid?Ie.mix(Re,ke).hexString():_e},number(Ae,_e,ke){return Ae+(_e-Ae)*ke}};class Animation{constructor(_e,ke,Re,Ie){const Fe=ke[Re];Ie=resolve([_e.to,Ie,Fe,_e.from]);const Ne=resolve([_e.from,Fe,Ie]);this._active=!0,this._fn=_e.fn||interpolators[_e.type||typeof Ne],this._easing=effects[_e.easing]||effects.linear,this._start=Math.floor(Date.now()+(_e.delay||0)),this._duration=this._total=Math.floor(_e.duration),this._loop=!!_e.loop,this._target=ke,this._prop=Re,this._from=Ne,this._to=Ie,this._promises=void 0}active(){return this._active}update(_e,ke,Re){if(this._active){this._notify(!1);const Ie=this._target[this._prop],Fe=Re-this._start,Ne=this._duration-Fe;this._start=Re,this._duration=Math.floor(Math.max(Ne,_e.duration)),this._total+=Fe,this._loop=!!_e.loop,this._to=resolve([_e.to,ke,Ie,_e.from]),this._from=resolve([_e.from,Ie,ke])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(_e){const ke=_e-this._start,Re=this._duration,Ie=this._prop,Fe=this._from,Ne=this._loop,je=this._to;let Be;if(this._active=Fe!==je&&(Ne||ke<Re),!this._active){this._target[Ie]=je,this._notify(!0);return}if(ke<0){this._target[Ie]=Fe;return}Be=ke/Re%2,Be=Ne&&Be>1?2-Be:Be,Be=this._easing(Math.min(1,Math.max(0,Be))),this._target[Ie]=this._fn(Fe,je,Be)}wait(){const _e=this._promises||(this._promises=[]);return new Promise((ke,Re)=>{_e.push({res:ke,rej:Re})})}_notify(_e){const ke=_e?"res":"rej",Re=this._promises||[];for(let Ie=0;Ie<Re.length;Ie++)Re[Ie][ke]()}}class Animations{constructor(_e,ke){this._chart=_e,this._properties=new Map,this.configure(ke)}configure(_e){if(!isObject(_e))return;const ke=Object.keys(defaults.animation),Re=this._properties;Object.getOwnPropertyNames(_e).forEach(Ie=>{const Fe=_e[Ie];if(!isObject(Fe))return;const Ne={};for(const je of ke)Ne[je]=Fe[je];(isArray(Fe.properties)&&Fe.properties||[Ie]).forEach(je=>{(je===Ie||!Re.has(je))&&Re.set(je,Ne)})})}_animateOptions(_e,ke){const Re=ke.options,Ie=resolveTargetOptions(_e,Re);if(!Ie)return[];const Fe=this._createAnimations(Ie,Re);return Re.$shared&&awaitAll(_e.options.$animations,Re).then(()=>{_e.options=Re},()=>{}),Fe}_createAnimations(_e,ke){const Re=this._properties,Ie=[],Fe=_e.$animations||(_e.$animations={}),Ne=Object.keys(ke),je=Date.now();let Be;for(Be=Ne.length-1;Be>=0;--Be){const He=Ne[Be];if(He.charAt(0)==="$")continue;if(He==="options"){Ie.push(...this._animateOptions(_e,ke));continue}const We=ke[He];let Ge=Fe[He];const Xe=Re.get(He);if(Ge)if(Xe&&Ge.active()){Ge.update(Xe,We,je);continue}else Ge.cancel();if(!Xe||!Xe.duration){_e[He]=We;continue}Fe[He]=Ge=new Animation(Xe,_e,He,We),Ie.push(Ge)}return Ie}update(_e,ke){if(this._properties.size===0){Object.assign(_e,ke);return}const Re=this._createAnimations(_e,ke);if(Re.length)return animator.add(this._chart,Re),!0}}function awaitAll(Ae,_e){const ke=[],Re=Object.keys(_e);for(let Ie=0;Ie<Re.length;Ie++){const Fe=Ae[Re[Ie]];Fe&&Fe.active()&&ke.push(Fe.wait())}return Promise.all(ke)}function resolveTargetOptions(Ae,_e){if(!_e)return;let ke=Ae.options;if(!ke){Ae.options=_e;return}return ke.$shared&&(Ae.options=ke=Object.assign({},ke,{$shared:!1,$animations:{}})),ke}function scaleClip(Ae,_e){const ke=Ae&&Ae.options||{},Re=ke.reverse,Ie=ke.min===void 0?_e:0,Fe=ke.max===void 0?_e:0;return{start:Re?Fe:Ie,end:Re?Ie:Fe}}function defaultClip(Ae,_e,ke){if(ke===!1)return!1;const Re=scaleClip(Ae,ke),Ie=scaleClip(_e,ke);return{top:Ie.end,right:Re.end,bottom:Ie.start,left:Re.start}}function toClip(Ae){let _e,ke,Re,Ie;return isObject(Ae)?(_e=Ae.top,ke=Ae.right,Re=Ae.bottom,Ie=Ae.left):_e=ke=Re=Ie=Ae,{top:_e,right:ke,bottom:Re,left:Ie,disabled:Ae===!1}}function getSortedDatasetIndices(Ae,_e){const ke=[],Re=Ae._getSortedDatasetMetas(_e);let Ie,Fe;for(Ie=0,Fe=Re.length;Ie<Fe;++Ie)ke.push(Re[Ie].index);return ke}function applyStack(Ae,_e,ke,Re={}){const Ie=Ae.keys,Fe=Re.mode==="single";let Ne,je,Be,He;if(_e===null)return;let We=!1;for(Ne=0,je=Ie.length;Ne<je;++Ne){if(Be=+Ie[Ne],Be===ke){if(We=!0,Re.all)continue;break}He=Ae.values[Be],isNumberFinite(He)&&(Fe||_e===0||sign(_e)===sign(He))&&(_e+=He)}return!We&&!Re.all?0:_e}function convertObjectDataToArray(Ae,_e){const{iScale:ke,vScale:Re}=_e,Ie=ke.axis==="x"?"x":"y",Fe=Re.axis==="x"?"x":"y",Ne=Object.keys(Ae),je=new Array(Ne.length);let Be,He,We;for(Be=0,He=Ne.length;Be<He;++Be)We=Ne[Be],je[Be]={[Ie]:We,[Fe]:Ae[We]};return je}function isStacked(Ae,_e){const ke=Ae&&Ae.options.stacked;return ke||ke===void 0&&_e.stack!==void 0}function getStackKey(Ae,_e,ke){return`${Ae.id}.${_e.id}.${ke.stack||ke.type}`}function getUserBounds(Ae){const{min:_e,max:ke,minDefined:Re,maxDefined:Ie}=Ae.getUserBounds();return{min:Re?_e:Number.NEGATIVE_INFINITY,max:Ie?ke:Number.POSITIVE_INFINITY}}function getOrCreateStack(Ae,_e,ke){const Re=Ae[_e]||(Ae[_e]={});return Re[ke]||(Re[ke]={})}function getLastIndexInStack(Ae,_e,ke,Re){for(const Ie of _e.getMatchingVisibleMetas(Re).reverse()){const Fe=Ae[Ie.index];if(ke&&Fe>0||!ke&&Fe<0)return Ie.index}return null}function updateStacks(Ae,_e){const{chart:ke,_cachedMeta:Re}=Ae,Ie=ke._stacks||(ke._stacks={}),{iScale:Fe,vScale:Ne,index:je}=Re,Be=Fe.axis,He=Ne.axis,We=getStackKey(Fe,Ne,Re),Ge=_e.length;let Xe;for(let $e=0;$e<Ge;++$e){const qe=_e[$e],{[Be]:Ue,[He]:Ye}=qe,Ze=qe._stacks||(qe._stacks={});Xe=Ze[He]=getOrCreateStack(Ie,We,Ue),Xe[je]=Ye,Xe._top=getLastIndexInStack(Xe,Ne,!0,Re.type),Xe._bottom=getLastIndexInStack(Xe,Ne,!1,Re.type);const Qe=Xe._visualValues||(Xe._visualValues={});Qe[je]=Ye}}function getFirstScaleId(Ae,_e){const ke=Ae.scales;return Object.keys(ke).filter(Re=>ke[Re].axis===_e).shift()}function createDatasetContext(Ae,_e){return createContext(Ae,{active:!1,dataset:void 0,datasetIndex:_e,index:_e,mode:"default",type:"dataset"})}function createDataContext(Ae,_e,ke){return createContext(Ae,{active:!1,dataIndex:_e,parsed:void 0,raw:void 0,element:ke,index:_e,mode:"default",type:"data"})}function clearStacks(Ae,_e){const ke=Ae.controller.index,Re=Ae.vScale&&Ae.vScale.axis;if(Re){_e=_e||Ae._parsed;for(const Ie of _e){const Fe=Ie._stacks;if(!Fe||Fe[Re]===void 0||Fe[Re][ke]===void 0)return;delete Fe[Re][ke],Fe[Re]._visualValues!==void 0&&Fe[Re]._visualValues[ke]!==void 0&&delete Fe[Re]._visualValues[ke]}}}const isDirectUpdateMode=Ae=>Ae==="reset"||Ae==="none",cloneIfNotShared=(Ae,_e)=>_e?Ae:Object.assign({},Ae),createStack=(Ae,_e,ke)=>Ae&&!_e.hidden&&_e._stacked&&{keys:getSortedDatasetIndices(ke,!0),values:null};class DatasetController{constructor(_e,ke){this.chart=_e,this._ctx=_e.ctx,this.index=ke,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const _e=this._cachedMeta;this.configure(),this.linkScales(),_e._stacked=isStacked(_e.vScale,_e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(_e){this.index!==_e&&clearStacks(this._cachedMeta),this.index=_e}linkScales(){const _e=this.chart,ke=this._cachedMeta,Re=this.getDataset(),Ie=(Ge,Xe,$e,qe)=>Ge==="x"?Xe:Ge==="r"?qe:$e,Fe=ke.xAxisID=valueOrDefault(Re.xAxisID,getFirstScaleId(_e,"x")),Ne=ke.yAxisID=valueOrDefault(Re.yAxisID,getFirstScaleId(_e,"y")),je=ke.rAxisID=valueOrDefault(Re.rAxisID,getFirstScaleId(_e,"r")),Be=ke.indexAxis,He=ke.iAxisID=Ie(Be,Fe,Ne,je),We=ke.vAxisID=Ie(Be,Ne,Fe,je);ke.xScale=this.getScaleForId(Fe),ke.yScale=this.getScaleForId(Ne),ke.rScale=this.getScaleForId(je),ke.iScale=this.getScaleForId(He),ke.vScale=this.getScaleForId(We)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(_e){return this.chart.scales[_e]}_getOtherScale(_e){const ke=this._cachedMeta;return _e===ke.iScale?ke.vScale:ke.iScale}reset(){this._update("reset")}_destroy(){const _e=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),_e._stacked&&clearStacks(_e)}_dataCheck(){const _e=this.getDataset(),ke=_e.data||(_e.data=[]),Re=this._data;if(isObject(ke)){const Ie=this._cachedMeta;this._data=convertObjectDataToArray(ke,Ie)}else if(Re!==ke){if(Re){unlistenArrayEvents(Re,this);const Ie=this._cachedMeta;clearStacks(Ie),Ie._parsed=[]}ke&&Object.isExtensible(ke)&&listenArrayEvents(ke,this),this._syncList=[],this._data=ke}}addElements(){const _e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(_e.dataset=new this.datasetElementType)}buildOrUpdateElements(_e){const ke=this._cachedMeta,Re=this.getDataset();let Ie=!1;this._dataCheck();const Fe=ke._stacked;ke._stacked=isStacked(ke.vScale,ke),ke.stack!==Re.stack&&(Ie=!0,clearStacks(ke),ke.stack=Re.stack),this._resyncElements(_e),(Ie||Fe!==ke._stacked)&&(updateStacks(this,ke._parsed),ke._stacked=isStacked(ke.vScale,ke))}configure(){const _e=this.chart.config,ke=_e.datasetScopeKeys(this._type),Re=_e.getOptionScopes(this.getDataset(),ke,!0);this.options=_e.createResolver(Re,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(_e,ke){const{_cachedMeta:Re,_data:Ie}=this,{iScale:Fe,_stacked:Ne}=Re,je=Fe.axis;let Be=_e===0&&ke===Ie.length?!0:Re._sorted,He=_e>0&&Re._parsed[_e-1],We,Ge,Xe;if(this._parsing===!1)Re._parsed=Ie,Re._sorted=!0,Xe=Ie;else{isArray(Ie[_e])?Xe=this.parseArrayData(Re,Ie,_e,ke):isObject(Ie[_e])?Xe=this.parseObjectData(Re,Ie,_e,ke):Xe=this.parsePrimitiveData(Re,Ie,_e,ke);const $e=()=>Ge[je]===null||He&&Ge[je]<He[je];for(We=0;We<ke;++We)Re._parsed[We+_e]=Ge=Xe[We],Be&&($e()&&(Be=!1),He=Ge);Re._sorted=Be}Ne&&updateStacks(this,Xe)}parsePrimitiveData(_e,ke,Re,Ie){const{iScale:Fe,vScale:Ne}=_e,je=Fe.axis,Be=Ne.axis,He=Fe.getLabels(),We=Fe===Ne,Ge=new Array(Ie);let Xe,$e,qe;for(Xe=0,$e=Ie;Xe<$e;++Xe)qe=Xe+Re,Ge[Xe]={[je]:We||Fe.parse(He[qe],qe),[Be]:Ne.parse(ke[qe],qe)};return Ge}parseArrayData(_e,ke,Re,Ie){const{xScale:Fe,yScale:Ne}=_e,je=new Array(Ie);let Be,He,We,Ge;for(Be=0,He=Ie;Be<He;++Be)We=Be+Re,Ge=ke[We],je[Be]={x:Fe.parse(Ge[0],We),y:Ne.parse(Ge[1],We)};return je}parseObjectData(_e,ke,Re,Ie){const{xScale:Fe,yScale:Ne}=_e,{xAxisKey:je="x",yAxisKey:Be="y"}=this._parsing,He=new Array(Ie);let We,Ge,Xe,$e;for(We=0,Ge=Ie;We<Ge;++We)Xe=We+Re,$e=ke[Xe],He[We]={x:Fe.parse(resolveObjectKey($e,je),Xe),y:Ne.parse(resolveObjectKey($e,Be),Xe)};return He}getParsed(_e){return this._cachedMeta._parsed[_e]}getDataElement(_e){return this._cachedMeta.data[_e]}applyStack(_e,ke,Re){const Ie=this.chart,Fe=this._cachedMeta,Ne=ke[_e.axis],je={keys:getSortedDatasetIndices(Ie,!0),values:ke._stacks[_e.axis]._visualValues};return applyStack(je,Ne,Fe.index,{mode:Re})}updateRangeFromParsed(_e,ke,Re,Ie){const Fe=Re[ke.axis];let Ne=Fe===null?NaN:Fe;const je=Ie&&Re._stacks[ke.axis];Ie&&je&&(Ie.values=je,Ne=applyStack(Ie,Fe,this._cachedMeta.index)),_e.min=Math.min(_e.min,Ne),_e.max=Math.max(_e.max,Ne)}getMinMax(_e,ke){const Re=this._cachedMeta,Ie=Re._parsed,Fe=Re._sorted&&_e===Re.iScale,Ne=Ie.length,je=this._getOtherScale(_e),Be=createStack(ke,Re,this.chart),He={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:We,max:Ge}=getUserBounds(je);let Xe,$e;function qe(){$e=Ie[Xe];const Ue=$e[je.axis];return!isNumberFinite($e[_e.axis])||We>Ue||Ge<Ue}for(Xe=0;Xe<Ne&&!(!qe()&&(this.updateRangeFromParsed(He,_e,$e,Be),Fe));++Xe);if(Fe){for(Xe=Ne-1;Xe>=0;--Xe)if(!qe()){this.updateRangeFromParsed(He,_e,$e,Be);break}}return He}getAllParsedValues(_e){const ke=this._cachedMeta._parsed,Re=[];let Ie,Fe,Ne;for(Ie=0,Fe=ke.length;Ie<Fe;++Ie)Ne=ke[Ie][_e.axis],isNumberFinite(Ne)&&Re.push(Ne);return Re}getMaxOverflow(){return!1}getLabelAndValue(_e){const ke=this._cachedMeta,Re=ke.iScale,Ie=ke.vScale,Fe=this.getParsed(_e);return{label:Re?""+Re.getLabelForValue(Fe[Re.axis]):"",value:Ie?""+Ie.getLabelForValue(Fe[Ie.axis]):""}}_update(_e){const ke=this._cachedMeta;this.update(_e||"default"),ke._clip=toClip(valueOrDefault(this.options.clip,defaultClip(ke.xScale,ke.yScale,this.getMaxOverflow())))}update(_e){}draw(){const _e=this._ctx,ke=this.chart,Re=this._cachedMeta,Ie=Re.data||[],Fe=ke.chartArea,Ne=[],je=this._drawStart||0,Be=this._drawCount||Ie.length-je,He=this.options.drawActiveElementsOnTop;let We;for(Re.dataset&&Re.dataset.draw(_e,Fe,je,Be),We=je;We<je+Be;++We){const Ge=Ie[We];Ge.hidden||(Ge.active&&He?Ne.push(Ge):Ge.draw(_e,Fe))}for(We=0;We<Ne.length;++We)Ne[We].draw(_e,Fe)}getStyle(_e,ke){const Re=ke?"active":"default";return _e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(Re):this.resolveDataElementOptions(_e||0,Re)}getContext(_e,ke,Re){const Ie=this.getDataset();let Fe;if(_e>=0&&_e<this._cachedMeta.data.length){const Ne=this._cachedMeta.data[_e];Fe=Ne.$context||(Ne.$context=createDataContext(this.getContext(),_e,Ne)),Fe.parsed=this.getParsed(_e),Fe.raw=Ie.data[_e],Fe.index=Fe.dataIndex=_e}else Fe=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),Fe.dataset=Ie,Fe.index=Fe.datasetIndex=this.index;return Fe.active=!!ke,Fe.mode=Re,Fe}resolveDatasetElementOptions(_e){return this._resolveElementOptions(this.datasetElementType.id,_e)}resolveDataElementOptions(_e,ke){return this._resolveElementOptions(this.dataElementType.id,ke,_e)}_resolveElementOptions(_e,ke="default",Re){const Ie=ke==="active",Fe=this._cachedDataOpts,Ne=_e+"-"+ke,je=Fe[Ne],Be=this.enableOptionSharing&&defined(Re);if(je)return cloneIfNotShared(je,Be);const He=this.chart.config,We=He.datasetElementScopeKeys(this._type,_e),Ge=Ie?[`${_e}Hover`,"hover",_e,""]:[_e,""],Xe=He.getOptionScopes(this.getDataset(),We),$e=Object.keys(defaults.elements[_e]),qe=()=>this.getContext(Re,Ie,ke),Ue=He.resolveNamedOptions(Xe,$e,qe,Ge);return Ue.$shared&&(Ue.$shared=Be,Fe[Ne]=Object.freeze(cloneIfNotShared(Ue,Be))),Ue}_resolveAnimations(_e,ke,Re){const Ie=this.chart,Fe=this._cachedDataOpts,Ne=`animation-${ke}`,je=Fe[Ne];if(je)return je;let Be;if(Ie.options.animation!==!1){const We=this.chart.config,Ge=We.datasetAnimationScopeKeys(this._type,ke),Xe=We.getOptionScopes(this.getDataset(),Ge);Be=We.createResolver(Xe,this.getContext(_e,Re,ke))}const He=new Animations(Ie,Be&&Be.animations);return Be&&Be._cacheable&&(Fe[Ne]=Object.freeze(He)),He}getSharedOptions(_e){if(_e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},_e))}includeOptions(_e,ke){return!ke||isDirectUpdateMode(_e)||this.chart._animationsDisabled}_getSharedOptions(_e,ke){const Re=this.resolveDataElementOptions(_e,ke),Ie=this._sharedOptions,Fe=this.getSharedOptions(Re),Ne=this.includeOptions(ke,Fe)||Fe!==Ie;return this.updateSharedOptions(Fe,ke,Re),{sharedOptions:Fe,includeOptions:Ne}}updateElement(_e,ke,Re,Ie){isDirectUpdateMode(Ie)?Object.assign(_e,Re):this._resolveAnimations(ke,Ie).update(_e,Re)}updateSharedOptions(_e,ke,Re){_e&&!isDirectUpdateMode(ke)&&this._resolveAnimations(void 0,ke).update(_e,Re)}_setStyle(_e,ke,Re,Ie){_e.active=Ie;const Fe=this.getStyle(ke,Ie);this._resolveAnimations(ke,Re,Ie).update(_e,{options:!Ie&&this.getSharedOptions(Fe)||Fe})}removeHoverStyle(_e,ke,Re){this._setStyle(_e,Re,"active",!1)}setHoverStyle(_e,ke,Re){this._setStyle(_e,Re,"active",!0)}_removeDatasetHoverStyle(){const _e=this._cachedMeta.dataset;_e&&this._setStyle(_e,void 0,"active",!1)}_setDatasetHoverStyle(){const _e=this._cachedMeta.dataset;_e&&this._setStyle(_e,void 0,"active",!0)}_resyncElements(_e){const ke=this._data,Re=this._cachedMeta.data;for(const[je,Be,He]of this._syncList)this[je](Be,He);this._syncList=[];const Ie=Re.length,Fe=ke.length,Ne=Math.min(Fe,Ie);Ne&&this.parse(0,Ne),Fe>Ie?this._insertElements(Ie,Fe-Ie,_e):Fe<Ie&&this._removeElements(Fe,Ie-Fe)}_insertElements(_e,ke,Re=!0){const Ie=this._cachedMeta,Fe=Ie.data,Ne=_e+ke;let je;const Be=He=>{for(He.length+=ke,je=He.length-1;je>=Ne;je--)He[je]=He[je-ke]};for(Be(Fe),je=_e;je<Ne;++je)Fe[je]=new this.dataElementType;this._parsing&&Be(Ie._parsed),this.parse(_e,ke),Re&&this.updateElements(Fe,_e,ke,"reset")}updateElements(_e,ke,Re,Ie){}_removeElements(_e,ke){const Re=this._cachedMeta;if(this._parsing){const Ie=Re._parsed.splice(_e,ke);Re._stacked&&clearStacks(Re,Ie)}Re.data.splice(_e,ke)}_sync(_e){if(this._parsing)this._syncList.push(_e);else{const[ke,Re,Ie]=_e;this[ke](Re,Ie)}this.chart._dataChanges.push([this.index,..._e])}_onDataPush(){const _e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-_e,_e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(_e,ke){ke&&this._sync(["_removeElements",_e,ke]);const Re=arguments.length-2;Re&&this._sync(["_insertElements",_e,Re])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}br(DatasetController,"defaults",{}),br(DatasetController,"datasetElementType",null),br(DatasetController,"dataElementType",null);function getAllScaleValues(Ae,_e){if(!Ae._cache.$bar){const ke=Ae.getMatchingVisibleMetas(_e);let Re=[];for(let Ie=0,Fe=ke.length;Ie<Fe;Ie++)Re=Re.concat(ke[Ie].controller.getAllParsedValues(Ae));Ae._cache.$bar=_arrayUnique(Re.sort((Ie,Fe)=>Ie-Fe))}return Ae._cache.$bar}function computeMinSampleSize(Ae){const _e=Ae.iScale,ke=getAllScaleValues(_e,Ae.type);let Re=_e._length,Ie,Fe,Ne,je;const Be=()=>{Ne===32767||Ne===-32768||(defined(je)&&(Re=Math.min(Re,Math.abs(Ne-je)||Re)),je=Ne)};for(Ie=0,Fe=ke.length;Ie<Fe;++Ie)Ne=_e.getPixelForValue(ke[Ie]),Be();for(je=void 0,Ie=0,Fe=_e.ticks.length;Ie<Fe;++Ie)Ne=_e.getPixelForTick(Ie),Be();return Re}function computeFitCategoryTraits(Ae,_e,ke,Re){const Ie=ke.barThickness;let Fe,Ne;return isNullOrUndef(Ie)?(Fe=_e.min*ke.categoryPercentage,Ne=ke.barPercentage):(Fe=Ie*Re,Ne=1),{chunk:Fe/Re,ratio:Ne,start:_e.pixels[Ae]-Fe/2}}function computeFlexCategoryTraits(Ae,_e,ke,Re){const Ie=_e.pixels,Fe=Ie[Ae];let Ne=Ae>0?Ie[Ae-1]:null,je=Ae<Ie.length-1?Ie[Ae+1]:null;const Be=ke.categoryPercentage;Ne===null&&(Ne=Fe-(je===null?_e.end-_e.start:je-Fe)),je===null&&(je=Fe+Fe-Ne);const He=Fe-(Fe-Math.min(Ne,je))/2*Be;return{chunk:Math.abs(je-Ne)/2*Be/Re,ratio:ke.barPercentage,start:He}}function parseFloatBar(Ae,_e,ke,Re){const Ie=ke.parse(Ae[0],Re),Fe=ke.parse(Ae[1],Re),Ne=Math.min(Ie,Fe),je=Math.max(Ie,Fe);let Be=Ne,He=je;Math.abs(Ne)>Math.abs(je)&&(Be=je,He=Ne),_e[ke.axis]=He,_e._custom={barStart:Be,barEnd:He,start:Ie,end:Fe,min:Ne,max:je}}function parseValue(Ae,_e,ke,Re){return isArray(Ae)?parseFloatBar(Ae,_e,ke,Re):_e[ke.axis]=ke.parse(Ae,Re),_e}function parseArrayOrPrimitive(Ae,_e,ke,Re){const Ie=Ae.iScale,Fe=Ae.vScale,Ne=Ie.getLabels(),je=Ie===Fe,Be=[];let He,We,Ge,Xe;for(He=ke,We=ke+Re;He<We;++He)Xe=_e[He],Ge={},Ge[Ie.axis]=je||Ie.parse(Ne[He],He),Be.push(parseValue(Xe,Ge,Fe,He));return Be}function isFloatBar(Ae){return Ae&&Ae.barStart!==void 0&&Ae.barEnd!==void 0}function barSign(Ae,_e,ke){return Ae!==0?sign(Ae):(_e.isHorizontal()?1:-1)*(_e.min>=ke?1:-1)}function borderProps(Ae){let _e,ke,Re,Ie,Fe;return Ae.horizontal?(_e=Ae.base>Ae.x,ke="left",Re="right"):(_e=Ae.base<Ae.y,ke="bottom",Re="top"),_e?(Ie="end",Fe="start"):(Ie="start",Fe="end"),{start:ke,end:Re,reverse:_e,top:Ie,bottom:Fe}}function setBorderSkipped(Ae,_e,ke,Re){let Ie=_e.borderSkipped;const Fe={};if(!Ie){Ae.borderSkipped=Fe;return}if(Ie===!0){Ae.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:Ne,end:je,reverse:Be,top:He,bottom:We}=borderProps(Ae);Ie==="middle"&&ke&&(Ae.enableBorderRadius=!0,(ke._top||0)===Re?Ie=He:(ke._bottom||0)===Re?Ie=We:(Fe[parseEdge(We,Ne,je,Be)]=!0,Ie=He)),Fe[parseEdge(Ie,Ne,je,Be)]=!0,Ae.borderSkipped=Fe}function parseEdge(Ae,_e,ke,Re){return Re?(Ae=swap(Ae,_e,ke),Ae=startEnd(Ae,ke,_e)):Ae=startEnd(Ae,_e,ke),Ae}function swap(Ae,_e,ke){return Ae===_e?ke:Ae===ke?_e:Ae}function startEnd(Ae,_e,ke){return Ae==="start"?_e:Ae==="end"?ke:Ae}function setInflateAmount(Ae,{inflateAmount:_e},ke){Ae.inflateAmount=_e==="auto"?ke===1?.33:0:_e}class BarController extends DatasetController{parsePrimitiveData(_e,ke,Re,Ie){return parseArrayOrPrimitive(_e,ke,Re,Ie)}parseArrayData(_e,ke,Re,Ie){return parseArrayOrPrimitive(_e,ke,Re,Ie)}parseObjectData(_e,ke,Re,Ie){const{iScale:Fe,vScale:Ne}=_e,{xAxisKey:je="x",yAxisKey:Be="y"}=this._parsing,He=Fe.axis==="x"?je:Be,We=Ne.axis==="x"?je:Be,Ge=[];let Xe,$e,qe,Ue;for(Xe=Re,$e=Re+Ie;Xe<$e;++Xe)Ue=ke[Xe],qe={},qe[Fe.axis]=Fe.parse(resolveObjectKey(Ue,He),Xe),Ge.push(parseValue(resolveObjectKey(Ue,We),qe,Ne,Xe));return Ge}updateRangeFromParsed(_e,ke,Re,Ie){super.updateRangeFromParsed(_e,ke,Re,Ie);const Fe=Re._custom;Fe&&ke===this._cachedMeta.vScale&&(_e.min=Math.min(_e.min,Fe.min),_e.max=Math.max(_e.max,Fe.max))}getMaxOverflow(){return 0}getLabelAndValue(_e){const ke=this._cachedMeta,{iScale:Re,vScale:Ie}=ke,Fe=this.getParsed(_e),Ne=Fe._custom,je=isFloatBar(Ne)?"["+Ne.start+", "+Ne.end+"]":""+Ie.getLabelForValue(Fe[Ie.axis]);return{label:""+Re.getLabelForValue(Fe[Re.axis]),value:je}}initialize(){this.enableOptionSharing=!0,super.initialize();const _e=this._cachedMeta;_e.stack=this.getDataset().stack}update(_e){const ke=this._cachedMeta;this.updateElements(ke.data,0,ke.data.length,_e)}updateElements(_e,ke,Re,Ie){const Fe=Ie==="reset",{index:Ne,_cachedMeta:{vScale:je}}=this,Be=je.getBasePixel(),He=je.isHorizontal(),We=this._getRuler(),{sharedOptions:Ge,includeOptions:Xe}=this._getSharedOptions(ke,Ie);for(let $e=ke;$e<ke+Re;$e++){const qe=this.getParsed($e),Ue=Fe||isNullOrUndef(qe[je.axis])?{base:Be,head:Be}:this._calculateBarValuePixels($e),Ye=this._calculateBarIndexPixels($e,We),Ze=(qe._stacks||{})[je.axis],Qe={horizontal:He,base:Ue.base,enableBorderRadius:!Ze||isFloatBar(qe._custom)||Ne===Ze._top||Ne===Ze._bottom,x:He?Ue.head:Ye.center,y:He?Ye.center:Ue.head,height:He?Ye.size:Math.abs(Ue.size),width:He?Math.abs(Ue.size):Ye.size};Xe&&(Qe.options=Ge||this.resolveDataElementOptions($e,_e[$e].active?"active":Ie));const pn=Qe.options||_e[$e].options;setBorderSkipped(Qe,pn,Ze,Ne),setInflateAmount(Qe,pn,We.ratio),this.updateElement(_e[$e],$e,Qe,Ie)}}_getStacks(_e,ke){const{iScale:Re}=this._cachedMeta,Ie=Re.getMatchingVisibleMetas(this._type).filter(We=>We.controller.options.grouped),Fe=Re.options.stacked,Ne=[],je=this._cachedMeta.controller.getParsed(ke),Be=je&&je[Re.axis],He=We=>{const Ge=We._parsed.find($e=>$e[Re.axis]===Be),Xe=Ge&&Ge[We.vScale.axis];if(isNullOrUndef(Xe)||isNaN(Xe))return!0};for(const We of Ie)if(!(ke!==void 0&&He(We))&&((Fe===!1||Ne.indexOf(We.stack)===-1||Fe===void 0&&We.stack===void 0)&&Ne.push(We.stack),We.index===_e))break;return Ne.length||Ne.push(void 0),Ne}_getStackCount(_e){return this._getStacks(void 0,_e).length}_getStackIndex(_e,ke,Re){const Ie=this._getStacks(_e,Re),Fe=ke!==void 0?Ie.indexOf(ke):-1;return Fe===-1?Ie.length-1:Fe}_getRuler(){const _e=this.options,ke=this._cachedMeta,Re=ke.iScale,Ie=[];let Fe,Ne;for(Fe=0,Ne=ke.data.length;Fe<Ne;++Fe)Ie.push(Re.getPixelForValue(this.getParsed(Fe)[Re.axis],Fe));const je=_e.barThickness;return{min:je||computeMinSampleSize(ke),pixels:Ie,start:Re._startPixel,end:Re._endPixel,stackCount:this._getStackCount(),scale:Re,grouped:_e.grouped,ratio:je?1:_e.categoryPercentage*_e.barPercentage}}_calculateBarValuePixels(_e){const{_cachedMeta:{vScale:ke,_stacked:Re,index:Ie},options:{base:Fe,minBarLength:Ne}}=this,je=Fe||0,Be=this.getParsed(_e),He=Be._custom,We=isFloatBar(He);let Ge=Be[ke.axis],Xe=0,$e=Re?this.applyStack(ke,Be,Re):Ge,qe,Ue;$e!==Ge&&(Xe=$e-Ge,$e=Ge),We&&(Ge=He.barStart,$e=He.barEnd-He.barStart,Ge!==0&&sign(Ge)!==sign(He.barEnd)&&(Xe=0),Xe+=Ge);const Ye=!isNullOrUndef(Fe)&&!We?Fe:Xe;let Ze=ke.getPixelForValue(Ye);if(this.chart.getDataVisibility(_e)?qe=ke.getPixelForValue(Xe+$e):qe=Ze,Ue=qe-Ze,Math.abs(Ue)<Ne){Ue=barSign(Ue,ke,je)*Ne,Ge===je&&(Ze-=Ue/2);const Qe=ke.getPixelForDecimal(0),pn=ke.getPixelForDecimal(1),nn=Math.min(Qe,pn),rn=Math.max(Qe,pn);Ze=Math.max(Math.min(Ze,rn),nn),qe=Ze+Ue,Re&&!We&&(Be._stacks[ke.axis]._visualValues[Ie]=ke.getValueForPixel(qe)-ke.getValueForPixel(Ze))}if(Ze===ke.getPixelForValue(je)){const Qe=sign(Ue)*ke.getLineWidthForValue(je)/2;Ze+=Qe,Ue-=Qe}return{size:Ue,base:Ze,head:qe,center:qe+Ue/2}}_calculateBarIndexPixels(_e,ke){const Re=ke.scale,Ie=this.options,Fe=Ie.skipNull,Ne=valueOrDefault(Ie.maxBarThickness,1/0);let je,Be;if(ke.grouped){const He=Fe?this._getStackCount(_e):ke.stackCount,We=Ie.barThickness==="flex"?computeFlexCategoryTraits(_e,ke,Ie,He):computeFitCategoryTraits(_e,ke,Ie,He),Ge=this._getStackIndex(this.index,this._cachedMeta.stack,Fe?_e:void 0);je=We.start+We.chunk*Ge+We.chunk/2,Be=Math.min(Ne,We.chunk*We.ratio)}else je=Re.getPixelForValue(this.getParsed(_e)[Re.axis],_e),Be=Math.min(Ne,ke.min*ke.ratio);return{base:je-Be/2,head:je+Be/2,center:je,size:Be}}draw(){const _e=this._cachedMeta,ke=_e.vScale,Re=_e.data,Ie=Re.length;let Fe=0;for(;Fe<Ie;++Fe)this.getParsed(Fe)[ke.axis]!==null&&!Re[Fe].hidden&&Re[Fe].draw(this._ctx)}}br(BarController,"id","bar"),br(BarController,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),br(BarController,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{constructor(_e){br(this,"options");this.options=_e||{}}static override(_e){Object.assign(DateAdapterBase.prototype,_e)}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters={_date:DateAdapterBase};function binarySearch(Ae,_e,ke,Re){const{controller:Ie,data:Fe,_sorted:Ne}=Ae,je=Ie._cachedMeta.iScale,Be=Ae.dataset&&Ae.dataset.options?Ae.dataset.options.spanGaps:null;if(je&&_e===je.axis&&_e!=="r"&&Ne&&Fe.length){const He=je._reversePixels?_rlookupByKey:_lookupByKey;if(Re){if(Ie._sharedOptions){const We=Fe[0],Ge=typeof We.getRange=="function"&&We.getRange(_e);if(Ge){const Xe=He(Fe,_e,ke-Ge),$e=He(Fe,_e,ke+Ge);return{lo:Xe.lo,hi:$e.hi}}}}else{const We=He(Fe,_e,ke);if(Be){const{vScale:Ge}=Ie._cachedMeta,{_parsed:Xe}=Ae,$e=Xe.slice(0,We.lo+1).reverse().findIndex(Ue=>!isNullOrUndef(Ue[Ge.axis]));We.lo-=Math.max(0,$e);const qe=Xe.slice(We.hi).findIndex(Ue=>!isNullOrUndef(Ue[Ge.axis]));We.hi+=Math.max(0,qe)}return We}}return{lo:0,hi:Fe.length-1}}function evaluateInteractionItems(Ae,_e,ke,Re,Ie){const Fe=Ae.getSortedVisibleDatasetMetas(),Ne=ke[_e];for(let je=0,Be=Fe.length;je<Be;++je){const{index:He,data:We}=Fe[je],{lo:Ge,hi:Xe}=binarySearch(Fe[je],_e,Ne,Ie);for(let $e=Ge;$e<=Xe;++$e){const qe=We[$e];qe.skip||Re(qe,He,$e)}}}function getDistanceMetricForAxis(Ae){const _e=Ae.indexOf("x")!==-1,ke=Ae.indexOf("y")!==-1;return function(Re,Ie){const Fe=_e?Math.abs(Re.x-Ie.x):0,Ne=ke?Math.abs(Re.y-Ie.y):0;return Math.sqrt(Math.pow(Fe,2)+Math.pow(Ne,2))}}function getIntersectItems(Ae,_e,ke,Re,Ie){const Fe=[];return!Ie&&!Ae.isPointInArea(_e)||evaluateInteractionItems(Ae,ke,_e,function(je,Be,He){!Ie&&!_isPointInArea(je,Ae.chartArea,0)||je.inRange(_e.x,_e.y,Re)&&Fe.push({element:je,datasetIndex:Be,index:He})},!0),Fe}function getNearestRadialItems(Ae,_e,ke,Re){let Ie=[];function Fe(Ne,je,Be){const{startAngle:He,endAngle:We}=Ne.getProps(["startAngle","endAngle"],Re),{angle:Ge}=getAngleFromPoint(Ne,{x:_e.x,y:_e.y});_angleBetween(Ge,He,We)&&Ie.push({element:Ne,datasetIndex:je,index:Be})}return evaluateInteractionItems(Ae,ke,_e,Fe),Ie}function getNearestCartesianItems(Ae,_e,ke,Re,Ie,Fe){let Ne=[];const je=getDistanceMetricForAxis(ke);let Be=Number.POSITIVE_INFINITY;function He(We,Ge,Xe){const $e=We.inRange(_e.x,_e.y,Ie);if(Re&&!$e)return;const qe=We.getCenterPoint(Ie);if(!(!!Fe||Ae.isPointInArea(qe))&&!$e)return;const Ye=je(_e,qe);Ye<Be?(Ne=[{element:We,datasetIndex:Ge,index:Xe}],Be=Ye):Ye===Be&&Ne.push({element:We,datasetIndex:Ge,index:Xe})}return evaluateInteractionItems(Ae,ke,_e,He),Ne}function getNearestItems(Ae,_e,ke,Re,Ie,Fe){return!Fe&&!Ae.isPointInArea(_e)?[]:ke==="r"&&!Re?getNearestRadialItems(Ae,_e,ke,Ie):getNearestCartesianItems(Ae,_e,ke,Re,Ie,Fe)}function getAxisItems(Ae,_e,ke,Re,Ie){const Fe=[],Ne=ke==="x"?"inXRange":"inYRange";let je=!1;return evaluateInteractionItems(Ae,ke,_e,(Be,He,We)=>{Be[Ne]&&Be[Ne](_e[ke],Ie)&&(Fe.push({element:Be,datasetIndex:He,index:We}),je=je||Be.inRange(_e.x,_e.y,Ie))}),Re&&!je?[]:Fe}var Interaction={modes:{index(Ae,_e,ke,Re){const Ie=getRelativePosition(_e,Ae),Fe=ke.axis||"x",Ne=ke.includeInvisible||!1,je=ke.intersect?getIntersectItems(Ae,Ie,Fe,Re,Ne):getNearestItems(Ae,Ie,Fe,!1,Re,Ne),Be=[];return je.length?(Ae.getSortedVisibleDatasetMetas().forEach(He=>{const We=je[0].index,Ge=He.data[We];Ge&&!Ge.skip&&Be.push({element:Ge,datasetIndex:He.index,index:We})}),Be):[]},dataset(Ae,_e,ke,Re){const Ie=getRelativePosition(_e,Ae),Fe=ke.axis||"xy",Ne=ke.includeInvisible||!1;let je=ke.intersect?getIntersectItems(Ae,Ie,Fe,Re,Ne):getNearestItems(Ae,Ie,Fe,!1,Re,Ne);if(je.length>0){const Be=je[0].datasetIndex,He=Ae.getDatasetMeta(Be).data;je=[];for(let We=0;We<He.length;++We)je.push({element:He[We],datasetIndex:Be,index:We})}return je},point(Ae,_e,ke,Re){const Ie=getRelativePosition(_e,Ae),Fe=ke.axis||"xy",Ne=ke.includeInvisible||!1;return getIntersectItems(Ae,Ie,Fe,Re,Ne)},nearest(Ae,_e,ke,Re){const Ie=getRelativePosition(_e,Ae),Fe=ke.axis||"xy",Ne=ke.includeInvisible||!1;return getNearestItems(Ae,Ie,Fe,ke.intersect,Re,Ne)},x(Ae,_e,ke,Re){const Ie=getRelativePosition(_e,Ae);return getAxisItems(Ae,Ie,"x",ke.intersect,Re)},y(Ae,_e,ke,Re){const Ie=getRelativePosition(_e,Ae);return getAxisItems(Ae,Ie,"y",ke.intersect,Re)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(Ae,_e){return Ae.filter(ke=>ke.pos===_e)}function filterDynamicPositionByAxis(Ae,_e){return Ae.filter(ke=>STATIC_POSITIONS.indexOf(ke.pos)===-1&&ke.box.axis===_e)}function sortByWeight(Ae,_e){return Ae.sort((ke,Re)=>{const Ie=_e?Re:ke,Fe=_e?ke:Re;return Ie.weight===Fe.weight?Ie.index-Fe.index:Ie.weight-Fe.weight})}function wrapBoxes(Ae){const _e=[];let ke,Re,Ie,Fe,Ne,je;for(ke=0,Re=(Ae||[]).length;ke<Re;++ke)Ie=Ae[ke],{position:Fe,options:{stack:Ne,stackWeight:je=1}}=Ie,_e.push({index:ke,box:Ie,pos:Fe,horizontal:Ie.isHorizontal(),weight:Ie.weight,stack:Ne&&Fe+Ne,stackWeight:je});return _e}function buildStacks(Ae){const _e={};for(const ke of Ae){const{stack:Re,pos:Ie,stackWeight:Fe}=ke;if(!Re||!STATIC_POSITIONS.includes(Ie))continue;const Ne=_e[Re]||(_e[Re]={count:0,placed:0,weight:0,size:0});Ne.count++,Ne.weight+=Fe}return _e}function setLayoutDims(Ae,_e){const ke=buildStacks(Ae),{vBoxMaxWidth:Re,hBoxMaxHeight:Ie}=_e;let Fe,Ne,je;for(Fe=0,Ne=Ae.length;Fe<Ne;++Fe){je=Ae[Fe];const{fullSize:Be}=je.box,He=ke[je.stack],We=He&&je.stackWeight/He.weight;je.horizontal?(je.width=We?We*Re:Be&&_e.availableWidth,je.height=Ie):(je.width=Re,je.height=We?We*Ie:Be&&_e.availableHeight)}return ke}function buildLayoutBoxes(Ae){const _e=wrapBoxes(Ae),ke=sortByWeight(_e.filter(He=>He.box.fullSize),!0),Re=sortByWeight(filterByPosition(_e,"left"),!0),Ie=sortByWeight(filterByPosition(_e,"right")),Fe=sortByWeight(filterByPosition(_e,"top"),!0),Ne=sortByWeight(filterByPosition(_e,"bottom")),je=filterDynamicPositionByAxis(_e,"x"),Be=filterDynamicPositionByAxis(_e,"y");return{fullSize:ke,leftAndTop:Re.concat(Fe),rightAndBottom:Ie.concat(Be).concat(Ne).concat(je),chartArea:filterByPosition(_e,"chartArea"),vertical:Re.concat(Ie).concat(Be),horizontal:Fe.concat(Ne).concat(je)}}function getCombinedMax(Ae,_e,ke,Re){return Math.max(Ae[ke],_e[ke])+Math.max(Ae[Re],_e[Re])}function updateMaxPadding(Ae,_e){Ae.top=Math.max(Ae.top,_e.top),Ae.left=Math.max(Ae.left,_e.left),Ae.bottom=Math.max(Ae.bottom,_e.bottom),Ae.right=Math.max(Ae.right,_e.right)}function updateDims(Ae,_e,ke,Re){const{pos:Ie,box:Fe}=ke,Ne=Ae.maxPadding;if(!isObject(Ie)){ke.size&&(Ae[Ie]-=ke.size);const Ge=Re[ke.stack]||{size:0,count:1};Ge.size=Math.max(Ge.size,ke.horizontal?Fe.height:Fe.width),ke.size=Ge.size/Ge.count,Ae[Ie]+=ke.size}Fe.getPadding&&updateMaxPadding(Ne,Fe.getPadding());const je=Math.max(0,_e.outerWidth-getCombinedMax(Ne,Ae,"left","right")),Be=Math.max(0,_e.outerHeight-getCombinedMax(Ne,Ae,"top","bottom")),He=je!==Ae.w,We=Be!==Ae.h;return Ae.w=je,Ae.h=Be,ke.horizontal?{same:He,other:We}:{same:We,other:He}}function handleMaxPadding(Ae){const _e=Ae.maxPadding;function ke(Re){const Ie=Math.max(_e[Re]-Ae[Re],0);return Ae[Re]+=Ie,Ie}Ae.y+=ke("top"),Ae.x+=ke("left"),ke("right"),ke("bottom")}function getMargins(Ae,_e){const ke=_e.maxPadding;function Re(Ie){const Fe={left:0,top:0,right:0,bottom:0};return Ie.forEach(Ne=>{Fe[Ne]=Math.max(_e[Ne],ke[Ne])}),Fe}return Re(Ae?["left","right"]:["top","bottom"])}function fitBoxes(Ae,_e,ke,Re){const Ie=[];let Fe,Ne,je,Be,He,We;for(Fe=0,Ne=Ae.length,He=0;Fe<Ne;++Fe){je=Ae[Fe],Be=je.box,Be.update(je.width||_e.w,je.height||_e.h,getMargins(je.horizontal,_e));const{same:Ge,other:Xe}=updateDims(_e,ke,je,Re);He|=Ge&&Ie.length,We=We||Xe,Be.fullSize||Ie.push(je)}return He&&fitBoxes(Ie,_e,ke,Re)||We}function setBoxDims(Ae,_e,ke,Re,Ie){Ae.top=ke,Ae.left=_e,Ae.right=_e+Re,Ae.bottom=ke+Ie,Ae.width=Re,Ae.height=Ie}function placeBoxes(Ae,_e,ke,Re){const Ie=ke.padding;let{x:Fe,y:Ne}=_e;for(const je of Ae){const Be=je.box,He=Re[je.stack]||{placed:0,weight:1},We=je.stackWeight/He.weight||1;if(je.horizontal){const Ge=_e.w*We,Xe=He.size||Be.height;defined(He.start)&&(Ne=He.start),Be.fullSize?setBoxDims(Be,Ie.left,Ne,ke.outerWidth-Ie.right-Ie.left,Xe):setBoxDims(Be,_e.left+He.placed,Ne,Ge,Xe),He.start=Ne,He.placed+=Ge,Ne=Be.bottom}else{const Ge=_e.h*We,Xe=He.size||Be.width;defined(He.start)&&(Fe=He.start),Be.fullSize?setBoxDims(Be,Fe,Ie.top,Xe,ke.outerHeight-Ie.bottom-Ie.top):setBoxDims(Be,Fe,_e.top+He.placed,Xe,Ge),He.start=Fe,He.placed+=Ge,Fe=Be.right}}_e.x=Fe,_e.y=Ne}var layouts={addBox(Ae,_e){Ae.boxes||(Ae.boxes=[]),_e.fullSize=_e.fullSize||!1,_e.position=_e.position||"top",_e.weight=_e.weight||0,_e._layers=_e._layers||function(){return[{z:0,draw(ke){_e.draw(ke)}}]},Ae.boxes.push(_e)},removeBox(Ae,_e){const ke=Ae.boxes?Ae.boxes.indexOf(_e):-1;ke!==-1&&Ae.boxes.splice(ke,1)},configure(Ae,_e,ke){_e.fullSize=ke.fullSize,_e.position=ke.position,_e.weight=ke.weight},update(Ae,_e,ke,Re){if(!Ae)return;const Ie=toPadding(Ae.options.layout.padding),Fe=Math.max(_e-Ie.width,0),Ne=Math.max(ke-Ie.height,0),je=buildLayoutBoxes(Ae.boxes),Be=je.vertical,He=je.horizontal;each(Ae.boxes,Ue=>{typeof Ue.beforeLayout=="function"&&Ue.beforeLayout()});const We=Be.reduce((Ue,Ye)=>Ye.box.options&&Ye.box.options.display===!1?Ue:Ue+1,0)||1,Ge=Object.freeze({outerWidth:_e,outerHeight:ke,padding:Ie,availableWidth:Fe,availableHeight:Ne,vBoxMaxWidth:Fe/2/We,hBoxMaxHeight:Ne/2}),Xe=Object.assign({},Ie);updateMaxPadding(Xe,toPadding(Re));const $e=Object.assign({maxPadding:Xe,w:Fe,h:Ne,x:Ie.left,y:Ie.top},Ie),qe=setLayoutDims(Be.concat(He),Ge);fitBoxes(je.fullSize,$e,Ge,qe),fitBoxes(Be,$e,Ge,qe),fitBoxes(He,$e,Ge,qe)&&fitBoxes(Be,$e,Ge,qe),handleMaxPadding($e),placeBoxes(je.leftAndTop,$e,Ge,qe),$e.x+=$e.w,$e.y+=$e.h,placeBoxes(je.rightAndBottom,$e,Ge,qe),Ae.chartArea={left:$e.left,top:$e.top,right:$e.left+$e.w,bottom:$e.top+$e.h,height:$e.h,width:$e.w},each(je.chartArea,Ue=>{const Ye=Ue.box;Object.assign(Ye,Ae.chartArea),Ye.update($e.w,$e.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(_e,ke){}releaseContext(_e){return!1}addEventListener(_e,ke,Re){}removeEventListener(_e,ke,Re){}getDevicePixelRatio(){return 1}getMaximumSize(_e,ke,Re,Ie){return ke=Math.max(0,ke||_e.width),Re=Re||_e.height,{width:ke,height:Math.max(0,Ie?Math.floor(ke/Ie):Re)}}isAttached(_e){return!0}updateConfig(_e){}}class BasicPlatform extends BasePlatform{acquireContext(_e){return _e&&_e.getContext&&_e.getContext("2d")||null}updateConfig(_e){_e.options.animation=!1}}const EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=Ae=>Ae===null||Ae==="";function initCanvas(Ae,_e){const ke=Ae.style,Re=Ae.getAttribute("height"),Ie=Ae.getAttribute("width");if(Ae[EXPANDO_KEY]={initial:{height:Re,width:Ie,style:{display:ke.display,height:ke.height,width:ke.width}}},ke.display=ke.display||"block",ke.boxSizing=ke.boxSizing||"border-box",isNullOrEmpty(Ie)){const Fe=readUsedSize(Ae,"width");Fe!==void 0&&(Ae.width=Fe)}if(isNullOrEmpty(Re))if(Ae.style.height==="")Ae.height=Ae.width/(_e||2);else{const Fe=readUsedSize(Ae,"height");Fe!==void 0&&(Ae.height=Fe)}return Ae}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(Ae,_e,ke){Ae&&Ae.addEventListener(_e,ke,eventListenerOptions)}function removeListener(Ae,_e,ke){Ae&&Ae.canvas&&Ae.canvas.removeEventListener(_e,ke,eventListenerOptions)}function fromNativeEvent(Ae,_e){const ke=EVENT_TYPES[Ae.type]||Ae.type,{x:Re,y:Ie}=getRelativePosition(Ae,_e);return{type:ke,chart:_e,native:Ae,x:Re!==void 0?Re:null,y:Ie!==void 0?Ie:null}}function nodeListContains(Ae,_e){for(const ke of Ae)if(ke===_e||ke.contains(_e))return!0}function createAttachObserver(Ae,_e,ke){const Re=Ae.canvas,Ie=new MutationObserver(Fe=>{let Ne=!1;for(const je of Fe)Ne=Ne||nodeListContains(je.addedNodes,Re),Ne=Ne&&!nodeListContains(je.removedNodes,Re);Ne&&ke()});return Ie.observe(document,{childList:!0,subtree:!0}),Ie}function createDetachObserver(Ae,_e,ke){const Re=Ae.canvas,Ie=new MutationObserver(Fe=>{let Ne=!1;for(const je of Fe)Ne=Ne||nodeListContains(je.removedNodes,Re),Ne=Ne&&!nodeListContains(je.addedNodes,Re);Ne&&ke()});return Ie.observe(document,{childList:!0,subtree:!0}),Ie}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const Ae=window.devicePixelRatio;Ae!==oldDevicePixelRatio&&(oldDevicePixelRatio=Ae,drpListeningCharts.forEach((_e,ke)=>{ke.currentDevicePixelRatio!==Ae&&_e()}))}function listenDevicePixelRatioChanges(Ae,_e){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(Ae,_e)}function unlistenDevicePixelRatioChanges(Ae){drpListeningCharts.delete(Ae),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(Ae,_e,ke){const Re=Ae.canvas,Ie=Re&&_getParentNode(Re);if(!Ie)return;const Fe=throttled((je,Be)=>{const He=Ie.clientWidth;ke(je,Be),He<Ie.clientWidth&&ke()},window),Ne=new ResizeObserver(je=>{const Be=je[0],He=Be.contentRect.width,We=Be.contentRect.height;He===0&&We===0||Fe(He,We)});return Ne.observe(Ie),listenDevicePixelRatioChanges(Ae,Fe),Ne}function releaseObserver(Ae,_e,ke){ke&&ke.disconnect(),_e==="resize"&&unlistenDevicePixelRatioChanges(Ae)}function createProxyAndListen(Ae,_e,ke){const Re=Ae.canvas,Ie=throttled(Fe=>{Ae.ctx!==null&&ke(fromNativeEvent(Fe,Ae))},Ae);return addListener(Re,_e,Ie),Ie}class DomPlatform extends BasePlatform{acquireContext(_e,ke){const Re=_e&&_e.getContext&&_e.getContext("2d");return Re&&Re.canvas===_e?(initCanvas(_e,ke),Re):null}releaseContext(_e){const ke=_e.canvas;if(!ke[EXPANDO_KEY])return!1;const Re=ke[EXPANDO_KEY].initial;["height","width"].forEach(Fe=>{const Ne=Re[Fe];isNullOrUndef(Ne)?ke.removeAttribute(Fe):ke.setAttribute(Fe,Ne)});const Ie=Re.style||{};return Object.keys(Ie).forEach(Fe=>{ke.style[Fe]=Ie[Fe]}),ke.width=ke.width,delete ke[EXPANDO_KEY],!0}addEventListener(_e,ke,Re){this.removeEventListener(_e,ke);const Ie=_e.$proxies||(_e.$proxies={}),Ne={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[ke]||createProxyAndListen;Ie[ke]=Ne(_e,ke,Re)}removeEventListener(_e,ke){const Re=_e.$proxies||(_e.$proxies={}),Ie=Re[ke];if(!Ie)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[ke]||removeListener)(_e,ke,Ie),Re[ke]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(_e,ke,Re,Ie){return getMaximumSize(_e,ke,Re,Ie)}isAttached(_e){const ke=_e&&_getParentNode(_e);return!!(ke&&ke.isConnected)}}function _detectPlatform(Ae){return!_isDomSupported()||typeof OffscreenCanvas<"u"&&Ae instanceof OffscreenCanvas?BasicPlatform:DomPlatform}var uu;let Element$1=(uu=class{constructor(){br(this,"x");br(this,"y");br(this,"active",!1);br(this,"options");br(this,"$animations")}tooltipPosition(_e){const{x:ke,y:Re}=this.getProps(["x","y"],_e);return{x:ke,y:Re}}hasValue(){return isNumber(this.x)&&isNumber(this.y)}getProps(_e,ke){const Re=this.$animations;if(!ke||!Re)return this;const Ie={};return _e.forEach(Fe=>{Ie[Fe]=Re[Fe]&&Re[Fe].active()?Re[Fe]._to:this[Fe]}),Ie}},br(uu,"defaults",{}),br(uu,"defaultRoutes"),uu);function autoSkip(Ae,_e){const ke=Ae.options.ticks,Re=determineMaxTicks(Ae),Ie=Math.min(ke.maxTicksLimit||Re,Re),Fe=ke.major.enabled?getMajorIndices(_e):[],Ne=Fe.length,je=Fe[0],Be=Fe[Ne-1],He=[];if(Ne>Ie)return skipMajors(_e,He,Fe,Ne/Ie),He;const We=calculateSpacing(Fe,_e,Ie);if(Ne>0){let Ge,Xe;const $e=Ne>1?Math.round((Be-je)/(Ne-1)):null;for(skip(_e,He,We,isNullOrUndef($e)?0:je-$e,je),Ge=0,Xe=Ne-1;Ge<Xe;Ge++)skip(_e,He,We,Fe[Ge],Fe[Ge+1]);return skip(_e,He,We,Be,isNullOrUndef($e)?_e.length:Be+$e),He}return skip(_e,He,We),He}function determineMaxTicks(Ae){const _e=Ae.options.offset,ke=Ae._tickSize(),Re=Ae._length/ke+(_e?0:1),Ie=Ae._maxLength/ke;return Math.floor(Math.min(Re,Ie))}function calculateSpacing(Ae,_e,ke){const Re=getEvenSpacing(Ae),Ie=_e.length/ke;if(!Re)return Math.max(Ie,1);const Fe=_factorize(Re);for(let Ne=0,je=Fe.length-1;Ne<je;Ne++){const Be=Fe[Ne];if(Be>Ie)return Be}return Math.max(Ie,1)}function getMajorIndices(Ae){const _e=[];let ke,Re;for(ke=0,Re=Ae.length;ke<Re;ke++)Ae[ke].major&&_e.push(ke);return _e}function skipMajors(Ae,_e,ke,Re){let Ie=0,Fe=ke[0],Ne;for(Re=Math.ceil(Re),Ne=0;Ne<Ae.length;Ne++)Ne===Fe&&(_e.push(Ae[Ne]),Ie++,Fe=ke[Ie*Re])}function skip(Ae,_e,ke,Re,Ie){const Fe=valueOrDefault(Re,0),Ne=Math.min(valueOrDefault(Ie,Ae.length),Ae.length);let je=0,Be,He,We;for(ke=Math.ceil(ke),Ie&&(Be=Ie-Re,ke=Be/Math.floor(Be/ke)),We=Fe;We<0;)je++,We=Math.round(Fe+je*ke);for(He=Math.max(Fe,0);He<Ne;He++)He===We&&(_e.push(Ae[He]),je++,We=Math.round(Fe+je*ke))}function getEvenSpacing(Ae){const _e=Ae.length;let ke,Re;if(_e<2)return!1;for(Re=Ae[0],ke=1;ke<_e;++ke)if(Ae[ke]-Ae[ke-1]!==Re)return!1;return Re}const reverseAlign=Ae=>Ae==="left"?"right":Ae==="right"?"left":Ae,offsetFromEdge=(Ae,_e,ke)=>_e==="top"||_e==="left"?Ae[_e]+ke:Ae[_e]-ke,getTicksLimit=(Ae,_e)=>Math.min(_e||Ae,Ae);function sample(Ae,_e){const ke=[],Re=Ae.length/_e,Ie=Ae.length;let Fe=0;for(;Fe<Ie;Fe+=Re)ke.push(Ae[Math.floor(Fe)]);return ke}function getPixelForGridLine(Ae,_e,ke){const Re=Ae.ticks.length,Ie=Math.min(_e,Re-1),Fe=Ae._startPixel,Ne=Ae._endPixel,je=1e-6;let Be=Ae.getPixelForTick(Ie),He;if(!(ke&&(Re===1?He=Math.max(Be-Fe,Ne-Be):_e===0?He=(Ae.getPixelForTick(1)-Be)/2:He=(Be-Ae.getPixelForTick(Ie-1))/2,Be+=Ie<_e?He:-He,Be<Fe-je||Be>Ne+je)))return Be}function garbageCollect(Ae,_e){each(Ae,ke=>{const Re=ke.gc,Ie=Re.length/2;let Fe;if(Ie>_e){for(Fe=0;Fe<Ie;++Fe)delete ke.data[Re[Fe]];Re.splice(0,Ie)}})}function getTickMarkLength(Ae){return Ae.drawTicks?Ae.tickLength:0}function getTitleHeight(Ae,_e){if(!Ae.display)return 0;const ke=toFont(Ae.font,_e),Re=toPadding(Ae.padding);return(isArray(Ae.text)?Ae.text.length:1)*ke.lineHeight+Re.height}function createScaleContext(Ae,_e){return createContext(Ae,{scale:_e,type:"scale"})}function createTickContext(Ae,_e,ke){return createContext(Ae,{tick:ke,index:_e,type:"tick"})}function titleAlign(Ae,_e,ke){let Re=_toLeftRightCenter(Ae);return(ke&&_e!=="right"||!ke&&_e==="right")&&(Re=reverseAlign(Re)),Re}function titleArgs(Ae,_e,ke,Re){const{top:Ie,left:Fe,bottom:Ne,right:je,chart:Be}=Ae,{chartArea:He,scales:We}=Be;let Ge=0,Xe,$e,qe;const Ue=Ne-Ie,Ye=je-Fe;if(Ae.isHorizontal()){if($e=_alignStartEnd(Re,Fe,je),isObject(ke)){const Ze=Object.keys(ke)[0],Qe=ke[Ze];qe=We[Ze].getPixelForValue(Qe)+Ue-_e}else ke==="center"?qe=(He.bottom+He.top)/2+Ue-_e:qe=offsetFromEdge(Ae,ke,_e);Xe=je-Fe}else{if(isObject(ke)){const Ze=Object.keys(ke)[0],Qe=ke[Ze];$e=We[Ze].getPixelForValue(Qe)-Ye+_e}else ke==="center"?$e=(He.left+He.right)/2-Ye+_e:$e=offsetFromEdge(Ae,ke,_e);qe=_alignStartEnd(Re,Ne,Ie),Ge=ke==="left"?-HALF_PI:HALF_PI}return{titleX:$e,titleY:qe,maxWidth:Xe,rotation:Ge}}class Scale extends Element$1{constructor(_e){super(),this.id=_e.id,this.type=_e.type,this.options=void 0,this.ctx=_e.ctx,this.chart=_e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(_e){this.options=_e.setContext(this.getContext()),this.axis=_e.axis,this._userMin=this.parse(_e.min),this._userMax=this.parse(_e.max),this._suggestedMin=this.parse(_e.suggestedMin),this._suggestedMax=this.parse(_e.suggestedMax)}parse(_e,ke){return _e}getUserBounds(){let{_userMin:_e,_userMax:ke,_suggestedMin:Re,_suggestedMax:Ie}=this;return _e=finiteOrDefault(_e,Number.POSITIVE_INFINITY),ke=finiteOrDefault(ke,Number.NEGATIVE_INFINITY),Re=finiteOrDefault(Re,Number.POSITIVE_INFINITY),Ie=finiteOrDefault(Ie,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(_e,Re),max:finiteOrDefault(ke,Ie),minDefined:isNumberFinite(_e),maxDefined:isNumberFinite(ke)}}getMinMax(_e){let{min:ke,max:Re,minDefined:Ie,maxDefined:Fe}=this.getUserBounds(),Ne;if(Ie&&Fe)return{min:ke,max:Re};const je=this.getMatchingVisibleMetas();for(let Be=0,He=je.length;Be<He;++Be)Ne=je[Be].controller.getMinMax(this,_e),Ie||(ke=Math.min(ke,Ne.min)),Fe||(Re=Math.max(Re,Ne.max));return ke=Fe&&ke>Re?Re:ke,Re=Ie&&ke>Re?ke:Re,{min:finiteOrDefault(ke,finiteOrDefault(Re,ke)),max:finiteOrDefault(Re,finiteOrDefault(ke,Re))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const _e=this.chart.data;return this.options.labels||(this.isHorizontal()?_e.xLabels:_e.yLabels)||_e.labels||[]}getLabelItems(_e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(_e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(_e,ke,Re){const{beginAtZero:Ie,grace:Fe,ticks:Ne}=this.options,je=Ne.sampleSize;this.beforeUpdate(),this.maxWidth=_e,this.maxHeight=ke,this._margins=Re=Object.assign({left:0,right:0,top:0,bottom:0},Re),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+Re.left+Re.right:this.height+Re.top+Re.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,Fe,Ie),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const Be=je<this.ticks.length;this._convertTicksToLabels(Be?sample(this.ticks,je):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),Ne.display&&(Ne.autoSkip||Ne.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),Be&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let _e=this.options.reverse,ke,Re;this.isHorizontal()?(ke=this.left,Re=this.right):(ke=this.top,Re=this.bottom,_e=!_e),this._startPixel=ke,this._endPixel=Re,this._reversePixels=_e,this._length=Re-ke,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(_e){this.chart.notifyPlugins(_e,this.getContext()),callback(this.options[_e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(_e){const ke=this.options.ticks;let Re,Ie,Fe;for(Re=0,Ie=_e.length;Re<Ie;Re++)Fe=_e[Re],Fe.label=callback(ke.callback,[Fe.value,Re,_e],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const _e=this.options,ke=_e.ticks,Re=getTicksLimit(this.ticks.length,_e.ticks.maxTicksLimit),Ie=ke.minRotation||0,Fe=ke.maxRotation;let Ne=Ie,je,Be,He;if(!this._isVisible()||!ke.display||Ie>=Fe||Re<=1||!this.isHorizontal()){this.labelRotation=Ie;return}const We=this._getLabelSizes(),Ge=We.widest.width,Xe=We.highest.height,$e=_limitValue(this.chart.width-Ge,0,this.maxWidth);je=_e.offset?this.maxWidth/Re:$e/(Re-1),Ge+6>je&&(je=$e/(Re-(_e.offset?.5:1)),Be=this.maxHeight-getTickMarkLength(_e.grid)-ke.padding-getTitleHeight(_e.title,this.chart.options.font),He=Math.sqrt(Ge*Ge+Xe*Xe),Ne=toDegrees(Math.min(Math.asin(_limitValue((We.highest.height+6)/je,-1,1)),Math.asin(_limitValue(Be/He,-1,1))-Math.asin(_limitValue(Xe/He,-1,1)))),Ne=Math.max(Ie,Math.min(Fe,Ne))),this.labelRotation=Ne}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const _e={width:0,height:0},{chart:ke,options:{ticks:Re,title:Ie,grid:Fe}}=this,Ne=this._isVisible(),je=this.isHorizontal();if(Ne){const Be=getTitleHeight(Ie,ke.options.font);if(je?(_e.width=this.maxWidth,_e.height=getTickMarkLength(Fe)+Be):(_e.height=this.maxHeight,_e.width=getTickMarkLength(Fe)+Be),Re.display&&this.ticks.length){const{first:He,last:We,widest:Ge,highest:Xe}=this._getLabelSizes(),$e=Re.padding*2,qe=toRadians(this.labelRotation),Ue=Math.cos(qe),Ye=Math.sin(qe);if(je){const Ze=Re.mirror?0:Ye*Ge.width+Ue*Xe.height;_e.height=Math.min(this.maxHeight,_e.height+Ze+$e)}else{const Ze=Re.mirror?0:Ue*Ge.width+Ye*Xe.height;_e.width=Math.min(this.maxWidth,_e.width+Ze+$e)}this._calculatePadding(He,We,Ye,Ue)}}this._handleMargins(),je?(this.width=this._length=ke.width-this._margins.left-this._margins.right,this.height=_e.height):(this.width=_e.width,this.height=this._length=ke.height-this._margins.top-this._margins.bottom)}_calculatePadding(_e,ke,Re,Ie){const{ticks:{align:Fe,padding:Ne},position:je}=this.options,Be=this.labelRotation!==0,He=je!=="top"&&this.axis==="x";if(this.isHorizontal()){const We=this.getPixelForTick(0)-this.left,Ge=this.right-this.getPixelForTick(this.ticks.length-1);let Xe=0,$e=0;Be?He?(Xe=Ie*_e.width,$e=Re*ke.height):(Xe=Re*_e.height,$e=Ie*ke.width):Fe==="start"?$e=ke.width:Fe==="end"?Xe=_e.width:Fe!=="inner"&&(Xe=_e.width/2,$e=ke.width/2),this.paddingLeft=Math.max((Xe-We+Ne)*this.width/(this.width-We),0),this.paddingRight=Math.max(($e-Ge+Ne)*this.width/(this.width-Ge),0)}else{let We=ke.height/2,Ge=_e.height/2;Fe==="start"?(We=0,Ge=_e.height):Fe==="end"&&(We=ke.height,Ge=0),this.paddingTop=We+Ne,this.paddingBottom=Ge+Ne}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:_e,position:ke}=this.options;return ke==="top"||ke==="bottom"||_e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(_e){this.beforeTickToLabelConversion(),this.generateTickLabels(_e);let ke,Re;for(ke=0,Re=_e.length;ke<Re;ke++)isNullOrUndef(_e[ke].label)&&(_e.splice(ke,1),Re--,ke--);this.afterTickToLabelConversion()}_getLabelSizes(){let _e=this._labelSizes;if(!_e){const ke=this.options.ticks.sampleSize;let Re=this.ticks;ke<Re.length&&(Re=sample(Re,ke)),this._labelSizes=_e=this._computeLabelSizes(Re,Re.length,this.options.ticks.maxTicksLimit)}return _e}_computeLabelSizes(_e,ke,Re){const{ctx:Ie,_longestTextCache:Fe}=this,Ne=[],je=[],Be=Math.floor(ke/getTicksLimit(ke,Re));let He=0,We=0,Ge,Xe,$e,qe,Ue,Ye,Ze,Qe,pn,nn,rn;for(Ge=0;Ge<ke;Ge+=Be){if(qe=_e[Ge].label,Ue=this._resolveTickFontOptions(Ge),Ie.font=Ye=Ue.string,Ze=Fe[Ye]=Fe[Ye]||{data:{},gc:[]},Qe=Ue.lineHeight,pn=nn=0,!isNullOrUndef(qe)&&!isArray(qe))pn=_measureText(Ie,Ze.data,Ze.gc,pn,qe),nn=Qe;else if(isArray(qe))for(Xe=0,$e=qe.length;Xe<$e;++Xe)rn=qe[Xe],!isNullOrUndef(rn)&&!isArray(rn)&&(pn=_measureText(Ie,Ze.data,Ze.gc,pn,rn),nn+=Qe);Ne.push(pn),je.push(nn),He=Math.max(pn,He),We=Math.max(nn,We)}garbageCollect(Fe,ke);const cn=Ne.indexOf(He),tn=je.indexOf(We),Je=an=>({width:Ne[an]||0,height:je[an]||0});return{first:Je(0),last:Je(ke-1),widest:Je(cn),highest:Je(tn),widths:Ne,heights:je}}getLabelForValue(_e){return _e}getPixelForValue(_e,ke){return NaN}getValueForPixel(_e){}getPixelForTick(_e){const ke=this.ticks;return _e<0||_e>ke.length-1?null:this.getPixelForValue(ke[_e].value)}getPixelForDecimal(_e){this._reversePixels&&(_e=1-_e);const ke=this._startPixel+_e*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,ke,0):ke)}getDecimalForPixel(_e){const ke=(_e-this._startPixel)/this._length;return this._reversePixels?1-ke:ke}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:_e,max:ke}=this;return _e<0&&ke<0?ke:_e>0&&ke>0?_e:0}getContext(_e){const ke=this.ticks||[];if(_e>=0&&_e<ke.length){const Re=ke[_e];return Re.$context||(Re.$context=createTickContext(this.getContext(),_e,Re))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const _e=this.options.ticks,ke=toRadians(this.labelRotation),Re=Math.abs(Math.cos(ke)),Ie=Math.abs(Math.sin(ke)),Fe=this._getLabelSizes(),Ne=_e.autoSkipPadding||0,je=Fe?Fe.widest.width+Ne:0,Be=Fe?Fe.highest.height+Ne:0;return this.isHorizontal()?Be*Re>je*Ie?je/Re:Be/Ie:Be*Ie<je*Re?Be/Re:je/Ie}_isVisible(){const _e=this.options.display;return _e!=="auto"?!!_e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(_e){const ke=this.axis,Re=this.chart,Ie=this.options,{grid:Fe,position:Ne,border:je}=Ie,Be=Fe.offset,He=this.isHorizontal(),Ge=this.ticks.length+(Be?1:0),Xe=getTickMarkLength(Fe),$e=[],qe=je.setContext(this.getContext()),Ue=qe.display?qe.width:0,Ye=Ue/2,Ze=function(En){return _alignPixel(Re,En,Ue)};let Qe,pn,nn,rn,cn,tn,Je,an,gn,Ke,sn,hn;if(Ne==="top")Qe=Ze(this.bottom),tn=this.bottom-Xe,an=Qe-Ye,Ke=Ze(_e.top)+Ye,hn=_e.bottom;else if(Ne==="bottom")Qe=Ze(this.top),Ke=_e.top,hn=Ze(_e.bottom)-Ye,tn=Qe+Ye,an=this.top+Xe;else if(Ne==="left")Qe=Ze(this.right),cn=this.right-Xe,Je=Qe-Ye,gn=Ze(_e.left)+Ye,sn=_e.right;else if(Ne==="right")Qe=Ze(this.left),gn=_e.left,sn=Ze(_e.right)-Ye,cn=Qe+Ye,Je=this.left+Xe;else if(ke==="x"){if(Ne==="center")Qe=Ze((_e.top+_e.bottom)/2+.5);else if(isObject(Ne)){const En=Object.keys(Ne)[0],yn=Ne[En];Qe=Ze(this.chart.scales[En].getPixelForValue(yn))}Ke=_e.top,hn=_e.bottom,tn=Qe+Ye,an=tn+Xe}else if(ke==="y"){if(Ne==="center")Qe=Ze((_e.left+_e.right)/2);else if(isObject(Ne)){const En=Object.keys(Ne)[0],yn=Ne[En];Qe=Ze(this.chart.scales[En].getPixelForValue(yn))}cn=Qe-Ye,Je=cn-Xe,gn=_e.left,sn=_e.right}const Cn=valueOrDefault(Ie.ticks.maxTicksLimit,Ge),bn=Math.max(1,Math.ceil(Ge/Cn));for(pn=0;pn<Ge;pn+=bn){const En=this.getContext(pn),yn=Fe.setContext(En),xn=je.setContext(En),vn=yn.lineWidth,kn=yn.color,Sn=xn.dash||[],fn=xn.dashOffset,on=yn.tickWidth,ln=yn.tickColor,_n=yn.tickBorderDash||[],Tn=yn.tickBorderDashOffset;nn=getPixelForGridLine(this,pn,Be),nn!==void 0&&(rn=_alignPixel(Re,nn,vn),He?cn=Je=gn=sn=rn:tn=an=Ke=hn=rn,$e.push({tx1:cn,ty1:tn,tx2:Je,ty2:an,x1:gn,y1:Ke,x2:sn,y2:hn,width:vn,color:kn,borderDash:Sn,borderDashOffset:fn,tickWidth:on,tickColor:ln,tickBorderDash:_n,tickBorderDashOffset:Tn}))}return this._ticksLength=Ge,this._borderValue=Qe,$e}_computeLabelItems(_e){const ke=this.axis,Re=this.options,{position:Ie,ticks:Fe}=Re,Ne=this.isHorizontal(),je=this.ticks,{align:Be,crossAlign:He,padding:We,mirror:Ge}=Fe,Xe=getTickMarkLength(Re.grid),$e=Xe+We,qe=Ge?-We:$e,Ue=-toRadians(this.labelRotation),Ye=[];let Ze,Qe,pn,nn,rn,cn,tn,Je,an,gn,Ke,sn,hn="middle";if(Ie==="top")cn=this.bottom-qe,tn=this._getXAxisLabelAlignment();else if(Ie==="bottom")cn=this.top+qe,tn=this._getXAxisLabelAlignment();else if(Ie==="left"){const bn=this._getYAxisLabelAlignment(Xe);tn=bn.textAlign,rn=bn.x}else if(Ie==="right"){const bn=this._getYAxisLabelAlignment(Xe);tn=bn.textAlign,rn=bn.x}else if(ke==="x"){if(Ie==="center")cn=(_e.top+_e.bottom)/2+$e;else if(isObject(Ie)){const bn=Object.keys(Ie)[0],En=Ie[bn];cn=this.chart.scales[bn].getPixelForValue(En)+$e}tn=this._getXAxisLabelAlignment()}else if(ke==="y"){if(Ie==="center")rn=(_e.left+_e.right)/2-$e;else if(isObject(Ie)){const bn=Object.keys(Ie)[0],En=Ie[bn];rn=this.chart.scales[bn].getPixelForValue(En)}tn=this._getYAxisLabelAlignment(Xe).textAlign}ke==="y"&&(Be==="start"?hn="top":Be==="end"&&(hn="bottom"));const Cn=this._getLabelSizes();for(Ze=0,Qe=je.length;Ze<Qe;++Ze){pn=je[Ze],nn=pn.label;const bn=Fe.setContext(this.getContext(Ze));Je=this.getPixelForTick(Ze)+Fe.labelOffset,an=this._resolveTickFontOptions(Ze),gn=an.lineHeight,Ke=isArray(nn)?nn.length:1;const En=Ke/2,yn=bn.color,xn=bn.textStrokeColor,vn=bn.textStrokeWidth;let kn=tn;Ne?(rn=Je,tn==="inner"&&(Ze===Qe-1?kn=this.options.reverse?"left":"right":Ze===0?kn=this.options.reverse?"right":"left":kn="center"),Ie==="top"?He==="near"||Ue!==0?sn=-Ke*gn+gn/2:He==="center"?sn=-Cn.highest.height/2-En*gn+gn:sn=-Cn.highest.height+gn/2:He==="near"||Ue!==0?sn=gn/2:He==="center"?sn=Cn.highest.height/2-En*gn:sn=Cn.highest.height-Ke*gn,Ge&&(sn*=-1),Ue!==0&&!bn.showLabelBackdrop&&(rn+=gn/2*Math.sin(Ue))):(cn=Je,sn=(1-Ke)*gn/2);let Sn;if(bn.showLabelBackdrop){const fn=toPadding(bn.backdropPadding),on=Cn.heights[Ze],ln=Cn.widths[Ze];let _n=sn-fn.top,Tn=0-fn.left;switch(hn){case"middle":_n-=on/2;break;case"bottom":_n-=on;break}switch(tn){case"center":Tn-=ln/2;break;case"right":Tn-=ln;break;case"inner":Ze===Qe-1?Tn-=ln:Ze>0&&(Tn-=ln/2);break}Sn={left:Tn,top:_n,width:ln+fn.width,height:on+fn.height,color:bn.backdropColor}}Ye.push({label:nn,font:an,textOffset:sn,options:{rotation:Ue,color:yn,strokeColor:xn,strokeWidth:vn,textAlign:kn,textBaseline:hn,translation:[rn,cn],backdrop:Sn}})}return Ye}_getXAxisLabelAlignment(){const{position:_e,ticks:ke}=this.options;if(-toRadians(this.labelRotation))return _e==="top"?"left":"right";let Ie="center";return ke.align==="start"?Ie="left":ke.align==="end"?Ie="right":ke.align==="inner"&&(Ie="inner"),Ie}_getYAxisLabelAlignment(_e){const{position:ke,ticks:{crossAlign:Re,mirror:Ie,padding:Fe}}=this.options,Ne=this._getLabelSizes(),je=_e+Fe,Be=Ne.widest.width;let He,We;return ke==="left"?Ie?(We=this.right+Fe,Re==="near"?He="left":Re==="center"?(He="center",We+=Be/2):(He="right",We+=Be)):(We=this.right-je,Re==="near"?He="right":Re==="center"?(He="center",We-=Be/2):(He="left",We=this.left)):ke==="right"?Ie?(We=this.left+Fe,Re==="near"?He="right":Re==="center"?(He="center",We-=Be/2):(He="left",We-=Be)):(We=this.left+je,Re==="near"?He="left":Re==="center"?(He="center",We+=Be/2):(He="right",We=this.right)):He="right",{textAlign:He,x:We}}_computeLabelArea(){if(this.options.ticks.mirror)return;const _e=this.chart,ke=this.options.position;if(ke==="left"||ke==="right")return{top:0,left:this.left,bottom:_e.height,right:this.right};if(ke==="top"||ke==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:_e.width}}drawBackground(){const{ctx:_e,options:{backgroundColor:ke},left:Re,top:Ie,width:Fe,height:Ne}=this;ke&&(_e.save(),_e.fillStyle=ke,_e.fillRect(Re,Ie,Fe,Ne),_e.restore())}getLineWidthForValue(_e){const ke=this.options.grid;if(!this._isVisible()||!ke.display)return 0;const Ie=this.ticks.findIndex(Fe=>Fe.value===_e);return Ie>=0?ke.setContext(this.getContext(Ie)).lineWidth:0}drawGrid(_e){const ke=this.options.grid,Re=this.ctx,Ie=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(_e));let Fe,Ne;const je=(Be,He,We)=>{!We.width||!We.color||(Re.save(),Re.lineWidth=We.width,Re.strokeStyle=We.color,Re.setLineDash(We.borderDash||[]),Re.lineDashOffset=We.borderDashOffset,Re.beginPath(),Re.moveTo(Be.x,Be.y),Re.lineTo(He.x,He.y),Re.stroke(),Re.restore())};if(ke.display)for(Fe=0,Ne=Ie.length;Fe<Ne;++Fe){const Be=Ie[Fe];ke.drawOnChartArea&&je({x:Be.x1,y:Be.y1},{x:Be.x2,y:Be.y2},Be),ke.drawTicks&&je({x:Be.tx1,y:Be.ty1},{x:Be.tx2,y:Be.ty2},{color:Be.tickColor,width:Be.tickWidth,borderDash:Be.tickBorderDash,borderDashOffset:Be.tickBorderDashOffset})}}drawBorder(){const{chart:_e,ctx:ke,options:{border:Re,grid:Ie}}=this,Fe=Re.setContext(this.getContext()),Ne=Re.display?Fe.width:0;if(!Ne)return;const je=Ie.setContext(this.getContext(0)).lineWidth,Be=this._borderValue;let He,We,Ge,Xe;this.isHorizontal()?(He=_alignPixel(_e,this.left,Ne)-Ne/2,We=_alignPixel(_e,this.right,je)+je/2,Ge=Xe=Be):(Ge=_alignPixel(_e,this.top,Ne)-Ne/2,Xe=_alignPixel(_e,this.bottom,je)+je/2,He=We=Be),ke.save(),ke.lineWidth=Fe.width,ke.strokeStyle=Fe.color,ke.beginPath(),ke.moveTo(He,Ge),ke.lineTo(We,Xe),ke.stroke(),ke.restore()}drawLabels(_e){if(!this.options.ticks.display)return;const Re=this.ctx,Ie=this._computeLabelArea();Ie&&clipArea(Re,Ie);const Fe=this.getLabelItems(_e);for(const Ne of Fe){const je=Ne.options,Be=Ne.font,He=Ne.label,We=Ne.textOffset;renderText(Re,He,0,We,Be,je)}Ie&&unclipArea(Re)}drawTitle(){const{ctx:_e,options:{position:ke,title:Re,reverse:Ie}}=this;if(!Re.display)return;const Fe=toFont(Re.font),Ne=toPadding(Re.padding),je=Re.align;let Be=Fe.lineHeight/2;ke==="bottom"||ke==="center"||isObject(ke)?(Be+=Ne.bottom,isArray(Re.text)&&(Be+=Fe.lineHeight*(Re.text.length-1))):Be+=Ne.top;const{titleX:He,titleY:We,maxWidth:Ge,rotation:Xe}=titleArgs(this,Be,ke,je);renderText(_e,Re.text,0,0,Fe,{color:Re.color,maxWidth:Ge,rotation:Xe,textAlign:titleAlign(je,ke,Ie),textBaseline:"middle",translation:[He,We]})}draw(_e){this._isVisible()&&(this.drawBackground(),this.drawGrid(_e),this.drawBorder(),this.drawTitle(),this.drawLabels(_e))}_layers(){const _e=this.options,ke=_e.ticks&&_e.ticks.z||0,Re=valueOrDefault(_e.grid&&_e.grid.z,-1),Ie=valueOrDefault(_e.border&&_e.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:ke,draw:Fe=>{this.draw(Fe)}}]:[{z:Re,draw:Fe=>{this.drawBackground(),this.drawGrid(Fe),this.drawTitle()}},{z:Ie,draw:()=>{this.drawBorder()}},{z:ke,draw:Fe=>{this.drawLabels(Fe)}}]}getMatchingVisibleMetas(_e){const ke=this.chart.getSortedVisibleDatasetMetas(),Re=this.axis+"AxisID",Ie=[];let Fe,Ne;for(Fe=0,Ne=ke.length;Fe<Ne;++Fe){const je=ke[Fe];je[Re]===this.id&&(!_e||je.type===_e)&&Ie.push(je)}return Ie}_resolveTickFontOptions(_e){const ke=this.options.ticks.setContext(this.getContext(_e));return toFont(ke.font)}_maxDigits(){const _e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/_e}}class TypedRegistry{constructor(_e,ke,Re){this.type=_e,this.scope=ke,this.override=Re,this.items=Object.create(null)}isForType(_e){return Object.prototype.isPrototypeOf.call(this.type.prototype,_e.prototype)}register(_e){const ke=Object.getPrototypeOf(_e);let Re;isIChartComponent(ke)&&(Re=this.register(ke));const Ie=this.items,Fe=_e.id,Ne=this.scope+"."+Fe;if(!Fe)throw new Error("class does not have id: "+_e);return Fe in Ie||(Ie[Fe]=_e,registerDefaults(_e,Ne,Re),this.override&&defaults.override(_e.id,_e.overrides)),Ne}get(_e){return this.items[_e]}unregister(_e){const ke=this.items,Re=_e.id,Ie=this.scope;Re in ke&&delete ke[Re],Ie&&Re in defaults[Ie]&&(delete defaults[Ie][Re],this.override&&delete overrides[Re])}}function registerDefaults(Ae,_e,ke){const Re=merge(Object.create(null),[ke?defaults.get(ke):{},defaults.get(_e),Ae.defaults]);defaults.set(_e,Re),Ae.defaultRoutes&&routeDefaults(_e,Ae.defaultRoutes),Ae.descriptors&&defaults.describe(_e,Ae.descriptors)}function routeDefaults(Ae,_e){Object.keys(_e).forEach(ke=>{const Re=ke.split("."),Ie=Re.pop(),Fe=[Ae].concat(Re).join("."),Ne=_e[ke].split("."),je=Ne.pop(),Be=Ne.join(".");defaults.route(Fe,Ie,Be,je)})}function isIChartComponent(Ae){return"id"in Ae&&"defaults"in Ae}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element$1,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(..._e){this._each("register",_e)}remove(..._e){this._each("unregister",_e)}addControllers(..._e){this._each("register",_e,this.controllers)}addElements(..._e){this._each("register",_e,this.elements)}addPlugins(..._e){this._each("register",_e,this.plugins)}addScales(..._e){this._each("register",_e,this.scales)}getController(_e){return this._get(_e,this.controllers,"controller")}getElement(_e){return this._get(_e,this.elements,"element")}getPlugin(_e){return this._get(_e,this.plugins,"plugin")}getScale(_e){return this._get(_e,this.scales,"scale")}removeControllers(..._e){this._each("unregister",_e,this.controllers)}removeElements(..._e){this._each("unregister",_e,this.elements)}removePlugins(..._e){this._each("unregister",_e,this.plugins)}removeScales(..._e){this._each("unregister",_e,this.scales)}_each(_e,ke,Re){[...ke].forEach(Ie=>{const Fe=Re||this._getRegistryForType(Ie);Re||Fe.isForType(Ie)||Fe===this.plugins&&Ie.id?this._exec(_e,Fe,Ie):each(Ie,Ne=>{const je=Re||this._getRegistryForType(Ne);this._exec(_e,je,Ne)})})}_exec(_e,ke,Re){const Ie=_capitalize(_e);callback(Re["before"+Ie],[],Re),ke[_e](Re),callback(Re["after"+Ie],[],Re)}_getRegistryForType(_e){for(let ke=0;ke<this._typedRegistries.length;ke++){const Re=this._typedRegistries[ke];if(Re.isForType(_e))return Re}return this.plugins}_get(_e,ke,Re){const Ie=ke.get(_e);if(Ie===void 0)throw new Error('"'+_e+'" is not a registered '+Re+".");return Ie}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify(_e,ke,Re,Ie){ke==="beforeInit"&&(this._init=this._createDescriptors(_e,!0),this._notify(this._init,_e,"install"));const Fe=Ie?this._descriptors(_e).filter(Ie):this._descriptors(_e),Ne=this._notify(Fe,_e,ke,Re);return ke==="afterDestroy"&&(this._notify(Fe,_e,"stop"),this._notify(this._init,_e,"uninstall")),Ne}_notify(_e,ke,Re,Ie){Ie=Ie||{};for(const Fe of _e){const Ne=Fe.plugin,je=Ne[Re],Be=[ke,Ie,Fe.options];if(callback(je,Be,Ne)===!1&&Ie.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(_e){if(this._cache)return this._cache;const ke=this._cache=this._createDescriptors(_e);return this._notifyStateChanges(_e),ke}_createDescriptors(_e,ke){const Re=_e&&_e.config,Ie=valueOrDefault(Re.options&&Re.options.plugins,{}),Fe=allPlugins(Re);return Ie===!1&&!ke?[]:createDescriptors(_e,Fe,Ie,ke)}_notifyStateChanges(_e){const ke=this._oldCache||[],Re=this._cache,Ie=(Fe,Ne)=>Fe.filter(je=>!Ne.some(Be=>je.plugin.id===Be.plugin.id));this._notify(Ie(ke,Re),_e,"stop"),this._notify(Ie(Re,ke),_e,"start")}}function allPlugins(Ae){const _e={},ke=[],Re=Object.keys(registry.plugins.items);for(let Fe=0;Fe<Re.length;Fe++)ke.push(registry.getPlugin(Re[Fe]));const Ie=Ae.plugins||[];for(let Fe=0;Fe<Ie.length;Fe++){const Ne=Ie[Fe];ke.indexOf(Ne)===-1&&(ke.push(Ne),_e[Ne.id]=!0)}return{plugins:ke,localIds:_e}}function getOpts(Ae,_e){return!_e&&Ae===!1?null:Ae===!0?{}:Ae}function createDescriptors(Ae,{plugins:_e,localIds:ke},Re,Ie){const Fe=[],Ne=Ae.getContext();for(const je of _e){const Be=je.id,He=getOpts(Re[Be],Ie);He!==null&&Fe.push({plugin:je,options:pluginOpts(Ae.config,{plugin:je,local:ke[Be]},He,Ne)})}return Fe}function pluginOpts(Ae,{plugin:_e,local:ke},Re,Ie){const Fe=Ae.pluginScopeKeys(_e),Ne=Ae.getOptionScopes(Re,Fe);return ke&&_e.defaults&&Ne.push(_e.defaults),Ae.createResolver(Ne,Ie,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(Ae,_e){const ke=defaults.datasets[Ae]||{};return((_e.datasets||{})[Ae]||{}).indexAxis||_e.indexAxis||ke.indexAxis||"x"}function getAxisFromDefaultScaleID(Ae,_e){let ke=Ae;return Ae==="_index_"?ke=_e:Ae==="_value_"&&(ke=_e==="x"?"y":"x"),ke}function getDefaultScaleIDFromAxis(Ae,_e){return Ae===_e?"_index_":"_value_"}function idMatchesAxis(Ae){if(Ae==="x"||Ae==="y"||Ae==="r")return Ae}function axisFromPosition(Ae){if(Ae==="top"||Ae==="bottom")return"x";if(Ae==="left"||Ae==="right")return"y"}function determineAxis(Ae,..._e){if(idMatchesAxis(Ae))return Ae;for(const ke of _e){const Re=ke.axis||axisFromPosition(ke.position)||Ae.length>1&&idMatchesAxis(Ae[0].toLowerCase());if(Re)return Re}throw new Error(`Cannot determine type of '${Ae}' axis. Please provide 'axis' or 'position' option.`)}function getAxisFromDataset(Ae,_e,ke){if(ke[_e+"AxisID"]===Ae)return{axis:_e}}function retrieveAxisFromDatasets(Ae,_e){if(_e.data&&_e.data.datasets){const ke=_e.data.datasets.filter(Re=>Re.xAxisID===Ae||Re.yAxisID===Ae);if(ke.length)return getAxisFromDataset(Ae,"x",ke[0])||getAxisFromDataset(Ae,"y",ke[0])}return{}}function mergeScaleConfig(Ae,_e){const ke=overrides[Ae.type]||{scales:{}},Re=_e.scales||{},Ie=getIndexAxis(Ae.type,_e),Fe=Object.create(null);return Object.keys(Re).forEach(Ne=>{const je=Re[Ne];if(!isObject(je))return console.error(`Invalid scale configuration for scale: ${Ne}`);if(je._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${Ne}`);const Be=determineAxis(Ne,je,retrieveAxisFromDatasets(Ne,Ae),defaults.scales[je.type]),He=getDefaultScaleIDFromAxis(Be,Ie),We=ke.scales||{};Fe[Ne]=mergeIf(Object.create(null),[{axis:Be},je,We[Be],We[He]])}),Ae.data.datasets.forEach(Ne=>{const je=Ne.type||Ae.type,Be=Ne.indexAxis||getIndexAxis(je,_e),We=(overrides[je]||{}).scales||{};Object.keys(We).forEach(Ge=>{const Xe=getAxisFromDefaultScaleID(Ge,Be),$e=Ne[Xe+"AxisID"]||Xe;Fe[$e]=Fe[$e]||Object.create(null),mergeIf(Fe[$e],[{axis:Xe},Re[$e],We[Ge]])})}),Object.keys(Fe).forEach(Ne=>{const je=Fe[Ne];mergeIf(je,[defaults.scales[je.type],defaults.scale])}),Fe}function initOptions(Ae){const _e=Ae.options||(Ae.options={});_e.plugins=valueOrDefault(_e.plugins,{}),_e.scales=mergeScaleConfig(Ae,_e)}function initData(Ae){return Ae=Ae||{},Ae.datasets=Ae.datasets||[],Ae.labels=Ae.labels||[],Ae}function initConfig(Ae){return Ae=Ae||{},Ae.data=initData(Ae.data),initOptions(Ae),Ae}const keyCache=new Map,keysCached=new Set;function cachedKeys(Ae,_e){let ke=keyCache.get(Ae);return ke||(ke=_e(),keyCache.set(Ae,ke),keysCached.add(ke)),ke}const addIfFound=(Ae,_e,ke)=>{const Re=resolveObjectKey(_e,ke);Re!==void 0&&Ae.add(Re)};class Config{constructor(_e){this._config=initConfig(_e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(_e){this._config.type=_e}get data(){return this._config.data}set data(_e){this._config.data=initData(_e)}get options(){return this._config.options}set options(_e){this._config.options=_e}get plugins(){return this._config.plugins}update(){const _e=this._config;this.clearCache(),initOptions(_e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(_e){return cachedKeys(_e,()=>[[`datasets.${_e}`,""]])}datasetAnimationScopeKeys(_e,ke){return cachedKeys(`${_e}.transition.${ke}`,()=>[[`datasets.${_e}.transitions.${ke}`,`transitions.${ke}`],[`datasets.${_e}`,""]])}datasetElementScopeKeys(_e,ke){return cachedKeys(`${_e}-${ke}`,()=>[[`datasets.${_e}.elements.${ke}`,`datasets.${_e}`,`elements.${ke}`,""]])}pluginScopeKeys(_e){const ke=_e.id,Re=this.type;return cachedKeys(`${Re}-plugin-${ke}`,()=>[[`plugins.${ke}`,..._e.additionalOptionScopes||[]]])}_cachedScopes(_e,ke){const Re=this._scopeCache;let Ie=Re.get(_e);return(!Ie||ke)&&(Ie=new Map,Re.set(_e,Ie)),Ie}getOptionScopes(_e,ke,Re){const{options:Ie,type:Fe}=this,Ne=this._cachedScopes(_e,Re),je=Ne.get(ke);if(je)return je;const Be=new Set;ke.forEach(We=>{_e&&(Be.add(_e),We.forEach(Ge=>addIfFound(Be,_e,Ge))),We.forEach(Ge=>addIfFound(Be,Ie,Ge)),We.forEach(Ge=>addIfFound(Be,overrides[Fe]||{},Ge)),We.forEach(Ge=>addIfFound(Be,defaults,Ge)),We.forEach(Ge=>addIfFound(Be,descriptors,Ge))});const He=Array.from(Be);return He.length===0&&He.push(Object.create(null)),keysCached.has(ke)&&Ne.set(ke,He),He}chartOptionScopes(){const{options:_e,type:ke}=this;return[_e,overrides[ke]||{},defaults.datasets[ke]||{},{type:ke},defaults,descriptors]}resolveNamedOptions(_e,ke,Re,Ie=[""]){const Fe={$shared:!0},{resolver:Ne,subPrefixes:je}=getResolver(this._resolverCache,_e,Ie);let Be=Ne;if(needContext(Ne,ke)){Fe.$shared=!1,Re=isFunction(Re)?Re():Re;const He=this.createResolver(_e,Re,je);Be=_attachContext(Ne,Re,He)}for(const He of ke)Fe[He]=Be[He];return Fe}createResolver(_e,ke,Re=[""],Ie){const{resolver:Fe}=getResolver(this._resolverCache,_e,Re);return isObject(ke)?_attachContext(Fe,ke,void 0,Ie):Fe}}function getResolver(Ae,_e,ke){let Re=Ae.get(_e);Re||(Re=new Map,Ae.set(_e,Re));const Ie=ke.join();let Fe=Re.get(Ie);return Fe||(Fe={resolver:_createResolver(_e,ke),subPrefixes:ke.filter(je=>!je.toLowerCase().includes("hover"))},Re.set(Ie,Fe)),Fe}const hasFunction=Ae=>isObject(Ae)&&Object.getOwnPropertyNames(Ae).some(_e=>isFunction(Ae[_e]));function needContext(Ae,_e){const{isScriptable:ke,isIndexable:Re}=_descriptors(Ae);for(const Ie of _e){const Fe=ke(Ie),Ne=Re(Ie),je=(Ne||Fe)&&Ae[Ie];if(Fe&&(isFunction(je)||hasFunction(je))||Ne&&isArray(je))return!0}return!1}var version="4.4.8";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(Ae,_e){return Ae==="top"||Ae==="bottom"||KNOWN_POSITIONS.indexOf(Ae)===-1&&_e==="x"}function compare2Level(Ae,_e){return function(ke,Re){return ke[Ae]===Re[Ae]?ke[_e]-Re[_e]:ke[Ae]-Re[Ae]}}function onAnimationsComplete(Ae){const _e=Ae.chart,ke=_e.options.animation;_e.notifyPlugins("afterRender"),callback(ke&&ke.onComplete,[Ae],_e)}function onAnimationProgress(Ae){const _e=Ae.chart,ke=_e.options.animation;callback(ke&&ke.onProgress,[Ae],_e)}function getCanvas(Ae){return _isDomSupported()&&typeof Ae=="string"?Ae=document.getElementById(Ae):Ae&&Ae.length&&(Ae=Ae[0]),Ae&&Ae.canvas&&(Ae=Ae.canvas),Ae}const instances={},getChart=Ae=>{const _e=getCanvas(Ae);return Object.values(instances).filter(ke=>ke.canvas===_e).pop()};function moveNumericKeys(Ae,_e,ke){const Re=Object.keys(Ae);for(const Ie of Re){const Fe=+Ie;if(Fe>=_e){const Ne=Ae[Ie];delete Ae[Ie],(ke>0||Fe>_e)&&(Ae[Fe+ke]=Ne)}}}function determineLastEvent(Ae,_e,ke,Re){return!ke||Ae.type==="mouseout"?null:Re?_e:Ae}function getSizeForArea(Ae,_e,ke){return Ae.options.clip?Ae[ke]:_e[ke]}function getDatasetArea(Ae,_e){const{xScale:ke,yScale:Re}=Ae;return ke&&Re?{left:getSizeForArea(ke,_e,"left"),right:getSizeForArea(ke,_e,"right"),top:getSizeForArea(Re,_e,"top"),bottom:getSizeForArea(Re,_e,"bottom")}:_e}var ha;let Chart$1=(ha=class{static register(..._e){registry.add(..._e),invalidatePlugins()}static unregister(..._e){registry.remove(..._e),invalidatePlugins()}constructor(_e,ke){const Re=this.config=new Config(ke),Ie=getCanvas(_e),Fe=getChart(Ie);if(Fe)throw new Error("Canvas is already in use. Chart with ID '"+Fe.id+"' must be destroyed before the canvas with ID '"+Fe.canvas.id+"' can be reused.");const Ne=Re.createResolver(Re.chartOptionScopes(),this.getContext());this.platform=new(Re.platform||_detectPlatform(Ie)),this.platform.updateConfig(Re);const je=this.platform.acquireContext(Ie,Ne.aspectRatio),Be=je&&je.canvas,He=Be&&Be.height,We=Be&&Be.width;if(this.id=uid(),this.ctx=je,this.canvas=Be,this.width=We,this.height=He,this._options=Ne,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce(Ge=>this.update(Ge),Ne.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!je||!Be){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:_e,maintainAspectRatio:ke},width:Re,height:Ie,_aspectRatio:Fe}=this;return isNullOrUndef(_e)?ke&&Fe?Fe:Ie?Re/Ie:null:_e}get data(){return this.config.data}set data(_e){this.config.data=_e}get options(){return this._options}set options(_e){this.config.options=_e}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(_e,ke){animator.running(this)?this._resizeBeforeDraw={width:_e,height:ke}:this._resize(_e,ke)}_resize(_e,ke){const Re=this.options,Ie=this.canvas,Fe=Re.maintainAspectRatio&&this.aspectRatio,Ne=this.platform.getMaximumSize(Ie,_e,ke,Fe),je=Re.devicePixelRatio||this.platform.getDevicePixelRatio(),Be=this.width?"resize":"attach";this.width=Ne.width,this.height=Ne.height,this._aspectRatio=this.aspectRatio,retinaScale(this,je,!0)&&(this.notifyPlugins("resize",{size:Ne}),callback(Re.onResize,[this,Ne],this),this.attached&&this._doResize(Be)&&this.render())}ensureScalesHaveIDs(){const ke=this.options.scales||{};each(ke,(Re,Ie)=>{Re.id=Ie})}buildOrUpdateScales(){const _e=this.options,ke=_e.scales,Re=this.scales,Ie=Object.keys(Re).reduce((Ne,je)=>(Ne[je]=!1,Ne),{});let Fe=[];ke&&(Fe=Fe.concat(Object.keys(ke).map(Ne=>{const je=ke[Ne],Be=determineAxis(Ne,je),He=Be==="r",We=Be==="x";return{options:je,dposition:He?"chartArea":We?"bottom":"left",dtype:He?"radialLinear":We?"category":"linear"}}))),each(Fe,Ne=>{const je=Ne.options,Be=je.id,He=determineAxis(Be,je),We=valueOrDefault(je.type,Ne.dtype);(je.position===void 0||positionIsHorizontal(je.position,He)!==positionIsHorizontal(Ne.dposition))&&(je.position=Ne.dposition),Ie[Be]=!0;let Ge=null;if(Be in Re&&Re[Be].type===We)Ge=Re[Be];else{const Xe=registry.getScale(We);Ge=new Xe({id:Be,type:We,ctx:this.ctx,chart:this}),Re[Ge.id]=Ge}Ge.init(je,_e)}),each(Ie,(Ne,je)=>{Ne||delete Re[je]}),each(Re,Ne=>{layouts.configure(this,Ne,Ne.options),layouts.addBox(this,Ne)})}_updateMetasets(){const _e=this._metasets,ke=this.data.datasets.length,Re=_e.length;if(_e.sort((Ie,Fe)=>Ie.index-Fe.index),Re>ke){for(let Ie=ke;Ie<Re;++Ie)this._destroyDatasetMeta(Ie);_e.splice(ke,Re-ke)}this._sortedMetasets=_e.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:_e,data:{datasets:ke}}=this;_e.length>ke.length&&delete this._stacks,_e.forEach((Re,Ie)=>{ke.filter(Fe=>Fe===Re._dataset).length===0&&this._destroyDatasetMeta(Ie)})}buildOrUpdateControllers(){const _e=[],ke=this.data.datasets;let Re,Ie;for(this._removeUnreferencedMetasets(),Re=0,Ie=ke.length;Re<Ie;Re++){const Fe=ke[Re];let Ne=this.getDatasetMeta(Re);const je=Fe.type||this.config.type;if(Ne.type&&Ne.type!==je&&(this._destroyDatasetMeta(Re),Ne=this.getDatasetMeta(Re)),Ne.type=je,Ne.indexAxis=Fe.indexAxis||getIndexAxis(je,this.options),Ne.order=Fe.order||0,Ne.index=Re,Ne.label=""+Fe.label,Ne.visible=this.isDatasetVisible(Re),Ne.controller)Ne.controller.updateIndex(Re),Ne.controller.linkScales();else{const Be=registry.getController(je),{datasetElementType:He,dataElementType:We}=defaults.datasets[je];Object.assign(Be,{dataElementType:registry.getElement(We),datasetElementType:He&&registry.getElement(He)}),Ne.controller=new Be(this,Re),_e.push(Ne.controller)}}return this._updateMetasets(),_e}_resetElements(){each(this.data.datasets,(_e,ke)=>{this.getDatasetMeta(ke).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(_e){const ke=this.config;ke.update();const Re=this._options=ke.createResolver(ke.chartOptionScopes(),this.getContext()),Ie=this._animationsDisabled=!Re.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:_e,cancelable:!0})===!1)return;const Fe=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let Ne=0;for(let He=0,We=this.data.datasets.length;He<We;He++){const{controller:Ge}=this.getDatasetMeta(He),Xe=!Ie&&Fe.indexOf(Ge)===-1;Ge.buildOrUpdateElements(Xe),Ne=Math.max(+Ge.getMaxOverflow(),Ne)}Ne=this._minPadding=Re.layout.autoPadding?Ne:0,this._updateLayout(Ne),Ie||each(Fe,He=>{He.reset()}),this._updateDatasets(_e),this.notifyPlugins("afterUpdate",{mode:_e}),this._layers.sort(compare2Level("z","_idx"));const{_active:je,_lastEvent:Be}=this;Be?this._eventHandler(Be,!0):je.length&&this._updateHoverStyles(je,je,!0),this.render()}_updateScales(){each(this.scales,_e=>{layouts.removeBox(this,_e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const _e=this.options,ke=new Set(Object.keys(this._listeners)),Re=new Set(_e.events);(!setsEqual(ke,Re)||!!this._responsiveListeners!==_e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:_e}=this,ke=this._getUniformDataChanges()||[];for(const{method:Re,start:Ie,count:Fe}of ke){const Ne=Re==="_removeElements"?-Fe:Fe;moveNumericKeys(_e,Ie,Ne)}}_getUniformDataChanges(){const _e=this._dataChanges;if(!_e||!_e.length)return;this._dataChanges=[];const ke=this.data.datasets.length,Re=Fe=>new Set(_e.filter(Ne=>Ne[0]===Fe).map((Ne,je)=>je+","+Ne.splice(1).join(","))),Ie=Re(0);for(let Fe=1;Fe<ke;Fe++)if(!setsEqual(Ie,Re(Fe)))return;return Array.from(Ie).map(Fe=>Fe.split(",")).map(Fe=>({method:Fe[1],start:+Fe[2],count:+Fe[3]}))}_updateLayout(_e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,_e);const ke=this.chartArea,Re=ke.width<=0||ke.height<=0;this._layers=[],each(this.boxes,Ie=>{Re&&Ie.position==="chartArea"||(Ie.configure&&Ie.configure(),this._layers.push(...Ie._layers()))},this),this._layers.forEach((Ie,Fe)=>{Ie._idx=Fe}),this.notifyPlugins("afterLayout")}_updateDatasets(_e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:_e,cancelable:!0})!==!1){for(let ke=0,Re=this.data.datasets.length;ke<Re;++ke)this.getDatasetMeta(ke).controller.configure();for(let ke=0,Re=this.data.datasets.length;ke<Re;++ke)this._updateDataset(ke,isFunction(_e)?_e({datasetIndex:ke}):_e);this.notifyPlugins("afterDatasetsUpdate",{mode:_e})}}_updateDataset(_e,ke){const Re=this.getDatasetMeta(_e),Ie={meta:Re,index:_e,mode:ke,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",Ie)!==!1&&(Re.controller._update(ke),Ie.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",Ie))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let _e;if(this._resizeBeforeDraw){const{width:Re,height:Ie}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(Re,Ie)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const ke=this._layers;for(_e=0;_e<ke.length&&ke[_e].z<=0;++_e)ke[_e].draw(this.chartArea);for(this._drawDatasets();_e<ke.length;++_e)ke[_e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(_e){const ke=this._sortedMetasets,Re=[];let Ie,Fe;for(Ie=0,Fe=ke.length;Ie<Fe;++Ie){const Ne=ke[Ie];(!_e||Ne.visible)&&Re.push(Ne)}return Re}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const _e=this.getSortedVisibleDatasetMetas();for(let ke=_e.length-1;ke>=0;--ke)this._drawDataset(_e[ke]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(_e){const ke=this.ctx,Re=_e._clip,Ie=!Re.disabled,Fe=getDatasetArea(_e,this.chartArea),Ne={meta:_e,index:_e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",Ne)!==!1&&(Ie&&clipArea(ke,{left:Re.left===!1?0:Fe.left-Re.left,right:Re.right===!1?this.width:Fe.right+Re.right,top:Re.top===!1?0:Fe.top-Re.top,bottom:Re.bottom===!1?this.height:Fe.bottom+Re.bottom}),_e.controller.draw(),Ie&&unclipArea(ke),Ne.cancelable=!1,this.notifyPlugins("afterDatasetDraw",Ne))}isPointInArea(_e){return _isPointInArea(_e,this.chartArea,this._minPadding)}getElementsAtEventForMode(_e,ke,Re,Ie){const Fe=Interaction.modes[ke];return typeof Fe=="function"?Fe(this,_e,Re,Ie):[]}getDatasetMeta(_e){const ke=this.data.datasets[_e],Re=this._metasets;let Ie=Re.filter(Fe=>Fe&&Fe._dataset===ke).pop();return Ie||(Ie={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:ke&&ke.order||0,index:_e,_dataset:ke,_parsed:[],_sorted:!1},Re.push(Ie)),Ie}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(_e){const ke=this.data.datasets[_e];if(!ke)return!1;const Re=this.getDatasetMeta(_e);return typeof Re.hidden=="boolean"?!Re.hidden:!ke.hidden}setDatasetVisibility(_e,ke){const Re=this.getDatasetMeta(_e);Re.hidden=!ke}toggleDataVisibility(_e){this._hiddenIndices[_e]=!this._hiddenIndices[_e]}getDataVisibility(_e){return!this._hiddenIndices[_e]}_updateVisibility(_e,ke,Re){const Ie=Re?"show":"hide",Fe=this.getDatasetMeta(_e),Ne=Fe.controller._resolveAnimations(void 0,Ie);defined(ke)?(Fe.data[ke].hidden=!Re,this.update()):(this.setDatasetVisibility(_e,Re),Ne.update(Fe,{visible:Re}),this.update(je=>je.datasetIndex===_e?Ie:void 0))}hide(_e,ke){this._updateVisibility(_e,ke,!1)}show(_e,ke){this._updateVisibility(_e,ke,!0)}_destroyDatasetMeta(_e){const ke=this._metasets[_e];ke&&ke.controller&&ke.controller._destroy(),delete this._metasets[_e]}_stop(){let _e,ke;for(this.stop(),animator.remove(this),_e=0,ke=this.data.datasets.length;_e<ke;++_e)this._destroyDatasetMeta(_e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:_e,ctx:ke}=this;this._stop(),this.config.clearCache(),_e&&(this.unbindEvents(),clearCanvas(_e,ke),this.platform.releaseContext(ke),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(..._e){return this.canvas.toDataURL(..._e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const _e=this._listeners,ke=this.platform,Re=(Fe,Ne)=>{ke.addEventListener(this,Fe,Ne),_e[Fe]=Ne},Ie=(Fe,Ne,je)=>{Fe.offsetX=Ne,Fe.offsetY=je,this._eventHandler(Fe)};each(this.options.events,Fe=>Re(Fe,Ie))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const _e=this._responsiveListeners,ke=this.platform,Re=(Be,He)=>{ke.addEventListener(this,Be,He),_e[Be]=He},Ie=(Be,He)=>{_e[Be]&&(ke.removeEventListener(this,Be,He),delete _e[Be])},Fe=(Be,He)=>{this.canvas&&this.resize(Be,He)};let Ne;const je=()=>{Ie("attach",je),this.attached=!0,this.resize(),Re("resize",Fe),Re("detach",Ne)};Ne=()=>{this.attached=!1,Ie("resize",Fe),this._stop(),this._resize(0,0),Re("attach",je)},ke.isAttached(this.canvas)?je():Ne()}unbindEvents(){each(this._listeners,(_e,ke)=>{this.platform.removeEventListener(this,ke,_e)}),this._listeners={},each(this._responsiveListeners,(_e,ke)=>{this.platform.removeEventListener(this,ke,_e)}),this._responsiveListeners=void 0}updateHoverStyle(_e,ke,Re){const Ie=Re?"set":"remove";let Fe,Ne,je,Be;for(ke==="dataset"&&(Fe=this.getDatasetMeta(_e[0].datasetIndex),Fe.controller["_"+Ie+"DatasetHoverStyle"]()),je=0,Be=_e.length;je<Be;++je){Ne=_e[je];const He=Ne&&this.getDatasetMeta(Ne.datasetIndex).controller;He&&He[Ie+"HoverStyle"](Ne.element,Ne.datasetIndex,Ne.index)}}getActiveElements(){return this._active||[]}setActiveElements(_e){const ke=this._active||[],Re=_e.map(({datasetIndex:Fe,index:Ne})=>{const je=this.getDatasetMeta(Fe);if(!je)throw new Error("No dataset found at index "+Fe);return{datasetIndex:Fe,element:je.data[Ne],index:Ne}});!_elementsEqual(Re,ke)&&(this._active=Re,this._lastEvent=null,this._updateHoverStyles(Re,ke))}notifyPlugins(_e,ke,Re){return this._plugins.notify(this,_e,ke,Re)}isPluginEnabled(_e){return this._plugins._cache.filter(ke=>ke.plugin.id===_e).length===1}_updateHoverStyles(_e,ke,Re){const Ie=this.options.hover,Fe=(Be,He)=>Be.filter(We=>!He.some(Ge=>We.datasetIndex===Ge.datasetIndex&&We.index===Ge.index)),Ne=Fe(ke,_e),je=Re?_e:Fe(_e,ke);Ne.length&&this.updateHoverStyle(Ne,Ie.mode,!1),je.length&&Ie.mode&&this.updateHoverStyle(je,Ie.mode,!0)}_eventHandler(_e,ke){const Re={event:_e,replay:ke,cancelable:!0,inChartArea:this.isPointInArea(_e)},Ie=Ne=>(Ne.options.events||this.options.events).includes(_e.native.type);if(this.notifyPlugins("beforeEvent",Re,Ie)===!1)return;const Fe=this._handleEvent(_e,ke,Re.inChartArea);return Re.cancelable=!1,this.notifyPlugins("afterEvent",Re,Ie),(Fe||Re.changed)&&this.render(),this}_handleEvent(_e,ke,Re){const{_active:Ie=[],options:Fe}=this,Ne=ke,je=this._getActiveElements(_e,Ie,Re,Ne),Be=_isClickEvent(_e),He=determineLastEvent(_e,this._lastEvent,Re,Be);Re&&(this._lastEvent=null,callback(Fe.onHover,[_e,je,this],this),Be&&callback(Fe.onClick,[_e,je,this],this));const We=!_elementsEqual(je,Ie);return(We||ke)&&(this._active=je,this._updateHoverStyles(je,Ie,ke)),this._lastEvent=He,We}_getActiveElements(_e,ke,Re,Ie){if(_e.type==="mouseout")return[];if(!Re)return ke;const Fe=this.options.hover;return this.getElementsAtEventForMode(_e,Fe.mode,Fe,Ie)}},br(ha,"defaults",defaults),br(ha,"instances",instances),br(ha,"overrides",overrides),br(ha,"registry",registry),br(ha,"version",version),br(ha,"getChart",getChart),ha);function invalidatePlugins(){return each(Chart$1.instances,Ae=>Ae._plugins.invalidate())}function getBarBounds(Ae,_e){const{x:ke,y:Re,base:Ie,width:Fe,height:Ne}=Ae.getProps(["x","y","base","width","height"],_e);let je,Be,He,We,Ge;return Ae.horizontal?(Ge=Ne/2,je=Math.min(ke,Ie),Be=Math.max(ke,Ie),He=Re-Ge,We=Re+Ge):(Ge=Fe/2,je=ke-Ge,Be=ke+Ge,He=Math.min(Re,Ie),We=Math.max(Re,Ie)),{left:je,top:He,right:Be,bottom:We}}function skipOrLimit(Ae,_e,ke,Re){return Ae?0:_limitValue(_e,ke,Re)}function parseBorderWidth(Ae,_e,ke){const Re=Ae.options.borderWidth,Ie=Ae.borderSkipped,Fe=toTRBL(Re);return{t:skipOrLimit(Ie.top,Fe.top,0,ke),r:skipOrLimit(Ie.right,Fe.right,0,_e),b:skipOrLimit(Ie.bottom,Fe.bottom,0,ke),l:skipOrLimit(Ie.left,Fe.left,0,_e)}}function parseBorderRadius(Ae,_e,ke){const{enableBorderRadius:Re}=Ae.getProps(["enableBorderRadius"]),Ie=Ae.options.borderRadius,Fe=toTRBLCorners(Ie),Ne=Math.min(_e,ke),je=Ae.borderSkipped,Be=Re||isObject(Ie);return{topLeft:skipOrLimit(!Be||je.top||je.left,Fe.topLeft,0,Ne),topRight:skipOrLimit(!Be||je.top||je.right,Fe.topRight,0,Ne),bottomLeft:skipOrLimit(!Be||je.bottom||je.left,Fe.bottomLeft,0,Ne),bottomRight:skipOrLimit(!Be||je.bottom||je.right,Fe.bottomRight,0,Ne)}}function boundingRects(Ae){const _e=getBarBounds(Ae),ke=_e.right-_e.left,Re=_e.bottom-_e.top,Ie=parseBorderWidth(Ae,ke/2,Re/2),Fe=parseBorderRadius(Ae,ke/2,Re/2);return{outer:{x:_e.left,y:_e.top,w:ke,h:Re,radius:Fe},inner:{x:_e.left+Ie.l,y:_e.top+Ie.t,w:ke-Ie.l-Ie.r,h:Re-Ie.t-Ie.b,radius:{topLeft:Math.max(0,Fe.topLeft-Math.max(Ie.t,Ie.l)),topRight:Math.max(0,Fe.topRight-Math.max(Ie.t,Ie.r)),bottomLeft:Math.max(0,Fe.bottomLeft-Math.max(Ie.b,Ie.l)),bottomRight:Math.max(0,Fe.bottomRight-Math.max(Ie.b,Ie.r))}}}}function inRange(Ae,_e,ke,Re){const Ie=_e===null,Fe=ke===null,je=Ae&&!(Ie&&Fe)&&getBarBounds(Ae,Re);return je&&(Ie||_isBetween(_e,je.left,je.right))&&(Fe||_isBetween(ke,je.top,je.bottom))}function hasRadius(Ae){return Ae.topLeft||Ae.topRight||Ae.bottomLeft||Ae.bottomRight}function addNormalRectPath(Ae,_e){Ae.rect(_e.x,_e.y,_e.w,_e.h)}function inflateRect(Ae,_e,ke={}){const Re=Ae.x!==ke.x?-_e:0,Ie=Ae.y!==ke.y?-_e:0,Fe=(Ae.x+Ae.w!==ke.x+ke.w?_e:0)-Re,Ne=(Ae.y+Ae.h!==ke.y+ke.h?_e:0)-Ie;return{x:Ae.x+Re,y:Ae.y+Ie,w:Ae.w+Fe,h:Ae.h+Ne,radius:Ae.radius}}class BarElement extends Element$1{constructor(_e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,_e&&Object.assign(this,_e)}draw(_e){const{inflateAmount:ke,options:{borderColor:Re,backgroundColor:Ie}}=this,{inner:Fe,outer:Ne}=boundingRects(this),je=hasRadius(Ne.radius)?addRoundedRectPath:addNormalRectPath;_e.save(),(Ne.w!==Fe.w||Ne.h!==Fe.h)&&(_e.beginPath(),je(_e,inflateRect(Ne,ke,Fe)),_e.clip(),je(_e,inflateRect(Fe,-ke,Ne)),_e.fillStyle=Re,_e.fill("evenodd")),_e.beginPath(),je(_e,inflateRect(Fe,ke)),_e.fillStyle=Ie,_e.fill(),_e.restore()}inRange(_e,ke,Re){return inRange(this,_e,ke,Re)}inXRange(_e,ke){return inRange(this,_e,null,ke)}inYRange(_e,ke){return inRange(this,null,_e,ke)}getCenterPoint(_e){const{x:ke,y:Re,base:Ie,horizontal:Fe}=this.getProps(["x","y","base","horizontal"],_e);return{x:Fe?(ke+Ie)/2:ke,y:Fe?Re:(Re+Ie)/2}}getRange(_e){return _e==="x"?this.width/2:this.height/2}}br(BarElement,"id","bar"),br(BarElement,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),br(BarElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const getBoxSize=(Ae,_e)=>{let{boxHeight:ke=_e,boxWidth:Re=_e}=Ae;return Ae.usePointStyle&&(ke=Math.min(ke,_e),Re=Ae.pointStyleWidth||Math.min(Re,_e)),{boxWidth:Re,boxHeight:ke,itemHeight:Math.max(_e,ke)}},itemsEqual=(Ae,_e)=>Ae!==null&&_e!==null&&Ae.datasetIndex===_e.datasetIndex&&Ae.index===_e.index;class Legend extends Element$1{constructor(_e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=_e.chart,this.options=_e.options,this.ctx=_e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(_e,ke,Re){this.maxWidth=_e,this.maxHeight=ke,this._margins=Re,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const _e=this.options.labels||{};let ke=callback(_e.generateLabels,[this.chart],this)||[];_e.filter&&(ke=ke.filter(Re=>_e.filter(Re,this.chart.data))),_e.sort&&(ke=ke.sort((Re,Ie)=>_e.sort(Re,Ie,this.chart.data))),this.options.reverse&&ke.reverse(),this.legendItems=ke}fit(){const{options:_e,ctx:ke}=this;if(!_e.display){this.width=this.height=0;return}const Re=_e.labels,Ie=toFont(Re.font),Fe=Ie.size,Ne=this._computeTitleHeight(),{boxWidth:je,itemHeight:Be}=getBoxSize(Re,Fe);let He,We;ke.font=Ie.string,this.isHorizontal()?(He=this.maxWidth,We=this._fitRows(Ne,Fe,je,Be)+10):(We=this.maxHeight,He=this._fitCols(Ne,Ie,je,Be)+10),this.width=Math.min(He,_e.maxWidth||this.maxWidth),this.height=Math.min(We,_e.maxHeight||this.maxHeight)}_fitRows(_e,ke,Re,Ie){const{ctx:Fe,maxWidth:Ne,options:{labels:{padding:je}}}=this,Be=this.legendHitBoxes=[],He=this.lineWidths=[0],We=Ie+je;let Ge=_e;Fe.textAlign="left",Fe.textBaseline="middle";let Xe=-1,$e=-We;return this.legendItems.forEach((qe,Ue)=>{const Ye=Re+ke/2+Fe.measureText(qe.text).width;(Ue===0||He[He.length-1]+Ye+2*je>Ne)&&(Ge+=We,He[He.length-(Ue>0?0:1)]=0,$e+=We,Xe++),Be[Ue]={left:0,top:$e,row:Xe,width:Ye,height:Ie},He[He.length-1]+=Ye+je}),Ge}_fitCols(_e,ke,Re,Ie){const{ctx:Fe,maxHeight:Ne,options:{labels:{padding:je}}}=this,Be=this.legendHitBoxes=[],He=this.columnSizes=[],We=Ne-_e;let Ge=je,Xe=0,$e=0,qe=0,Ue=0;return this.legendItems.forEach((Ye,Ze)=>{const{itemWidth:Qe,itemHeight:pn}=calculateItemSize(Re,ke,Fe,Ye,Ie);Ze>0&&$e+pn+2*je>We&&(Ge+=Xe+je,He.push({width:Xe,height:$e}),qe+=Xe+je,Ue++,Xe=$e=0),Be[Ze]={left:qe,top:$e,col:Ue,width:Qe,height:pn},Xe=Math.max(Xe,Qe),$e+=pn+je}),Ge+=Xe,He.push({width:Xe,height:$e}),Ge}adjustHitBoxes(){if(!this.options.display)return;const _e=this._computeTitleHeight(),{legendHitBoxes:ke,options:{align:Re,labels:{padding:Ie},rtl:Fe}}=this,Ne=getRtlAdapter(Fe,this.left,this.width);if(this.isHorizontal()){let je=0,Be=_alignStartEnd(Re,this.left+Ie,this.right-this.lineWidths[je]);for(const He of ke)je!==He.row&&(je=He.row,Be=_alignStartEnd(Re,this.left+Ie,this.right-this.lineWidths[je])),He.top+=this.top+_e+Ie,He.left=Ne.leftForLtr(Ne.x(Be),He.width),Be+=He.width+Ie}else{let je=0,Be=_alignStartEnd(Re,this.top+_e+Ie,this.bottom-this.columnSizes[je].height);for(const He of ke)He.col!==je&&(je=He.col,Be=_alignStartEnd(Re,this.top+_e+Ie,this.bottom-this.columnSizes[je].height)),He.top=Be,He.left+=this.left+Ie,He.left=Ne.leftForLtr(Ne.x(He.left),He.width),Be+=He.height+Ie}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const _e=this.ctx;clipArea(_e,this),this._draw(),unclipArea(_e)}}_draw(){const{options:_e,columnSizes:ke,lineWidths:Re,ctx:Ie}=this,{align:Fe,labels:Ne}=_e,je=defaults.color,Be=getRtlAdapter(_e.rtl,this.left,this.width),He=toFont(Ne.font),{padding:We}=Ne,Ge=He.size,Xe=Ge/2;let $e;this.drawTitle(),Ie.textAlign=Be.textAlign("left"),Ie.textBaseline="middle",Ie.lineWidth=.5,Ie.font=He.string;const{boxWidth:qe,boxHeight:Ue,itemHeight:Ye}=getBoxSize(Ne,Ge),Ze=function(cn,tn,Je){if(isNaN(qe)||qe<=0||isNaN(Ue)||Ue<0)return;Ie.save();const an=valueOrDefault(Je.lineWidth,1);if(Ie.fillStyle=valueOrDefault(Je.fillStyle,je),Ie.lineCap=valueOrDefault(Je.lineCap,"butt"),Ie.lineDashOffset=valueOrDefault(Je.lineDashOffset,0),Ie.lineJoin=valueOrDefault(Je.lineJoin,"miter"),Ie.lineWidth=an,Ie.strokeStyle=valueOrDefault(Je.strokeStyle,je),Ie.setLineDash(valueOrDefault(Je.lineDash,[])),Ne.usePointStyle){const gn={radius:Ue*Math.SQRT2/2,pointStyle:Je.pointStyle,rotation:Je.rotation,borderWidth:an},Ke=Be.xPlus(cn,qe/2),sn=tn+Xe;drawPointLegend(Ie,gn,Ke,sn,Ne.pointStyleWidth&&qe)}else{const gn=tn+Math.max((Ge-Ue)/2,0),Ke=Be.leftForLtr(cn,qe),sn=toTRBLCorners(Je.borderRadius);Ie.beginPath(),Object.values(sn).some(hn=>hn!==0)?addRoundedRectPath(Ie,{x:Ke,y:gn,w:qe,h:Ue,radius:sn}):Ie.rect(Ke,gn,qe,Ue),Ie.fill(),an!==0&&Ie.stroke()}Ie.restore()},Qe=function(cn,tn,Je){renderText(Ie,Je.text,cn,tn+Ye/2,He,{strikethrough:Je.hidden,textAlign:Be.textAlign(Je.textAlign)})},pn=this.isHorizontal(),nn=this._computeTitleHeight();pn?$e={x:_alignStartEnd(Fe,this.left+We,this.right-Re[0]),y:this.top+We+nn,line:0}:$e={x:this.left+We,y:_alignStartEnd(Fe,this.top+nn+We,this.bottom-ke[0].height),line:0},overrideTextDirection(this.ctx,_e.textDirection);const rn=Ye+We;this.legendItems.forEach((cn,tn)=>{Ie.strokeStyle=cn.fontColor,Ie.fillStyle=cn.fontColor;const Je=Ie.measureText(cn.text).width,an=Be.textAlign(cn.textAlign||(cn.textAlign=Ne.textAlign)),gn=qe+Xe+Je;let Ke=$e.x,sn=$e.y;Be.setWidth(this.width),pn?tn>0&&Ke+gn+We>this.right&&(sn=$e.y+=rn,$e.line++,Ke=$e.x=_alignStartEnd(Fe,this.left+We,this.right-Re[$e.line])):tn>0&&sn+rn>this.bottom&&(Ke=$e.x=Ke+ke[$e.line].width+We,$e.line++,sn=$e.y=_alignStartEnd(Fe,this.top+nn+We,this.bottom-ke[$e.line].height));const hn=Be.x(Ke);if(Ze(hn,sn,cn),Ke=_textX(an,Ke+qe+Xe,pn?Ke+gn:this.right,_e.rtl),Qe(Be.x(Ke),sn,cn),pn)$e.x+=gn+We;else if(typeof cn.text!="string"){const Cn=He.lineHeight;$e.y+=calculateLegendItemHeight(cn,Cn)+We}else $e.y+=rn}),restoreTextDirection(this.ctx,_e.textDirection)}drawTitle(){const _e=this.options,ke=_e.title,Re=toFont(ke.font),Ie=toPadding(ke.padding);if(!ke.display)return;const Fe=getRtlAdapter(_e.rtl,this.left,this.width),Ne=this.ctx,je=ke.position,Be=Re.size/2,He=Ie.top+Be;let We,Ge=this.left,Xe=this.width;if(this.isHorizontal())Xe=Math.max(...this.lineWidths),We=this.top+He,Ge=_alignStartEnd(_e.align,Ge,this.right-Xe);else{const qe=this.columnSizes.reduce((Ue,Ye)=>Math.max(Ue,Ye.height),0);We=He+_alignStartEnd(_e.align,this.top,this.bottom-qe-_e.labels.padding-this._computeTitleHeight())}const $e=_alignStartEnd(je,Ge,Ge+Xe);Ne.textAlign=Fe.textAlign(_toLeftRightCenter(je)),Ne.textBaseline="middle",Ne.strokeStyle=ke.color,Ne.fillStyle=ke.color,Ne.font=Re.string,renderText(Ne,ke.text,$e,We,Re)}_computeTitleHeight(){const _e=this.options.title,ke=toFont(_e.font),Re=toPadding(_e.padding);return _e.display?ke.lineHeight+Re.height:0}_getLegendItemAt(_e,ke){let Re,Ie,Fe;if(_isBetween(_e,this.left,this.right)&&_isBetween(ke,this.top,this.bottom)){for(Fe=this.legendHitBoxes,Re=0;Re<Fe.length;++Re)if(Ie=Fe[Re],_isBetween(_e,Ie.left,Ie.left+Ie.width)&&_isBetween(ke,Ie.top,Ie.top+Ie.height))return this.legendItems[Re]}return null}handleEvent(_e){const ke=this.options;if(!isListened(_e.type,ke))return;const Re=this._getLegendItemAt(_e.x,_e.y);if(_e.type==="mousemove"||_e.type==="mouseout"){const Ie=this._hoveredItem,Fe=itemsEqual(Ie,Re);Ie&&!Fe&&callback(ke.onLeave,[_e,Ie,this],this),this._hoveredItem=Re,Re&&!Fe&&callback(ke.onHover,[_e,Re,this],this)}else Re&&callback(ke.onClick,[_e,Re,this],this)}}function calculateItemSize(Ae,_e,ke,Re,Ie){const Fe=calculateItemWidth(Re,Ae,_e,ke),Ne=calculateItemHeight(Ie,Re,_e.lineHeight);return{itemWidth:Fe,itemHeight:Ne}}function calculateItemWidth(Ae,_e,ke,Re){let Ie=Ae.text;return Ie&&typeof Ie!="string"&&(Ie=Ie.reduce((Fe,Ne)=>Fe.length>Ne.length?Fe:Ne)),_e+ke.size/2+Re.measureText(Ie).width}function calculateItemHeight(Ae,_e,ke){let Re=Ae;return typeof _e.text!="string"&&(Re=calculateLegendItemHeight(_e,ke)),Re}function calculateLegendItemHeight(Ae,_e){const ke=Ae.text?Ae.text.length:0;return _e*ke}function isListened(Ae,_e){return!!((Ae==="mousemove"||Ae==="mouseout")&&(_e.onHover||_e.onLeave)||_e.onClick&&(Ae==="click"||Ae==="mouseup"))}var plugin_legend={id:"legend",_element:Legend,start(Ae,_e,ke){const Re=Ae.legend=new Legend({ctx:Ae.ctx,options:ke,chart:Ae});layouts.configure(Ae,Re,ke),layouts.addBox(Ae,Re)},stop(Ae){layouts.removeBox(Ae,Ae.legend),delete Ae.legend},beforeUpdate(Ae,_e,ke){const Re=Ae.legend;layouts.configure(Ae,Re,ke),Re.options=ke},afterUpdate(Ae){const _e=Ae.legend;_e.buildLabels(),_e.adjustHitBoxes()},afterEvent(Ae,_e){_e.replay||Ae.legend.handleEvent(_e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(Ae,_e,ke){const Re=_e.datasetIndex,Ie=ke.chart;Ie.isDatasetVisible(Re)?(Ie.hide(Re),_e.hidden=!0):(Ie.show(Re),_e.hidden=!1)},onHover:null,onLeave:null,labels:{color:Ae=>Ae.chart.options.color,boxWidth:40,padding:10,generateLabels(Ae){const _e=Ae.data.datasets,{labels:{usePointStyle:ke,pointStyle:Re,textAlign:Ie,color:Fe,useBorderRadius:Ne,borderRadius:je}}=Ae.legend.options;return Ae._getSortedDatasetMetas().map(Be=>{const He=Be.controller.getStyle(ke?0:void 0),We=toPadding(He.borderWidth);return{text:_e[Be.index].label,fillStyle:He.backgroundColor,fontColor:Fe,hidden:!Be.visible,lineCap:He.borderCapStyle,lineDash:He.borderDash,lineDashOffset:He.borderDashOffset,lineJoin:He.borderJoinStyle,lineWidth:(We.width+We.height)/4,strokeStyle:He.borderColor,pointStyle:Re||He.pointStyle,rotation:He.rotation,textAlign:Ie||He.textAlign,borderRadius:Ne&&(je||He.borderRadius),datasetIndex:Be.index}},this)}},title:{color:Ae=>Ae.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:Ae=>!Ae.startsWith("on"),labels:{_scriptable:Ae=>!["generateLabels","filter","sort"].includes(Ae)}}};class Title extends Element$1{constructor(_e){super(),this.chart=_e.chart,this.options=_e.options,this.ctx=_e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(_e,ke){const Re=this.options;if(this.left=0,this.top=0,!Re.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=_e,this.height=this.bottom=ke;const Ie=isArray(Re.text)?Re.text.length:1;this._padding=toPadding(Re.padding);const Fe=Ie*toFont(Re.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=Fe:this.width=Fe}isHorizontal(){const _e=this.options.position;return _e==="top"||_e==="bottom"}_drawArgs(_e){const{top:ke,left:Re,bottom:Ie,right:Fe,options:Ne}=this,je=Ne.align;let Be=0,He,We,Ge;return this.isHorizontal()?(We=_alignStartEnd(je,Re,Fe),Ge=ke+_e,He=Fe-Re):(Ne.position==="left"?(We=Re+_e,Ge=_alignStartEnd(je,Ie,ke),Be=PI*-.5):(We=Fe-_e,Ge=_alignStartEnd(je,ke,Ie),Be=PI*.5),He=Ie-ke),{titleX:We,titleY:Ge,maxWidth:He,rotation:Be}}draw(){const _e=this.ctx,ke=this.options;if(!ke.display)return;const Re=toFont(ke.font),Fe=Re.lineHeight/2+this._padding.top,{titleX:Ne,titleY:je,maxWidth:Be,rotation:He}=this._drawArgs(Fe);renderText(_e,ke.text,0,0,Re,{color:ke.color,maxWidth:Be,rotation:He,textAlign:_toLeftRightCenter(ke.align),textBaseline:"middle",translation:[Ne,je]})}}function createTitle(Ae,_e){const ke=new Title({ctx:Ae.ctx,options:_e,chart:Ae});layouts.configure(Ae,ke,_e),layouts.addBox(Ae,ke),Ae.titleBlock=ke}var plugin_title={id:"title",_element:Title,start(Ae,_e,ke){createTitle(Ae,ke)},stop(Ae){const _e=Ae.titleBlock;layouts.removeBox(Ae,_e),delete Ae.titleBlock},beforeUpdate(Ae,_e,ke){const Re=Ae.titleBlock;layouts.configure(Ae,Re,ke),Re.options=ke},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners={average(Ae){if(!Ae.length)return!1;let _e,ke,Re=new Set,Ie=0,Fe=0;for(_e=0,ke=Ae.length;_e<ke;++_e){const je=Ae[_e].element;if(je&&je.hasValue()){const Be=je.tooltipPosition();Re.add(Be.x),Ie+=Be.y,++Fe}}return Fe===0||Re.size===0?!1:{x:[...Re].reduce((je,Be)=>je+Be)/Re.size,y:Ie/Fe}},nearest(Ae,_e){if(!Ae.length)return!1;let ke=_e.x,Re=_e.y,Ie=Number.POSITIVE_INFINITY,Fe,Ne,je;for(Fe=0,Ne=Ae.length;Fe<Ne;++Fe){const Be=Ae[Fe].element;if(Be&&Be.hasValue()){const He=Be.getCenterPoint(),We=distanceBetweenPoints(_e,He);We<Ie&&(Ie=We,je=Be)}}if(je){const Be=je.tooltipPosition();ke=Be.x,Re=Be.y}return{x:ke,y:Re}}};function pushOrConcat(Ae,_e){return _e&&(isArray(_e)?Array.prototype.push.apply(Ae,_e):Ae.push(_e)),Ae}function splitNewlines(Ae){return(typeof Ae=="string"||Ae instanceof String)&&Ae.indexOf(`
`)>-1?Ae.split(`
`):Ae}function createTooltipItem(Ae,_e){const{element:ke,datasetIndex:Re,index:Ie}=_e,Fe=Ae.getDatasetMeta(Re).controller,{label:Ne,value:je}=Fe.getLabelAndValue(Ie);return{chart:Ae,label:Ne,parsed:Fe.getParsed(Ie),raw:Ae.data.datasets[Re].data[Ie],formattedValue:je,dataset:Fe.getDataset(),dataIndex:Ie,datasetIndex:Re,element:ke}}function getTooltipSize(Ae,_e){const ke=Ae.chart.ctx,{body:Re,footer:Ie,title:Fe}=Ae,{boxWidth:Ne,boxHeight:je}=_e,Be=toFont(_e.bodyFont),He=toFont(_e.titleFont),We=toFont(_e.footerFont),Ge=Fe.length,Xe=Ie.length,$e=Re.length,qe=toPadding(_e.padding);let Ue=qe.height,Ye=0,Ze=Re.reduce((nn,rn)=>nn+rn.before.length+rn.lines.length+rn.after.length,0);if(Ze+=Ae.beforeBody.length+Ae.afterBody.length,Ge&&(Ue+=Ge*He.lineHeight+(Ge-1)*_e.titleSpacing+_e.titleMarginBottom),Ze){const nn=_e.displayColors?Math.max(je,Be.lineHeight):Be.lineHeight;Ue+=$e*nn+(Ze-$e)*Be.lineHeight+(Ze-1)*_e.bodySpacing}Xe&&(Ue+=_e.footerMarginTop+Xe*We.lineHeight+(Xe-1)*_e.footerSpacing);let Qe=0;const pn=function(nn){Ye=Math.max(Ye,ke.measureText(nn).width+Qe)};return ke.save(),ke.font=He.string,each(Ae.title,pn),ke.font=Be.string,each(Ae.beforeBody.concat(Ae.afterBody),pn),Qe=_e.displayColors?Ne+2+_e.boxPadding:0,each(Re,nn=>{each(nn.before,pn),each(nn.lines,pn),each(nn.after,pn)}),Qe=0,ke.font=We.string,each(Ae.footer,pn),ke.restore(),Ye+=qe.width,{width:Ye,height:Ue}}function determineYAlign(Ae,_e){const{y:ke,height:Re}=_e;return ke<Re/2?"top":ke>Ae.height-Re/2?"bottom":"center"}function doesNotFitWithAlign(Ae,_e,ke,Re){const{x:Ie,width:Fe}=Re,Ne=ke.caretSize+ke.caretPadding;if(Ae==="left"&&Ie+Fe+Ne>_e.width||Ae==="right"&&Ie-Fe-Ne<0)return!0}function determineXAlign(Ae,_e,ke,Re){const{x:Ie,width:Fe}=ke,{width:Ne,chartArea:{left:je,right:Be}}=Ae;let He="center";return Re==="center"?He=Ie<=(je+Be)/2?"left":"right":Ie<=Fe/2?He="left":Ie>=Ne-Fe/2&&(He="right"),doesNotFitWithAlign(He,Ae,_e,ke)&&(He="center"),He}function determineAlignment(Ae,_e,ke){const Re=ke.yAlign||_e.yAlign||determineYAlign(Ae,ke);return{xAlign:ke.xAlign||_e.xAlign||determineXAlign(Ae,_e,ke,Re),yAlign:Re}}function alignX(Ae,_e){let{x:ke,width:Re}=Ae;return _e==="right"?ke-=Re:_e==="center"&&(ke-=Re/2),ke}function alignY(Ae,_e,ke){let{y:Re,height:Ie}=Ae;return _e==="top"?Re+=ke:_e==="bottom"?Re-=Ie+ke:Re-=Ie/2,Re}function getBackgroundPoint(Ae,_e,ke,Re){const{caretSize:Ie,caretPadding:Fe,cornerRadius:Ne}=Ae,{xAlign:je,yAlign:Be}=ke,He=Ie+Fe,{topLeft:We,topRight:Ge,bottomLeft:Xe,bottomRight:$e}=toTRBLCorners(Ne);let qe=alignX(_e,je);const Ue=alignY(_e,Be,He);return Be==="center"?je==="left"?qe+=He:je==="right"&&(qe-=He):je==="left"?qe-=Math.max(We,Xe)+Ie:je==="right"&&(qe+=Math.max(Ge,$e)+Ie),{x:_limitValue(qe,0,Re.width-_e.width),y:_limitValue(Ue,0,Re.height-_e.height)}}function getAlignedX(Ae,_e,ke){const Re=toPadding(ke.padding);return _e==="center"?Ae.x+Ae.width/2:_e==="right"?Ae.x+Ae.width-Re.right:Ae.x+Re.left}function getBeforeAfterBodyLines(Ae){return pushOrConcat([],splitNewlines(Ae))}function createTooltipContext(Ae,_e,ke){return createContext(Ae,{tooltip:_e,tooltipItems:ke,type:"tooltip"})}function overrideCallbacks(Ae,_e){const ke=_e&&_e.dataset&&_e.dataset.tooltip&&_e.dataset.tooltip.callbacks;return ke?Ae.override(ke):Ae}const defaultCallbacks={beforeTitle:noop,title(Ae){if(Ae.length>0){const _e=Ae[0],ke=_e.chart.data.labels,Re=ke?ke.length:0;if(this&&this.options&&this.options.mode==="dataset")return _e.dataset.label||"";if(_e.label)return _e.label;if(Re>0&&_e.dataIndex<Re)return ke[_e.dataIndex]}return""},afterTitle:noop,beforeBody:noop,beforeLabel:noop,label(Ae){if(this&&this.options&&this.options.mode==="dataset")return Ae.label+": "+Ae.formattedValue||Ae.formattedValue;let _e=Ae.dataset.label||"";_e&&(_e+=": ");const ke=Ae.formattedValue;return isNullOrUndef(ke)||(_e+=ke),_e},labelColor(Ae){const ke=Ae.chart.getDatasetMeta(Ae.datasetIndex).controller.getStyle(Ae.dataIndex);return{borderColor:ke.borderColor,backgroundColor:ke.backgroundColor,borderWidth:ke.borderWidth,borderDash:ke.borderDash,borderDashOffset:ke.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(Ae){const ke=Ae.chart.getDatasetMeta(Ae.datasetIndex).controller.getStyle(Ae.dataIndex);return{pointStyle:ke.pointStyle,rotation:ke.rotation}},afterLabel:noop,afterBody:noop,beforeFooter:noop,footer:noop,afterFooter:noop};function invokeCallbackWithFallback(Ae,_e,ke,Re){const Ie=Ae[_e].call(ke,Re);return typeof Ie>"u"?defaultCallbacks[_e].call(ke,Re):Ie}class Tooltip extends Element$1{constructor(_e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=_e.chart,this.options=_e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(_e){this.options=_e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const _e=this._cachedAnimations;if(_e)return _e;const ke=this.chart,Re=this.options.setContext(this.getContext()),Ie=Re.enabled&&ke.options.animation&&Re.animations,Fe=new Animations(this.chart,Ie);return Ie._cacheable&&(this._cachedAnimations=Object.freeze(Fe)),Fe}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(_e,ke){const{callbacks:Re}=ke,Ie=invokeCallbackWithFallback(Re,"beforeTitle",this,_e),Fe=invokeCallbackWithFallback(Re,"title",this,_e),Ne=invokeCallbackWithFallback(Re,"afterTitle",this,_e);let je=[];return je=pushOrConcat(je,splitNewlines(Ie)),je=pushOrConcat(je,splitNewlines(Fe)),je=pushOrConcat(je,splitNewlines(Ne)),je}getBeforeBody(_e,ke){return getBeforeAfterBodyLines(invokeCallbackWithFallback(ke.callbacks,"beforeBody",this,_e))}getBody(_e,ke){const{callbacks:Re}=ke,Ie=[];return each(_e,Fe=>{const Ne={before:[],lines:[],after:[]},je=overrideCallbacks(Re,Fe);pushOrConcat(Ne.before,splitNewlines(invokeCallbackWithFallback(je,"beforeLabel",this,Fe))),pushOrConcat(Ne.lines,invokeCallbackWithFallback(je,"label",this,Fe)),pushOrConcat(Ne.after,splitNewlines(invokeCallbackWithFallback(je,"afterLabel",this,Fe))),Ie.push(Ne)}),Ie}getAfterBody(_e,ke){return getBeforeAfterBodyLines(invokeCallbackWithFallback(ke.callbacks,"afterBody",this,_e))}getFooter(_e,ke){const{callbacks:Re}=ke,Ie=invokeCallbackWithFallback(Re,"beforeFooter",this,_e),Fe=invokeCallbackWithFallback(Re,"footer",this,_e),Ne=invokeCallbackWithFallback(Re,"afterFooter",this,_e);let je=[];return je=pushOrConcat(je,splitNewlines(Ie)),je=pushOrConcat(je,splitNewlines(Fe)),je=pushOrConcat(je,splitNewlines(Ne)),je}_createItems(_e){const ke=this._active,Re=this.chart.data,Ie=[],Fe=[],Ne=[];let je=[],Be,He;for(Be=0,He=ke.length;Be<He;++Be)je.push(createTooltipItem(this.chart,ke[Be]));return _e.filter&&(je=je.filter((We,Ge,Xe)=>_e.filter(We,Ge,Xe,Re))),_e.itemSort&&(je=je.sort((We,Ge)=>_e.itemSort(We,Ge,Re))),each(je,We=>{const Ge=overrideCallbacks(_e.callbacks,We);Ie.push(invokeCallbackWithFallback(Ge,"labelColor",this,We)),Fe.push(invokeCallbackWithFallback(Ge,"labelPointStyle",this,We)),Ne.push(invokeCallbackWithFallback(Ge,"labelTextColor",this,We))}),this.labelColors=Ie,this.labelPointStyles=Fe,this.labelTextColors=Ne,this.dataPoints=je,je}update(_e,ke){const Re=this.options.setContext(this.getContext()),Ie=this._active;let Fe,Ne=[];if(!Ie.length)this.opacity!==0&&(Fe={opacity:0});else{const je=positioners[Re.position].call(this,Ie,this._eventPosition);Ne=this._createItems(Re),this.title=this.getTitle(Ne,Re),this.beforeBody=this.getBeforeBody(Ne,Re),this.body=this.getBody(Ne,Re),this.afterBody=this.getAfterBody(Ne,Re),this.footer=this.getFooter(Ne,Re);const Be=this._size=getTooltipSize(this,Re),He=Object.assign({},je,Be),We=determineAlignment(this.chart,Re,He),Ge=getBackgroundPoint(Re,He,We,this.chart);this.xAlign=We.xAlign,this.yAlign=We.yAlign,Fe={opacity:1,x:Ge.x,y:Ge.y,width:Be.width,height:Be.height,caretX:je.x,caretY:je.y}}this._tooltipItems=Ne,this.$context=void 0,Fe&&this._resolveAnimations().update(this,Fe),_e&&Re.external&&Re.external.call(this,{chart:this.chart,tooltip:this,replay:ke})}drawCaret(_e,ke,Re,Ie){const Fe=this.getCaretPosition(_e,Re,Ie);ke.lineTo(Fe.x1,Fe.y1),ke.lineTo(Fe.x2,Fe.y2),ke.lineTo(Fe.x3,Fe.y3)}getCaretPosition(_e,ke,Re){const{xAlign:Ie,yAlign:Fe}=this,{caretSize:Ne,cornerRadius:je}=Re,{topLeft:Be,topRight:He,bottomLeft:We,bottomRight:Ge}=toTRBLCorners(je),{x:Xe,y:$e}=_e,{width:qe,height:Ue}=ke;let Ye,Ze,Qe,pn,nn,rn;return Fe==="center"?(nn=$e+Ue/2,Ie==="left"?(Ye=Xe,Ze=Ye-Ne,pn=nn+Ne,rn=nn-Ne):(Ye=Xe+qe,Ze=Ye+Ne,pn=nn-Ne,rn=nn+Ne),Qe=Ye):(Ie==="left"?Ze=Xe+Math.max(Be,We)+Ne:Ie==="right"?Ze=Xe+qe-Math.max(He,Ge)-Ne:Ze=this.caretX,Fe==="top"?(pn=$e,nn=pn-Ne,Ye=Ze-Ne,Qe=Ze+Ne):(pn=$e+Ue,nn=pn+Ne,Ye=Ze+Ne,Qe=Ze-Ne),rn=pn),{x1:Ye,x2:Ze,x3:Qe,y1:pn,y2:nn,y3:rn}}drawTitle(_e,ke,Re){const Ie=this.title,Fe=Ie.length;let Ne,je,Be;if(Fe){const He=getRtlAdapter(Re.rtl,this.x,this.width);for(_e.x=getAlignedX(this,Re.titleAlign,Re),ke.textAlign=He.textAlign(Re.titleAlign),ke.textBaseline="middle",Ne=toFont(Re.titleFont),je=Re.titleSpacing,ke.fillStyle=Re.titleColor,ke.font=Ne.string,Be=0;Be<Fe;++Be)ke.fillText(Ie[Be],He.x(_e.x),_e.y+Ne.lineHeight/2),_e.y+=Ne.lineHeight+je,Be+1===Fe&&(_e.y+=Re.titleMarginBottom-je)}}_drawColorBox(_e,ke,Re,Ie,Fe){const Ne=this.labelColors[Re],je=this.labelPointStyles[Re],{boxHeight:Be,boxWidth:He}=Fe,We=toFont(Fe.bodyFont),Ge=getAlignedX(this,"left",Fe),Xe=Ie.x(Ge),$e=Be<We.lineHeight?(We.lineHeight-Be)/2:0,qe=ke.y+$e;if(Fe.usePointStyle){const Ue={radius:Math.min(He,Be)/2,pointStyle:je.pointStyle,rotation:je.rotation,borderWidth:1},Ye=Ie.leftForLtr(Xe,He)+He/2,Ze=qe+Be/2;_e.strokeStyle=Fe.multiKeyBackground,_e.fillStyle=Fe.multiKeyBackground,drawPoint(_e,Ue,Ye,Ze),_e.strokeStyle=Ne.borderColor,_e.fillStyle=Ne.backgroundColor,drawPoint(_e,Ue,Ye,Ze)}else{_e.lineWidth=isObject(Ne.borderWidth)?Math.max(...Object.values(Ne.borderWidth)):Ne.borderWidth||1,_e.strokeStyle=Ne.borderColor,_e.setLineDash(Ne.borderDash||[]),_e.lineDashOffset=Ne.borderDashOffset||0;const Ue=Ie.leftForLtr(Xe,He),Ye=Ie.leftForLtr(Ie.xPlus(Xe,1),He-2),Ze=toTRBLCorners(Ne.borderRadius);Object.values(Ze).some(Qe=>Qe!==0)?(_e.beginPath(),_e.fillStyle=Fe.multiKeyBackground,addRoundedRectPath(_e,{x:Ue,y:qe,w:He,h:Be,radius:Ze}),_e.fill(),_e.stroke(),_e.fillStyle=Ne.backgroundColor,_e.beginPath(),addRoundedRectPath(_e,{x:Ye,y:qe+1,w:He-2,h:Be-2,radius:Ze}),_e.fill()):(_e.fillStyle=Fe.multiKeyBackground,_e.fillRect(Ue,qe,He,Be),_e.strokeRect(Ue,qe,He,Be),_e.fillStyle=Ne.backgroundColor,_e.fillRect(Ye,qe+1,He-2,Be-2))}_e.fillStyle=this.labelTextColors[Re]}drawBody(_e,ke,Re){const{body:Ie}=this,{bodySpacing:Fe,bodyAlign:Ne,displayColors:je,boxHeight:Be,boxWidth:He,boxPadding:We}=Re,Ge=toFont(Re.bodyFont);let Xe=Ge.lineHeight,$e=0;const qe=getRtlAdapter(Re.rtl,this.x,this.width),Ue=function(Je){ke.fillText(Je,qe.x(_e.x+$e),_e.y+Xe/2),_e.y+=Xe+Fe},Ye=qe.textAlign(Ne);let Ze,Qe,pn,nn,rn,cn,tn;for(ke.textAlign=Ne,ke.textBaseline="middle",ke.font=Ge.string,_e.x=getAlignedX(this,Ye,Re),ke.fillStyle=Re.bodyColor,each(this.beforeBody,Ue),$e=je&&Ye!=="right"?Ne==="center"?He/2+We:He+2+We:0,nn=0,cn=Ie.length;nn<cn;++nn){for(Ze=Ie[nn],Qe=this.labelTextColors[nn],ke.fillStyle=Qe,each(Ze.before,Ue),pn=Ze.lines,je&&pn.length&&(this._drawColorBox(ke,_e,nn,qe,Re),Xe=Math.max(Ge.lineHeight,Be)),rn=0,tn=pn.length;rn<tn;++rn)Ue(pn[rn]),Xe=Ge.lineHeight;each(Ze.after,Ue)}$e=0,Xe=Ge.lineHeight,each(this.afterBody,Ue),_e.y-=Fe}drawFooter(_e,ke,Re){const Ie=this.footer,Fe=Ie.length;let Ne,je;if(Fe){const Be=getRtlAdapter(Re.rtl,this.x,this.width);for(_e.x=getAlignedX(this,Re.footerAlign,Re),_e.y+=Re.footerMarginTop,ke.textAlign=Be.textAlign(Re.footerAlign),ke.textBaseline="middle",Ne=toFont(Re.footerFont),ke.fillStyle=Re.footerColor,ke.font=Ne.string,je=0;je<Fe;++je)ke.fillText(Ie[je],Be.x(_e.x),_e.y+Ne.lineHeight/2),_e.y+=Ne.lineHeight+Re.footerSpacing}}drawBackground(_e,ke,Re,Ie){const{xAlign:Fe,yAlign:Ne}=this,{x:je,y:Be}=_e,{width:He,height:We}=Re,{topLeft:Ge,topRight:Xe,bottomLeft:$e,bottomRight:qe}=toTRBLCorners(Ie.cornerRadius);ke.fillStyle=Ie.backgroundColor,ke.strokeStyle=Ie.borderColor,ke.lineWidth=Ie.borderWidth,ke.beginPath(),ke.moveTo(je+Ge,Be),Ne==="top"&&this.drawCaret(_e,ke,Re,Ie),ke.lineTo(je+He-Xe,Be),ke.quadraticCurveTo(je+He,Be,je+He,Be+Xe),Ne==="center"&&Fe==="right"&&this.drawCaret(_e,ke,Re,Ie),ke.lineTo(je+He,Be+We-qe),ke.quadraticCurveTo(je+He,Be+We,je+He-qe,Be+We),Ne==="bottom"&&this.drawCaret(_e,ke,Re,Ie),ke.lineTo(je+$e,Be+We),ke.quadraticCurveTo(je,Be+We,je,Be+We-$e),Ne==="center"&&Fe==="left"&&this.drawCaret(_e,ke,Re,Ie),ke.lineTo(je,Be+Ge),ke.quadraticCurveTo(je,Be,je+Ge,Be),ke.closePath(),ke.fill(),Ie.borderWidth>0&&ke.stroke()}_updateAnimationTarget(_e){const ke=this.chart,Re=this.$animations,Ie=Re&&Re.x,Fe=Re&&Re.y;if(Ie||Fe){const Ne=positioners[_e.position].call(this,this._active,this._eventPosition);if(!Ne)return;const je=this._size=getTooltipSize(this,_e),Be=Object.assign({},Ne,this._size),He=determineAlignment(ke,_e,Be),We=getBackgroundPoint(_e,Be,He,ke);(Ie._to!==We.x||Fe._to!==We.y)&&(this.xAlign=He.xAlign,this.yAlign=He.yAlign,this.width=je.width,this.height=je.height,this.caretX=Ne.x,this.caretY=Ne.y,this._resolveAnimations().update(this,We))}}_willRender(){return!!this.opacity}draw(_e){const ke=this.options.setContext(this.getContext());let Re=this.opacity;if(!Re)return;this._updateAnimationTarget(ke);const Ie={width:this.width,height:this.height},Fe={x:this.x,y:this.y};Re=Math.abs(Re)<.001?0:Re;const Ne=toPadding(ke.padding),je=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;ke.enabled&&je&&(_e.save(),_e.globalAlpha=Re,this.drawBackground(Fe,_e,Ie,ke),overrideTextDirection(_e,ke.textDirection),Fe.y+=Ne.top,this.drawTitle(Fe,_e,ke),this.drawBody(Fe,_e,ke),this.drawFooter(Fe,_e,ke),restoreTextDirection(_e,ke.textDirection),_e.restore())}getActiveElements(){return this._active||[]}setActiveElements(_e,ke){const Re=this._active,Ie=_e.map(({datasetIndex:je,index:Be})=>{const He=this.chart.getDatasetMeta(je);if(!He)throw new Error("Cannot find a dataset at index "+je);return{datasetIndex:je,element:He.data[Be],index:Be}}),Fe=!_elementsEqual(Re,Ie),Ne=this._positionChanged(Ie,ke);(Fe||Ne)&&(this._active=Ie,this._eventPosition=ke,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(_e,ke,Re=!0){if(ke&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const Ie=this.options,Fe=this._active||[],Ne=this._getActiveElements(_e,Fe,ke,Re),je=this._positionChanged(Ne,_e),Be=ke||!_elementsEqual(Ne,Fe)||je;return Be&&(this._active=Ne,(Ie.enabled||Ie.external)&&(this._eventPosition={x:_e.x,y:_e.y},this.update(!0,ke))),Be}_getActiveElements(_e,ke,Re,Ie){const Fe=this.options;if(_e.type==="mouseout")return[];if(!Ie)return ke.filter(je=>this.chart.data.datasets[je.datasetIndex]&&this.chart.getDatasetMeta(je.datasetIndex).controller.getParsed(je.index)!==void 0);const Ne=this.chart.getElementsAtEventForMode(_e,Fe.mode,Fe,Re);return Fe.reverse&&Ne.reverse(),Ne}_positionChanged(_e,ke){const{caretX:Re,caretY:Ie,options:Fe}=this,Ne=positioners[Fe.position].call(this,_e,ke);return Ne!==!1&&(Re!==Ne.x||Ie!==Ne.y)}}br(Tooltip,"positioners",positioners);var plugin_tooltip={id:"tooltip",_element:Tooltip,positioners,afterInit(Ae,_e,ke){ke&&(Ae.tooltip=new Tooltip({chart:Ae,options:ke}))},beforeUpdate(Ae,_e,ke){Ae.tooltip&&Ae.tooltip.initialize(ke)},reset(Ae,_e,ke){Ae.tooltip&&Ae.tooltip.initialize(ke)},afterDraw(Ae){const _e=Ae.tooltip;if(_e&&_e._willRender()){const ke={tooltip:_e};if(Ae.notifyPlugins("beforeTooltipDraw",{...ke,cancelable:!0})===!1)return;_e.draw(Ae.ctx),Ae.notifyPlugins("afterTooltipDraw",ke)}},afterEvent(Ae,_e){if(Ae.tooltip){const ke=_e.replay;Ae.tooltip.handleEvent(_e.event,ke,_e.inChartArea)&&(_e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(Ae,_e)=>_e.bodyFont.size,boxWidth:(Ae,_e)=>_e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:Ae=>Ae!=="filter"&&Ae!=="itemSort"&&Ae!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const addIfString=(Ae,_e,ke,Re)=>(typeof _e=="string"?(ke=Ae.push(_e)-1,Re.unshift({index:ke,label:_e})):isNaN(_e)&&(ke=null),ke);function findOrAddLabel(Ae,_e,ke,Re){const Ie=Ae.indexOf(_e);if(Ie===-1)return addIfString(Ae,_e,ke,Re);const Fe=Ae.lastIndexOf(_e);return Ie!==Fe?ke:Ie}const validIndex=(Ae,_e)=>Ae===null?null:_limitValue(Math.round(Ae),0,_e);function _getLabelForValue(Ae){const _e=this.getLabels();return Ae>=0&&Ae<_e.length?_e[Ae]:Ae}class CategoryScale extends Scale{constructor(_e){super(_e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(_e){const ke=this._addedLabels;if(ke.length){const Re=this.getLabels();for(const{index:Ie,label:Fe}of ke)Re[Ie]===Fe&&Re.splice(Ie,1);this._addedLabels=[]}super.init(_e)}parse(_e,ke){if(isNullOrUndef(_e))return null;const Re=this.getLabels();return ke=isFinite(ke)&&Re[ke]===_e?ke:findOrAddLabel(Re,_e,valueOrDefault(ke,_e),this._addedLabels),validIndex(ke,Re.length-1)}determineDataLimits(){const{minDefined:_e,maxDefined:ke}=this.getUserBounds();let{min:Re,max:Ie}=this.getMinMax(!0);this.options.bounds==="ticks"&&(_e||(Re=0),ke||(Ie=this.getLabels().length-1)),this.min=Re,this.max=Ie}buildTicks(){const _e=this.min,ke=this.max,Re=this.options.offset,Ie=[];let Fe=this.getLabels();Fe=_e===0&&ke===Fe.length-1?Fe:Fe.slice(_e,ke+1),this._valueRange=Math.max(Fe.length-(Re?0:1),1),this._startValue=this.min-(Re?.5:0);for(let Ne=_e;Ne<=ke;Ne++)Ie.push({value:Ne});return Ie}getLabelForValue(_e){return _getLabelForValue.call(this,_e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(_e){return typeof _e!="number"&&(_e=this.parse(_e)),_e===null?NaN:this.getPixelForDecimal((_e-this._startValue)/this._valueRange)}getPixelForTick(_e){const ke=this.ticks;return _e<0||_e>ke.length-1?null:this.getPixelForValue(ke[_e].value)}getValueForPixel(_e){return Math.round(this._startValue+this.getDecimalForPixel(_e)*this._valueRange)}getBasePixel(){return this.bottom}}br(CategoryScale,"id","category"),br(CategoryScale,"defaults",{ticks:{callback:_getLabelForValue}});function generateTicks$1(Ae,_e){const ke=[],{bounds:Ie,step:Fe,min:Ne,max:je,precision:Be,count:He,maxTicks:We,maxDigits:Ge,includeBounds:Xe}=Ae,$e=Fe||1,qe=We-1,{min:Ue,max:Ye}=_e,Ze=!isNullOrUndef(Ne),Qe=!isNullOrUndef(je),pn=!isNullOrUndef(He),nn=(Ye-Ue)/(Ge+1);let rn=niceNum((Ye-Ue)/qe/$e)*$e,cn,tn,Je,an;if(rn<1e-14&&!Ze&&!Qe)return[{value:Ue},{value:Ye}];an=Math.ceil(Ye/rn)-Math.floor(Ue/rn),an>qe&&(rn=niceNum(an*rn/qe/$e)*$e),isNullOrUndef(Be)||(cn=Math.pow(10,Be),rn=Math.ceil(rn*cn)/cn),Ie==="ticks"?(tn=Math.floor(Ue/rn)*rn,Je=Math.ceil(Ye/rn)*rn):(tn=Ue,Je=Ye),Ze&&Qe&&Fe&&almostWhole((je-Ne)/Fe,rn/1e3)?(an=Math.round(Math.min((je-Ne)/rn,We)),rn=(je-Ne)/an,tn=Ne,Je=je):pn?(tn=Ze?Ne:tn,Je=Qe?je:Je,an=He-1,rn=(Je-tn)/an):(an=(Je-tn)/rn,almostEquals(an,Math.round(an),rn/1e3)?an=Math.round(an):an=Math.ceil(an));const gn=Math.max(_decimalPlaces(rn),_decimalPlaces(tn));cn=Math.pow(10,isNullOrUndef(Be)?gn:Be),tn=Math.round(tn*cn)/cn,Je=Math.round(Je*cn)/cn;let Ke=0;for(Ze&&(Xe&&tn!==Ne?(ke.push({value:Ne}),tn<Ne&&Ke++,almostEquals(Math.round((tn+Ke*rn)*cn)/cn,Ne,relativeLabelSize(Ne,nn,Ae))&&Ke++):tn<Ne&&Ke++);Ke<an;++Ke){const sn=Math.round((tn+Ke*rn)*cn)/cn;if(Qe&&sn>je)break;ke.push({value:sn})}return Qe&&Xe&&Je!==je?ke.length&&almostEquals(ke[ke.length-1].value,je,relativeLabelSize(je,nn,Ae))?ke[ke.length-1].value=je:ke.push({value:je}):(!Qe||Je===je)&&ke.push({value:Je}),ke}function relativeLabelSize(Ae,_e,{horizontal:ke,minRotation:Re}){const Ie=toRadians(Re),Fe=(ke?Math.sin(Ie):Math.cos(Ie))||.001,Ne=.75*_e*(""+Ae).length;return Math.min(_e/Fe,Ne)}class LinearScaleBase extends Scale{constructor(_e){super(_e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(_e,ke){return isNullOrUndef(_e)||(typeof _e=="number"||_e instanceof Number)&&!isFinite(+_e)?null:+_e}handleTickRangeOptions(){const{beginAtZero:_e}=this.options,{minDefined:ke,maxDefined:Re}=this.getUserBounds();let{min:Ie,max:Fe}=this;const Ne=Be=>Ie=ke?Ie:Be,je=Be=>Fe=Re?Fe:Be;if(_e){const Be=sign(Ie),He=sign(Fe);Be<0&&He<0?je(0):Be>0&&He>0&&Ne(0)}if(Ie===Fe){let Be=Fe===0?1:Math.abs(Fe*.05);je(Fe+Be),_e||Ne(Ie-Be)}this.min=Ie,this.max=Fe}getTickLimit(){const _e=this.options.ticks;let{maxTicksLimit:ke,stepSize:Re}=_e,Ie;return Re?(Ie=Math.ceil(this.max/Re)-Math.floor(this.min/Re)+1,Ie>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${Re} would result generating up to ${Ie} ticks. Limiting to 1000.`),Ie=1e3)):(Ie=this.computeTickLimit(),ke=ke||11),ke&&(Ie=Math.min(ke,Ie)),Ie}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const _e=this.options,ke=_e.ticks;let Re=this.getTickLimit();Re=Math.max(2,Re);const Ie={maxTicks:Re,bounds:_e.bounds,min:_e.min,max:_e.max,precision:ke.precision,step:ke.stepSize,count:ke.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:ke.minRotation||0,includeBounds:ke.includeBounds!==!1},Fe=this._range||this,Ne=generateTicks$1(Ie,Fe);return _e.bounds==="ticks"&&_setMinAndMaxByKey(Ne,this,"value"),_e.reverse?(Ne.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),Ne}configure(){const _e=this.ticks;let ke=this.min,Re=this.max;if(super.configure(),this.options.offset&&_e.length){const Ie=(Re-ke)/Math.max(_e.length-1,1)/2;ke-=Ie,Re+=Ie}this._startValue=ke,this._endValue=Re,this._valueRange=Re-ke}getLabelForValue(_e){return formatNumber(_e,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{determineDataLimits(){const{min:_e,max:ke}=this.getMinMax(!0);this.min=isNumberFinite(_e)?_e:0,this.max=isNumberFinite(ke)?ke:1,this.handleTickRangeOptions()}computeTickLimit(){const _e=this.isHorizontal(),ke=_e?this.width:this.height,Re=toRadians(this.options.ticks.minRotation),Ie=(_e?Math.sin(Re):Math.cos(Re))||.001,Fe=this._resolveTickFontOptions(0);return Math.ceil(ke/Math.min(40,Fe.lineHeight/Ie))}getPixelForValue(_e){return _e===null?NaN:this.getPixelForDecimal((_e-this._startValue)/this._valueRange)}getValueForPixel(_e){return this._startValue+this.getDecimalForPixel(_e)*this._valueRange}}br(LinearScale,"id","linear"),br(LinearScale,"defaults",{ticks:{callback:Ticks.formatters.numeric}});const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(Ae,_e){return Ae-_e}function parse(Ae,_e){if(isNullOrUndef(_e))return null;const ke=Ae._adapter,{parser:Re,round:Ie,isoWeekday:Fe}=Ae._parseOpts;let Ne=_e;return typeof Re=="function"&&(Ne=Re(Ne)),isNumberFinite(Ne)||(Ne=typeof Re=="string"?ke.parse(Ne,Re):ke.parse(Ne)),Ne===null?null:(Ie&&(Ne=Ie==="week"&&(isNumber(Fe)||Fe===!0)?ke.startOf(Ne,"isoWeek",Fe):ke.startOf(Ne,Ie)),+Ne)}function determineUnitForAutoTicks(Ae,_e,ke,Re){const Ie=UNITS.length;for(let Fe=UNITS.indexOf(Ae);Fe<Ie-1;++Fe){const Ne=INTERVALS[UNITS[Fe]],je=Ne.steps?Ne.steps:Number.MAX_SAFE_INTEGER;if(Ne.common&&Math.ceil((ke-_e)/(je*Ne.size))<=Re)return UNITS[Fe]}return UNITS[Ie-1]}function determineUnitForFormatting(Ae,_e,ke,Re,Ie){for(let Fe=UNITS.length-1;Fe>=UNITS.indexOf(ke);Fe--){const Ne=UNITS[Fe];if(INTERVALS[Ne].common&&Ae._adapter.diff(Ie,Re,Ne)>=_e-1)return Ne}return UNITS[ke?UNITS.indexOf(ke):0]}function determineMajorUnit(Ae){for(let _e=UNITS.indexOf(Ae)+1,ke=UNITS.length;_e<ke;++_e)if(INTERVALS[UNITS[_e]].common)return UNITS[_e]}function addTick(Ae,_e,ke){if(!ke)Ae[_e]=!0;else if(ke.length){const{lo:Re,hi:Ie}=_lookup(ke,_e),Fe=ke[Re]>=_e?ke[Re]:ke[Ie];Ae[Fe]=!0}}function setMajorTicks(Ae,_e,ke,Re){const Ie=Ae._adapter,Fe=+Ie.startOf(_e[0].value,Re),Ne=_e[_e.length-1].value;let je,Be;for(je=Fe;je<=Ne;je=+Ie.add(je,1,Re))Be=ke[je],Be>=0&&(_e[Be].major=!0);return _e}function ticksFromTimestamps(Ae,_e,ke){const Re=[],Ie={},Fe=_e.length;let Ne,je;for(Ne=0;Ne<Fe;++Ne)je=_e[Ne],Ie[je]=Ne,Re.push({value:je,major:!1});return Fe===0||!ke?Re:setMajorTicks(Ae,Re,Ie,ke)}class TimeScale extends Scale{constructor(_e){super(_e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(_e,ke={}){const Re=_e.time||(_e.time={}),Ie=this._adapter=new adapters._date(_e.adapters.date);Ie.init(ke),mergeIf(Re.displayFormats,Ie.formats()),this._parseOpts={parser:Re.parser,round:Re.round,isoWeekday:Re.isoWeekday},super.init(_e),this._normalized=ke.normalized}parse(_e,ke){return _e===void 0?null:parse(this,_e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const _e=this.options,ke=this._adapter,Re=_e.time.unit||"day";let{min:Ie,max:Fe,minDefined:Ne,maxDefined:je}=this.getUserBounds();function Be(He){!Ne&&!isNaN(He.min)&&(Ie=Math.min(Ie,He.min)),!je&&!isNaN(He.max)&&(Fe=Math.max(Fe,He.max))}(!Ne||!je)&&(Be(this._getLabelBounds()),(_e.bounds!=="ticks"||_e.ticks.source!=="labels")&&Be(this.getMinMax(!1))),Ie=isNumberFinite(Ie)&&!isNaN(Ie)?Ie:+ke.startOf(Date.now(),Re),Fe=isNumberFinite(Fe)&&!isNaN(Fe)?Fe:+ke.endOf(Date.now(),Re)+1,this.min=Math.min(Ie,Fe-1),this.max=Math.max(Ie+1,Fe)}_getLabelBounds(){const _e=this.getLabelTimestamps();let ke=Number.POSITIVE_INFINITY,Re=Number.NEGATIVE_INFINITY;return _e.length&&(ke=_e[0],Re=_e[_e.length-1]),{min:ke,max:Re}}buildTicks(){const _e=this.options,ke=_e.time,Re=_e.ticks,Ie=Re.source==="labels"?this.getLabelTimestamps():this._generate();_e.bounds==="ticks"&&Ie.length&&(this.min=this._userMin||Ie[0],this.max=this._userMax||Ie[Ie.length-1]);const Fe=this.min,Ne=this.max,je=_filterBetween(Ie,Fe,Ne);return this._unit=ke.unit||(Re.autoSkip?determineUnitForAutoTicks(ke.minUnit,this.min,this.max,this._getLabelCapacity(Fe)):determineUnitForFormatting(this,je.length,ke.minUnit,this.min,this.max)),this._majorUnit=!Re.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(Ie),_e.reverse&&je.reverse(),ticksFromTimestamps(this,je,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(_e=>+_e.value))}initOffsets(_e=[]){let ke=0,Re=0,Ie,Fe;this.options.offset&&_e.length&&(Ie=this.getDecimalForValue(_e[0]),_e.length===1?ke=1-Ie:ke=(this.getDecimalForValue(_e[1])-Ie)/2,Fe=this.getDecimalForValue(_e[_e.length-1]),_e.length===1?Re=Fe:Re=(Fe-this.getDecimalForValue(_e[_e.length-2]))/2);const Ne=_e.length<3?.5:.25;ke=_limitValue(ke,0,Ne),Re=_limitValue(Re,0,Ne),this._offsets={start:ke,end:Re,factor:1/(ke+1+Re)}}_generate(){const _e=this._adapter,ke=this.min,Re=this.max,Ie=this.options,Fe=Ie.time,Ne=Fe.unit||determineUnitForAutoTicks(Fe.minUnit,ke,Re,this._getLabelCapacity(ke)),je=valueOrDefault(Ie.ticks.stepSize,1),Be=Ne==="week"?Fe.isoWeekday:!1,He=isNumber(Be)||Be===!0,We={};let Ge=ke,Xe,$e;if(He&&(Ge=+_e.startOf(Ge,"isoWeek",Be)),Ge=+_e.startOf(Ge,He?"day":Ne),_e.diff(Re,ke,Ne)>1e5*je)throw new Error(ke+" and "+Re+" are too far apart with stepSize of "+je+" "+Ne);const qe=Ie.ticks.source==="data"&&this.getDataTimestamps();for(Xe=Ge,$e=0;Xe<Re;Xe=+_e.add(Xe,je,Ne),$e++)addTick(We,Xe,qe);return(Xe===Re||Ie.bounds==="ticks"||$e===1)&&addTick(We,Xe,qe),Object.keys(We).sort(sorter).map(Ue=>+Ue)}getLabelForValue(_e){const ke=this._adapter,Re=this.options.time;return Re.tooltipFormat?ke.format(_e,Re.tooltipFormat):ke.format(_e,Re.displayFormats.datetime)}format(_e,ke){const Ie=this.options.time.displayFormats,Fe=this._unit,Ne=ke||Ie[Fe];return this._adapter.format(_e,Ne)}_tickFormatFunction(_e,ke,Re,Ie){const Fe=this.options,Ne=Fe.ticks.callback;if(Ne)return callback(Ne,[_e,ke,Re],this);const je=Fe.time.displayFormats,Be=this._unit,He=this._majorUnit,We=Be&&je[Be],Ge=He&&je[He],Xe=Re[ke],$e=He&&Ge&&Xe&&Xe.major;return this._adapter.format(_e,Ie||($e?Ge:We))}generateTickLabels(_e){let ke,Re,Ie;for(ke=0,Re=_e.length;ke<Re;++ke)Ie=_e[ke],Ie.label=this._tickFormatFunction(Ie.value,ke,_e)}getDecimalForValue(_e){return _e===null?NaN:(_e-this.min)/(this.max-this.min)}getPixelForValue(_e){const ke=this._offsets,Re=this.getDecimalForValue(_e);return this.getPixelForDecimal((ke.start+Re)*ke.factor)}getValueForPixel(_e){const ke=this._offsets,Re=this.getDecimalForPixel(_e)/ke.factor-ke.end;return this.min+Re*(this.max-this.min)}_getLabelSize(_e){const ke=this.options.ticks,Re=this.ctx.measureText(_e).width,Ie=toRadians(this.isHorizontal()?ke.maxRotation:ke.minRotation),Fe=Math.cos(Ie),Ne=Math.sin(Ie),je=this._resolveTickFontOptions(0).size;return{w:Re*Fe+je*Ne,h:Re*Ne+je*Fe}}_getLabelCapacity(_e){const ke=this.options.time,Re=ke.displayFormats,Ie=Re[ke.unit]||Re.millisecond,Fe=this._tickFormatFunction(_e,0,ticksFromTimestamps(this,[_e],this._majorUnit),Ie),Ne=this._getLabelSize(Fe),je=Math.floor(this.isHorizontal()?this.width/Ne.w:this.height/Ne.h)-1;return je>0?je:1}getDataTimestamps(){let _e=this._cache.data||[],ke,Re;if(_e.length)return _e;const Ie=this.getMatchingVisibleMetas();if(this._normalized&&Ie.length)return this._cache.data=Ie[0].controller.getAllParsedValues(this);for(ke=0,Re=Ie.length;ke<Re;++ke)_e=_e.concat(Ie[ke].controller.getAllParsedValues(this));return this._cache.data=this.normalize(_e)}getLabelTimestamps(){const _e=this._cache.labels||[];let ke,Re;if(_e.length)return _e;const Ie=this.getLabels();for(ke=0,Re=Ie.length;ke<Re;++ke)_e.push(parse(this,Ie[ke]));return this._cache.labels=this._normalized?_e:this.normalize(_e)}normalize(_e){return _arrayUnique(_e.sort(sorter))}}br(TimeScale,"id","time"),br(TimeScale,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function interpolate(Ae,_e,ke){let Re=0,Ie=Ae.length-1,Fe,Ne,je,Be;ke?(_e>=Ae[Re].pos&&_e<=Ae[Ie].pos&&({lo:Re,hi:Ie}=_lookupByKey(Ae,"pos",_e)),{pos:Fe,time:je}=Ae[Re],{pos:Ne,time:Be}=Ae[Ie]):(_e>=Ae[Re].time&&_e<=Ae[Ie].time&&({lo:Re,hi:Ie}=_lookupByKey(Ae,"time",_e)),{time:Fe,pos:je}=Ae[Re],{time:Ne,pos:Be}=Ae[Ie]);const He=Ne-Fe;return He?je+(Be-je)*(_e-Fe)/He:je}class TimeSeriesScale extends TimeScale{constructor(_e){super(_e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const _e=this._getTimestampsForTable(),ke=this._table=this.buildLookupTable(_e);this._minPos=interpolate(ke,this.min),this._tableRange=interpolate(ke,this.max)-this._minPos,super.initOffsets(_e)}buildLookupTable(_e){const{min:ke,max:Re}=this,Ie=[],Fe=[];let Ne,je,Be,He,We;for(Ne=0,je=_e.length;Ne<je;++Ne)He=_e[Ne],He>=ke&&He<=Re&&Ie.push(He);if(Ie.length<2)return[{time:ke,pos:0},{time:Re,pos:1}];for(Ne=0,je=Ie.length;Ne<je;++Ne)We=Ie[Ne+1],Be=Ie[Ne-1],He=Ie[Ne],Math.round((We+Be)/2)!==He&&Fe.push({time:He,pos:Ne/(je-1)});return Fe}_generate(){const _e=this.min,ke=this.max;let Re=super.getDataTimestamps();return(!Re.includes(_e)||!Re.length)&&Re.splice(0,0,_e),(!Re.includes(ke)||Re.length===1)&&Re.push(ke),Re.sort((Ie,Fe)=>Ie-Fe)}_getTimestampsForTable(){let _e=this._cache.all||[];if(_e.length)return _e;const ke=this.getDataTimestamps(),Re=this.getLabelTimestamps();return ke.length&&Re.length?_e=this.normalize(ke.concat(Re)):_e=ke.length?ke:Re,_e=this._cache.all=_e,_e}getDecimalForValue(_e){return(interpolate(this._table,_e)-this._minPos)/this._tableRange}getValueForPixel(_e){const ke=this._offsets,Re=this.getDecimalForPixel(_e)/ke.factor-ke.end;return interpolate(this._table,Re*this._tableRange+this._minPos,!0)}}br(TimeSeriesScale,"id","timeseries"),br(TimeSeriesScale,"defaults",TimeScale.defaults);const defaultDatasetIdKey="label";function reforwardRef(Ae,_e){typeof Ae=="function"?Ae(_e):Ae&&(Ae.current=_e)}function setOptions(Ae,_e){const ke=Ae.options;ke&&_e&&Object.assign(ke,_e)}function setLabels(Ae,_e){Ae.labels=_e}function setDatasets(Ae,_e){let ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:defaultDatasetIdKey;const Re=[];Ae.datasets=_e.map(Ie=>{const Fe=Ae.datasets.find(Ne=>Ne[ke]===Ie[ke]);return!Fe||!Ie.data||Re.includes(Fe)?{...Ie}:(Re.push(Fe),Object.assign(Fe,Ie),Fe)})}function cloneData(Ae){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:defaultDatasetIdKey;const ke={labels:[],datasets:[]};return setLabels(ke,Ae.labels),setDatasets(ke,Ae.datasets,_e),ke}function ChartComponent(Ae,_e){const{height:ke=150,width:Re=300,redraw:Ie=!1,datasetIdKey:Fe,type:Ne,data:je,options:Be,plugins:He=[],fallbackContent:We,updateMode:Ge,...Xe}=Ae,$e=reactExports.useRef(null),qe=reactExports.useRef(null),Ue=()=>{$e.current&&(qe.current=new Chart$1($e.current,{type:Ne,data:cloneData(je,Fe),options:Be&&{...Be},plugins:He}),reforwardRef(_e,qe.current))},Ye=()=>{reforwardRef(_e,null),qe.current&&(qe.current.destroy(),qe.current=null)};return reactExports.useEffect(()=>{!Ie&&qe.current&&Be&&setOptions(qe.current,Be)},[Ie,Be]),reactExports.useEffect(()=>{!Ie&&qe.current&&setLabels(qe.current.config.data,je.labels)},[Ie,je.labels]),reactExports.useEffect(()=>{!Ie&&qe.current&&je.datasets&&setDatasets(qe.current.config.data,je.datasets,Fe)},[Ie,je.datasets]),reactExports.useEffect(()=>{qe.current&&(Ie?(Ye(),setTimeout(Ue)):qe.current.update(Ge))},[Ie,Be,je.labels,je.datasets,Ge]),reactExports.useEffect(()=>{qe.current&&(Ye(),setTimeout(Ue))},[Ne]),reactExports.useEffect(()=>(Ue(),()=>Ye()),[]),React.createElement("canvas",{ref:$e,role:"img",height:ke,width:Re,...Xe},We)}const Chart=reactExports.forwardRef(ChartComponent);function createTypedChart(Ae,_e){return Chart$1.register(_e),reactExports.forwardRef((ke,Re)=>React.createElement(Chart,{...ke,ref:Re,type:Ae}))}const Bar=createTypedChart("bar",BarController);Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_title,plugin_tooltip,plugin_legend);const getRandomNumber=()=>Math.floor(Math.random()*256),Technologies=()=>{const _e=new Date().getFullYear(),ke=data.tech.list.map((Fe,Ne)=>({name:Fe,years:_e-data.tech.datewhenIbegin[Ne]})),Re={labels:ke.map(Fe=>Fe.name),datasets:[{axis:"y",label:"Years of experience",data:ke.map(Fe=>Fe.years),fill:!1,backgroundColor:ke.map(()=>`rgba(${getRandomNumber()}, ${getRandomNumber()}, ${getRandomNumber()}, 0.7)`),borderColor:["rgb(255, 255, 255)"],borderWidth:1}]},Ie={indexAxis:"y",responsive:!0,maintainAspectRatio:!1,scales:{x:{beginAtZero:!0,title:{display:!0,text:"Years"}}}};return jsxRuntimeExports.jsxs("div",{className:"technologies",children:[jsxRuntimeExports.jsx("h1",{children:data.tech.title}),jsxRuntimeExports.jsx("p",{children:data.tech.text}),jsxRuntimeExports.jsx("div",{style:{height:"400px",width:"100%"},children:jsxRuntimeExports.jsx(Bar,{data:Re,options:Ie})})]})};var lib$h={exports:{}},core_min={};function commonjsRequire(Ae){throw new Error('Could not dynamically require "'+Ae+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(_e,ke){module.exports=_e.pdfjsLib=ke()})(globalThis,()=>(()=>{var __webpack_modules__=[,(Ae,_e)=>{var Mr;Object.defineProperty(_e,"__esModule",{value:!0}),_e.VerbosityLevel=_e.Util=_e.UnknownErrorException=_e.UnexpectedResponseException=_e.TextRenderingMode=_e.RenderingIntentFlag=_e.PromiseCapability=_e.PermissionFlag=_e.PasswordResponses=_e.PasswordException=_e.PageActionEventType=_e.OPS=_e.MissingPDFException=_e.MAX_IMAGE_SIZE_TO_CACHE=_e.LINE_FACTOR=_e.LINE_DESCENT_FACTOR=_e.InvalidPDFException=_e.ImageKind=_e.IDENTITY_MATRIX=_e.FormatError=_e.FeatureTest=_e.FONT_IDENTITY_MATRIX=_e.DocumentActionEventType=_e.CMapCompressionType=_e.BaseException=_e.BASELINE_FACTOR=_e.AnnotationType=_e.AnnotationReplyType=_e.AnnotationPrefix=_e.AnnotationMode=_e.AnnotationFlag=_e.AnnotationFieldFlag=_e.AnnotationEditorType=_e.AnnotationEditorPrefix=_e.AnnotationEditorParamsType=_e.AnnotationBorderStyleType=_e.AnnotationActionEventType=_e.AbortException=void 0,_e.assert=vn,_e.bytesToString=li,_e.createValidAbsoluteUrl=Sn,_e.getModificationDate=Ei,_e.getUuid=Xi,_e.getVerbosityLevel=bn,_e.info=En,_e.isArrayBuffer=$n,_e.isArrayEqual=Pi,_e.isNodeJS=void 0,_e.normalizeUnicode=Mi,_e.objectFromMap=yi,_e.objectSize=vi,_e.setVerbosityLevel=Cn,_e.shadow=fn,_e.string32=di,_e.stringToBytes=oi,_e.stringToPDFString=Yn,_e.stringToUTF8String=fi,_e.unreachable=xn,_e.utf8StringToString=gi,_e.warn=yn;const ke=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");_e.isNodeJS=ke;const Re=[1,0,0,1,0,0];_e.IDENTITY_MATRIX=Re;const Ie=[.001,0,0,.001,0,0];_e.FONT_IDENTITY_MATRIX=Ie;const Fe=1e7;_e.MAX_IMAGE_SIZE_TO_CACHE=Fe;const Ne=1.35;_e.LINE_FACTOR=Ne;const je=.35;_e.LINE_DESCENT_FACTOR=je;const Be=je/Ne;_e.BASELINE_FACTOR=Be;const He={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};_e.RenderingIntentFlag=He;const We={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};_e.AnnotationMode=We;const Ge="pdfjs_internal_editor_";_e.AnnotationEditorPrefix=Ge;const Xe={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};_e.AnnotationEditorType=Xe;const $e={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};_e.AnnotationEditorParamsType=$e;const qe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};_e.PermissionFlag=qe;const Ue={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};_e.TextRenderingMode=Ue;const Ye={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};_e.ImageKind=Ye;const Ze={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};_e.AnnotationType=Ze;const Qe={GROUP:"Group",REPLY:"R"};_e.AnnotationReplyType=Qe;const pn={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};_e.AnnotationFlag=pn;const nn={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};_e.AnnotationFieldFlag=nn;const rn={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};_e.AnnotationBorderStyleType=rn;const cn={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};_e.AnnotationActionEventType=cn;const tn={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};_e.DocumentActionEventType=tn;const Je={O:"PageOpen",C:"PageClose"};_e.PageActionEventType=Je;const an={ERRORS:0,WARNINGS:1,INFOS:5};_e.VerbosityLevel=an;const gn={NONE:0,BINARY:1};_e.CMapCompressionType=gn;const Ke={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};_e.OPS=Ke;const sn={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};_e.PasswordResponses=sn;let hn=an.WARNINGS;function Cn(_i){Number.isInteger(_i)&&(hn=_i)}function bn(){return hn}function En(_i){hn>=an.INFOS&&console.log(`Info: ${_i}`)}function yn(_i){hn>=an.WARNINGS&&console.log(`Warning: ${_i}`)}function xn(_i){throw new Error(_i)}function vn(_i,Qn){_i||xn(Qn)}function kn(_i){switch(_i==null?void 0:_i.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Sn(_i,Qn=null,ti=null){if(!_i)return null;try{if(ti&&typeof _i=="string"){if(ti.addDefaultProtocol&&_i.startsWith("www.")){const Vi=_i.match(/\./g);(Vi==null?void 0:Vi.length)>=2&&(_i=`http://${_i}`)}if(ti.tryConvertEncoding)try{_i=fi(_i)}catch{}}const Bi=Qn?new URL(_i,Qn):new URL(_i);if(kn(Bi))return Bi}catch{}return null}function fn(_i,Qn,ti,Bi=!1){return Object.defineProperty(_i,Qn,{value:ti,enumerable:!Bi,configurable:!0,writable:!1}),ti}const on=function(){function Qn(ti,Bi){this.constructor===Qn&&xn("Cannot initialize BaseException."),this.message=ti,this.name=Bi}return Qn.prototype=new Error,Qn.constructor=Qn,Qn}();_e.BaseException=on;class ln extends on{constructor(Qn,ti){super(Qn,"PasswordException"),this.code=ti}}_e.PasswordException=ln;class _n extends on{constructor(Qn,ti){super(Qn,"UnknownErrorException"),this.details=ti}}_e.UnknownErrorException=_n;class Tn extends on{constructor(Qn){super(Qn,"InvalidPDFException")}}_e.InvalidPDFException=Tn;class Pn extends on{constructor(Qn){super(Qn,"MissingPDFException")}}_e.MissingPDFException=Pn;class Rn extends on{constructor(Qn,ti){super(Qn,"UnexpectedResponseException"),this.status=ti}}_e.UnexpectedResponseException=Rn;class Dn extends on{constructor(Qn){super(Qn,"FormatError")}}_e.FormatError=Dn;class Xn extends on{constructor(Qn){super(Qn,"AbortException")}}_e.AbortException=Xn;function li(_i){(typeof _i!="object"||(_i==null?void 0:_i.length)===void 0)&&xn("Invalid argument for bytesToString");const Qn=_i.length,ti=8192;if(Qn<ti)return String.fromCharCode.apply(null,_i);const Bi=[];for(let Vi=0;Vi<Qn;Vi+=ti){const Qi=Math.min(Vi+ti,Qn),Fn=_i.subarray(Vi,Qi);Bi.push(String.fromCharCode.apply(null,Fn))}return Bi.join("")}function oi(_i){typeof _i!="string"&&xn("Invalid argument for stringToBytes");const Qn=_i.length,ti=new Uint8Array(Qn);for(let Bi=0;Bi<Qn;++Bi)ti[Bi]=_i.charCodeAt(Bi)&255;return ti}function di(_i){return String.fromCharCode(_i>>24&255,_i>>16&255,_i>>8&255,_i&255)}function vi(_i){return Object.keys(_i).length}function yi(_i){const Qn=Object.create(null);for(const[ti,Bi]of _i)Qn[ti]=Bi;return Qn}function Zn(){const _i=new Uint8Array(4);return _i[0]=1,new Uint32Array(_i.buffer,0,1)[0]===1}function Gn(){try{return new Function(""),!0}catch{return!1}}class wn{static get isLittleEndian(){return fn(this,"isLittleEndian",Zn())}static get isEvalSupported(){return fn(this,"isEvalSupported",Gn())}static get isOffscreenCanvasSupported(){return fn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?fn(this,"platform",{isWin:!1,isMac:!1}):fn(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Qn,ti;return fn(this,"isCSSRoundSupported",(ti=(Qn=globalThis.CSS)==null?void 0:Qn.supports)==null?void 0:ti.call(Qn,"width: round(1.5px, 1px)"))}}_e.FeatureTest=wn;const Ln=[...Array(256).keys()].map(_i=>_i.toString(16).padStart(2,"0"));class Wn{static makeHexColor(Qn,ti,Bi){return`#${Ln[Qn]}${Ln[ti]}${Ln[Bi]}`}static scaleMinMax(Qn,ti){let Bi;Qn[0]?(Qn[0]<0&&(Bi=ti[0],ti[0]=ti[1],ti[1]=Bi),ti[0]*=Qn[0],ti[1]*=Qn[0],Qn[3]<0&&(Bi=ti[2],ti[2]=ti[3],ti[3]=Bi),ti[2]*=Qn[3],ti[3]*=Qn[3]):(Bi=ti[0],ti[0]=ti[2],ti[2]=Bi,Bi=ti[1],ti[1]=ti[3],ti[3]=Bi,Qn[1]<0&&(Bi=ti[2],ti[2]=ti[3],ti[3]=Bi),ti[2]*=Qn[1],ti[3]*=Qn[1],Qn[2]<0&&(Bi=ti[0],ti[0]=ti[1],ti[1]=Bi),ti[0]*=Qn[2],ti[1]*=Qn[2]),ti[0]+=Qn[4],ti[1]+=Qn[4],ti[2]+=Qn[5],ti[3]+=Qn[5]}static transform(Qn,ti){return[Qn[0]*ti[0]+Qn[2]*ti[1],Qn[1]*ti[0]+Qn[3]*ti[1],Qn[0]*ti[2]+Qn[2]*ti[3],Qn[1]*ti[2]+Qn[3]*ti[3],Qn[0]*ti[4]+Qn[2]*ti[5]+Qn[4],Qn[1]*ti[4]+Qn[3]*ti[5]+Qn[5]]}static applyTransform(Qn,ti){const Bi=Qn[0]*ti[0]+Qn[1]*ti[2]+ti[4],Vi=Qn[0]*ti[1]+Qn[1]*ti[3]+ti[5];return[Bi,Vi]}static applyInverseTransform(Qn,ti){const Bi=ti[0]*ti[3]-ti[1]*ti[2],Vi=(Qn[0]*ti[3]-Qn[1]*ti[2]+ti[2]*ti[5]-ti[4]*ti[3])/Bi,Qi=(-Qn[0]*ti[1]+Qn[1]*ti[0]+ti[4]*ti[1]-ti[5]*ti[0])/Bi;return[Vi,Qi]}static getAxialAlignedBoundingBox(Qn,ti){const Bi=this.applyTransform(Qn,ti),Vi=this.applyTransform(Qn.slice(2,4),ti),Qi=this.applyTransform([Qn[0],Qn[3]],ti),Fn=this.applyTransform([Qn[2],Qn[1]],ti);return[Math.min(Bi[0],Vi[0],Qi[0],Fn[0]),Math.min(Bi[1],Vi[1],Qi[1],Fn[1]),Math.max(Bi[0],Vi[0],Qi[0],Fn[0]),Math.max(Bi[1],Vi[1],Qi[1],Fn[1])]}static inverseTransform(Qn){const ti=Qn[0]*Qn[3]-Qn[1]*Qn[2];return[Qn[3]/ti,-Qn[1]/ti,-Qn[2]/ti,Qn[0]/ti,(Qn[2]*Qn[5]-Qn[4]*Qn[3])/ti,(Qn[4]*Qn[1]-Qn[5]*Qn[0])/ti]}static singularValueDecompose2dScale(Qn){const ti=[Qn[0],Qn[2],Qn[1],Qn[3]],Bi=Qn[0]*ti[0]+Qn[1]*ti[2],Vi=Qn[0]*ti[1]+Qn[1]*ti[3],Qi=Qn[2]*ti[0]+Qn[3]*ti[2],Fn=Qn[2]*ti[1]+Qn[3]*ti[3],pi=(Bi+Fn)/2,Ti=Math.sqrt((Bi+Fn)**2-4*(Bi*Fn-Qi*Vi))/2,$i=pi+Ti||1,Gi=pi-Ti||1;return[Math.sqrt($i),Math.sqrt(Gi)]}static normalizeRect(Qn){const ti=Qn.slice(0);return Qn[0]>Qn[2]&&(ti[0]=Qn[2],ti[2]=Qn[0]),Qn[1]>Qn[3]&&(ti[1]=Qn[3],ti[3]=Qn[1]),ti}static intersect(Qn,ti){const Bi=Math.max(Math.min(Qn[0],Qn[2]),Math.min(ti[0],ti[2])),Vi=Math.min(Math.max(Qn[0],Qn[2]),Math.max(ti[0],ti[2]));if(Bi>Vi)return null;const Qi=Math.max(Math.min(Qn[1],Qn[3]),Math.min(ti[1],ti[3])),Fn=Math.min(Math.max(Qn[1],Qn[3]),Math.max(ti[1],ti[3]));return Qi>Fn?null:[Bi,Qi,Vi,Fn]}static bezierBoundingBox(Qn,ti,Bi,Vi,Qi,Fn,pi,Ti){const $i=[],Gi=[[],[]];let ji,In,On,Vn,ui,hi,xi,Ai;for(let yr=0;yr<2;++yr){if(yr===0?(In=6*Qn-12*Bi+6*Qi,ji=-3*Qn+9*Bi-9*Qi+3*pi,On=3*Bi-3*Qn):(In=6*ti-12*Vi+6*Fn,ji=-3*ti+9*Vi-9*Fn+3*Ti,On=3*Vi-3*ti),Math.abs(ji)<1e-12){if(Math.abs(In)<1e-12)continue;Vn=-On/In,0<Vn&&Vn<1&&$i.push(Vn);continue}xi=In*In-4*On*ji,Ai=Math.sqrt(xi),!(xi<0)&&(ui=(-In+Ai)/(2*ji),0<ui&&ui<1&&$i.push(ui),hi=(-In-Ai)/(2*ji),0<hi&&hi<1&&$i.push(hi))}let Ui=$i.length,qi;const Fi=Ui;for(;Ui--;)Vn=$i[Ui],qi=1-Vn,Gi[0][Ui]=qi*qi*qi*Qn+3*qi*qi*Vn*Bi+3*qi*Vn*Vn*Qi+Vn*Vn*Vn*pi,Gi[1][Ui]=qi*qi*qi*ti+3*qi*qi*Vn*Vi+3*qi*Vn*Vn*Fn+Vn*Vn*Vn*Ti;return Gi[0][Fi]=Qn,Gi[1][Fi]=ti,Gi[0][Fi+1]=pi,Gi[1][Fi+1]=Ti,Gi[0].length=Gi[1].length=Fi+2,[Math.min(...Gi[0]),Math.min(...Gi[1]),Math.max(...Gi[0]),Math.max(...Gi[1])]}}_e.Util=Wn;const Bn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Yn(_i){if(_i[0]>="ï"){let ti;if(_i[0]==="þ"&&_i[1]==="ÿ"?ti="utf-16be":_i[0]==="ÿ"&&_i[1]==="þ"?ti="utf-16le":_i[0]==="ï"&&_i[1]==="»"&&_i[2]==="¿"&&(ti="utf-8"),ti)try{const Bi=new TextDecoder(ti,{fatal:!0}),Vi=oi(_i);return Bi.decode(Vi)}catch(Bi){yn(`stringToPDFString: "${Bi}".`)}}const Qn=[];for(let ti=0,Bi=_i.length;ti<Bi;ti++){const Vi=Bn[_i.charCodeAt(ti)];Qn.push(Vi?String.fromCharCode(Vi):_i.charAt(ti))}return Qn.join("")}function fi(_i){return decodeURIComponent(escape(_i))}function gi(_i){return unescape(encodeURIComponent(_i))}function $n(_i){return typeof _i=="object"&&(_i==null?void 0:_i.byteLength)!==void 0}function Pi(_i,Qn){if(_i.length!==Qn.length)return!1;for(let ti=0,Bi=_i.length;ti<Bi;ti++)if(_i[ti]!==Qn[ti])return!1;return!0}function Ei(_i=new Date){return[_i.getUTCFullYear().toString(),(_i.getUTCMonth()+1).toString().padStart(2,"0"),_i.getUTCDate().toString().padStart(2,"0"),_i.getUTCHours().toString().padStart(2,"0"),_i.getUTCMinutes().toString().padStart(2,"0"),_i.getUTCSeconds().toString().padStart(2,"0")].join("")}class Yi{constructor(){ai(this,Mr,!1);this.promise=new Promise((Qn,ti)=>{this.resolve=Bi=>{ci(this,Mr,!0),Qn(Bi)},this.reject=Bi=>{ci(this,Mr,!0),ti(Bi)}})}get settled(){return un(this,Mr)}}Mr=new WeakMap,_e.PromiseCapability=Yi;let Wi=null,ir=null;function Mi(_i){return Wi||(Wi=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ir=new Map([["ﬅ","ſt"]])),_i.replaceAll(Wi,(Qn,ti,Bi)=>ti?ti.normalize("NFKC"):ir.get(Bi))}function Xi(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const _i=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(_i);else for(let Qn=0;Qn<32;Qn++)_i[Qn]=Math.floor(Math.random()*255);return li(_i)}const er="pdfjs_internal_id_";_e.AnnotationPrefix=er},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var Ae,ke,Re,Ie,gl,du,je,Be,He,We,Ge,Xe,$e,qe,Ue,hu,Ze,Qe,Xd,nn,rn;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(tn){if(typeof tn=="string"||tn instanceof URL?tn={url:tn}:(0,_util.isArrayBuffer)(tn)&&(tn={data:tn}),typeof tn!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!tn.url&&!tn.data&&!tn.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const Je=new PDFDocumentLoadingTask,{docId:an}=Je,gn=tn.url?getUrlProp(tn.url):null,Ke=tn.data?getDataProp(tn.data):null,sn=tn.httpHeaders||null,hn=tn.withCredentials===!0,Cn=tn.password??null,bn=tn.range instanceof PDFDataRangeTransport?tn.range:null,En=Number.isInteger(tn.rangeChunkSize)&&tn.rangeChunkSize>0?tn.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let yn=tn.worker instanceof PDFWorker?tn.worker:null;const xn=tn.verbosity,vn=typeof tn.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(tn.docBaseUrl)?tn.docBaseUrl:null,kn=typeof tn.cMapUrl=="string"?tn.cMapUrl:null,Sn=tn.cMapPacked!==!1,fn=tn.CMapReaderFactory||DefaultCMapReaderFactory,on=typeof tn.standardFontDataUrl=="string"?tn.standardFontDataUrl:null,ln=tn.StandardFontDataFactory||DefaultStandardFontDataFactory,_n=tn.stopAtErrors!==!0,Tn=Number.isInteger(tn.maxImageSize)&&tn.maxImageSize>-1?tn.maxImageSize:-1,Pn=tn.isEvalSupported!==!1,Rn=typeof tn.isOffscreenCanvasSupported=="boolean"?tn.isOffscreenCanvasSupported:!_util.isNodeJS,Dn=Number.isInteger(tn.canvasMaxAreaInBytes)?tn.canvasMaxAreaInBytes:-1,Xn=typeof tn.disableFontFace=="boolean"?tn.disableFontFace:_util.isNodeJS,li=tn.fontExtraProperties===!0,oi=tn.enableXfa===!0,di=tn.ownerDocument||globalThis.document,vi=tn.disableRange===!0,yi=tn.disableStream===!0,Zn=tn.disableAutoFetch===!0,Gn=tn.pdfBug===!0,wn=bn?bn.length:tn.length??NaN,Ln=typeof tn.useSystemFonts=="boolean"?tn.useSystemFonts:!_util.isNodeJS&&!Xn,Wn=typeof tn.useWorkerFetch=="boolean"?tn.useWorkerFetch:fn===_display_utils.DOMCMapReaderFactory&&ln===_display_utils.DOMStandardFontDataFactory&&kn&&on&&(0,_display_utils.isValidFetchUrl)(kn,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(on,document.baseURI),Bn=tn.canvasFactory||new DefaultCanvasFactory({ownerDocument:di}),Yn=tn.filterFactory||new DefaultFilterFactory({docId:an,ownerDocument:di}),fi=null;(0,_util.setVerbosityLevel)(xn);const gi={canvasFactory:Bn,filterFactory:Yn};if(Wn||(gi.cMapReaderFactory=new fn({baseUrl:kn,isCompressed:Sn}),gi.standardFontDataFactory=new ln({baseUrl:on})),!yn){const Ei={verbosity:xn,port:_worker_options.GlobalWorkerOptions.workerPort};yn=Ei.port?PDFWorker.fromPort(Ei):new PDFWorker(Ei),Je._worker=yn}const $n={docId:an,apiVersion:"3.11.174",data:Ke,password:Cn,disableAutoFetch:Zn,rangeChunkSize:En,length:wn,docBaseUrl:vn,enableXfa:oi,evaluatorOptions:{maxImageSize:Tn,disableFontFace:Xn,ignoreErrors:_n,isEvalSupported:Pn,isOffscreenCanvasSupported:Rn,canvasMaxAreaInBytes:Dn,fontExtraProperties:li,useSystemFonts:Ln,cMapUrl:Wn?kn:null,standardFontDataUrl:Wn?on:null}},Pi={ignoreErrors:_n,isEvalSupported:Pn,disableFontFace:Xn,fontExtraProperties:li,enableXfa:oi,ownerDocument:di,disableAutoFetch:Zn,pdfBug:Gn,styleElement:fi};return yn.promise.then(function(){if(Je.destroyed)throw new Error("Loading aborted");const Ei=_fetchDocument(yn,$n),Yi=new Promise(function(Wi){let ir;bn?ir=new _transport_stream.PDFDataTransportStream({length:wn,initialData:bn.initialData,progressiveDone:bn.progressiveDone,contentDispositionFilename:bn.contentDispositionFilename,disableRange:vi,disableStream:yi},bn):Ke||(ir=(Xi=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Xi):(0,_display_utils.isValidFetchUrl)(Xi.url)?new _displayFetch_stream.PDFFetchStream(Xi):new _displayNetwork.PDFNetworkStream(Xi))({url:gn,length:wn,httpHeaders:sn,withCredentials:hn,rangeChunkSize:En,disableRange:vi,disableStream:yi})),Wi(ir)});return Promise.all([Ei,Yi]).then(function([Wi,ir]){if(Je.destroyed)throw new Error("Loading aborted");const Mi=new _message_handler.MessageHandler(an,Wi,yn.port),Xi=new WorkerTransport(Mi,Je,ir,Pi,gi);Je._transport=Xi,Mi.send("Ready",null)})}).catch(Je._capability.reject),Je}async function _fetchDocument(tn,Je){if(tn.destroyed)throw new Error("Worker was destroyed");const an=await tn.messageHandler.sendWithPromise("GetDocRequest",Je,Je.data?[Je.data.buffer]:null);if(tn.destroyed)throw new Error("Worker was destroyed");return an}function getUrlProp(tn){if(tn instanceof URL)return tn.href;try{return new URL(tn,window.location).href}catch{if(_util.isNodeJS&&typeof tn=="string")return tn}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(tn){if(_util.isNodeJS&&typeof Buffer<"u"&&tn instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(tn instanceof Uint8Array&&tn.byteLength===tn.buffer.byteLength)return tn;if(typeof tn=="string")return(0,_util.stringToBytes)(tn);if(typeof tn=="object"&&!isNaN(tn==null?void 0:tn.length)||(0,_util.isArrayBuffer)(tn))return new Uint8Array(tn);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const _e=class _e{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Gl(_e,Ae)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var Je,an,gn;this.destroyed=!0;try{(Je=this._worker)!=null&&Je.port&&(this._worker._pendingDestroy=!0),await((an=this._transport)==null?void 0:an.destroy())}catch(Ke){throw(gn=this._worker)!=null&&gn.port&&delete this._worker._pendingDestroy,Ke}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Ae=new WeakMap,ai(_e,Ae,0);let PDFDocumentLoadingTask=_e;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(Je,an,gn=!1,Ke=null){this.length=Je,this.initialData=an,this.progressiveDone=gn,this.contentDispositionFilename=Ke,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(Je){this._rangeListeners.push(Je)}addProgressListener(Je){this._progressListeners.push(Je)}addProgressiveReadListener(Je){this._progressiveReadListeners.push(Je)}addProgressiveDoneListener(Je){this._progressiveDoneListeners.push(Je)}onDataRange(Je,an){for(const gn of this._rangeListeners)gn(Je,an)}onDataProgress(Je,an){this._readyCapability.promise.then(()=>{for(const gn of this._progressListeners)gn(Je,an)})}onDataProgressiveRead(Je){this._readyCapability.promise.then(()=>{for(const an of this._progressiveReadListeners)an(Je)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const Je of this._progressiveDoneListeners)Je()})}transportReady(){this._readyCapability.resolve()}requestDataRange(Je,an){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(Je,an){this._pdfInfo=Je,this._transport=an,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(gn=>{if(!gn)return gn;const Ke=[];for(const sn in gn)Ke.push(...gn[sn]);return Ke}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(Je){return this._transport.getPage(Je)}getPageIndex(Je){return this._transport.getPageIndex(Je)}getDestinations(){return this._transport.getDestinations()}getDestination(Je){return this._transport.getDestination(Je)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(Je=!1){return this._transport.startCleanup(Je||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(Je,an,gn,Ke=!1){ai(this,Ie);ai(this,ke,null);ai(this,Re,!1);this._pageIndex=Je,this._pageInfo=an,this._transport=gn,this._stats=Ke?new _display_utils.StatTimer:null,this._pdfBug=Ke,this.commonObjs=gn.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:Je,rotation:an=this.rotate,offsetX:gn=0,offsetY:Ke=0,dontFlip:sn=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:Je,rotation:an,offsetX:gn,offsetY:Ke,dontFlip:sn})}getAnnotations({intent:Je="display"}={}){const an=this._transport.getRenderingIntent(Je);return this._transport.getAnnotations(this._pageIndex,an.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var Je;return((Je=this._transport._htmlForXfa)==null?void 0:Je.children[this._pageIndex])||null}render({canvasContext:Je,viewport:an,intent:gn="display",annotationMode:Ke=_util.AnnotationMode.ENABLE,transform:sn=null,background:hn=null,optionalContentConfigPromise:Cn=null,annotationCanvasMap:bn=null,pageColors:En=null,printAnnotationStorage:yn=null}){var ln,_n;(ln=this._stats)==null||ln.time("Overall");const xn=this._transport.getRenderingIntent(gn,Ke,yn);ci(this,Re,!1),Kn(this,Ie,du).call(this),Cn||(Cn=this._transport.getOptionalContentConfig());let vn=this._intentStates.get(xn.cacheKey);vn||(vn=Object.create(null),this._intentStates.set(xn.cacheKey,vn)),vn.streamReaderCancelTimeout&&(clearTimeout(vn.streamReaderCancelTimeout),vn.streamReaderCancelTimeout=null);const kn=!!(xn.renderingIntent&_util.RenderingIntentFlag.PRINT);vn.displayReadyCapability||(vn.displayReadyCapability=new _util.PromiseCapability,vn.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(_n=this._stats)==null||_n.time("Page Request"),this._pumpOperatorList(xn));const Sn=Tn=>{var Pn,Rn;vn.renderTasks.delete(fn),(this._maybeCleanupAfterRender||kn)&&ci(this,Re,!0),Kn(this,Ie,gl).call(this,!kn),Tn?(fn.capability.reject(Tn),this._abortOperatorList({intentState:vn,reason:Tn instanceof Error?Tn:new Error(Tn)})):fn.capability.resolve(),(Pn=this._stats)==null||Pn.timeEnd("Rendering"),(Rn=this._stats)==null||Rn.timeEnd("Overall")},fn=new InternalRenderTask({callback:Sn,params:{canvasContext:Je,viewport:an,transform:sn,background:hn},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:bn,operatorList:vn.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!kn,pdfBug:this._pdfBug,pageColors:En});(vn.renderTasks||(vn.renderTasks=new Set)).add(fn);const on=fn.task;return Promise.all([vn.displayReadyCapability.promise,Cn]).then(([Tn,Pn])=>{var Rn;if(this.destroyed){Sn();return}(Rn=this._stats)==null||Rn.time("Rendering"),fn.initializeGraphics({transparency:Tn,optionalContentConfig:Pn}),fn.operatorListChanged()}).catch(Sn),on}getOperatorList({intent:Je="display",annotationMode:an=_util.AnnotationMode.ENABLE,printAnnotationStorage:gn=null}={}){var bn;function Ke(){hn.operatorList.lastChunk&&(hn.opListReadCapability.resolve(hn.operatorList),hn.renderTasks.delete(Cn))}const sn=this._transport.getRenderingIntent(Je,an,gn,!0);let hn=this._intentStates.get(sn.cacheKey);hn||(hn=Object.create(null),this._intentStates.set(sn.cacheKey,hn));let Cn;return hn.opListReadCapability||(Cn=Object.create(null),Cn.operatorListChanged=Ke,hn.opListReadCapability=new _util.PromiseCapability,(hn.renderTasks||(hn.renderTasks=new Set)).add(Cn),hn.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(bn=this._stats)==null||bn.time("Page Request"),this._pumpOperatorList(sn)),hn.opListReadCapability.promise}streamTextContent({includeMarkedContent:Je=!1,disableNormalization:an=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:Je===!0,disableNormalization:an===!0},{highWaterMark:100,size(Ke){return Ke.items.length}})}getTextContent(Je={}){if(this._transport._htmlForXfa)return this.getXfa().then(gn=>_xfa_text.XfaText.textContent(gn));const an=this.streamTextContent(Je);return new Promise(function(gn,Ke){function sn(){hn.read().then(function({value:bn,done:En}){if(En){gn(Cn);return}Object.assign(Cn.styles,bn.styles),Cn.items.push(...bn.items),sn()},Ke)}const hn=an.getReader(),Cn={items:[],styles:Object.create(null)};sn()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const Je=[];for(const an of this._intentStates.values())if(this._abortOperatorList({intentState:an,reason:new Error("Page was destroyed."),force:!0}),!an.opListReadCapability)for(const gn of an.renderTasks)Je.push(gn.completed),gn.cancel();return this.objs.clear(),ci(this,Re,!1),Kn(this,Ie,du).call(this),Promise.all(Je)}cleanup(Je=!1){ci(this,Re,!0);const an=Kn(this,Ie,gl).call(this,!1);return Je&&an&&this._stats&&(this._stats=new _display_utils.StatTimer),an}_startRenderPage(Je,an){var Ke,sn;const gn=this._intentStates.get(an);gn&&((Ke=this._stats)==null||Ke.timeEnd("Page Request"),(sn=gn.displayReadyCapability)==null||sn.resolve(Je))}_renderPageChunk(Je,an){for(let gn=0,Ke=Je.length;gn<Ke;gn++)an.operatorList.fnArray.push(Je.fnArray[gn]),an.operatorList.argsArray.push(Je.argsArray[gn]);an.operatorList.lastChunk=Je.lastChunk,an.operatorList.separateAnnots=Je.separateAnnots;for(const gn of an.renderTasks)gn.operatorListChanged();Je.lastChunk&&Kn(this,Ie,gl).call(this,!0)}_pumpOperatorList({renderingIntent:Je,cacheKey:an,annotationStorageSerializable:gn}){const{map:Ke,transfers:sn}=gn,Cn=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:Je,cacheKey:an,annotationStorage:Ke},sn).getReader(),bn=this._intentStates.get(an);bn.streamReader=Cn;const En=()=>{Cn.read().then(({value:yn,done:xn})=>{if(xn){bn.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(yn,bn),En())},yn=>{if(bn.streamReader=null,!this._transport.destroyed){if(bn.operatorList){bn.operatorList.lastChunk=!0;for(const xn of bn.renderTasks)xn.operatorListChanged();Kn(this,Ie,gl).call(this,!0)}if(bn.displayReadyCapability)bn.displayReadyCapability.reject(yn);else if(bn.opListReadCapability)bn.opListReadCapability.reject(yn);else throw yn}})};En()}_abortOperatorList({intentState:Je,reason:an,force:gn=!1}){if(Je.streamReader){if(Je.streamReaderCancelTimeout&&(clearTimeout(Je.streamReaderCancelTimeout),Je.streamReaderCancelTimeout=null),!gn){if(Je.renderTasks.size>0)return;if(an instanceof _display_utils.RenderingCancelledException){let Ke=RENDERING_CANCELLED_TIMEOUT;an.extraDelay>0&&an.extraDelay<1e3&&(Ke+=an.extraDelay),Je.streamReaderCancelTimeout=setTimeout(()=>{Je.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:Je,reason:an,force:!0})},Ke);return}}if(Je.streamReader.cancel(new _util.AbortException(an.message)).catch(()=>{}),Je.streamReader=null,!this._transport.destroyed){for(const[Ke,sn]of this._intentStates)if(sn===Je){this._intentStates.delete(Ke);break}this.cleanup()}}}get stats(){return this._stats}}ke=new WeakMap,Re=new WeakMap,Ie=new WeakSet,gl=function(Je=!1){if(Kn(this,Ie,du).call(this),!un(this,Re)||this.destroyed)return!1;if(Je)return ci(this,ke,setTimeout(()=>{ci(this,ke,null),Kn(this,Ie,gl).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:an,operatorList:gn}of this._intentStates.values())if(an.size>0||!gn.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),ci(this,Re,!1),!0},du=function(){un(this,ke)&&(clearTimeout(un(this,ke)),ci(this,ke,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){ai(this,je,new Set);ai(this,Be,Promise.resolve())}postMessage(Je,an){const gn={data:structuredClone(Je,an?{transfer:an}:null)};un(this,Be).then(()=>{for(const Ke of un(this,je))Ke.call(this,gn)})}addEventListener(Je,an){un(this,je).add(an)}removeEventListener(Je,an){un(this,je).delete(an)}terminate(){un(this,je).clear()}}je=new WeakMap,Be=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const tn=(He=document==null?void 0:document.currentScript)==null?void 0:He.src;tn&&(PDFWorkerUtil.fallbackWorkerSrc=tn.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(tn,Je){let an;try{if(an=new URL(tn),!an.origin||an.origin==="null")return!1}catch{return!1}const gn=new URL(Je,an);return an.origin===gn.origin},PDFWorkerUtil.createCDNWrapper=function(tn){const Je=`importScripts("${tn}");`;return URL.createObjectURL(new Blob([Je]))}}const _PDFWorker=class _PDFWorker{constructor({name:tn=null,port:Je=null,verbosity:an=(0,_util.getVerbosityLevel)()}={}){var gn;if(this.name=tn,this.destroyed=!1,this.verbosity=an,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,Je){if((gn=un(_PDFWorker,We))!=null&&gn.has(Je))throw new Error("Cannot use more than one PDFWorker per port.");(un(_PDFWorker,We)||ci(_PDFWorker,We,new WeakMap)).set(Je,this),this._initializeFromPort(Je);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(tn){this._port=tn,this._messageHandler=new _message_handler.MessageHandler("main","worker",tn),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:tn}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,tn)||(tn=PDFWorkerUtil.createCDNWrapper(new URL(tn,window.location).href));const Je=new Worker(tn),an=new _message_handler.MessageHandler("main","worker",Je),gn=()=>{Je.removeEventListener("error",Ke),an.destroy(),Je.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Ke=()=>{this._webWorker||gn()};Je.addEventListener("error",Ke),an.on("test",hn=>{if(Je.removeEventListener("error",Ke),this.destroyed){gn();return}hn?(this._messageHandler=an,this._port=Je,this._webWorker=Je,this._readyCapability.resolve(),an.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),an.destroy(),Je.terminate())}),an.on("ready",hn=>{if(Je.removeEventListener("error",Ke),this.destroyed){gn();return}try{sn()}catch{this._setupFakeWorker()}});const sn=()=>{const hn=new Uint8Array;an.send("test",hn,[hn.buffer])};sn();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(tn=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const Je=new LoopbackPort;this._port=Je;const an=`fake${PDFWorkerUtil.fakeWorkerId++}`,gn=new _message_handler.MessageHandler(an+"_worker",an,Je);tn.setup(gn,Je);const Ke=new _message_handler.MessageHandler(an,an+"_worker",Je);this._messageHandler=Ke,this._readyCapability.resolve(),Ke.send("configure",{verbosity:this.verbosity})}).catch(tn=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${tn.message}".`))})}destroy(){var tn;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(tn=un(_PDFWorker,We))==null||tn.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(tn){var an;if(!(tn!=null&&tn.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const Je=(an=un(this,We))==null?void 0:an.get(tn.port);if(Je){if(Je._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return Je}return new _PDFWorker(tn)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var tn;try{return((tn=globalThis.pdfjsWorker)==null?void 0:tn.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};We=new WeakMap,ai(_PDFWorker,We);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(Je,an,gn,Ke,sn){ai(this,Ue);ai(this,Ge,new Map);ai(this,Xe,new Map);ai(this,$e,new Map);ai(this,qe,null);this.messageHandler=Je,this.loadingTask=an,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Ke.ownerDocument,styleElement:Ke.styleElement}),this._params=Ke,this.canvasFactory=sn.canvasFactory,this.filterFactory=sn.filterFactory,this.cMapReaderFactory=sn.cMapReaderFactory,this.standardFontDataFactory=sn.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=gn,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(Je,an=_util.AnnotationMode.ENABLE,gn=null,Ke=!1){let sn=_util.RenderingIntentFlag.DISPLAY,hn=_annotation_storage.SerializableEmpty;switch(Je){case"any":sn=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":sn=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${Je}`)}switch(an){case _util.AnnotationMode.DISABLE:sn+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:sn+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:sn+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,hn=(sn&_util.RenderingIntentFlag.PRINT&&gn instanceof _annotation_storage.PrintAnnotationStorage?gn:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${an}`)}return Ke&&(sn+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:sn,cacheKey:`${sn}_${hn.hash}`,annotationStorageSerializable:hn}}destroy(){var gn;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(gn=un(this,qe))==null||gn.reject(new Error("Worker was destroyed during onPassword callback"));const Je=[];for(const Ke of un(this,Xe).values())Je.push(Ke._destroy());un(this,Xe).clear(),un(this,$e).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const an=this.messageHandler.sendWithPromise("Terminate",null);return Je.push(an),Promise.all(Je).then(()=>{var Ke;this.commonObjs.clear(),this.fontLoader.clear(),un(this,Ge).clear(),this.filterFactory.destroy(),(Ke=this._networkStream)==null||Ke.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:Je,loadingTask:an}=this;Je.on("GetReader",(gn,Ke)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=sn=>{this._lastProgress={loaded:sn.loaded,total:sn.total}},Ke.onPull=()=>{this._fullReader.read().then(function({value:sn,done:hn}){if(hn){Ke.close();return}(0,_util.assert)(sn instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Ke.enqueue(new Uint8Array(sn),1,[sn])}).catch(sn=>{Ke.error(sn)})},Ke.onCancel=sn=>{this._fullReader.cancel(sn),Ke.ready.catch(hn=>{if(!this.destroyed)throw hn})}}),Je.on("ReaderHeadersReady",gn=>{const Ke=new _util.PromiseCapability,sn=this._fullReader;return sn.headersReady.then(()=>{var hn;(!sn.isStreamingSupported||!sn.isRangeSupported)&&(this._lastProgress&&((hn=an.onProgress)==null||hn.call(an,this._lastProgress)),sn.onProgress=Cn=>{var bn;(bn=an.onProgress)==null||bn.call(an,{loaded:Cn.loaded,total:Cn.total})}),Ke.resolve({isStreamingSupported:sn.isStreamingSupported,isRangeSupported:sn.isRangeSupported,contentLength:sn.contentLength})},Ke.reject),Ke.promise}),Je.on("GetRangeReader",(gn,Ke)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const sn=this._networkStream.getRangeReader(gn.begin,gn.end);if(!sn){Ke.close();return}Ke.onPull=()=>{sn.read().then(function({value:hn,done:Cn}){if(Cn){Ke.close();return}(0,_util.assert)(hn instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Ke.enqueue(new Uint8Array(hn),1,[hn])}).catch(hn=>{Ke.error(hn)})},Ke.onCancel=hn=>{sn.cancel(hn),Ke.ready.catch(Cn=>{if(!this.destroyed)throw Cn})}}),Je.on("GetDoc",({pdfInfo:gn})=>{this._numPages=gn.numPages,this._htmlForXfa=gn.htmlForXfa,delete gn.htmlForXfa,an._capability.resolve(new PDFDocumentProxy(gn,this))}),Je.on("DocException",function(gn){let Ke;switch(gn.name){case"PasswordException":Ke=new _util.PasswordException(gn.message,gn.code);break;case"InvalidPDFException":Ke=new _util.InvalidPDFException(gn.message);break;case"MissingPDFException":Ke=new _util.MissingPDFException(gn.message);break;case"UnexpectedResponseException":Ke=new _util.UnexpectedResponseException(gn.message,gn.status);break;case"UnknownErrorException":Ke=new _util.UnknownErrorException(gn.message,gn.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}an._capability.reject(Ke)}),Je.on("PasswordRequest",gn=>{if(ci(this,qe,new _util.PromiseCapability),an.onPassword){const Ke=sn=>{sn instanceof Error?un(this,qe).reject(sn):un(this,qe).resolve({password:sn})};try{an.onPassword(Ke,gn.code)}catch(sn){un(this,qe).reject(sn)}}else un(this,qe).reject(new _util.PasswordException(gn.message,gn.code));return un(this,qe).promise}),Je.on("DataLoaded",gn=>{var Ke;(Ke=an.onProgress)==null||Ke.call(an,{loaded:gn.length,total:gn.length}),this.downloadInfoCapability.resolve(gn)}),Je.on("StartRenderPage",gn=>{if(this.destroyed)return;un(this,Xe).get(gn.pageIndex)._startRenderPage(gn.transparency,gn.cacheKey)}),Je.on("commonobj",([gn,Ke,sn])=>{var hn;if(!this.destroyed&&!this.commonObjs.has(gn))switch(Ke){case"Font":const Cn=this._params;if("error"in sn){const yn=sn.error;(0,_util.warn)(`Error during font loading: ${yn}`),this.commonObjs.resolve(gn,yn);break}const bn=Cn.pdfBug&&((hn=globalThis.FontInspector)!=null&&hn.enabled)?(yn,xn)=>globalThis.FontInspector.fontAdded(yn,xn):null,En=new _font_loader.FontFaceObject(sn,{isEvalSupported:Cn.isEvalSupported,disableFontFace:Cn.disableFontFace,ignoreErrors:Cn.ignoreErrors,inspectFont:bn});this.fontLoader.bind(En).catch(yn=>Je.sendWithPromise("FontFallback",{id:gn})).finally(()=>{!Cn.fontExtraProperties&&En.data&&(En.data=null),this.commonObjs.resolve(gn,En)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(gn,sn);break;default:throw new Error(`Got unknown common object type ${Ke}`)}}),Je.on("obj",([gn,Ke,sn,hn])=>{var bn;if(this.destroyed)return;const Cn=un(this,Xe).get(Ke);if(!Cn.objs.has(gn))switch(sn){case"Image":if(Cn.objs.resolve(gn,hn),hn){let En;if(hn.bitmap){const{width:yn,height:xn}=hn;En=yn*xn*4}else En=((bn=hn.data)==null?void 0:bn.length)||0;En>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Cn._maybeCleanupAfterRender=!0)}break;case"Pattern":Cn.objs.resolve(gn,hn);break;default:throw new Error(`Got unknown object type ${sn}`)}}),Je.on("DocProgress",gn=>{var Ke;this.destroyed||(Ke=an.onProgress)==null||Ke.call(an,{loaded:gn.loaded,total:gn.total})}),Je.on("FetchBuiltInCMap",gn=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(gn):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),Je.on("FetchStandardFontData",gn=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(gn):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var gn;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:Je,transfers:an}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:Je,filename:((gn=this._fullReader)==null?void 0:gn.filename)??null},an).finally(()=>{this.annotationStorage.resetModified()})}getPage(Je){if(!Number.isInteger(Je)||Je<=0||Je>this._numPages)return Promise.reject(new Error("Invalid page request."));const an=Je-1,gn=un(this,$e).get(an);if(gn)return gn;const Ke=this.messageHandler.sendWithPromise("GetPage",{pageIndex:an}).then(sn=>{if(this.destroyed)throw new Error("Transport destroyed");const hn=new PDFPageProxy(an,sn,this,this._params.pdfBug);return un(this,Xe).set(an,hn),hn});return un(this,$e).set(an,Ke),Ke}getPageIndex(Je){return typeof Je!="object"||Je===null||!Number.isInteger(Je.num)||Je.num<0||!Number.isInteger(Je.gen)||Je.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:Je.num,gen:Je.gen})}getAnnotations(Je,an){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:Je,intent:an})}getFieldObjects(){return Kn(this,Ue,hu).call(this,"GetFieldObjects")}hasJSActions(){return Kn(this,Ue,hu).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(Je){return typeof Je!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:Je})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Kn(this,Ue,hu).call(this,"GetDocJSActions")}getPageJSActions(Je){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:Je})}getStructTree(Je){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:Je})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(Je=>new _optional_content_config.OptionalContentConfig(Je))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const Je="GetMetadata",an=un(this,Ge).get(Je);if(an)return an;const gn=this.messageHandler.sendWithPromise(Je,null).then(Ke=>{var sn,hn;return{info:Ke[0],metadata:Ke[1]?new _metadata.Metadata(Ke[1]):null,contentDispositionFilename:((sn=this._fullReader)==null?void 0:sn.filename)??null,contentLength:((hn=this._fullReader)==null?void 0:hn.contentLength)??null}});return un(this,Ge).set(Je,gn),gn}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(Je=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const an of un(this,Xe).values())if(!an.cleanup())throw new Error(`startCleanup: Page ${an.pageNumber} is currently rendering.`);this.commonObjs.clear(),Je||this.fontLoader.clear(),un(this,Ge).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:Je,enableXfa:an}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:Je,enableXfa:an})}}Ge=new WeakMap,Xe=new WeakMap,$e=new WeakMap,qe=new WeakMap,Ue=new WeakSet,hu=function(Je,an=null){const gn=un(this,Ge).get(Je);if(gn)return gn;const Ke=this.messageHandler.sendWithPromise(Je,an);return un(this,Ge).set(Je,Ke),Ke};class PDFObjects{constructor(){ai(this,Qe);ai(this,Ze,Object.create(null))}get(Je,an=null){if(an){const Ke=Kn(this,Qe,Xd).call(this,Je);return Ke.capability.promise.then(()=>an(Ke.data)),null}const gn=un(this,Ze)[Je];if(!(gn!=null&&gn.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${Je}.`);return gn.data}has(Je){const an=un(this,Ze)[Je];return(an==null?void 0:an.capability.settled)||!1}resolve(Je,an=null){const gn=Kn(this,Qe,Xd).call(this,Je);gn.data=an,gn.capability.resolve()}clear(){var Je;for(const an in un(this,Ze)){const{data:gn}=un(this,Ze)[an];(Je=gn==null?void 0:gn.bitmap)==null||Je.close()}ci(this,Ze,Object.create(null))}}Ze=new WeakMap,Qe=new WeakSet,Xd=function(Je){var an;return(an=un(this,Ze))[Je]||(an[Je]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(Je){ai(this,nn,null);ci(this,nn,Je),this.onContinue=null}get promise(){return un(this,nn).capability.promise}cancel(Je=0){un(this,nn).cancel(null,Je)}get separateAnnots(){const{separateAnnots:Je}=un(this,nn).operatorList;if(!Je)return!1;const{annotationCanvasMap:an}=un(this,nn);return Je.form||Je.canvas&&(an==null?void 0:an.size)>0}}nn=new WeakMap,exports.RenderTask=RenderTask;const cn=class cn{constructor({callback:Je,params:an,objs:gn,commonObjs:Ke,annotationCanvasMap:sn,operatorList:hn,pageIndex:Cn,canvasFactory:bn,filterFactory:En,useRequestAnimationFrame:yn=!1,pdfBug:xn=!1,pageColors:vn=null}){this.callback=Je,this.params=an,this.objs=gn,this.commonObjs=Ke,this.annotationCanvasMap=sn,this.operatorListIdx=null,this.operatorList=hn,this._pageIndex=Cn,this.canvasFactory=bn,this.filterFactory=En,this._pdfBug=xn,this.pageColors=vn,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=yn===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=an.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:Je=!1,optionalContentConfig:an}){var Cn,bn;if(this.cancelled)return;if(this._canvas){if(un(cn,rn).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");un(cn,rn).add(this._canvas)}this._pdfBug&&((Cn=globalThis.StepperManager)!=null&&Cn.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:gn,viewport:Ke,transform:sn,background:hn}=this.params;this.gfx=new _canvas.CanvasGraphics(gn,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:an},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:sn,viewport:Ke,transparency:Je,background:hn}),this.operatorListIdx=0,this.graphicsReady=!0,(bn=this.graphicsReadyCallback)==null||bn.call(this)}cancel(Je=null,an=0){var gn;this.running=!1,this.cancelled=!0,(gn=this.gfx)==null||gn.endDrawing(),un(cn,rn).delete(this._canvas),this.callback(Je||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,an))}operatorListChanged(){var Je;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(Je=this.stepper)==null||Je.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),un(cn,rn).delete(this._canvas),this.callback())))}};rn=new WeakMap,ai(cn,rn,new WeakSet);let InternalRenderTask=cn;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(Ae,_e,ke)=>{var He,We,Ge,pp,$e;Object.defineProperty(_e,"__esModule",{value:!0}),_e.SerializableEmpty=_e.PrintAnnotationStorage=_e.AnnotationStorage=void 0;var Re=ke(1),Ie=ke(4),Fe=ke(8);const Ne=Object.freeze({map:null,hash:"",transfers:void 0});_e.SerializableEmpty=Ne;class je{constructor(){ai(this,Ge);ai(this,He,!1);ai(this,We,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Ue,Ye){const Ze=un(this,We).get(Ue);return Ze===void 0?Ye:Object.assign(Ye,Ze)}getRawValue(Ue){return un(this,We).get(Ue)}remove(Ue){if(un(this,We).delete(Ue),un(this,We).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const Ye of un(this,We).values())if(Ye instanceof Ie.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Ue,Ye){const Ze=un(this,We).get(Ue);let Qe=!1;if(Ze!==void 0)for(const[pn,nn]of Object.entries(Ye))Ze[pn]!==nn&&(Qe=!0,Ze[pn]=nn);else Qe=!0,un(this,We).set(Ue,Ye);Qe&&Kn(this,Ge,pp).call(this),Ye instanceof Ie.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(Ye.constructor._type)}has(Ue){return un(this,We).has(Ue)}getAll(){return un(this,We).size>0?(0,Re.objectFromMap)(un(this,We)):null}setAll(Ue){for(const[Ye,Ze]of Object.entries(Ue))this.setValue(Ye,Ze)}get size(){return un(this,We).size}resetModified(){un(this,He)&&(ci(this,He,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Be(this)}get serializable(){if(un(this,We).size===0)return Ne;const Ue=new Map,Ye=new Fe.MurmurHash3_64,Ze=[],Qe=Object.create(null);let pn=!1;for(const[nn,rn]of un(this,We)){const cn=rn instanceof Ie.AnnotationEditor?rn.serialize(!1,Qe):rn;cn&&(Ue.set(nn,cn),Ye.update(`${nn}:${JSON.stringify(cn)}`),pn||(pn=!!cn.bitmap))}if(pn)for(const nn of Ue.values())nn.bitmap&&Ze.push(nn.bitmap);return Ue.size>0?{map:Ue,hash:Ye.hexdigest(),transfers:Ze}:Ne}}He=new WeakMap,We=new WeakMap,Ge=new WeakSet,pp=function(){un(this,He)||(ci(this,He,!0),typeof this.onSetModified=="function"&&this.onSetModified())},_e.AnnotationStorage=je;class Be extends je{constructor(Ye){super();ai(this,$e);const{map:Ze,hash:Qe,transfers:pn}=Ye.serializable,nn=structuredClone(Ze,pn?{transfer:pn}:null);ci(this,$e,{map:nn,hash:Qe,transfers:pn})}get print(){(0,Re.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return un(this,$e)}}$e=new WeakMap,_e.PrintAnnotationStorage=Be},(Ae,_e,ke)=>{var Be,He,We,Ge,Xe,$e,qe,Ue,Ye,Ze,Qe,pn,nn,rn,cn,Gd,Yd,an,Kd,Zd,mp,gp,vp,Qd,bp;Object.defineProperty(_e,"__esModule",{value:!0}),_e.AnnotationEditor=void 0;var Re=ke(5),Ie=ke(1),Fe=ke(6);const yn=class yn{constructor(vn){ai(this,cn);ai(this,Be,"");ai(this,He,!1);ai(this,We,null);ai(this,Ge,null);ai(this,Xe,null);ai(this,$e,!1);ai(this,qe,null);ai(this,Ue,this.focusin.bind(this));ai(this,Ye,this.focusout.bind(this));ai(this,Ze,!1);ai(this,Qe,!1);ai(this,pn,!1);br(this,"_initialOptions",Object.create(null));br(this,"_uiManager",null);br(this,"_focusEventsAllowed",!0);br(this,"_l10nPromise",null);ai(this,nn,!1);ai(this,rn,yn._zIndex++);this.constructor===yn&&(0,Ie.unreachable)("Cannot initialize AnnotationEditor."),this.parent=vn.parent,this.id=vn.id,this.width=this.height=null,this.pageIndex=vn.parent.pageIndex,this.name=vn.name,this.div=null,this._uiManager=vn.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=vn.isCentered,this._structTreeParentId=null;const{rotation:kn,rawDims:{pageWidth:Sn,pageHeight:fn,pageX:on,pageY:ln}}=this.parent.viewport;this.rotation=kn,this.pageRotation=(360+kn-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Sn,fn],this.pageTranslation=[on,ln];const[_n,Tn]=this.parentDimensions;this.x=vn.x/_n,this.y=vn.y/Tn,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,Ie.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(vn){const kn=new je({id:vn.parent.getNextId(),parent:vn.parent,uiManager:vn._uiManager});kn.annotationElementId=vn.annotationElementId,kn.deleted=!0,kn._uiManager.addToAnnotationStorage(kn)}static initialize(vn,kn=null){if(yn._l10nPromise||(yn._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(fn=>[fn,vn.get(fn)]))),kn!=null&&kn.strings)for(const fn of kn.strings)yn._l10nPromise.set(fn,vn.get(fn));if(yn._borderLineWidth!==-1)return;const Sn=getComputedStyle(document.documentElement);yn._borderLineWidth=parseFloat(Sn.getPropertyValue("--outline-width"))||0}static updateDefaultParams(vn,kn){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(vn){return!1}static paste(vn,kn){(0,Ie.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return un(this,nn)}set _isDraggable(vn){var kn;ci(this,nn,vn),(kn=this.div)==null||kn.classList.toggle("draggable",vn)}center(){const[vn,kn]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*kn/(vn*2),this.y+=this.width*vn/(kn*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*kn/(vn*2),this.y-=this.width*vn/(kn*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(vn){this._uiManager.addCommands(vn)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=un(this,rn)}setParent(vn){vn!==null&&(this.pageIndex=vn.pageIndex,this.pageDimensions=vn.pageDimensions),this.parent=vn}focusin(vn){this._focusEventsAllowed&&(un(this,Ze)?ci(this,Ze,!1):this.parent.setSelected(this))}focusout(vn){var Sn;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const kn=vn.relatedTarget;kn!=null&&kn.closest(`#${this.id}`)||(vn.preventDefault(),(Sn=this.parent)!=null&&Sn.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(vn,kn,Sn,fn){const[on,ln]=this.parentDimensions;[Sn,fn]=this.screenToPageTranslation(Sn,fn),this.x=(vn+Sn)/on,this.y=(kn+fn)/ln,this.fixAndSetPosition()}translate(vn,kn){Kn(this,cn,Gd).call(this,this.parentDimensions,vn,kn)}translateInPage(vn,kn){Kn(this,cn,Gd).call(this,this.pageDimensions,vn,kn),this.div.scrollIntoView({block:"nearest"})}drag(vn,kn){const[Sn,fn]=this.parentDimensions;if(this.x+=vn/Sn,this.y+=kn/fn,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Pn,y:Rn}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Pn,Rn)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:on,y:ln}=this;const[_n,Tn]=Kn(this,cn,Yd).call(this);on+=_n,ln+=Tn,this.div.style.left=`${(100*on).toFixed(2)}%`,this.div.style.top=`${(100*ln).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[vn,kn]=this.pageDimensions;let{x:Sn,y:fn,width:on,height:ln}=this;switch(on*=vn,ln*=kn,Sn*=vn,fn*=kn,this.rotation){case 0:Sn=Math.max(0,Math.min(vn-on,Sn)),fn=Math.max(0,Math.min(kn-ln,fn));break;case 90:Sn=Math.max(0,Math.min(vn-ln,Sn)),fn=Math.min(kn,Math.max(on,fn));break;case 180:Sn=Math.min(vn,Math.max(on,Sn)),fn=Math.min(kn,Math.max(ln,fn));break;case 270:Sn=Math.min(vn,Math.max(ln,Sn)),fn=Math.max(0,Math.min(kn-on,fn));break}this.x=Sn/=vn,this.y=fn/=kn;const[_n,Tn]=Kn(this,cn,Yd).call(this);Sn+=_n,fn+=Tn;const{style:Pn}=this.div;Pn.left=`${(100*Sn).toFixed(2)}%`,Pn.top=`${(100*fn).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(vn,kn){var Sn;return Kn(Sn=yn,an,Kd).call(Sn,vn,kn,this.parentRotation)}pageTranslationToScreen(vn,kn){var Sn;return Kn(Sn=yn,an,Kd).call(Sn,vn,kn,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:vn,pageDimensions:[kn,Sn]}=this,fn=kn*vn,on=Sn*vn;return Ie.FeatureTest.isCSSRoundSupported?[Math.round(fn),Math.round(on)]:[fn,on]}setDims(vn,kn){var on;const[Sn,fn]=this.parentDimensions;this.div.style.width=`${(100*vn/Sn).toFixed(2)}%`,un(this,$e)||(this.div.style.height=`${(100*kn/fn).toFixed(2)}%`),(on=un(this,We))==null||on.classList.toggle("small",vn<yn.SMALL_EDITOR_SIZE||kn<yn.SMALL_EDITOR_SIZE)}fixDims(){const{style:vn}=this.div,{height:kn,width:Sn}=vn,fn=Sn.endsWith("%"),on=!un(this,$e)&&kn.endsWith("%");if(fn&&on)return;const[ln,_n]=this.parentDimensions;fn||(vn.width=`${(100*parseFloat(Sn)/ln).toFixed(2)}%`),!un(this,$e)&&!on&&(vn.height=`${(100*parseFloat(kn)/_n).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(un(this,We))return;const vn=ci(this,We,document.createElement("button"));vn.className="altText";const kn=await yn._l10nPromise.get("editor_alt_text_button_label");vn.textContent=kn,vn.setAttribute("aria-label",kn),vn.tabIndex="0",vn.addEventListener("contextmenu",Fe.noContextMenu),vn.addEventListener("pointerdown",Sn=>Sn.stopPropagation()),vn.addEventListener("click",Sn=>{Sn.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),vn.addEventListener("keydown",Sn=>{Sn.target===vn&&Sn.key==="Enter"&&(Sn.preventDefault(),this._uiManager.editAltText(this))}),Kn(this,cn,Qd).call(this),this.div.append(vn),yn.SMALL_EDITOR_SIZE||(yn.SMALL_EDITOR_SIZE=Math.min(128,Math.round(vn.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:un(this,Be),decorative:un(this,He)}}set altTextData({altText:vn,decorative:kn}){un(this,Be)===vn&&un(this,He)===kn||(ci(this,Be,vn),ci(this,He,kn),Kn(this,cn,Qd).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",un(this,Ue)),this.div.addEventListener("focusout",un(this,Ye));const[vn,kn]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*kn/vn).toFixed(2)}%`,this.div.style.maxHeight=`${(100*vn/kn).toFixed(2)}%`);const[Sn,fn]=this.getInitialTranslation();return this.translate(Sn,fn),(0,Re.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(vn){const{isMac:kn}=Ie.FeatureTest.platform;if(vn.button!==0||vn.ctrlKey&&kn){vn.preventDefault();return}ci(this,Ze,!0),Kn(this,cn,bp).call(this,vn)}moveInDOM(){var vn;(vn=this.parent)==null||vn.moveEditorInDOM(this)}_setParentAndPosition(vn,kn,Sn){vn.changeParent(this),this.x=kn,this.y=Sn,this.fixAndSetPosition()}getRect(vn,kn){const Sn=this.parentScale,[fn,on]=this.pageDimensions,[ln,_n]=this.pageTranslation,Tn=vn/Sn,Pn=kn/Sn,Rn=this.x*fn,Dn=this.y*on,Xn=this.width*fn,li=this.height*on;switch(this.rotation){case 0:return[Rn+Tn+ln,on-Dn-Pn-li+_n,Rn+Tn+Xn+ln,on-Dn-Pn+_n];case 90:return[Rn+Pn+ln,on-Dn+Tn+_n,Rn+Pn+li+ln,on-Dn+Tn+Xn+_n];case 180:return[Rn-Tn-Xn+ln,on-Dn+Pn+_n,Rn-Tn+ln,on-Dn+Pn+li+_n];case 270:return[Rn-Pn-li+ln,on-Dn-Tn-Xn+_n,Rn-Pn+ln,on-Dn-Tn+_n];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(vn,kn){const[Sn,fn,on,ln]=vn,_n=on-Sn,Tn=ln-fn;switch(this.rotation){case 0:return[Sn,kn-ln,_n,Tn];case 90:return[Sn,kn-fn,Tn,_n];case 180:return[on,kn-fn,_n,Tn];case 270:return[on,kn-ln,Tn,_n];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){ci(this,pn,!0)}disableEditMode(){ci(this,pn,!1)}isInEditMode(){return un(this,pn)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var vn,kn;(vn=this.div)==null||vn.addEventListener("focusin",un(this,Ue)),(kn=this.div)==null||kn.addEventListener("focusout",un(this,Ye))}serialize(vn=!1,kn=null){(0,Ie.unreachable)("An editor must be serializable")}static deserialize(vn,kn,Sn){const fn=new this.prototype.constructor({parent:kn,id:kn.getNextId(),uiManager:Sn});fn.rotation=vn.rotation;const[on,ln]=fn.pageDimensions,[_n,Tn,Pn,Rn]=fn.getRectInCurrentCoords(vn.rect,ln);return fn.x=_n/on,fn.y=Tn/ln,fn.width=Pn/on,fn.height=Rn/ln,fn}remove(){var vn;this.div.removeEventListener("focusin",un(this,Ue)),this.div.removeEventListener("focusout",un(this,Ye)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(vn=un(this,We))==null||vn.remove(),ci(this,We,null),ci(this,Ge,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Kn(this,cn,mp).call(this),un(this,qe).classList.remove("hidden"))}select(){var vn;this.makeResizable(),(vn=this.div)==null||vn.classList.add("selectedEditor")}unselect(){var vn,kn,Sn;(vn=un(this,qe))==null||vn.classList.add("hidden"),(kn=this.div)==null||kn.classList.remove("selectedEditor"),(Sn=this.div)!=null&&Sn.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(vn,kn){}disableEditing(){un(this,We)&&(un(this,We).hidden=!0)}enableEditing(){un(this,We)&&(un(this,We).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return un(this,Qe)}set isEditing(vn){ci(this,Qe,vn),this.parent&&(vn?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(vn,kn){ci(this,$e,!0);const Sn=vn/kn,{style:fn}=this.div;fn.aspectRatio=Sn,fn.height="auto"}static get MIN_SIZE(){return 16}};Be=new WeakMap,He=new WeakMap,We=new WeakMap,Ge=new WeakMap,Xe=new WeakMap,$e=new WeakMap,qe=new WeakMap,Ue=new WeakMap,Ye=new WeakMap,Ze=new WeakMap,Qe=new WeakMap,pn=new WeakMap,nn=new WeakMap,rn=new WeakMap,cn=new WeakSet,Gd=function([vn,kn],Sn,fn){[Sn,fn]=this.screenToPageTranslation(Sn,fn),this.x+=Sn/vn,this.y+=fn/kn,this.fixAndSetPosition()},Yd=function(){const[vn,kn]=this.parentDimensions,{_borderLineWidth:Sn}=yn,fn=Sn/vn,on=Sn/kn;switch(this.rotation){case 90:return[-fn,on];case 180:return[fn,on];case 270:return[fn,-on];default:return[-fn,-on]}},an=new WeakSet,Kd=function(vn,kn,Sn){switch(Sn){case 90:return[kn,-vn];case 180:return[-vn,-kn];case 270:return[-kn,vn];default:return[vn,kn]}},Zd=function(vn){switch(vn){case 90:{const[kn,Sn]=this.pageDimensions;return[0,-kn/Sn,Sn/kn,0]}case 180:return[-1,0,0,-1];case 270:{const[kn,Sn]=this.pageDimensions;return[0,kn/Sn,-Sn/kn,0]}default:return[1,0,0,1]}},mp=function(){if(un(this,qe))return;ci(this,qe,document.createElement("div")),un(this,qe).classList.add("resizers");const vn=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||vn.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const kn of vn){const Sn=document.createElement("div");un(this,qe).append(Sn),Sn.classList.add("resizer",kn),Sn.addEventListener("pointerdown",Kn(this,cn,gp).bind(this,kn)),Sn.addEventListener("contextmenu",Fe.noContextMenu)}this.div.prepend(un(this,qe))},gp=function(vn,kn){kn.preventDefault();const{isMac:Sn}=Ie.FeatureTest.platform;if(kn.button!==0||kn.ctrlKey&&Sn)return;const fn=Kn(this,cn,vp).bind(this,vn),on=this._isDraggable;this._isDraggable=!1;const ln={passive:!0,capture:!0};window.addEventListener("pointermove",fn,ln);const _n=this.x,Tn=this.y,Pn=this.width,Rn=this.height,Dn=this.parent.div.style.cursor,Xn=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(kn.target).cursor;const li=()=>{this._isDraggable=on,window.removeEventListener("pointerup",li),window.removeEventListener("blur",li),window.removeEventListener("pointermove",fn,ln),this.parent.div.style.cursor=Dn,this.div.style.cursor=Xn;const oi=this.x,di=this.y,vi=this.width,yi=this.height;oi===_n&&di===Tn&&vi===Pn&&yi===Rn||this.addCommands({cmd:()=>{this.width=vi,this.height=yi,this.x=oi,this.y=di;const[Zn,Gn]=this.parentDimensions;this.setDims(Zn*vi,Gn*yi),this.fixAndSetPosition()},undo:()=>{this.width=Pn,this.height=Rn,this.x=_n,this.y=Tn;const[Zn,Gn]=this.parentDimensions;this.setDims(Zn*Pn,Gn*Rn),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",li),window.addEventListener("blur",li)},vp=function(vn,kn){const[Sn,fn]=this.parentDimensions,on=this.x,ln=this.y,_n=this.width,Tn=this.height,Pn=yn.MIN_SIZE/Sn,Rn=yn.MIN_SIZE/fn,Dn=Mi=>Math.round(Mi*1e4)/1e4,Xn=Kn(this,cn,Zd).call(this,this.rotation),li=(Mi,Xi)=>[Xn[0]*Mi+Xn[2]*Xi,Xn[1]*Mi+Xn[3]*Xi],oi=Kn(this,cn,Zd).call(this,360-this.rotation),di=(Mi,Xi)=>[oi[0]*Mi+oi[2]*Xi,oi[1]*Mi+oi[3]*Xi];let vi,yi,Zn=!1,Gn=!1;switch(vn){case"topLeft":Zn=!0,vi=(Mi,Xi)=>[0,0],yi=(Mi,Xi)=>[Mi,Xi];break;case"topMiddle":vi=(Mi,Xi)=>[Mi/2,0],yi=(Mi,Xi)=>[Mi/2,Xi];break;case"topRight":Zn=!0,vi=(Mi,Xi)=>[Mi,0],yi=(Mi,Xi)=>[0,Xi];break;case"middleRight":Gn=!0,vi=(Mi,Xi)=>[Mi,Xi/2],yi=(Mi,Xi)=>[0,Xi/2];break;case"bottomRight":Zn=!0,vi=(Mi,Xi)=>[Mi,Xi],yi=(Mi,Xi)=>[0,0];break;case"bottomMiddle":vi=(Mi,Xi)=>[Mi/2,Xi],yi=(Mi,Xi)=>[Mi/2,0];break;case"bottomLeft":Zn=!0,vi=(Mi,Xi)=>[0,Xi],yi=(Mi,Xi)=>[Mi,0];break;case"middleLeft":Gn=!0,vi=(Mi,Xi)=>[0,Xi/2],yi=(Mi,Xi)=>[Mi,Xi/2];break}const wn=vi(_n,Tn),Ln=yi(_n,Tn);let Wn=li(...Ln);const Bn=Dn(on+Wn[0]),Yn=Dn(ln+Wn[1]);let fi=1,gi=1,[$n,Pi]=this.screenToPageTranslation(kn.movementX,kn.movementY);if([$n,Pi]=di($n/Sn,Pi/fn),Zn){const Mi=Math.hypot(_n,Tn);fi=gi=Math.max(Math.min(Math.hypot(Ln[0]-wn[0]-$n,Ln[1]-wn[1]-Pi)/Mi,1/_n,1/Tn),Pn/_n,Rn/Tn)}else Gn?fi=Math.max(Pn,Math.min(1,Math.abs(Ln[0]-wn[0]-$n)))/_n:gi=Math.max(Rn,Math.min(1,Math.abs(Ln[1]-wn[1]-Pi)))/Tn;const Ei=Dn(_n*fi),Yi=Dn(Tn*gi);Wn=li(...yi(Ei,Yi));const Wi=Bn-Wn[0],ir=Yn-Wn[1];this.width=Ei,this.height=Yi,this.x=Wi,this.y=ir,this.setDims(Sn*Ei,fn*Yi),this.fixAndSetPosition()},Qd=async function(){var Sn;const vn=un(this,We);if(!vn)return;if(!un(this,Be)&&!un(this,He)){vn.classList.remove("done"),(Sn=un(this,Ge))==null||Sn.remove();return}yn._l10nPromise.get("editor_alt_text_edit_button_label").then(fn=>{vn.setAttribute("aria-label",fn)});let kn=un(this,Ge);if(!kn){ci(this,Ge,kn=document.createElement("span")),kn.className="tooltip",kn.setAttribute("role","tooltip");const fn=kn.id=`alt-text-tooltip-${this.id}`;vn.setAttribute("aria-describedby",fn);const on=100;vn.addEventListener("mouseenter",()=>{ci(this,Xe,setTimeout(()=>{ci(this,Xe,null),un(this,Ge).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},on))}),vn.addEventListener("mouseleave",()=>{var ln;clearTimeout(un(this,Xe)),ci(this,Xe,null),(ln=un(this,Ge))==null||ln.classList.remove("show")})}vn.classList.add("done"),kn.innerText=un(this,He)?await yn._l10nPromise.get("editor_alt_text_decorative_tooltip"):un(this,Be),kn.parentNode||vn.append(kn)},bp=function(vn){if(!this._isDraggable)return;const kn=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Sn,fn;kn&&(Sn={passive:!0,capture:!0},fn=ln=>{const[_n,Tn]=this.screenToPageTranslation(ln.movementX,ln.movementY);this._uiManager.dragSelectedEditors(_n,Tn)},window.addEventListener("pointermove",fn,Sn));const on=()=>{if(window.removeEventListener("pointerup",on),window.removeEventListener("blur",on),kn&&window.removeEventListener("pointermove",fn,Sn),ci(this,Ze,!1),!this._uiManager.endDragSession()){const{isMac:ln}=Ie.FeatureTest.platform;vn.ctrlKey&&!ln||vn.shiftKey||vn.metaKey&&ln?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",on),window.addEventListener("blur",on)},ai(yn,an),br(yn,"_borderLineWidth",-1),br(yn,"_colorManager",new Re.ColorManager),br(yn,"_zIndex",1),br(yn,"SMALL_EDITOR_SIZE",0);let Ne=yn;_e.AnnotationEditor=Ne;class je extends Ne{constructor(vn){super(vn),this.annotationElementId=vn.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(Ae,_e,ke)=>{var $e,qe,Ue,Ye,Ze,Jd,nn,rn,cn,tn,Je,yp,Ke,sn,hn,Cn,bn,En,yn,xn,vn,kn,Sn,fn,on,ln,_n,Tn,Pn,Rn,Dn,Xn,li,oi,di,vi,yi,Zn,Gn,wn,Ln,Wn,Bn,Yn,fi,gi,$n,_p,eh,th,fu,nh,ih,vo,Yl,Sp,xp,rh,Kl,sh;Object.defineProperty(_e,"__esModule",{value:!0}),_e.KeyboardManager=_e.CommandManager=_e.ColorManager=_e.AnnotationEditorUIManager=void 0,_e.bindEvents=Fe,_e.opacityToHex=Ne;var Re=ke(1),Ie=ke(6);function Fe(Qi,Fn,pi){for(const Ti of pi)Fn.addEventListener(Ti,Qi[Ti].bind(Qi))}function Ne(Qi){return Math.round(Math.min(255,Math.max(1,255*Qi))).toString(16).padStart(2,"0")}class je{constructor(){ai(this,$e,0)}getId(){return`${Re.AnnotationEditorPrefix}${Gl(this,$e)._++}`}}$e=new WeakMap;const pn=class pn{constructor(){ai(this,Ze);ai(this,qe,(0,Re.getUuid)());ai(this,Ue,0);ai(this,Ye,null)}static get _isSVGFittingCanvas(){const Fn='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Ti=new OffscreenCanvas(1,3).getContext("2d"),$i=new Image;$i.src=Fn;const Gi=$i.decode().then(()=>(Ti.drawImage($i,0,0,1,1,0,0,1,3),new Uint32Array(Ti.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,Re.shadow)(this,"_isSVGFittingCanvas",Gi)}async getFromFile(Fn){const{lastModified:pi,name:Ti,size:$i,type:Gi}=Fn;return Kn(this,Ze,Jd).call(this,`${pi}_${Ti}_${$i}_${Gi}`,Fn)}async getFromUrl(Fn){return Kn(this,Ze,Jd).call(this,Fn,Fn)}async getFromId(Fn){un(this,Ye)||ci(this,Ye,new Map);const pi=un(this,Ye).get(Fn);return pi?pi.bitmap?(pi.refCounter+=1,pi):pi.file?this.getFromFile(pi.file):this.getFromUrl(pi.url):null}getSvgUrl(Fn){const pi=un(this,Ye).get(Fn);return pi!=null&&pi.isSvg?pi.svgUrl:null}deleteId(Fn){un(this,Ye)||ci(this,Ye,new Map);const pi=un(this,Ye).get(Fn);pi&&(pi.refCounter-=1,pi.refCounter===0&&(pi.bitmap=null))}isValidId(Fn){return Fn.startsWith(`image_${un(this,qe)}_`)}};qe=new WeakMap,Ue=new WeakMap,Ye=new WeakMap,Ze=new WeakSet,Jd=async function(Fn,pi){un(this,Ye)||ci(this,Ye,new Map);let Ti=un(this,Ye).get(Fn);if(Ti===null)return null;if(Ti!=null&&Ti.bitmap)return Ti.refCounter+=1,Ti;try{Ti||(Ti={bitmap:null,id:`image_${un(this,qe)}_${Gl(this,Ue)._++}`,refCounter:0,isSvg:!1});let $i;if(typeof pi=="string"){Ti.url=pi;const Gi=await fetch(pi);if(!Gi.ok)throw new Error(Gi.statusText);$i=await Gi.blob()}else $i=Ti.file=pi;if($i.type==="image/svg+xml"){const Gi=pn._isSVGFittingCanvas,ji=new FileReader,In=new Image,On=new Promise((Vn,ui)=>{In.onload=()=>{Ti.bitmap=In,Ti.isSvg=!0,Vn()},ji.onload=async()=>{const hi=Ti.svgUrl=ji.result;In.src=await Gi?`${hi}#svgView(preserveAspectRatio(none))`:hi},In.onerror=ji.onerror=ui});ji.readAsDataURL($i),await On}else Ti.bitmap=await createImageBitmap($i);Ti.refCounter=1}catch($i){console.error($i),Ti=null}return un(this,Ye).set(Fn,Ti),Ti&&un(this,Ye).set(Ti.id,Ti),Ti};let Be=pn;class He{constructor(Fn=128){ai(this,nn,[]);ai(this,rn,!1);ai(this,cn);ai(this,tn,-1);ci(this,cn,Fn)}add({cmd:Fn,undo:pi,mustExec:Ti,type:$i=NaN,overwriteIfSameType:Gi=!1,keepUndo:ji=!1}){if(Ti&&Fn(),un(this,rn))return;const In={cmd:Fn,undo:pi,type:$i};if(un(this,tn)===-1){un(this,nn).length>0&&(un(this,nn).length=0),ci(this,tn,0),un(this,nn).push(In);return}if(Gi&&un(this,nn)[un(this,tn)].type===$i){ji&&(In.undo=un(this,nn)[un(this,tn)].undo),un(this,nn)[un(this,tn)]=In;return}const On=un(this,tn)+1;On===un(this,cn)?un(this,nn).splice(0,1):(ci(this,tn,On),On<un(this,nn).length&&un(this,nn).splice(On)),un(this,nn).push(In)}undo(){un(this,tn)!==-1&&(ci(this,rn,!0),un(this,nn)[un(this,tn)].undo(),ci(this,rn,!1),ci(this,tn,un(this,tn)-1))}redo(){un(this,tn)<un(this,nn).length-1&&(ci(this,tn,un(this,tn)+1),ci(this,rn,!0),un(this,nn)[un(this,tn)].cmd(),ci(this,rn,!1))}hasSomethingToUndo(){return un(this,tn)!==-1}hasSomethingToRedo(){return un(this,tn)<un(this,nn).length-1}destroy(){ci(this,nn,null)}}nn=new WeakMap,rn=new WeakMap,cn=new WeakMap,tn=new WeakMap,_e.CommandManager=He;class We{constructor(Fn){ai(this,Je);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:pi}=Re.FeatureTest.platform;for(const[Ti,$i,Gi={}]of Fn)for(const ji of Ti){const In=ji.startsWith("mac+");pi&&In?(this.callbacks.set(ji.slice(4),{callback:$i,options:Gi}),this.allKeys.add(ji.split("+").at(-1))):!pi&&!In&&(this.callbacks.set(ji,{callback:$i,options:Gi}),this.allKeys.add(ji.split("+").at(-1)))}}exec(Fn,pi){if(!this.allKeys.has(pi.key))return;const Ti=this.callbacks.get(Kn(this,Je,yp).call(this,pi));if(!Ti)return;const{callback:$i,options:{bubbles:Gi=!1,args:ji=[],checker:In=null}}=Ti;In&&!In(Fn,pi)||($i.bind(Fn,...ji)(),Gi||(pi.stopPropagation(),pi.preventDefault()))}}Je=new WeakSet,yp=function(Fn){Fn.altKey&&this.buffer.push("alt"),Fn.ctrlKey&&this.buffer.push("ctrl"),Fn.metaKey&&this.buffer.push("meta"),Fn.shiftKey&&this.buffer.push("shift"),this.buffer.push(Fn.key);const pi=this.buffer.join("+");return this.buffer.length=0,pi},_e.KeyboardManager=We;const gn=class gn{get _colors(){const Fn=new Map([["CanvasText",null],["Canvas",null]]);return(0,Ie.getColorValues)(Fn),(0,Re.shadow)(this,"_colors",Fn)}convert(Fn){const pi=(0,Ie.getRGB)(Fn);if(!window.matchMedia("(forced-colors: active)").matches)return pi;for(const[Ti,$i]of this._colors)if($i.every((Gi,ji)=>Gi===pi[ji]))return gn._colorsMapping.get(Ti);return pi}getHexCode(Fn){const pi=this._colors.get(Fn);return pi?Re.Util.makeHexColor(...pi):Fn}};br(gn,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Ge=gn;_e.ColorManager=Ge;const Vi=class Vi{constructor(Fn,pi,Ti,$i,Gi,ji){ai(this,$n);ai(this,Ke,null);ai(this,sn,new Map);ai(this,hn,new Map);ai(this,Cn,null);ai(this,bn,null);ai(this,En,new He);ai(this,yn,0);ai(this,xn,new Set);ai(this,vn,null);ai(this,kn,null);ai(this,Sn,new Set);ai(this,fn,null);ai(this,on,new je);ai(this,ln,!1);ai(this,_n,!1);ai(this,Tn,null);ai(this,Pn,Re.AnnotationEditorType.NONE);ai(this,Rn,new Set);ai(this,Dn,null);ai(this,Xn,this.blur.bind(this));ai(this,li,this.focus.bind(this));ai(this,oi,this.copy.bind(this));ai(this,di,this.cut.bind(this));ai(this,vi,this.paste.bind(this));ai(this,yi,this.keydown.bind(this));ai(this,Zn,this.onEditingAction.bind(this));ai(this,Gn,this.onPageChanging.bind(this));ai(this,wn,this.onScaleChanging.bind(this));ai(this,Ln,this.onRotationChanging.bind(this));ai(this,Wn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});ai(this,Bn,[0,0]);ai(this,Yn,null);ai(this,fi,null);ai(this,gi,null);ci(this,fi,Fn),ci(this,gi,pi),ci(this,Cn,Ti),this._eventBus=$i,this._eventBus._on("editingaction",un(this,Zn)),this._eventBus._on("pagechanging",un(this,Gn)),this._eventBus._on("scalechanging",un(this,wn)),this._eventBus._on("rotationchanging",un(this,Ln)),ci(this,bn,Gi.annotationStorage),ci(this,fn,Gi.filterFactory),ci(this,Dn,ji),this.viewParameters={realScale:Ie.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Fn=Vi.prototype,pi=Gi=>{const{activeElement:ji}=document;return ji&&un(Gi,fi).contains(ji)&&Gi.hasSomethingToControl()},Ti=this.TRANSLATE_SMALL,$i=this.TRANSLATE_BIG;return(0,Re.shadow)(this,"_keyboardManager",new We([[["ctrl+a","mac+meta+a"],Fn.selectAll],[["ctrl+z","mac+meta+z"],Fn.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Fn.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Fn.delete],[["Escape","mac+Escape"],Fn.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Fn.translateSelectedEditors,{args:[-Ti,0],checker:pi}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Fn.translateSelectedEditors,{args:[-$i,0],checker:pi}],[["ArrowRight","mac+ArrowRight"],Fn.translateSelectedEditors,{args:[Ti,0],checker:pi}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Fn.translateSelectedEditors,{args:[$i,0],checker:pi}],[["ArrowUp","mac+ArrowUp"],Fn.translateSelectedEditors,{args:[0,-Ti],checker:pi}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Fn.translateSelectedEditors,{args:[0,-$i],checker:pi}],[["ArrowDown","mac+ArrowDown"],Fn.translateSelectedEditors,{args:[0,Ti],checker:pi}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Fn.translateSelectedEditors,{args:[0,$i],checker:pi}]]))}destroy(){Kn(this,$n,fu).call(this),Kn(this,$n,eh).call(this),this._eventBus._off("editingaction",un(this,Zn)),this._eventBus._off("pagechanging",un(this,Gn)),this._eventBus._off("scalechanging",un(this,wn)),this._eventBus._off("rotationchanging",un(this,Ln));for(const Fn of un(this,hn).values())Fn.destroy();un(this,hn).clear(),un(this,sn).clear(),un(this,Sn).clear(),ci(this,Ke,null),un(this,Rn).clear(),un(this,En).destroy(),un(this,Cn).destroy()}get hcmFilter(){return(0,Re.shadow)(this,"hcmFilter",un(this,Dn)?un(this,fn).addHCMFilter(un(this,Dn).foreground,un(this,Dn).background):"none")}get direction(){return(0,Re.shadow)(this,"direction",getComputedStyle(un(this,fi)).direction)}editAltText(Fn){var pi;(pi=un(this,Cn))==null||pi.editAltText(this,Fn)}onPageChanging({pageNumber:Fn}){ci(this,yn,Fn-1)}focusMainContainer(){un(this,fi).focus()}findParent(Fn,pi){for(const Ti of un(this,hn).values()){const{x:$i,y:Gi,width:ji,height:In}=Ti.div.getBoundingClientRect();if(Fn>=$i&&Fn<=$i+ji&&pi>=Gi&&pi<=Gi+In)return Ti}return null}disableUserSelect(Fn=!1){un(this,gi).classList.toggle("noUserSelect",Fn)}addShouldRescale(Fn){un(this,Sn).add(Fn)}removeShouldRescale(Fn){un(this,Sn).delete(Fn)}onScaleChanging({scale:Fn}){this.commitOrRemove(),this.viewParameters.realScale=Fn*Ie.PixelsPerInch.PDF_TO_CSS_UNITS;for(const pi of un(this,Sn))pi.onScaleChanging()}onRotationChanging({pagesRotation:Fn}){this.commitOrRemove(),this.viewParameters.rotation=Fn}addToAnnotationStorage(Fn){!Fn.isEmpty()&&un(this,bn)&&!un(this,bn).has(Fn.id)&&un(this,bn).setValue(Fn.id,Fn)}blur(){if(!this.hasSelection)return;const{activeElement:Fn}=document;for(const pi of un(this,Rn))if(pi.div.contains(Fn)){ci(this,Tn,[pi,Fn]),pi._focusEventsAllowed=!1;break}}focus(){if(!un(this,Tn))return;const[Fn,pi]=un(this,Tn);ci(this,Tn,null),pi.addEventListener("focusin",()=>{Fn._focusEventsAllowed=!0},{once:!0}),pi.focus()}addEditListeners(){Kn(this,$n,th).call(this),Kn(this,$n,nh).call(this)}removeEditListeners(){Kn(this,$n,fu).call(this),Kn(this,$n,ih).call(this)}copy(Fn){var Ti;if(Fn.preventDefault(),(Ti=un(this,Ke))==null||Ti.commitOrRemove(),!this.hasSelection)return;const pi=[];for(const $i of un(this,Rn)){const Gi=$i.serialize(!0);Gi&&pi.push(Gi)}pi.length!==0&&Fn.clipboardData.setData("application/pdfjs",JSON.stringify(pi))}cut(Fn){this.copy(Fn),this.delete()}paste(Fn){Fn.preventDefault();const{clipboardData:pi}=Fn;for(const Gi of pi.items)for(const ji of un(this,kn))if(ji.isHandlingMimeForPasting(Gi.type)){ji.paste(Gi,this.currentLayer);return}let Ti=pi.getData("application/pdfjs");if(!Ti)return;try{Ti=JSON.parse(Ti)}catch(Gi){(0,Re.warn)(`paste: "${Gi.message}".`);return}if(!Array.isArray(Ti))return;this.unselectAll();const $i=this.currentLayer;try{const Gi=[];for(const On of Ti){const Vn=$i.deserialize(On);if(!Vn)return;Gi.push(Vn)}const ji=()=>{for(const On of Gi)Kn(this,$n,rh).call(this,On);Kn(this,$n,sh).call(this,Gi)},In=()=>{for(const On of Gi)On.remove()};this.addCommands({cmd:ji,undo:In,mustExec:!0})}catch(Gi){(0,Re.warn)(`paste: "${Gi.message}".`)}}keydown(Fn){var pi;(pi=this.getActive())!=null&&pi.shouldGetKeyboardEvents()||Vi._keyboardManager.exec(this,Fn)}onEditingAction(Fn){["undo","redo","delete","selectAll"].includes(Fn.name)&&this[Fn.name]()}setEditingState(Fn){Fn?(Kn(this,$n,_p).call(this),Kn(this,$n,th).call(this),Kn(this,$n,nh).call(this),Kn(this,$n,vo).call(this,{isEditing:un(this,Pn)!==Re.AnnotationEditorType.NONE,isEmpty:Kn(this,$n,Kl).call(this),hasSomethingToUndo:un(this,En).hasSomethingToUndo(),hasSomethingToRedo:un(this,En).hasSomethingToRedo(),hasSelectedEditor:!1})):(Kn(this,$n,eh).call(this),Kn(this,$n,fu).call(this),Kn(this,$n,ih).call(this),Kn(this,$n,vo).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Fn){if(!un(this,kn)){ci(this,kn,Fn);for(const pi of un(this,kn))Kn(this,$n,Yl).call(this,pi.defaultPropertiesToUpdate)}}getId(){return un(this,on).getId()}get currentLayer(){return un(this,hn).get(un(this,yn))}getLayer(Fn){return un(this,hn).get(Fn)}get currentPageIndex(){return un(this,yn)}addLayer(Fn){un(this,hn).set(Fn.pageIndex,Fn),un(this,ln)?Fn.enable():Fn.disable()}removeLayer(Fn){un(this,hn).delete(Fn.pageIndex)}updateMode(Fn,pi=null){if(un(this,Pn)!==Fn){if(ci(this,Pn,Fn),Fn===Re.AnnotationEditorType.NONE){this.setEditingState(!1),Kn(this,$n,xp).call(this);return}this.setEditingState(!0),Kn(this,$n,Sp).call(this),this.unselectAll();for(const Ti of un(this,hn).values())Ti.updateMode(Fn);if(pi){for(const Ti of un(this,sn).values())if(Ti.annotationElementId===pi){this.setSelected(Ti),Ti.enterInEditMode();break}}}}updateToolbar(Fn){Fn!==un(this,Pn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Fn})}updateParams(Fn,pi){if(un(this,kn)){if(Fn===Re.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Fn);return}for(const Ti of un(this,Rn))Ti.updateParams(Fn,pi);for(const Ti of un(this,kn))Ti.updateDefaultParams(Fn,pi)}}enableWaiting(Fn=!1){if(un(this,_n)!==Fn){ci(this,_n,Fn);for(const pi of un(this,hn).values())Fn?pi.disableClick():pi.enableClick(),pi.div.classList.toggle("waiting",Fn)}}getEditors(Fn){const pi=[];for(const Ti of un(this,sn).values())Ti.pageIndex===Fn&&pi.push(Ti);return pi}getEditor(Fn){return un(this,sn).get(Fn)}addEditor(Fn){un(this,sn).set(Fn.id,Fn)}removeEditor(Fn){var pi;un(this,sn).delete(Fn.id),this.unselect(Fn),(!Fn.annotationElementId||!un(this,xn).has(Fn.annotationElementId))&&((pi=un(this,bn))==null||pi.remove(Fn.id))}addDeletedAnnotationElement(Fn){un(this,xn).add(Fn.annotationElementId),Fn.deleted=!0}isDeletedAnnotationElement(Fn){return un(this,xn).has(Fn)}removeDeletedAnnotationElement(Fn){un(this,xn).delete(Fn.annotationElementId),Fn.deleted=!1}setActiveEditor(Fn){un(this,Ke)!==Fn&&(ci(this,Ke,Fn),Fn&&Kn(this,$n,Yl).call(this,Fn.propertiesToUpdate))}toggleSelected(Fn){if(un(this,Rn).has(Fn)){un(this,Rn).delete(Fn),Fn.unselect(),Kn(this,$n,vo).call(this,{hasSelectedEditor:this.hasSelection});return}un(this,Rn).add(Fn),Fn.select(),Kn(this,$n,Yl).call(this,Fn.propertiesToUpdate),Kn(this,$n,vo).call(this,{hasSelectedEditor:!0})}setSelected(Fn){for(const pi of un(this,Rn))pi!==Fn&&pi.unselect();un(this,Rn).clear(),un(this,Rn).add(Fn),Fn.select(),Kn(this,$n,Yl).call(this,Fn.propertiesToUpdate),Kn(this,$n,vo).call(this,{hasSelectedEditor:!0})}isSelected(Fn){return un(this,Rn).has(Fn)}unselect(Fn){Fn.unselect(),un(this,Rn).delete(Fn),Kn(this,$n,vo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return un(this,Rn).size!==0}undo(){un(this,En).undo(),Kn(this,$n,vo).call(this,{hasSomethingToUndo:un(this,En).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Kn(this,$n,Kl).call(this)})}redo(){un(this,En).redo(),Kn(this,$n,vo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:un(this,En).hasSomethingToRedo(),isEmpty:Kn(this,$n,Kl).call(this)})}addCommands(Fn){un(this,En).add(Fn),Kn(this,$n,vo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Kn(this,$n,Kl).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Fn=[...un(this,Rn)],pi=()=>{for(const $i of Fn)$i.remove()},Ti=()=>{for(const $i of Fn)Kn(this,$n,rh).call(this,$i)};this.addCommands({cmd:pi,undo:Ti,mustExec:!0})}commitOrRemove(){var Fn;(Fn=un(this,Ke))==null||Fn.commitOrRemove()}hasSomethingToControl(){return un(this,Ke)||this.hasSelection}selectAll(){for(const Fn of un(this,Rn))Fn.commit();Kn(this,$n,sh).call(this,un(this,sn).values())}unselectAll(){if(un(this,Ke)){un(this,Ke).commitOrRemove();return}if(this.hasSelection){for(const Fn of un(this,Rn))Fn.unselect();un(this,Rn).clear(),Kn(this,$n,vo).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Fn,pi,Ti=!1){if(Ti||this.commitOrRemove(),!this.hasSelection)return;un(this,Bn)[0]+=Fn,un(this,Bn)[1]+=pi;const[$i,Gi]=un(this,Bn),ji=[...un(this,Rn)],In=1e3;un(this,Yn)&&clearTimeout(un(this,Yn)),ci(this,Yn,setTimeout(()=>{ci(this,Yn,null),un(this,Bn)[0]=un(this,Bn)[1]=0,this.addCommands({cmd:()=>{for(const On of ji)un(this,sn).has(On.id)&&On.translateInPage($i,Gi)},undo:()=>{for(const On of ji)un(this,sn).has(On.id)&&On.translateInPage(-$i,-Gi)},mustExec:!1})},In));for(const On of ji)On.translateInPage(Fn,pi)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),ci(this,vn,new Map);for(const Fn of un(this,Rn))un(this,vn).set(Fn,{savedX:Fn.x,savedY:Fn.y,savedPageIndex:Fn.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!un(this,vn))return!1;this.disableUserSelect(!1);const Fn=un(this,vn);ci(this,vn,null);let pi=!1;for(const[{x:$i,y:Gi,pageIndex:ji},In]of Fn)In.newX=$i,In.newY=Gi,In.newPageIndex=ji,pi||(pi=$i!==In.savedX||Gi!==In.savedY||ji!==In.savedPageIndex);if(!pi)return!1;const Ti=($i,Gi,ji,In)=>{if(un(this,sn).has($i.id)){const On=un(this,hn).get(In);On?$i._setParentAndPosition(On,Gi,ji):($i.pageIndex=In,$i.x=Gi,$i.y=ji)}};return this.addCommands({cmd:()=>{for(const[$i,{newX:Gi,newY:ji,newPageIndex:In}]of Fn)Ti($i,Gi,ji,In)},undo:()=>{for(const[$i,{savedX:Gi,savedY:ji,savedPageIndex:In}]of Fn)Ti($i,Gi,ji,In)},mustExec:!0}),!0}dragSelectedEditors(Fn,pi){if(un(this,vn))for(const Ti of un(this,vn).keys())Ti.drag(Fn,pi)}rebuild(Fn){if(Fn.parent===null){const pi=this.getLayer(Fn.pageIndex);pi?(pi.changeParent(Fn),pi.addOrRebuild(Fn)):(this.addEditor(Fn),this.addToAnnotationStorage(Fn),Fn.rebuild())}else Fn.parent.addOrRebuild(Fn)}isActive(Fn){return un(this,Ke)===Fn}getActive(){return un(this,Ke)}getMode(){return un(this,Pn)}get imageManager(){return(0,Re.shadow)(this,"imageManager",new Be)}};Ke=new WeakMap,sn=new WeakMap,hn=new WeakMap,Cn=new WeakMap,bn=new WeakMap,En=new WeakMap,yn=new WeakMap,xn=new WeakMap,vn=new WeakMap,kn=new WeakMap,Sn=new WeakMap,fn=new WeakMap,on=new WeakMap,ln=new WeakMap,_n=new WeakMap,Tn=new WeakMap,Pn=new WeakMap,Rn=new WeakMap,Dn=new WeakMap,Xn=new WeakMap,li=new WeakMap,oi=new WeakMap,di=new WeakMap,vi=new WeakMap,yi=new WeakMap,Zn=new WeakMap,Gn=new WeakMap,wn=new WeakMap,Ln=new WeakMap,Wn=new WeakMap,Bn=new WeakMap,Yn=new WeakMap,fi=new WeakMap,gi=new WeakMap,$n=new WeakSet,_p=function(){window.addEventListener("focus",un(this,li)),window.addEventListener("blur",un(this,Xn))},eh=function(){window.removeEventListener("focus",un(this,li)),window.removeEventListener("blur",un(this,Xn))},th=function(){window.addEventListener("keydown",un(this,yi),{capture:!0})},fu=function(){window.removeEventListener("keydown",un(this,yi),{capture:!0})},nh=function(){document.addEventListener("copy",un(this,oi)),document.addEventListener("cut",un(this,di)),document.addEventListener("paste",un(this,vi))},ih=function(){document.removeEventListener("copy",un(this,oi)),document.removeEventListener("cut",un(this,di)),document.removeEventListener("paste",un(this,vi))},vo=function(Fn){Object.entries(Fn).some(([Ti,$i])=>un(this,Wn)[Ti]!==$i)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(un(this,Wn),Fn)})},Yl=function(Fn){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Fn})},Sp=function(){if(!un(this,ln)){ci(this,ln,!0);for(const Fn of un(this,hn).values())Fn.enable()}},xp=function(){if(this.unselectAll(),un(this,ln)){ci(this,ln,!1);for(const Fn of un(this,hn).values())Fn.disable()}},rh=function(Fn){const pi=un(this,hn).get(Fn.pageIndex);pi?pi.addOrRebuild(Fn):this.addEditor(Fn)},Kl=function(){if(un(this,sn).size===0)return!0;if(un(this,sn).size===1)for(const Fn of un(this,sn).values())return Fn.isEmpty();return!1},sh=function(Fn){un(this,Rn).clear();for(const pi of Fn)pi.isEmpty()||(un(this,Rn).add(pi),pi.select());Kn(this,$n,vo).call(this,{hasSelectedEditor:!0})},br(Vi,"TRANSLATE_SMALL",1),br(Vi,"TRANSLATE_BIG",10);let Xe=Vi;_e.AnnotationEditorUIManager=Xe},(Ae,_e,ke)=>{var yn,xn,vn,kn,Sn,fn,on,ln,_n,Tn,Pn,Rn,vl,bl,oh,pu,mu,Zl,Ql;Object.defineProperty(_e,"__esModule",{value:!0}),_e.StatTimer=_e.RenderingCancelledException=_e.PixelsPerInch=_e.PageViewport=_e.PDFDateString=_e.DOMStandardFontDataFactory=_e.DOMSVGFactory=_e.DOMFilterFactory=_e.DOMCanvasFactory=_e.DOMCMapReaderFactory=void 0,_e.deprecated=tn,_e.getColorValues=sn,_e.getCurrentTransform=hn,_e.getCurrentTransformInverse=Cn,_e.getFilenameFromUrl=Ze,_e.getPdfFilenameFromUrl=Qe,_e.getRGB=Ke,_e.getXfaPageViewport=gn,_e.isDataScheme=Ue,_e.isPdfFile=Ye,_e.isValidFetchUrl=nn,_e.loadScript=cn,_e.noContextMenu=rn,_e.setLayerDimensions=bn;var Re=ke(7),Ie=ke(1);const Fe="http://www.w3.org/2000/svg",En=class En{};br(En,"CSS",96),br(En,"PDF",72),br(En,"PDF_TO_CSS_UNITS",En.CSS/En.PDF);let Ne=En;_e.PixelsPerInch=Ne;class je extends Re.BaseFilterFactory{constructor({docId:wn,ownerDocument:Ln=globalThis.document}={}){super();ai(this,Rn);ai(this,yn);ai(this,xn);ai(this,vn);ai(this,kn);ai(this,Sn);ai(this,fn);ai(this,on);ai(this,ln);ai(this,_n);ai(this,Tn);ai(this,Pn,0);ci(this,vn,wn),ci(this,kn,Ln)}addFilter(wn){if(!wn)return"none";let Ln=un(this,Rn,vl).get(wn);if(Ln)return Ln;let Wn,Bn,Yn,fi;if(wn.length===1){const Ei=wn[0],Yi=new Array(256);for(let Wi=0;Wi<256;Wi++)Yi[Wi]=Ei[Wi]/255;fi=Wn=Bn=Yn=Yi.join(",")}else{const[Ei,Yi,Wi]=wn,ir=new Array(256),Mi=new Array(256),Xi=new Array(256);for(let er=0;er<256;er++)ir[er]=Ei[er]/255,Mi[er]=Yi[er]/255,Xi[er]=Wi[er]/255;Wn=ir.join(","),Bn=Mi.join(","),Yn=Xi.join(","),fi=`${Wn}${Bn}${Yn}`}if(Ln=un(this,Rn,vl).get(fi),Ln)return un(this,Rn,vl).set(wn,Ln),Ln;const gi=`g_${un(this,vn)}_transfer_map_${Gl(this,Pn)._++}`,$n=`url(#${gi})`;un(this,Rn,vl).set(wn,$n),un(this,Rn,vl).set(fi,$n);const Pi=Kn(this,Rn,pu).call(this,gi);return Kn(this,Rn,Zl).call(this,Wn,Bn,Yn,Pi),$n}addHCMFilter(wn,Ln){var Yi;const Wn=`${wn}-${Ln}`;if(un(this,fn)===Wn)return un(this,on);if(ci(this,fn,Wn),ci(this,on,"none"),(Yi=un(this,Sn))==null||Yi.remove(),!wn||!Ln)return un(this,on);const Bn=Kn(this,Rn,Ql).call(this,wn);wn=Ie.Util.makeHexColor(...Bn);const Yn=Kn(this,Rn,Ql).call(this,Ln);if(Ln=Ie.Util.makeHexColor(...Yn),un(this,Rn,bl).style.color="",wn==="#000000"&&Ln==="#ffffff"||wn===Ln)return un(this,on);const fi=new Array(256);for(let Wi=0;Wi<=255;Wi++){const ir=Wi/255;fi[Wi]=ir<=.03928?ir/12.92:((ir+.055)/1.055)**2.4}const gi=fi.join(","),$n=`g_${un(this,vn)}_hcm_filter`,Pi=ci(this,ln,Kn(this,Rn,pu).call(this,$n));Kn(this,Rn,Zl).call(this,gi,gi,gi,Pi),Kn(this,Rn,oh).call(this,Pi);const Ei=(Wi,ir)=>{const Mi=Bn[Wi]/255,Xi=Yn[Wi]/255,er=new Array(ir+1);for(let Mr=0;Mr<=ir;Mr++)er[Mr]=Mi+Mr/ir*(Xi-Mi);return er.join(",")};return Kn(this,Rn,Zl).call(this,Ei(0,5),Ei(1,5),Ei(2,5),Pi),ci(this,on,`url(#${$n})`),un(this,on)}addHighlightHCMFilter(wn,Ln,Wn,Bn){var Xi;const Yn=`${wn}-${Ln}-${Wn}-${Bn}`;if(un(this,_n)===Yn)return un(this,Tn);if(ci(this,_n,Yn),ci(this,Tn,"none"),(Xi=un(this,ln))==null||Xi.remove(),!wn||!Ln)return un(this,Tn);const[fi,gi]=[wn,Ln].map(Kn(this,Rn,Ql).bind(this));let $n=Math.round(.2126*fi[0]+.7152*fi[1]+.0722*fi[2]),Pi=Math.round(.2126*gi[0]+.7152*gi[1]+.0722*gi[2]),[Ei,Yi]=[Wn,Bn].map(Kn(this,Rn,Ql).bind(this));Pi<$n&&([$n,Pi,Ei,Yi]=[Pi,$n,Yi,Ei]),un(this,Rn,bl).style.color="";const Wi=(er,Mr,_i)=>{const Qn=new Array(256),ti=(Pi-$n)/_i,Bi=er/255,Vi=(Mr-er)/(255*_i);let Qi=0;for(let Fn=0;Fn<=_i;Fn++){const pi=Math.round($n+Fn*ti),Ti=Bi+Fn*Vi;for(let $i=Qi;$i<=pi;$i++)Qn[$i]=Ti;Qi=pi+1}for(let Fn=Qi;Fn<256;Fn++)Qn[Fn]=Qn[Qi-1];return Qn.join(",")},ir=`g_${un(this,vn)}_hcm_highlight_filter`,Mi=ci(this,ln,Kn(this,Rn,pu).call(this,ir));return Kn(this,Rn,oh).call(this,Mi),Kn(this,Rn,Zl).call(this,Wi(Ei[0],Yi[0],5),Wi(Ei[1],Yi[1],5),Wi(Ei[2],Yi[2],5),Mi),ci(this,Tn,`url(#${ir})`),un(this,Tn)}destroy(wn=!1){wn&&(un(this,on)||un(this,Tn))||(un(this,xn)&&(un(this,xn).parentNode.parentNode.remove(),ci(this,xn,null)),un(this,yn)&&(un(this,yn).clear(),ci(this,yn,null)),ci(this,Pn,0))}}yn=new WeakMap,xn=new WeakMap,vn=new WeakMap,kn=new WeakMap,Sn=new WeakMap,fn=new WeakMap,on=new WeakMap,ln=new WeakMap,_n=new WeakMap,Tn=new WeakMap,Pn=new WeakMap,Rn=new WeakSet,vl=function(){return un(this,yn)||ci(this,yn,new Map)},bl=function(){if(!un(this,xn)){const wn=un(this,kn).createElement("div"),{style:Ln}=wn;Ln.visibility="hidden",Ln.contain="strict",Ln.width=Ln.height=0,Ln.position="absolute",Ln.top=Ln.left=0,Ln.zIndex=-1;const Wn=un(this,kn).createElementNS(Fe,"svg");Wn.setAttribute("width",0),Wn.setAttribute("height",0),ci(this,xn,un(this,kn).createElementNS(Fe,"defs")),wn.append(Wn),Wn.append(un(this,xn)),un(this,kn).body.append(wn)}return un(this,xn)},oh=function(wn){const Ln=un(this,kn).createElementNS(Fe,"feColorMatrix");Ln.setAttribute("type","matrix"),Ln.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),wn.append(Ln)},pu=function(wn){const Ln=un(this,kn).createElementNS(Fe,"filter");return Ln.setAttribute("color-interpolation-filters","sRGB"),Ln.setAttribute("id",wn),un(this,Rn,bl).append(Ln),Ln},mu=function(wn,Ln,Wn){const Bn=un(this,kn).createElementNS(Fe,Ln);Bn.setAttribute("type","discrete"),Bn.setAttribute("tableValues",Wn),wn.append(Bn)},Zl=function(wn,Ln,Wn,Bn){const Yn=un(this,kn).createElementNS(Fe,"feComponentTransfer");Bn.append(Yn),Kn(this,Rn,mu).call(this,Yn,"feFuncR",wn),Kn(this,Rn,mu).call(this,Yn,"feFuncG",Ln),Kn(this,Rn,mu).call(this,Yn,"feFuncB",Wn)},Ql=function(wn){return un(this,Rn,bl).style.color=wn,Ke(getComputedStyle(un(this,Rn,bl)).getPropertyValue("color"))},_e.DOMFilterFactory=je;class Be extends Re.BaseCanvasFactory{constructor({ownerDocument:Gn=globalThis.document}={}){super(),this._document=Gn}_createCanvas(Gn,wn){const Ln=this._document.createElement("canvas");return Ln.width=Gn,Ln.height=wn,Ln}}_e.DOMCanvasFactory=Be;async function He(Zn,Gn=!1){if(nn(Zn,document.baseURI)){const wn=await fetch(Zn);if(!wn.ok)throw new Error(wn.statusText);return Gn?new Uint8Array(await wn.arrayBuffer()):(0,Ie.stringToBytes)(await wn.text())}return new Promise((wn,Ln)=>{const Wn=new XMLHttpRequest;Wn.open("GET",Zn,!0),Gn&&(Wn.responseType="arraybuffer"),Wn.onreadystatechange=()=>{if(Wn.readyState===XMLHttpRequest.DONE){if(Wn.status===200||Wn.status===0){let Bn;if(Gn&&Wn.response?Bn=new Uint8Array(Wn.response):!Gn&&Wn.responseText&&(Bn=(0,Ie.stringToBytes)(Wn.responseText)),Bn){wn(Bn);return}}Ln(new Error(Wn.statusText))}},Wn.send(null)})}class We extends Re.BaseCMapReaderFactory{_fetchData(Gn,wn){return He(Gn,this.isCompressed).then(Ln=>({cMapData:Ln,compressionType:wn}))}}_e.DOMCMapReaderFactory=We;class Ge extends Re.BaseStandardFontDataFactory{_fetchData(Gn){return He(Gn,!0)}}_e.DOMStandardFontDataFactory=Ge;class Xe extends Re.BaseSVGFactory{_createSVG(Gn){return document.createElementNS(Fe,Gn)}}_e.DOMSVGFactory=Xe;class $e{constructor({viewBox:Gn,scale:wn,rotation:Ln,offsetX:Wn=0,offsetY:Bn=0,dontFlip:Yn=!1}){this.viewBox=Gn,this.scale=wn,this.rotation=Ln,this.offsetX=Wn,this.offsetY=Bn;const fi=(Gn[2]+Gn[0])/2,gi=(Gn[3]+Gn[1])/2;let $n,Pi,Ei,Yi;switch(Ln%=360,Ln<0&&(Ln+=360),Ln){case 180:$n=-1,Pi=0,Ei=0,Yi=1;break;case 90:$n=0,Pi=1,Ei=1,Yi=0;break;case 270:$n=0,Pi=-1,Ei=-1,Yi=0;break;case 0:$n=1,Pi=0,Ei=0,Yi=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Yn&&(Ei=-Ei,Yi=-Yi);let Wi,ir,Mi,Xi;$n===0?(Wi=Math.abs(gi-Gn[1])*wn+Wn,ir=Math.abs(fi-Gn[0])*wn+Bn,Mi=(Gn[3]-Gn[1])*wn,Xi=(Gn[2]-Gn[0])*wn):(Wi=Math.abs(fi-Gn[0])*wn+Wn,ir=Math.abs(gi-Gn[1])*wn+Bn,Mi=(Gn[2]-Gn[0])*wn,Xi=(Gn[3]-Gn[1])*wn),this.transform=[$n*wn,Pi*wn,Ei*wn,Yi*wn,Wi-$n*wn*fi-Ei*wn*gi,ir-Pi*wn*fi-Yi*wn*gi],this.width=Mi,this.height=Xi}get rawDims(){const{viewBox:Gn}=this;return(0,Ie.shadow)(this,"rawDims",{pageWidth:Gn[2]-Gn[0],pageHeight:Gn[3]-Gn[1],pageX:Gn[0],pageY:Gn[1]})}clone({scale:Gn=this.scale,rotation:wn=this.rotation,offsetX:Ln=this.offsetX,offsetY:Wn=this.offsetY,dontFlip:Bn=!1}={}){return new $e({viewBox:this.viewBox.slice(),scale:Gn,rotation:wn,offsetX:Ln,offsetY:Wn,dontFlip:Bn})}convertToViewportPoint(Gn,wn){return Ie.Util.applyTransform([Gn,wn],this.transform)}convertToViewportRectangle(Gn){const wn=Ie.Util.applyTransform([Gn[0],Gn[1]],this.transform),Ln=Ie.Util.applyTransform([Gn[2],Gn[3]],this.transform);return[wn[0],wn[1],Ln[0],Ln[1]]}convertToPdfPoint(Gn,wn){return Ie.Util.applyInverseTransform([Gn,wn],this.transform)}}_e.PageViewport=$e;class qe extends Ie.BaseException{constructor(Gn,wn=0){super(Gn,"RenderingCancelledException"),this.extraDelay=wn}}_e.RenderingCancelledException=qe;function Ue(Zn){const Gn=Zn.length;let wn=0;for(;wn<Gn&&Zn[wn].trim()==="";)wn++;return Zn.substring(wn,wn+5).toLowerCase()==="data:"}function Ye(Zn){return typeof Zn=="string"&&/\.pdf$/i.test(Zn)}function Ze(Zn,Gn=!1){return Gn||([Zn]=Zn.split(/[#?]/,1)),Zn.substring(Zn.lastIndexOf("/")+1)}function Qe(Zn,Gn="document.pdf"){if(typeof Zn!="string")return Gn;if(Ue(Zn))return(0,Ie.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Gn;const wn=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Ln=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Wn=wn.exec(Zn);let Bn=Ln.exec(Wn[1])||Ln.exec(Wn[2])||Ln.exec(Wn[3]);if(Bn&&(Bn=Bn[0],Bn.includes("%")))try{Bn=Ln.exec(decodeURIComponent(Bn))[0]}catch{}return Bn||Gn}class pn{constructor(){br(this,"started",Object.create(null));br(this,"times",[])}time(Gn){Gn in this.started&&(0,Ie.warn)(`Timer is already running for ${Gn}`),this.started[Gn]=Date.now()}timeEnd(Gn){Gn in this.started||(0,Ie.warn)(`Timer has not been started for ${Gn}`),this.times.push({name:Gn,start:this.started[Gn],end:Date.now()}),delete this.started[Gn]}toString(){const Gn=[];let wn=0;for(const{name:Ln}of this.times)wn=Math.max(Ln.length,wn);for(const{name:Ln,start:Wn,end:Bn}of this.times)Gn.push(`${Ln.padEnd(wn)} ${Bn-Wn}ms
`);return Gn.join("")}}_e.StatTimer=pn;function nn(Zn,Gn){try{const{protocol:wn}=Gn?new URL(Zn,Gn):new URL(Zn);return wn==="http:"||wn==="https:"}catch{return!1}}function rn(Zn){Zn.preventDefault()}function cn(Zn,Gn=!1){return new Promise((wn,Ln)=>{const Wn=document.createElement("script");Wn.src=Zn,Wn.onload=function(Bn){Gn&&Wn.remove(),wn(Bn)},Wn.onerror=function(){Ln(new Error(`Cannot load script at: ${Wn.src}`))},(document.head||document.documentElement).append(Wn)})}function tn(Zn){console.log("Deprecated API usage: "+Zn)}let Je;class an{static toDateObject(Gn){if(!Gn||typeof Gn!="string")return null;Je||(Je=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const wn=Je.exec(Gn);if(!wn)return null;const Ln=parseInt(wn[1],10);let Wn=parseInt(wn[2],10);Wn=Wn>=1&&Wn<=12?Wn-1:0;let Bn=parseInt(wn[3],10);Bn=Bn>=1&&Bn<=31?Bn:1;let Yn=parseInt(wn[4],10);Yn=Yn>=0&&Yn<=23?Yn:0;let fi=parseInt(wn[5],10);fi=fi>=0&&fi<=59?fi:0;let gi=parseInt(wn[6],10);gi=gi>=0&&gi<=59?gi:0;const $n=wn[7]||"Z";let Pi=parseInt(wn[8],10);Pi=Pi>=0&&Pi<=23?Pi:0;let Ei=parseInt(wn[9],10)||0;return Ei=Ei>=0&&Ei<=59?Ei:0,$n==="-"?(Yn+=Pi,fi+=Ei):$n==="+"&&(Yn-=Pi,fi-=Ei),new Date(Date.UTC(Ln,Wn,Bn,Yn,fi,gi))}}_e.PDFDateString=an;function gn(Zn,{scale:Gn=1,rotation:wn=0}){const{width:Ln,height:Wn}=Zn.attributes.style,Bn=[0,0,parseInt(Ln),parseInt(Wn)];return new $e({viewBox:Bn,scale:Gn,rotation:wn})}function Ke(Zn){if(Zn.startsWith("#")){const Gn=parseInt(Zn.slice(1),16);return[(Gn&16711680)>>16,(Gn&65280)>>8,Gn&255]}return Zn.startsWith("rgb(")?Zn.slice(4,-1).split(",").map(Gn=>parseInt(Gn)):Zn.startsWith("rgba(")?Zn.slice(5,-1).split(",").map(Gn=>parseInt(Gn)).slice(0,3):((0,Ie.warn)(`Not a valid color format: "${Zn}"`),[0,0,0])}function sn(Zn){const Gn=document.createElement("span");Gn.style.visibility="hidden",document.body.append(Gn);for(const wn of Zn.keys()){Gn.style.color=wn;const Ln=window.getComputedStyle(Gn).color;Zn.set(wn,Ke(Ln))}Gn.remove()}function hn(Zn){const{a:Gn,b:wn,c:Ln,d:Wn,e:Bn,f:Yn}=Zn.getTransform();return[Gn,wn,Ln,Wn,Bn,Yn]}function Cn(Zn){const{a:Gn,b:wn,c:Ln,d:Wn,e:Bn,f:Yn}=Zn.getTransform().invertSelf();return[Gn,wn,Ln,Wn,Bn,Yn]}function bn(Zn,Gn,wn=!1,Ln=!0){if(Gn instanceof $e){const{pageWidth:Wn,pageHeight:Bn}=Gn.rawDims,{style:Yn}=Zn,fi=Ie.FeatureTest.isCSSRoundSupported,gi=`var(--scale-factor) * ${Wn}px`,$n=`var(--scale-factor) * ${Bn}px`,Pi=fi?`round(${gi}, 1px)`:`calc(${gi})`,Ei=fi?`round(${$n}, 1px)`:`calc(${$n})`;!wn||Gn.rotation%180===0?(Yn.width=Pi,Yn.height=Ei):(Yn.width=Ei,Yn.height=Pi)}Ln&&Zn.setAttribute("data-main-rotation",Gn.rotation)}},(Ae,_e,ke)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.BaseStandardFontDataFactory=_e.BaseSVGFactory=_e.BaseFilterFactory=_e.BaseCanvasFactory=_e.BaseCMapReaderFactory=void 0;var Re=ke(1);class Ie{constructor(){this.constructor===Ie&&(0,Re.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(We){return"none"}addHCMFilter(We,Ge){return"none"}addHighlightHCMFilter(We,Ge,Xe,$e){return"none"}destroy(We=!1){}}_e.BaseFilterFactory=Ie;class Fe{constructor(){this.constructor===Fe&&(0,Re.unreachable)("Cannot initialize BaseCanvasFactory.")}create(We,Ge){if(We<=0||Ge<=0)throw new Error("Invalid canvas size");const Xe=this._createCanvas(We,Ge);return{canvas:Xe,context:Xe.getContext("2d")}}reset(We,Ge,Xe){if(!We.canvas)throw new Error("Canvas is not specified");if(Ge<=0||Xe<=0)throw new Error("Invalid canvas size");We.canvas.width=Ge,We.canvas.height=Xe}destroy(We){if(!We.canvas)throw new Error("Canvas is not specified");We.canvas.width=0,We.canvas.height=0,We.canvas=null,We.context=null}_createCanvas(We,Ge){(0,Re.unreachable)("Abstract method `_createCanvas` called.")}}_e.BaseCanvasFactory=Fe;class Ne{constructor({baseUrl:We=null,isCompressed:Ge=!0}){this.constructor===Ne&&(0,Re.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=We,this.isCompressed=Ge}async fetch({name:We}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!We)throw new Error("CMap name must be specified.");const Ge=this.baseUrl+We+(this.isCompressed?".bcmap":""),Xe=this.isCompressed?Re.CMapCompressionType.BINARY:Re.CMapCompressionType.NONE;return this._fetchData(Ge,Xe).catch($e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${Ge}`)})}_fetchData(We,Ge){(0,Re.unreachable)("Abstract method `_fetchData` called.")}}_e.BaseCMapReaderFactory=Ne;class je{constructor({baseUrl:We=null}){this.constructor===je&&(0,Re.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=We}async fetch({filename:We}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!We)throw new Error("Font filename must be specified.");const Ge=`${this.baseUrl}${We}`;return this._fetchData(Ge).catch(Xe=>{throw new Error(`Unable to load font data at: ${Ge}`)})}_fetchData(We){(0,Re.unreachable)("Abstract method `_fetchData` called.")}}_e.BaseStandardFontDataFactory=je;class Be{constructor(){this.constructor===Be&&(0,Re.unreachable)("Cannot initialize BaseSVGFactory.")}create(We,Ge,Xe=!1){if(We<=0||Ge<=0)throw new Error("Invalid SVG dimensions");const $e=this._createSVG("svg:svg");return $e.setAttribute("version","1.1"),Xe||($e.setAttribute("width",`${We}px`),$e.setAttribute("height",`${Ge}px`)),$e.setAttribute("preserveAspectRatio","none"),$e.setAttribute("viewBox",`0 0 ${We} ${Ge}`),$e}createElement(We){if(typeof We!="string")throw new Error("Invalid SVG element type");return this._createSVG(We)}_createSVG(We){(0,Re.unreachable)("Abstract method `_createSVG` called.")}}_e.BaseSVGFactory=Be},(Ae,_e,ke)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.MurmurHash3_64=void 0;var Re=ke(1);const Ie=3285377520,Fe=4294901760,Ne=65535;class je{constructor(He){this.h1=He?He&4294967295:Ie,this.h2=He?He&4294967295:Ie}update(He){let We,Ge;if(typeof He=="string"){We=new Uint8Array(He.length*2),Ge=0;for(let tn=0,Je=He.length;tn<Je;tn++){const an=He.charCodeAt(tn);an<=255?We[Ge++]=an:(We[Ge++]=an>>>8,We[Ge++]=an&255)}}else if((0,Re.isArrayBuffer)(He))We=He.slice(),Ge=We.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const Xe=Ge>>2,$e=Ge-Xe*4,qe=new Uint32Array(We.buffer,0,Xe);let Ue=0,Ye=0,Ze=this.h1,Qe=this.h2;const pn=3432918353,nn=461845907,rn=pn&Ne,cn=nn&Ne;for(let tn=0;tn<Xe;tn++)tn&1?(Ue=qe[tn],Ue=Ue*pn&Fe|Ue*rn&Ne,Ue=Ue<<15|Ue>>>17,Ue=Ue*nn&Fe|Ue*cn&Ne,Ze^=Ue,Ze=Ze<<13|Ze>>>19,Ze=Ze*5+3864292196):(Ye=qe[tn],Ye=Ye*pn&Fe|Ye*rn&Ne,Ye=Ye<<15|Ye>>>17,Ye=Ye*nn&Fe|Ye*cn&Ne,Qe^=Ye,Qe=Qe<<13|Qe>>>19,Qe=Qe*5+3864292196);switch(Ue=0,$e){case 3:Ue^=We[Xe*4+2]<<16;case 2:Ue^=We[Xe*4+1]<<8;case 1:Ue^=We[Xe*4],Ue=Ue*pn&Fe|Ue*rn&Ne,Ue=Ue<<15|Ue>>>17,Ue=Ue*nn&Fe|Ue*cn&Ne,Xe&1?Ze^=Ue:Qe^=Ue}this.h1=Ze,this.h2=Qe}hexdigest(){let He=this.h1,We=this.h2;return He^=We>>>1,He=He*3981806797&Fe|He*36045&Ne,We=We*4283543511&Fe|((We<<16|He>>>16)*2950163797&Fe)>>>16,He^=We>>>1,He=He*444984403&Fe|He*60499&Ne,We=We*3301882366&Fe|((We<<16|He>>>16)*3120437893&Fe)>>>16,He^=We>>>1,(He>>>0).toString(16).padStart(8,"0")+(We>>>0).toString(16).padStart(8,"0")}}_e.MurmurHash3_64=je},(Ae,_e,ke)=>{var Ne;Object.defineProperty(_e,"__esModule",{value:!0}),_e.FontLoader=_e.FontFaceObject=void 0;var Re=ke(1);class Ie{constructor({ownerDocument:Be=globalThis.document,styleElement:He=null}){ai(this,Ne,new Set);this._document=Be,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(Be){this.nativeFontFaces.add(Be),this._document.fonts.add(Be)}removeNativeFontFace(Be){this.nativeFontFaces.delete(Be),this._document.fonts.delete(Be)}insertRule(Be){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const He=this.styleElement.sheet;He.insertRule(Be,He.cssRules.length)}clear(){for(const Be of this.nativeFontFaces)this._document.fonts.delete(Be);this.nativeFontFaces.clear(),un(this,Ne).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(Be){if(!(!Be||un(this,Ne).has(Be.loadedName))){if((0,Re.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:He,src:We,style:Ge}=Be,Xe=new FontFace(He,We,Ge);this.addNativeFontFace(Xe);try{await Xe.load(),un(this,Ne).add(He)}catch{(0,Re.warn)(`Cannot load system font: ${Be.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(Xe)}return}(0,Re.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(Be){if(Be.attached||Be.missingFile&&!Be.systemFontInfo)return;if(Be.attached=!0,Be.systemFontInfo){await this.loadSystemFont(Be.systemFontInfo);return}if(this.isFontLoadingAPISupported){const We=Be.createNativeFontFace();if(We){this.addNativeFontFace(We);try{await We.loaded}catch(Ge){throw(0,Re.warn)(`Failed to load font '${We.family}': '${Ge}'.`),Be.disableFontFace=!0,Ge}}return}const He=Be.createFontFaceRule();if(He){if(this.insertRule(He),this.isSyncFontLoadingSupported)return;await new Promise(We=>{const Ge=this._queueLoadingCallback(We);this._prepareFontLoadEvent(Be,Ge)})}}get isFontLoadingAPISupported(){var He;const Be=!!((He=this._document)!=null&&He.fonts);return(0,Re.shadow)(this,"isFontLoadingAPISupported",Be)}get isSyncFontLoadingSupported(){let Be=!1;return(Re.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(Be=!0),(0,Re.shadow)(this,"isSyncFontLoadingSupported",Be)}_queueLoadingCallback(Be){function He(){for((0,Re.assert)(!Ge.done,"completeRequest() cannot be called twice."),Ge.done=!0;We.length>0&&We[0].done;){const Xe=We.shift();setTimeout(Xe.callback,0)}}const{loadingRequests:We}=this,Ge={done:!1,complete:He,callback:Be};return We.push(Ge),Ge}get _loadTestFont(){const Be=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,Re.shadow)(this,"_loadTestFont",Be)}_prepareFontLoadEvent(Be,He){function We(Ke,sn){return Ke.charCodeAt(sn)<<24|Ke.charCodeAt(sn+1)<<16|Ke.charCodeAt(sn+2)<<8|Ke.charCodeAt(sn+3)&255}function Ge(Ke,sn,hn,Cn){const bn=Ke.substring(0,sn),En=Ke.substring(sn+hn);return bn+Cn+En}let Xe,$e;const qe=this._document.createElement("canvas");qe.width=1,qe.height=1;const Ue=qe.getContext("2d");let Ye=0;function Ze(Ke,sn){if(++Ye>30){(0,Re.warn)("Load test font never loaded."),sn();return}if(Ue.font="30px "+Ke,Ue.fillText(".",0,20),Ue.getImageData(0,0,1,1).data[3]>0){sn();return}setTimeout(Ze.bind(null,Ke,sn))}const Qe=`lt${Date.now()}${this.loadTestFontId++}`;let pn=this._loadTestFont;pn=Ge(pn,976,Qe.length,Qe);const rn=16,cn=1482184792;let tn=We(pn,rn);for(Xe=0,$e=Qe.length-3;Xe<$e;Xe+=4)tn=tn-cn+We(Qe,Xe)|0;Xe<Qe.length&&(tn=tn-cn+We(Qe+"XXX",Xe)|0),pn=Ge(pn,rn,4,(0,Re.string32)(tn));const Je=`url(data:font/opentype;base64,${btoa(pn)});`,an=`@font-face {font-family:"${Qe}";src:${Je}}`;this.insertRule(an);const gn=this._document.createElement("div");gn.style.visibility="hidden",gn.style.width=gn.style.height="10px",gn.style.position="absolute",gn.style.top=gn.style.left="0px";for(const Ke of[Be.loadedName,Qe]){const sn=this._document.createElement("span");sn.textContent="Hi",sn.style.fontFamily=Ke,gn.append(sn)}this._document.body.append(gn),Ze(Qe,()=>{gn.remove(),He.complete()})}}Ne=new WeakMap,_e.FontLoader=Ie;class Fe{constructor(Be,{isEvalSupported:He=!0,disableFontFace:We=!1,ignoreErrors:Ge=!1,inspectFont:Xe=null}){this.compiledGlyphs=Object.create(null);for(const $e in Be)this[$e]=Be[$e];this.isEvalSupported=He!==!1,this.disableFontFace=We===!0,this.ignoreErrors=Ge===!0,this._inspectFont=Xe}createNativeFontFace(){var He;if(!this.data||this.disableFontFace)return null;let Be;if(!this.cssFontInfo)Be=new FontFace(this.loadedName,this.data,{});else{const We={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(We.style=`oblique ${this.cssFontInfo.italicAngle}deg`),Be=new FontFace(this.cssFontInfo.fontFamily,this.data,We)}return(He=this._inspectFont)==null||He.call(this,this),Be}createFontFaceRule(){var Ge;if(!this.data||this.disableFontFace)return null;const Be=(0,Re.bytesToString)(this.data),He=`url(data:${this.mimetype};base64,${btoa(Be)});`;let We;if(!this.cssFontInfo)We=`@font-face {font-family:"${this.loadedName}";src:${He}}`;else{let Xe=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Xe+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),We=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Xe}src:${He}}`}return(Ge=this._inspectFont)==null||Ge.call(this,this,He),We}getPathGenerator(Be,He){if(this.compiledGlyphs[He]!==void 0)return this.compiledGlyphs[He];let We;try{We=Be.get(this.loadedName+"_path_"+He)}catch(Ge){if(!this.ignoreErrors)throw Ge;return(0,Re.warn)(`getPathGenerator - ignoring character: "${Ge}".`),this.compiledGlyphs[He]=function(Xe,$e){}}if(this.isEvalSupported&&Re.FeatureTest.isEvalSupported){const Ge=[];for(const Xe of We){const $e=Xe.args!==void 0?Xe.args.join(","):"";Ge.push("c.",Xe.cmd,"(",$e,`);
`)}return this.compiledGlyphs[He]=new Function("c","size",Ge.join(""))}return this.compiledGlyphs[He]=function(Ge,Xe){for(const $e of We)$e.cmd==="scale"&&($e.args=[Xe,-Xe]),Ge[$e.cmd].apply(Ge,$e.args)}}}_e.FontFaceObject=Fe},(Ae,_e,ke)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.NodeStandardFontDataFactory=_e.NodeFilterFactory=_e.NodeCanvasFactory=_e.NodeCMapReaderFactory=void 0;var Re=ke(7);ke(1);const Ie=function(He){return new Promise((We,Ge)=>{require$$5.readFile(He,($e,qe)=>{if($e||!qe){Ge(new Error($e));return}We(new Uint8Array(qe))})})};class Fe extends Re.BaseFilterFactory{}_e.NodeFilterFactory=Fe;class Ne extends Re.BaseCanvasFactory{_createCanvas(We,Ge){return require$$5.createCanvas(We,Ge)}}_e.NodeCanvasFactory=Ne;class je extends Re.BaseCMapReaderFactory{_fetchData(We,Ge){return Ie(We).then(Xe=>({cMapData:Xe,compressionType:Ge}))}}_e.NodeCMapReaderFactory=je;class Be extends Re.BaseStandardFontDataFactory{_fetchData(We){return Ie(We)}}_e.NodeStandardFontDataFactory=Be},(Ae,_e,ke)=>{var xn,ah,lh;Object.defineProperty(_e,"__esModule",{value:!0}),_e.CanvasGraphics=void 0;var Re=ke(1),Ie=ke(6),Fe=ke(12),Ne=ke(13);const je=16,Be=100,He=4096,We=15,Ge=10,Xe=1e3,$e=16;function qe(fn,on){if(fn._removeMirroring)throw new Error("Context is already forwarding operations.");fn.__originalSave=fn.save,fn.__originalRestore=fn.restore,fn.__originalRotate=fn.rotate,fn.__originalScale=fn.scale,fn.__originalTranslate=fn.translate,fn.__originalTransform=fn.transform,fn.__originalSetTransform=fn.setTransform,fn.__originalResetTransform=fn.resetTransform,fn.__originalClip=fn.clip,fn.__originalMoveTo=fn.moveTo,fn.__originalLineTo=fn.lineTo,fn.__originalBezierCurveTo=fn.bezierCurveTo,fn.__originalRect=fn.rect,fn.__originalClosePath=fn.closePath,fn.__originalBeginPath=fn.beginPath,fn._removeMirroring=()=>{fn.save=fn.__originalSave,fn.restore=fn.__originalRestore,fn.rotate=fn.__originalRotate,fn.scale=fn.__originalScale,fn.translate=fn.__originalTranslate,fn.transform=fn.__originalTransform,fn.setTransform=fn.__originalSetTransform,fn.resetTransform=fn.__originalResetTransform,fn.clip=fn.__originalClip,fn.moveTo=fn.__originalMoveTo,fn.lineTo=fn.__originalLineTo,fn.bezierCurveTo=fn.__originalBezierCurveTo,fn.rect=fn.__originalRect,fn.closePath=fn.__originalClosePath,fn.beginPath=fn.__originalBeginPath,delete fn._removeMirroring},fn.save=function(){on.save(),this.__originalSave()},fn.restore=function(){on.restore(),this.__originalRestore()},fn.translate=function(_n,Tn){on.translate(_n,Tn),this.__originalTranslate(_n,Tn)},fn.scale=function(_n,Tn){on.scale(_n,Tn),this.__originalScale(_n,Tn)},fn.transform=function(_n,Tn,Pn,Rn,Dn,Xn){on.transform(_n,Tn,Pn,Rn,Dn,Xn),this.__originalTransform(_n,Tn,Pn,Rn,Dn,Xn)},fn.setTransform=function(_n,Tn,Pn,Rn,Dn,Xn){on.setTransform(_n,Tn,Pn,Rn,Dn,Xn),this.__originalSetTransform(_n,Tn,Pn,Rn,Dn,Xn)},fn.resetTransform=function(){on.resetTransform(),this.__originalResetTransform()},fn.rotate=function(_n){on.rotate(_n),this.__originalRotate(_n)},fn.clip=function(_n){on.clip(_n),this.__originalClip(_n)},fn.moveTo=function(ln,_n){on.moveTo(ln,_n),this.__originalMoveTo(ln,_n)},fn.lineTo=function(ln,_n){on.lineTo(ln,_n),this.__originalLineTo(ln,_n)},fn.bezierCurveTo=function(ln,_n,Tn,Pn,Rn,Dn){on.bezierCurveTo(ln,_n,Tn,Pn,Rn,Dn),this.__originalBezierCurveTo(ln,_n,Tn,Pn,Rn,Dn)},fn.rect=function(ln,_n,Tn,Pn){on.rect(ln,_n,Tn,Pn),this.__originalRect(ln,_n,Tn,Pn)},fn.closePath=function(){on.closePath(),this.__originalClosePath()},fn.beginPath=function(){on.beginPath(),this.__originalBeginPath()}}class Ue{constructor(on){this.canvasFactory=on,this.cache=Object.create(null)}getCanvas(on,ln,_n){let Tn;return this.cache[on]!==void 0?(Tn=this.cache[on],this.canvasFactory.reset(Tn,ln,_n)):(Tn=this.canvasFactory.create(ln,_n),this.cache[on]=Tn),Tn}delete(on){delete this.cache[on]}clear(){for(const on in this.cache){const ln=this.cache[on];this.canvasFactory.destroy(ln),delete this.cache[on]}}}function Ye(fn,on,ln,_n,Tn,Pn,Rn,Dn,Xn,li){const[oi,di,vi,yi,Zn,Gn]=(0,Ie.getCurrentTransform)(fn);if(di===0&&vi===0){const Wn=Rn*oi+Zn,Bn=Math.round(Wn),Yn=Dn*yi+Gn,fi=Math.round(Yn),gi=(Rn+Xn)*oi+Zn,$n=Math.abs(Math.round(gi)-Bn)||1,Pi=(Dn+li)*yi+Gn,Ei=Math.abs(Math.round(Pi)-fi)||1;return fn.setTransform(Math.sign(oi),0,0,Math.sign(yi),Bn,fi),fn.drawImage(on,ln,_n,Tn,Pn,0,0,$n,Ei),fn.setTransform(oi,di,vi,yi,Zn,Gn),[$n,Ei]}if(oi===0&&yi===0){const Wn=Dn*vi+Zn,Bn=Math.round(Wn),Yn=Rn*di+Gn,fi=Math.round(Yn),gi=(Dn+li)*vi+Zn,$n=Math.abs(Math.round(gi)-Bn)||1,Pi=(Rn+Xn)*di+Gn,Ei=Math.abs(Math.round(Pi)-fi)||1;return fn.setTransform(0,Math.sign(di),Math.sign(vi),0,Bn,fi),fn.drawImage(on,ln,_n,Tn,Pn,0,0,Ei,$n),fn.setTransform(oi,di,vi,yi,Zn,Gn),[Ei,$n]}fn.drawImage(on,ln,_n,Tn,Pn,Rn,Dn,Xn,li);const wn=Math.hypot(oi,di),Ln=Math.hypot(vi,yi);return[wn*Xn,Ln*li]}function Ze(fn){const{width:on,height:ln}=fn;if(on>Xe||ln>Xe)return null;const _n=1e3,Tn=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Pn=on+1;let Rn=new Uint8Array(Pn*(ln+1)),Dn,Xn,li;const oi=on+7&-8;let di=new Uint8Array(oi*ln),vi=0;for(const Ln of fn.data){let Wn=128;for(;Wn>0;)di[vi++]=Ln&Wn?0:255,Wn>>=1}let yi=0;for(vi=0,di[vi]!==0&&(Rn[0]=1,++yi),Xn=1;Xn<on;Xn++)di[vi]!==di[vi+1]&&(Rn[Xn]=di[vi]?2:1,++yi),vi++;for(di[vi]!==0&&(Rn[Xn]=2,++yi),Dn=1;Dn<ln;Dn++){vi=Dn*oi,li=Dn*Pn,di[vi-oi]!==di[vi]&&(Rn[li]=di[vi]?1:8,++yi);let Ln=(di[vi]?4:0)+(di[vi-oi]?8:0);for(Xn=1;Xn<on;Xn++)Ln=(Ln>>2)+(di[vi+1]?4:0)+(di[vi-oi+1]?8:0),Tn[Ln]&&(Rn[li+Xn]=Tn[Ln],++yi),vi++;if(di[vi-oi]!==di[vi]&&(Rn[li+Xn]=di[vi]?2:4,++yi),yi>_n)return null}for(vi=oi*(ln-1),li=Dn*Pn,di[vi]!==0&&(Rn[li]=8,++yi),Xn=1;Xn<on;Xn++)di[vi]!==di[vi+1]&&(Rn[li+Xn]=di[vi]?4:8,++yi),vi++;if(di[vi]!==0&&(Rn[li+Xn]=4,++yi),yi>_n)return null;const Zn=new Int32Array([0,Pn,-1,0,-Pn,0,0,0,1]),Gn=new Path2D;for(Dn=0;yi&&Dn<=ln;Dn++){let Ln=Dn*Pn;const Wn=Ln+on;for(;Ln<Wn&&!Rn[Ln];)Ln++;if(Ln===Wn)continue;Gn.moveTo(Ln%Pn,Dn);const Bn=Ln;let Yn=Rn[Ln];do{const fi=Zn[Yn];do Ln+=fi;while(!Rn[Ln]);const gi=Rn[Ln];gi!==5&&gi!==10?(Yn=gi,Rn[Ln]=0):(Yn=gi&51*Yn>>4,Rn[Ln]&=Yn>>2|Yn<<2),Gn.lineTo(Ln%Pn,Ln/Pn|0),Rn[Ln]||--yi}while(Bn!==Ln);--Dn}return di=null,Rn=null,function(Ln){Ln.save(),Ln.scale(1/on,-1/ln),Ln.translate(0,-ln),Ln.fill(Gn),Ln.beginPath(),Ln.restore()}}class Qe{constructor(on,ln){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Re.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=Re.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Re.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,on,ln])}clone(){const on=Object.create(this);return on.clipBox=this.clipBox.slice(),on}setCurrentPoint(on,ln){this.x=on,this.y=ln}updatePathMinMax(on,ln,_n){[ln,_n]=Re.Util.applyTransform([ln,_n],on),this.minX=Math.min(this.minX,ln),this.minY=Math.min(this.minY,_n),this.maxX=Math.max(this.maxX,ln),this.maxY=Math.max(this.maxY,_n)}updateRectMinMax(on,ln){const _n=Re.Util.applyTransform(ln,on),Tn=Re.Util.applyTransform(ln.slice(2),on);this.minX=Math.min(this.minX,_n[0],Tn[0]),this.minY=Math.min(this.minY,_n[1],Tn[1]),this.maxX=Math.max(this.maxX,_n[0],Tn[0]),this.maxY=Math.max(this.maxY,_n[1],Tn[1])}updateScalingPathMinMax(on,ln){Re.Util.scaleMinMax(on,ln),this.minX=Math.min(this.minX,ln[0]),this.maxX=Math.max(this.maxX,ln[1]),this.minY=Math.min(this.minY,ln[2]),this.maxY=Math.max(this.maxY,ln[3])}updateCurvePathMinMax(on,ln,_n,Tn,Pn,Rn,Dn,Xn,li,oi){const di=Re.Util.bezierBoundingBox(ln,_n,Tn,Pn,Rn,Dn,Xn,li);if(oi){oi[0]=Math.min(oi[0],di[0],di[2]),oi[1]=Math.max(oi[1],di[0],di[2]),oi[2]=Math.min(oi[2],di[1],di[3]),oi[3]=Math.max(oi[3],di[1],di[3]);return}this.updateRectMinMax(on,di)}getPathBoundingBox(on=Fe.PathType.FILL,ln=null){const _n=[this.minX,this.minY,this.maxX,this.maxY];if(on===Fe.PathType.STROKE){ln||(0,Re.unreachable)("Stroke bounding box must include transform.");const Tn=Re.Util.singularValueDecompose2dScale(ln),Pn=Tn[0]*this.lineWidth/2,Rn=Tn[1]*this.lineWidth/2;_n[0]-=Pn,_n[1]-=Rn,_n[2]+=Pn,_n[3]+=Rn}return _n}updateClipFromPath(){const on=Re.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(on||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(on){this.clipBox=on,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(on=Fe.PathType.FILL,ln=null){return Re.Util.intersect(this.clipBox,this.getPathBoundingBox(on,ln))}}function pn(fn,on){if(typeof ImageData<"u"&&on instanceof ImageData){fn.putImageData(on,0,0);return}const ln=on.height,_n=on.width,Tn=ln%$e,Pn=(ln-Tn)/$e,Rn=Tn===0?Pn:Pn+1,Dn=fn.createImageData(_n,$e);let Xn=0,li;const oi=on.data,di=Dn.data;let vi,yi,Zn,Gn;if(on.kind===Re.ImageKind.GRAYSCALE_1BPP){const wn=oi.byteLength,Ln=new Uint32Array(di.buffer,0,di.byteLength>>2),Wn=Ln.length,Bn=_n+7>>3,Yn=4294967295,fi=Re.FeatureTest.isLittleEndian?4278190080:255;for(vi=0;vi<Rn;vi++){for(Zn=vi<Pn?$e:Tn,li=0,yi=0;yi<Zn;yi++){const gi=wn-Xn;let $n=0;const Pi=gi>Bn?_n:gi*8-7,Ei=Pi&-8;let Yi=0,Wi=0;for(;$n<Ei;$n+=8)Wi=oi[Xn++],Ln[li++]=Wi&128?Yn:fi,Ln[li++]=Wi&64?Yn:fi,Ln[li++]=Wi&32?Yn:fi,Ln[li++]=Wi&16?Yn:fi,Ln[li++]=Wi&8?Yn:fi,Ln[li++]=Wi&4?Yn:fi,Ln[li++]=Wi&2?Yn:fi,Ln[li++]=Wi&1?Yn:fi;for(;$n<Pi;$n++)Yi===0&&(Wi=oi[Xn++],Yi=128),Ln[li++]=Wi&Yi?Yn:fi,Yi>>=1}for(;li<Wn;)Ln[li++]=0;fn.putImageData(Dn,0,vi*$e)}}else if(on.kind===Re.ImageKind.RGBA_32BPP){for(yi=0,Gn=_n*$e*4,vi=0;vi<Pn;vi++)di.set(oi.subarray(Xn,Xn+Gn)),Xn+=Gn,fn.putImageData(Dn,0,yi),yi+=$e;vi<Rn&&(Gn=_n*Tn*4,di.set(oi.subarray(Xn,Xn+Gn)),fn.putImageData(Dn,0,yi))}else if(on.kind===Re.ImageKind.RGB_24BPP)for(Zn=$e,Gn=_n*Zn,vi=0;vi<Rn;vi++){for(vi>=Pn&&(Zn=Tn,Gn=_n*Zn),li=0,yi=Gn;yi--;)di[li++]=oi[Xn++],di[li++]=oi[Xn++],di[li++]=oi[Xn++],di[li++]=255;fn.putImageData(Dn,0,vi*$e)}else throw new Error(`bad image kind: ${on.kind}`)}function nn(fn,on){if(on.bitmap){fn.drawImage(on.bitmap,0,0);return}const ln=on.height,_n=on.width,Tn=ln%$e,Pn=(ln-Tn)/$e,Rn=Tn===0?Pn:Pn+1,Dn=fn.createImageData(_n,$e);let Xn=0;const li=on.data,oi=Dn.data;for(let di=0;di<Rn;di++){const vi=di<Pn?$e:Tn;({srcPos:Xn}=(0,Ne.convertBlackAndWhiteToRGBA)({src:li,srcPos:Xn,dest:oi,width:_n,height:vi,nonBlackColor:0})),fn.putImageData(Dn,0,di*$e)}}function rn(fn,on){const ln=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const _n of ln)fn[_n]!==void 0&&(on[_n]=fn[_n]);fn.setLineDash!==void 0&&(on.setLineDash(fn.getLineDash()),on.lineDashOffset=fn.lineDashOffset)}function cn(fn){if(fn.strokeStyle=fn.fillStyle="#000000",fn.fillRule="nonzero",fn.globalAlpha=1,fn.lineWidth=1,fn.lineCap="butt",fn.lineJoin="miter",fn.miterLimit=10,fn.globalCompositeOperation="source-over",fn.font="10px sans-serif",fn.setLineDash!==void 0&&(fn.setLineDash([]),fn.lineDashOffset=0),!Re.isNodeJS){const{filter:on}=fn;on!=="none"&&on!==""&&(fn.filter="none")}}function tn(fn,on,ln,_n){const Tn=fn.length;for(let Pn=3;Pn<Tn;Pn+=4){const Rn=fn[Pn];if(Rn===0)fn[Pn-3]=on,fn[Pn-2]=ln,fn[Pn-1]=_n;else if(Rn<255){const Dn=255-Rn;fn[Pn-3]=fn[Pn-3]*Rn+on*Dn>>8,fn[Pn-2]=fn[Pn-2]*Rn+ln*Dn>>8,fn[Pn-1]=fn[Pn-1]*Rn+_n*Dn>>8}}}function Je(fn,on,ln){const _n=fn.length,Tn=1/255;for(let Pn=3;Pn<_n;Pn+=4){const Rn=ln?ln[fn[Pn]]:fn[Pn];on[Pn]=on[Pn]*Rn*Tn|0}}function an(fn,on,ln){const _n=fn.length;for(let Tn=3;Tn<_n;Tn+=4){const Pn=fn[Tn-3]*77+fn[Tn-2]*152+fn[Tn-1]*28;on[Tn]=ln?on[Tn]*ln[Pn>>8]>>8:on[Tn]*Pn>>16}}function gn(fn,on,ln,_n,Tn,Pn,Rn,Dn,Xn,li,oi){const di=!!Pn,vi=di?Pn[0]:0,yi=di?Pn[1]:0,Zn=di?Pn[2]:0,Gn=Tn==="Luminosity"?an:Je,Ln=Math.min(_n,Math.ceil(1048576/ln));for(let Wn=0;Wn<_n;Wn+=Ln){const Bn=Math.min(Ln,_n-Wn),Yn=fn.getImageData(Dn-li,Wn+(Xn-oi),ln,Bn),fi=on.getImageData(Dn,Wn+Xn,ln,Bn);di&&tn(Yn.data,vi,yi,Zn),Gn(Yn.data,fi.data,Rn),on.putImageData(fi,Dn,Wn+Xn)}}function Ke(fn,on,ln,_n){const Tn=_n[0],Pn=_n[1],Rn=_n[2]-Tn,Dn=_n[3]-Pn;Rn===0||Dn===0||(gn(on.context,ln,Rn,Dn,on.subtype,on.backdrop,on.transferMap,Tn,Pn,on.offsetX,on.offsetY),fn.save(),fn.globalAlpha=1,fn.globalCompositeOperation="source-over",fn.setTransform(1,0,0,1,0,0),fn.drawImage(ln.canvas,0,0),fn.restore())}function sn(fn,on){const ln=Re.Util.singularValueDecompose2dScale(fn);ln[0]=Math.fround(ln[0]),ln[1]=Math.fround(ln[1]);const _n=Math.fround((globalThis.devicePixelRatio||1)*Ie.PixelsPerInch.PDF_TO_CSS_UNITS);return on!==void 0?on:ln[0]<=_n||ln[1]<=_n}const hn=["butt","round","square"],Cn=["miter","round","bevel"],bn={},En={},Sn=class Sn{constructor(on,ln,_n,Tn,Pn,{optionalContentConfig:Rn,markedContentStack:Dn=null},Xn,li){ai(this,xn);this.ctx=on,this.current=new Qe(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=ln,this.objs=_n,this.canvasFactory=Tn,this.filterFactory=Pn,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Dn||[],this.optionalContentConfig=Rn,this.cachedCanvases=new Ue(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Xn,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=li,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(on,ln=null){return typeof on=="string"?on.startsWith("g_")?this.commonObjs.get(on):this.objs.get(on):ln}beginDrawing({transform:on,viewport:ln,transparency:_n=!1,background:Tn=null}){const Pn=this.ctx.canvas.width,Rn=this.ctx.canvas.height,Dn=this.ctx.fillStyle;if(this.ctx.fillStyle=Tn||"#ffffff",this.ctx.fillRect(0,0,Pn,Rn),this.ctx.fillStyle=Dn,_n){const Xn=this.cachedCanvases.getCanvas("transparent",Pn,Rn);this.compositeCtx=this.ctx,this.transparentCanvas=Xn.canvas,this.ctx=Xn.context,this.ctx.save(),this.ctx.transform(...(0,Ie.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),cn(this.ctx),on&&(this.ctx.transform(...on),this.outputScaleX=on[0],this.outputScaleY=on[0]),this.ctx.transform(...ln.transform),this.viewportScale=ln.scale,this.baseTransform=(0,Ie.getCurrentTransform)(this.ctx)}executeOperatorList(on,ln,_n,Tn){const Pn=on.argsArray,Rn=on.fnArray;let Dn=ln||0;const Xn=Pn.length;if(Xn===Dn)return Dn;const li=Xn-Dn>Ge&&typeof _n=="function",oi=li?Date.now()+We:0;let di=0;const vi=this.commonObjs,yi=this.objs;let Zn;for(;;){if(Tn!==void 0&&Dn===Tn.nextBreakPoint)return Tn.breakIt(Dn,_n),Dn;if(Zn=Rn[Dn],Zn!==Re.OPS.dependency)this[Zn].apply(this,Pn[Dn]);else for(const Gn of Pn[Dn]){const wn=Gn.startsWith("g_")?vi:yi;if(!wn.has(Gn))return wn.get(Gn,_n),Dn}if(Dn++,Dn===Xn)return Dn;if(li&&++di>Ge){if(Date.now()>oi)return _n(),Dn;di=0}}}endDrawing(){Kn(this,xn,ah).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const on of this._cachedBitmapsMap.values()){for(const ln of on.values())typeof HTMLCanvasElement<"u"&&ln instanceof HTMLCanvasElement&&(ln.width=ln.height=0);on.clear()}this._cachedBitmapsMap.clear(),Kn(this,xn,lh).call(this)}_scaleImage(on,ln){const _n=on.width,Tn=on.height;let Pn=Math.max(Math.hypot(ln[0],ln[1]),1),Rn=Math.max(Math.hypot(ln[2],ln[3]),1),Dn=_n,Xn=Tn,li="prescale1",oi,di;for(;Pn>2&&Dn>1||Rn>2&&Xn>1;){let vi=Dn,yi=Xn;Pn>2&&Dn>1&&(vi=Dn>=16384?Math.floor(Dn/2)-1||1:Math.ceil(Dn/2),Pn/=Dn/vi),Rn>2&&Xn>1&&(yi=Xn>=16384?Math.floor(Xn/2)-1||1:Math.ceil(Xn)/2,Rn/=Xn/yi),oi=this.cachedCanvases.getCanvas(li,vi,yi),di=oi.context,di.clearRect(0,0,vi,yi),di.drawImage(on,0,0,Dn,Xn,0,0,vi,yi),on=oi.canvas,Dn=vi,Xn=yi,li=li==="prescale1"?"prescale2":"prescale1"}return{img:on,paintWidth:Dn,paintHeight:Xn}}_createMaskCanvas(on){const ln=this.ctx,{width:_n,height:Tn}=on,Pn=this.current.fillColor,Rn=this.current.patternFill,Dn=(0,Ie.getCurrentTransform)(ln);let Xn,li,oi,di;if((on.bitmap||on.data)&&on.count>1){const $n=on.bitmap||on.data.buffer;li=JSON.stringify(Rn?Dn:[Dn.slice(0,4),Pn]),Xn=this._cachedBitmapsMap.get($n),Xn||(Xn=new Map,this._cachedBitmapsMap.set($n,Xn));const Pi=Xn.get(li);if(Pi&&!Rn){const Ei=Math.round(Math.min(Dn[0],Dn[2])+Dn[4]),Yi=Math.round(Math.min(Dn[1],Dn[3])+Dn[5]);return{canvas:Pi,offsetX:Ei,offsetY:Yi}}oi=Pi}oi||(di=this.cachedCanvases.getCanvas("maskCanvas",_n,Tn),nn(di.context,on));let vi=Re.Util.transform(Dn,[1/_n,0,0,-1/Tn,0,0]);vi=Re.Util.transform(vi,[1,0,0,1,0,-Tn]);const yi=Re.Util.applyTransform([0,0],vi),Zn=Re.Util.applyTransform([_n,Tn],vi),Gn=Re.Util.normalizeRect([yi[0],yi[1],Zn[0],Zn[1]]),wn=Math.round(Gn[2]-Gn[0])||1,Ln=Math.round(Gn[3]-Gn[1])||1,Wn=this.cachedCanvases.getCanvas("fillCanvas",wn,Ln),Bn=Wn.context,Yn=Math.min(yi[0],Zn[0]),fi=Math.min(yi[1],Zn[1]);Bn.translate(-Yn,-fi),Bn.transform(...vi),oi||(oi=this._scaleImage(di.canvas,(0,Ie.getCurrentTransformInverse)(Bn)),oi=oi.img,Xn&&Rn&&Xn.set(li,oi)),Bn.imageSmoothingEnabled=sn((0,Ie.getCurrentTransform)(Bn),on.interpolate),Ye(Bn,oi,0,0,oi.width,oi.height,0,0,_n,Tn),Bn.globalCompositeOperation="source-in";const gi=Re.Util.transform((0,Ie.getCurrentTransformInverse)(Bn),[1,0,0,1,-Yn,-fi]);return Bn.fillStyle=Rn?Pn.getPattern(ln,this,gi,Fe.PathType.FILL):Pn,Bn.fillRect(0,0,_n,Tn),Xn&&!Rn&&(this.cachedCanvases.delete("fillCanvas"),Xn.set(li,Wn.canvas)),{canvas:Wn.canvas,offsetX:Math.round(Yn),offsetY:Math.round(fi)}}setLineWidth(on){on!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=on,this.ctx.lineWidth=on}setLineCap(on){this.ctx.lineCap=hn[on]}setLineJoin(on){this.ctx.lineJoin=Cn[on]}setMiterLimit(on){this.ctx.miterLimit=on}setDash(on,ln){const _n=this.ctx;_n.setLineDash!==void 0&&(_n.setLineDash(on),_n.lineDashOffset=ln)}setRenderingIntent(on){}setFlatness(on){}setGState(on){for(const[ln,_n]of on)switch(ln){case"LW":this.setLineWidth(_n);break;case"LC":this.setLineCap(_n);break;case"LJ":this.setLineJoin(_n);break;case"ML":this.setMiterLimit(_n);break;case"D":this.setDash(_n[0],_n[1]);break;case"RI":this.setRenderingIntent(_n);break;case"FL":this.setFlatness(_n);break;case"Font":this.setFont(_n[0],_n[1]);break;case"CA":this.current.strokeAlpha=_n;break;case"ca":this.current.fillAlpha=_n,this.ctx.globalAlpha=_n;break;case"BM":this.ctx.globalCompositeOperation=_n;break;case"SMask":this.current.activeSMask=_n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(_n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const on=this.inSMaskMode;this.current.activeSMask&&!on?this.beginSMaskMode():!this.current.activeSMask&&on&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const on=this.ctx.canvas.width,ln=this.ctx.canvas.height,_n="smaskGroupAt"+this.groupLevel,Tn=this.cachedCanvases.getCanvas(_n,on,ln);this.suspendedCtx=this.ctx,this.ctx=Tn.context;const Pn=this.ctx;Pn.setTransform(...(0,Ie.getCurrentTransform)(this.suspendedCtx)),rn(this.suspendedCtx,Pn),qe(Pn,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),rn(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(on){if(!this.current.activeSMask)return;on?(on[0]=Math.floor(on[0]),on[1]=Math.floor(on[1]),on[2]=Math.ceil(on[2]),on[3]=Math.ceil(on[3])):on=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const ln=this.current.activeSMask,_n=this.suspendedCtx;Ke(_n,ln,this.ctx,on),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(rn(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const on=this.current;this.stateStack.push(on),this.current=on.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),rn(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(on,ln,_n,Tn,Pn,Rn){this.ctx.transform(on,ln,_n,Tn,Pn,Rn),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(on,ln,_n){const Tn=this.ctx,Pn=this.current;let Rn=Pn.x,Dn=Pn.y,Xn,li;const oi=(0,Ie.getCurrentTransform)(Tn),di=oi[0]===0&&oi[3]===0||oi[1]===0&&oi[2]===0,vi=di?_n.slice(0):null;for(let yi=0,Zn=0,Gn=on.length;yi<Gn;yi++)switch(on[yi]|0){case Re.OPS.rectangle:Rn=ln[Zn++],Dn=ln[Zn++];const wn=ln[Zn++],Ln=ln[Zn++],Wn=Rn+wn,Bn=Dn+Ln;Tn.moveTo(Rn,Dn),wn===0||Ln===0?Tn.lineTo(Wn,Bn):(Tn.lineTo(Wn,Dn),Tn.lineTo(Wn,Bn),Tn.lineTo(Rn,Bn)),di||Pn.updateRectMinMax(oi,[Rn,Dn,Wn,Bn]),Tn.closePath();break;case Re.OPS.moveTo:Rn=ln[Zn++],Dn=ln[Zn++],Tn.moveTo(Rn,Dn),di||Pn.updatePathMinMax(oi,Rn,Dn);break;case Re.OPS.lineTo:Rn=ln[Zn++],Dn=ln[Zn++],Tn.lineTo(Rn,Dn),di||Pn.updatePathMinMax(oi,Rn,Dn);break;case Re.OPS.curveTo:Xn=Rn,li=Dn,Rn=ln[Zn+4],Dn=ln[Zn+5],Tn.bezierCurveTo(ln[Zn],ln[Zn+1],ln[Zn+2],ln[Zn+3],Rn,Dn),Pn.updateCurvePathMinMax(oi,Xn,li,ln[Zn],ln[Zn+1],ln[Zn+2],ln[Zn+3],Rn,Dn,vi),Zn+=6;break;case Re.OPS.curveTo2:Xn=Rn,li=Dn,Tn.bezierCurveTo(Rn,Dn,ln[Zn],ln[Zn+1],ln[Zn+2],ln[Zn+3]),Pn.updateCurvePathMinMax(oi,Xn,li,Rn,Dn,ln[Zn],ln[Zn+1],ln[Zn+2],ln[Zn+3],vi),Rn=ln[Zn+2],Dn=ln[Zn+3],Zn+=4;break;case Re.OPS.curveTo3:Xn=Rn,li=Dn,Rn=ln[Zn+2],Dn=ln[Zn+3],Tn.bezierCurveTo(ln[Zn],ln[Zn+1],Rn,Dn,Rn,Dn),Pn.updateCurvePathMinMax(oi,Xn,li,ln[Zn],ln[Zn+1],Rn,Dn,Rn,Dn,vi),Zn+=4;break;case Re.OPS.closePath:Tn.closePath();break}di&&Pn.updateScalingPathMinMax(oi,vi),Pn.setCurrentPoint(Rn,Dn)}closePath(){this.ctx.closePath()}stroke(on=!0){const ln=this.ctx,_n=this.current.strokeColor;ln.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof _n=="object"&&(_n!=null&&_n.getPattern)?(ln.save(),ln.strokeStyle=_n.getPattern(ln,this,(0,Ie.getCurrentTransformInverse)(ln),Fe.PathType.STROKE),this.rescaleAndStroke(!1),ln.restore()):this.rescaleAndStroke(!0)),on&&this.consumePath(this.current.getClippedPathBoundingBox()),ln.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(on=!0){const ln=this.ctx,_n=this.current.fillColor,Tn=this.current.patternFill;let Pn=!1;Tn&&(ln.save(),ln.fillStyle=_n.getPattern(ln,this,(0,Ie.getCurrentTransformInverse)(ln),Fe.PathType.FILL),Pn=!0);const Rn=this.current.getClippedPathBoundingBox();this.contentVisible&&Rn!==null&&(this.pendingEOFill?(ln.fill("evenodd"),this.pendingEOFill=!1):ln.fill()),Pn&&ln.restore(),on&&this.consumePath(Rn)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=bn}eoClip(){this.pendingClip=En}beginText(){this.current.textMatrix=Re.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const on=this.pendingTextPaths,ln=this.ctx;if(on===void 0){ln.beginPath();return}ln.save(),ln.beginPath();for(const _n of on)ln.setTransform(..._n.transform),ln.translate(_n.x,_n.y),_n.addToPath(ln,_n.fontSize);ln.restore(),ln.clip(),ln.beginPath(),delete this.pendingTextPaths}setCharSpacing(on){this.current.charSpacing=on}setWordSpacing(on){this.current.wordSpacing=on}setHScale(on){this.current.textHScale=on/100}setLeading(on){this.current.leading=-on}setFont(on,ln){var oi;const _n=this.commonObjs.get(on),Tn=this.current;if(!_n)throw new Error(`Can't find font for ${on}`);if(Tn.fontMatrix=_n.fontMatrix||Re.FONT_IDENTITY_MATRIX,(Tn.fontMatrix[0]===0||Tn.fontMatrix[3]===0)&&(0,Re.warn)("Invalid font matrix for font "+on),ln<0?(ln=-ln,Tn.fontDirection=-1):Tn.fontDirection=1,this.current.font=_n,this.current.fontSize=ln,_n.isType3Font)return;const Pn=_n.loadedName||"sans-serif",Rn=((oi=_n.systemFontInfo)==null?void 0:oi.css)||`"${Pn}", ${_n.fallbackName}`;let Dn="normal";_n.black?Dn="900":_n.bold&&(Dn="bold");const Xn=_n.italic?"italic":"normal";let li=ln;ln<je?li=je:ln>Be&&(li=Be),this.current.fontSizeScale=ln/li,this.ctx.font=`${Xn} ${Dn} ${li}px ${Rn}`}setTextRenderingMode(on){this.current.textRenderingMode=on}setTextRise(on){this.current.textRise=on}moveText(on,ln){this.current.x=this.current.lineX+=on,this.current.y=this.current.lineY+=ln}setLeadingMoveText(on,ln){this.setLeading(-ln),this.moveText(on,ln)}setTextMatrix(on,ln,_n,Tn,Pn,Rn){this.current.textMatrix=[on,ln,_n,Tn,Pn,Rn],this.current.textMatrixScale=Math.hypot(on,ln),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(on,ln,_n,Tn){const Pn=this.ctx,Rn=this.current,Dn=Rn.font,Xn=Rn.textRenderingMode,li=Rn.fontSize/Rn.fontSizeScale,oi=Xn&Re.TextRenderingMode.FILL_STROKE_MASK,di=!!(Xn&Re.TextRenderingMode.ADD_TO_PATH_FLAG),vi=Rn.patternFill&&!Dn.missingFile;let yi;(Dn.disableFontFace||di||vi)&&(yi=Dn.getPathGenerator(this.commonObjs,on)),Dn.disableFontFace||vi?(Pn.save(),Pn.translate(ln,_n),Pn.beginPath(),yi(Pn,li),Tn&&Pn.setTransform(...Tn),(oi===Re.TextRenderingMode.FILL||oi===Re.TextRenderingMode.FILL_STROKE)&&Pn.fill(),(oi===Re.TextRenderingMode.STROKE||oi===Re.TextRenderingMode.FILL_STROKE)&&Pn.stroke(),Pn.restore()):((oi===Re.TextRenderingMode.FILL||oi===Re.TextRenderingMode.FILL_STROKE)&&Pn.fillText(on,ln,_n),(oi===Re.TextRenderingMode.STROKE||oi===Re.TextRenderingMode.FILL_STROKE)&&Pn.strokeText(on,ln,_n)),di&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,Ie.getCurrentTransform)(Pn),x:ln,y:_n,fontSize:li,addToPath:yi})}get isFontSubpixelAAEnabled(){const{context:on}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);on.scale(1.5,1),on.fillText("I",0,10);const ln=on.getImageData(0,0,10,10).data;let _n=!1;for(let Tn=3;Tn<ln.length;Tn+=4)if(ln[Tn]>0&&ln[Tn]<255){_n=!0;break}return(0,Re.shadow)(this,"isFontSubpixelAAEnabled",_n)}showText(on){const ln=this.current,_n=ln.font;if(_n.isType3Font)return this.showType3Text(on);const Tn=ln.fontSize;if(Tn===0)return;const Pn=this.ctx,Rn=ln.fontSizeScale,Dn=ln.charSpacing,Xn=ln.wordSpacing,li=ln.fontDirection,oi=ln.textHScale*li,di=on.length,vi=_n.vertical,yi=vi?1:-1,Zn=_n.defaultVMetrics,Gn=Tn*ln.fontMatrix[0],wn=ln.textRenderingMode===Re.TextRenderingMode.FILL&&!_n.disableFontFace&&!ln.patternFill;Pn.save(),Pn.transform(...ln.textMatrix),Pn.translate(ln.x,ln.y+ln.textRise),li>0?Pn.scale(oi,-1):Pn.scale(oi,1);let Ln;if(ln.patternFill){Pn.save();const gi=ln.fillColor.getPattern(Pn,this,(0,Ie.getCurrentTransformInverse)(Pn),Fe.PathType.FILL);Ln=(0,Ie.getCurrentTransform)(Pn),Pn.restore(),Pn.fillStyle=gi}let Wn=ln.lineWidth;const Bn=ln.textMatrixScale;if(Bn===0||Wn===0){const gi=ln.textRenderingMode&Re.TextRenderingMode.FILL_STROKE_MASK;(gi===Re.TextRenderingMode.STROKE||gi===Re.TextRenderingMode.FILL_STROKE)&&(Wn=this.getSinglePixelWidth())}else Wn/=Bn;if(Rn!==1&&(Pn.scale(Rn,Rn),Wn/=Rn),Pn.lineWidth=Wn,_n.isInvalidPDFjsFont){const gi=[];let $n=0;for(const Pi of on)gi.push(Pi.unicode),$n+=Pi.width;Pn.fillText(gi.join(""),0,0),ln.x+=$n*Gn*oi,Pn.restore(),this.compose();return}let Yn=0,fi;for(fi=0;fi<di;++fi){const gi=on[fi];if(typeof gi=="number"){Yn+=yi*gi*Tn/1e3;continue}let $n=!1;const Pi=(gi.isSpace?Xn:0)+Dn,Ei=gi.fontChar,Yi=gi.accent;let Wi,ir,Mi=gi.width;if(vi){const er=gi.vmetric||Zn,Mr=-(gi.vmetric?er[1]:Mi*.5)*Gn,_i=er[2]*Gn;Mi=er?-er[0]:Mi,Wi=Mr/Rn,ir=(Yn+_i)/Rn}else Wi=Yn/Rn,ir=0;if(_n.remeasure&&Mi>0){const er=Pn.measureText(Ei).width*1e3/Tn*Rn;if(Mi<er&&this.isFontSubpixelAAEnabled){const Mr=Mi/er;$n=!0,Pn.save(),Pn.scale(Mr,1),Wi/=Mr}else Mi!==er&&(Wi+=(Mi-er)/2e3*Tn/Rn)}if(this.contentVisible&&(gi.isInFont||_n.missingFile)){if(wn&&!Yi)Pn.fillText(Ei,Wi,ir);else if(this.paintChar(Ei,Wi,ir,Ln),Yi){const er=Wi+Tn*Yi.offset.x/Rn,Mr=ir-Tn*Yi.offset.y/Rn;this.paintChar(Yi.fontChar,er,Mr,Ln)}}const Xi=vi?Mi*Gn-Pi*li:Mi*Gn+Pi*li;Yn+=Xi,$n&&Pn.restore()}vi?ln.y-=Yn:ln.x+=Yn*oi,Pn.restore(),this.compose()}showType3Text(on){const ln=this.ctx,_n=this.current,Tn=_n.font,Pn=_n.fontSize,Rn=_n.fontDirection,Dn=Tn.vertical?1:-1,Xn=_n.charSpacing,li=_n.wordSpacing,oi=_n.textHScale*Rn,di=_n.fontMatrix||Re.FONT_IDENTITY_MATRIX,vi=on.length,yi=_n.textRenderingMode===Re.TextRenderingMode.INVISIBLE;let Zn,Gn,wn,Ln;if(!(yi||Pn===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,ln.save(),ln.transform(..._n.textMatrix),ln.translate(_n.x,_n.y),ln.scale(oi,Rn),Zn=0;Zn<vi;++Zn){if(Gn=on[Zn],typeof Gn=="number"){Ln=Dn*Gn*Pn/1e3,this.ctx.translate(Ln,0),_n.x+=Ln*oi;continue}const Wn=(Gn.isSpace?li:0)+Xn,Bn=Tn.charProcOperatorList[Gn.operatorListId];if(!Bn){(0,Re.warn)(`Type3 character "${Gn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Gn,this.save(),ln.scale(Pn,Pn),ln.transform(...di),this.executeOperatorList(Bn),this.restore()),wn=Re.Util.applyTransform([Gn.width,0],di)[0]*Pn+Wn,ln.translate(wn,0),_n.x+=wn*oi}ln.restore(),this.processingType3=null}}setCharWidth(on,ln){}setCharWidthAndBounds(on,ln,_n,Tn,Pn,Rn){this.ctx.rect(_n,Tn,Pn-_n,Rn-Tn),this.ctx.clip(),this.endPath()}getColorN_Pattern(on){let ln;if(on[0]==="TilingPattern"){const _n=on[1],Tn=this.baseTransform||(0,Ie.getCurrentTransform)(this.ctx),Pn={createCanvasGraphics:Rn=>new Sn(Rn,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};ln=new Fe.TilingPattern(on,_n,this.ctx,Pn,Tn)}else ln=this._getPattern(on[1],on[2]);return ln}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(on,ln,_n){const Tn=Re.Util.makeHexColor(on,ln,_n);this.ctx.strokeStyle=Tn,this.current.strokeColor=Tn}setFillRGBColor(on,ln,_n){const Tn=Re.Util.makeHexColor(on,ln,_n);this.ctx.fillStyle=Tn,this.current.fillColor=Tn,this.current.patternFill=!1}_getPattern(on,ln=null){let _n;return this.cachedPatterns.has(on)?_n=this.cachedPatterns.get(on):(_n=(0,Fe.getShadingPattern)(this.getObject(on)),this.cachedPatterns.set(on,_n)),ln&&(_n.matrix=ln),_n}shadingFill(on){if(!this.contentVisible)return;const ln=this.ctx;this.save();const _n=this._getPattern(on);ln.fillStyle=_n.getPattern(ln,this,(0,Ie.getCurrentTransformInverse)(ln),Fe.PathType.SHADING);const Tn=(0,Ie.getCurrentTransformInverse)(ln);if(Tn){const{width:Pn,height:Rn}=ln.canvas,[Dn,Xn,li,oi]=Re.Util.getAxialAlignedBoundingBox([0,0,Pn,Rn],Tn);this.ctx.fillRect(Dn,Xn,li-Dn,oi-Xn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,Re.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,Re.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(on,ln){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(on)&&on.length===6&&this.transform(...on),this.baseTransform=(0,Ie.getCurrentTransform)(this.ctx),ln)){const _n=ln[2]-ln[0],Tn=ln[3]-ln[1];this.ctx.rect(ln[0],ln[1],_n,Tn),this.current.updateRectMinMax((0,Ie.getCurrentTransform)(this.ctx),ln),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(on){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const ln=this.ctx;on.isolated||(0,Re.info)("TODO: Support non-isolated groups."),on.knockout&&(0,Re.warn)("Knockout groups not supported.");const _n=(0,Ie.getCurrentTransform)(ln);if(on.matrix&&ln.transform(...on.matrix),!on.bbox)throw new Error("Bounding box is required.");let Tn=Re.Util.getAxialAlignedBoundingBox(on.bbox,(0,Ie.getCurrentTransform)(ln));const Pn=[0,0,ln.canvas.width,ln.canvas.height];Tn=Re.Util.intersect(Tn,Pn)||[0,0,0,0];const Rn=Math.floor(Tn[0]),Dn=Math.floor(Tn[1]);let Xn=Math.max(Math.ceil(Tn[2])-Rn,1),li=Math.max(Math.ceil(Tn[3])-Dn,1),oi=1,di=1;Xn>He&&(oi=Xn/He,Xn=He),li>He&&(di=li/He,li=He),this.current.startNewPathAndClipBox([0,0,Xn,li]);let vi="groupAt"+this.groupLevel;on.smask&&(vi+="_smask_"+this.smaskCounter++%2);const yi=this.cachedCanvases.getCanvas(vi,Xn,li),Zn=yi.context;Zn.scale(1/oi,1/di),Zn.translate(-Rn,-Dn),Zn.transform(..._n),on.smask?this.smaskStack.push({canvas:yi.canvas,context:Zn,offsetX:Rn,offsetY:Dn,scaleX:oi,scaleY:di,subtype:on.smask.subtype,backdrop:on.smask.backdrop,transferMap:on.smask.transferMap||null,startTransformInverse:null}):(ln.setTransform(1,0,0,1,0,0),ln.translate(Rn,Dn),ln.scale(oi,di),ln.save()),rn(ln,Zn),this.ctx=Zn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(ln),this.groupLevel++}endGroup(on){if(!this.contentVisible)return;this.groupLevel--;const ln=this.ctx,_n=this.groupStack.pop();if(this.ctx=_n,this.ctx.imageSmoothingEnabled=!1,on.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Tn=(0,Ie.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Tn);const Pn=Re.Util.getAxialAlignedBoundingBox([0,0,ln.canvas.width,ln.canvas.height],Tn);this.ctx.drawImage(ln.canvas,0,0),this.ctx.restore(),this.compose(Pn)}}beginAnnotation(on,ln,_n,Tn,Pn){if(Kn(this,xn,ah).call(this),cn(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(ln)&&ln.length===4){const Rn=ln[2]-ln[0],Dn=ln[3]-ln[1];if(Pn&&this.annotationCanvasMap){_n=_n.slice(),_n[4]-=ln[0],_n[5]-=ln[1],ln=ln.slice(),ln[0]=ln[1]=0,ln[2]=Rn,ln[3]=Dn;const[Xn,li]=Re.Util.singularValueDecompose2dScale((0,Ie.getCurrentTransform)(this.ctx)),{viewportScale:oi}=this,di=Math.ceil(Rn*this.outputScaleX*oi),vi=Math.ceil(Dn*this.outputScaleY*oi);this.annotationCanvas=this.canvasFactory.create(di,vi);const{canvas:yi,context:Zn}=this.annotationCanvas;this.annotationCanvasMap.set(on,yi),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Zn,this.ctx.save(),this.ctx.setTransform(Xn,0,0,-li,0,Dn*li),cn(this.ctx)}else cn(this.ctx),this.ctx.rect(ln[0],ln[1],Rn,Dn),this.ctx.clip(),this.endPath()}this.current=new Qe(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(..._n),this.transform(...Tn)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Kn(this,xn,lh).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(on){if(!this.contentVisible)return;const ln=on.count;on=this.getObject(on.data,on),on.count=ln;const _n=this.ctx,Tn=this.processingType3;if(Tn&&(Tn.compiled===void 0&&(Tn.compiled=Ze(on)),Tn.compiled)){Tn.compiled(_n);return}const Pn=this._createMaskCanvas(on),Rn=Pn.canvas;_n.save(),_n.setTransform(1,0,0,1,0,0),_n.drawImage(Rn,Pn.offsetX,Pn.offsetY),_n.restore(),this.compose()}paintImageMaskXObjectRepeat(on,ln,_n=0,Tn=0,Pn,Rn){if(!this.contentVisible)return;on=this.getObject(on.data,on);const Dn=this.ctx;Dn.save();const Xn=(0,Ie.getCurrentTransform)(Dn);Dn.transform(ln,_n,Tn,Pn,0,0);const li=this._createMaskCanvas(on);Dn.setTransform(1,0,0,1,li.offsetX-Xn[4],li.offsetY-Xn[5]);for(let oi=0,di=Rn.length;oi<di;oi+=2){const vi=Re.Util.transform(Xn,[ln,_n,Tn,Pn,Rn[oi],Rn[oi+1]]),[yi,Zn]=Re.Util.applyTransform([0,0],vi);Dn.drawImage(li.canvas,yi,Zn)}Dn.restore(),this.compose()}paintImageMaskXObjectGroup(on){if(!this.contentVisible)return;const ln=this.ctx,_n=this.current.fillColor,Tn=this.current.patternFill;for(const Pn of on){const{data:Rn,width:Dn,height:Xn,transform:li}=Pn,oi=this.cachedCanvases.getCanvas("maskCanvas",Dn,Xn),di=oi.context;di.save();const vi=this.getObject(Rn,Pn);nn(di,vi),di.globalCompositeOperation="source-in",di.fillStyle=Tn?_n.getPattern(di,this,(0,Ie.getCurrentTransformInverse)(ln),Fe.PathType.FILL):_n,di.fillRect(0,0,Dn,Xn),di.restore(),ln.save(),ln.transform(...li),ln.scale(1,-1),Ye(ln,oi.canvas,0,0,Dn,Xn,0,-1,1,1),ln.restore()}this.compose()}paintImageXObject(on){if(!this.contentVisible)return;const ln=this.getObject(on);if(!ln){(0,Re.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(ln)}paintImageXObjectRepeat(on,ln,_n,Tn){if(!this.contentVisible)return;const Pn=this.getObject(on);if(!Pn){(0,Re.warn)("Dependent image isn't ready yet");return}const Rn=Pn.width,Dn=Pn.height,Xn=[];for(let li=0,oi=Tn.length;li<oi;li+=2)Xn.push({transform:[ln,0,0,_n,Tn[li],Tn[li+1]],x:0,y:0,w:Rn,h:Dn});this.paintInlineImageXObjectGroup(Pn,Xn)}applyTransferMapsToCanvas(on){return this.current.transferMaps!=="none"&&(on.filter=this.current.transferMaps,on.drawImage(on.canvas,0,0),on.filter="none"),on.canvas}applyTransferMapsToBitmap(on){if(this.current.transferMaps==="none")return on.bitmap;const{bitmap:ln,width:_n,height:Tn}=on,Pn=this.cachedCanvases.getCanvas("inlineImage",_n,Tn),Rn=Pn.context;return Rn.filter=this.current.transferMaps,Rn.drawImage(ln,0,0),Rn.filter="none",Pn.canvas}paintInlineImageXObject(on){if(!this.contentVisible)return;const ln=on.width,_n=on.height,Tn=this.ctx;if(this.save(),!Re.isNodeJS){const{filter:Dn}=Tn;Dn!=="none"&&Dn!==""&&(Tn.filter="none")}Tn.scale(1/ln,-1/_n);let Pn;if(on.bitmap)Pn=this.applyTransferMapsToBitmap(on);else if(typeof HTMLElement=="function"&&on instanceof HTMLElement||!on.data)Pn=on;else{const Xn=this.cachedCanvases.getCanvas("inlineImage",ln,_n).context;pn(Xn,on),Pn=this.applyTransferMapsToCanvas(Xn)}const Rn=this._scaleImage(Pn,(0,Ie.getCurrentTransformInverse)(Tn));Tn.imageSmoothingEnabled=sn((0,Ie.getCurrentTransform)(Tn),on.interpolate),Ye(Tn,Rn.img,0,0,Rn.paintWidth,Rn.paintHeight,0,-_n,ln,_n),this.compose(),this.restore()}paintInlineImageXObjectGroup(on,ln){if(!this.contentVisible)return;const _n=this.ctx;let Tn;if(on.bitmap)Tn=on.bitmap;else{const Pn=on.width,Rn=on.height,Xn=this.cachedCanvases.getCanvas("inlineImage",Pn,Rn).context;pn(Xn,on),Tn=this.applyTransferMapsToCanvas(Xn)}for(const Pn of ln)_n.save(),_n.transform(...Pn.transform),_n.scale(1,-1),Ye(_n,Tn,Pn.x,Pn.y,Pn.w,Pn.h,0,-1,1,1),_n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(on){}markPointProps(on,ln){}beginMarkedContent(on){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(on,ln){on==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(ln)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(on){const ln=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(on);const _n=this.ctx;this.pendingClip&&(ln||(this.pendingClip===En?_n.clip("evenodd"):_n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),_n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const on=(0,Ie.getCurrentTransform)(this.ctx);if(on[1]===0&&on[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(on[0]),Math.abs(on[3]));else{const ln=Math.abs(on[0]*on[3]-on[2]*on[1]),_n=Math.hypot(on[0],on[2]),Tn=Math.hypot(on[1],on[3]);this._cachedGetSinglePixelWidth=Math.max(_n,Tn)/ln}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:on}=this.current,{a:ln,b:_n,c:Tn,d:Pn}=this.ctx.getTransform();let Rn,Dn;if(_n===0&&Tn===0){const Xn=Math.abs(ln),li=Math.abs(Pn);if(Xn===li)if(on===0)Rn=Dn=1/Xn;else{const oi=Xn*on;Rn=Dn=oi<1?1/oi:1}else if(on===0)Rn=1/Xn,Dn=1/li;else{const oi=Xn*on,di=li*on;Rn=oi<1?1/oi:1,Dn=di<1?1/di:1}}else{const Xn=Math.abs(ln*Pn-_n*Tn),li=Math.hypot(ln,_n),oi=Math.hypot(Tn,Pn);if(on===0)Rn=oi/Xn,Dn=li/Xn;else{const di=on*Xn;Rn=oi>di?oi/di:1,Dn=li>di?li/di:1}}this._cachedScaleForStroking[0]=Rn,this._cachedScaleForStroking[1]=Dn}return this._cachedScaleForStroking}rescaleAndStroke(on){const{ctx:ln}=this,{lineWidth:_n}=this.current,[Tn,Pn]=this.getScaleForStroking();if(ln.lineWidth=_n||1,Tn===1&&Pn===1){ln.stroke();return}const Rn=ln.getLineDash();if(on&&ln.save(),ln.scale(Tn,Pn),Rn.length>0){const Dn=Math.max(Tn,Pn);ln.setLineDash(Rn.map(Xn=>Xn/Dn)),ln.lineDashOffset/=Dn}ln.stroke(),on&&ln.restore()}isContentVisible(){for(let on=this.markedContentStack.length-1;on>=0;on--)if(!this.markedContentStack[on].visible)return!1;return!0}};xn=new WeakSet,ah=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},lh=function(){if(this.pageColors){const on=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(on!=="none"){const ln=this.ctx.filter;this.ctx.filter=on,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=ln}}};let yn=Sn;_e.CanvasGraphics=yn;for(const fn in Re.OPS)yn.prototype[fn]!==void 0&&(yn.prototype[Re.OPS[fn]]=yn.prototype[fn])},(Ae,_e,ke)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.TilingPattern=_e.PathType=void 0,_e.getShadingPattern=$e;var Re=ke(1),Ie=ke(6);const Fe={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};_e.PathType=Fe;function Ne(Ze,Qe){if(!Qe)return;const pn=Qe[2]-Qe[0],nn=Qe[3]-Qe[1],rn=new Path2D;rn.rect(Qe[0],Qe[1],pn,nn),Ze.clip(rn)}class je{constructor(){this.constructor===je&&(0,Re.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,Re.unreachable)("Abstract method `getPattern` called.")}}class Be extends je{constructor(Qe){super(),this._type=Qe[1],this._bbox=Qe[2],this._colorStops=Qe[3],this._p0=Qe[4],this._p1=Qe[5],this._r0=Qe[6],this._r1=Qe[7],this.matrix=null}_createGradient(Qe){let pn;this._type==="axial"?pn=Qe.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(pn=Qe.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const nn of this._colorStops)pn.addColorStop(nn[0],nn[1]);return pn}getPattern(Qe,pn,nn,rn){let cn;if(rn===Fe.STROKE||rn===Fe.FILL){const tn=pn.current.getClippedPathBoundingBox(rn,(0,Ie.getCurrentTransform)(Qe))||[0,0,0,0],Je=Math.ceil(tn[2]-tn[0])||1,an=Math.ceil(tn[3]-tn[1])||1,gn=pn.cachedCanvases.getCanvas("pattern",Je,an,!0),Ke=gn.context;Ke.clearRect(0,0,Ke.canvas.width,Ke.canvas.height),Ke.beginPath(),Ke.rect(0,0,Ke.canvas.width,Ke.canvas.height),Ke.translate(-tn[0],-tn[1]),nn=Re.Util.transform(nn,[1,0,0,1,tn[0],tn[1]]),Ke.transform(...pn.baseTransform),this.matrix&&Ke.transform(...this.matrix),Ne(Ke,this._bbox),Ke.fillStyle=this._createGradient(Ke),Ke.fill(),cn=Qe.createPattern(gn.canvas,"no-repeat");const sn=new DOMMatrix(nn);cn.setTransform(sn)}else Ne(Qe,this._bbox),cn=this._createGradient(Qe);return cn}}function He(Ze,Qe,pn,nn,rn,cn,tn,Je){const an=Qe.coords,gn=Qe.colors,Ke=Ze.data,sn=Ze.width*4;let hn;an[pn+1]>an[nn+1]&&(hn=pn,pn=nn,nn=hn,hn=cn,cn=tn,tn=hn),an[nn+1]>an[rn+1]&&(hn=nn,nn=rn,rn=hn,hn=tn,tn=Je,Je=hn),an[pn+1]>an[nn+1]&&(hn=pn,pn=nn,nn=hn,hn=cn,cn=tn,tn=hn);const Cn=(an[pn]+Qe.offsetX)*Qe.scaleX,bn=(an[pn+1]+Qe.offsetY)*Qe.scaleY,En=(an[nn]+Qe.offsetX)*Qe.scaleX,yn=(an[nn+1]+Qe.offsetY)*Qe.scaleY,xn=(an[rn]+Qe.offsetX)*Qe.scaleX,vn=(an[rn+1]+Qe.offsetY)*Qe.scaleY;if(bn>=vn)return;const kn=gn[cn],Sn=gn[cn+1],fn=gn[cn+2],on=gn[tn],ln=gn[tn+1],_n=gn[tn+2],Tn=gn[Je],Pn=gn[Je+1],Rn=gn[Je+2],Dn=Math.round(bn),Xn=Math.round(vn);let li,oi,di,vi,yi,Zn,Gn,wn;for(let Ln=Dn;Ln<=Xn;Ln++){if(Ln<yn){const gi=Ln<bn?0:(bn-Ln)/(bn-yn);li=Cn-(Cn-En)*gi,oi=kn-(kn-on)*gi,di=Sn-(Sn-ln)*gi,vi=fn-(fn-_n)*gi}else{let gi;Ln>vn?gi=1:yn===vn?gi=0:gi=(yn-Ln)/(yn-vn),li=En-(En-xn)*gi,oi=on-(on-Tn)*gi,di=ln-(ln-Pn)*gi,vi=_n-(_n-Rn)*gi}let Wn;Ln<bn?Wn=0:Ln>vn?Wn=1:Wn=(bn-Ln)/(bn-vn),yi=Cn-(Cn-xn)*Wn,Zn=kn-(kn-Tn)*Wn,Gn=Sn-(Sn-Pn)*Wn,wn=fn-(fn-Rn)*Wn;const Bn=Math.round(Math.min(li,yi)),Yn=Math.round(Math.max(li,yi));let fi=sn*Ln+Bn*4;for(let gi=Bn;gi<=Yn;gi++)Wn=(li-gi)/(li-yi),Wn<0?Wn=0:Wn>1&&(Wn=1),Ke[fi++]=oi-(oi-Zn)*Wn|0,Ke[fi++]=di-(di-Gn)*Wn|0,Ke[fi++]=vi-(vi-wn)*Wn|0,Ke[fi++]=255}}function We(Ze,Qe,pn){const nn=Qe.coords,rn=Qe.colors;let cn,tn;switch(Qe.type){case"lattice":const Je=Qe.verticesPerRow,an=Math.floor(nn.length/Je)-1,gn=Je-1;for(cn=0;cn<an;cn++){let Ke=cn*Je;for(let sn=0;sn<gn;sn++,Ke++)He(Ze,pn,nn[Ke],nn[Ke+1],nn[Ke+Je],rn[Ke],rn[Ke+1],rn[Ke+Je]),He(Ze,pn,nn[Ke+Je+1],nn[Ke+1],nn[Ke+Je],rn[Ke+Je+1],rn[Ke+1],rn[Ke+Je])}break;case"triangles":for(cn=0,tn=nn.length;cn<tn;cn+=3)He(Ze,pn,nn[cn],nn[cn+1],nn[cn+2],rn[cn],rn[cn+1],rn[cn+2]);break;default:throw new Error("illegal figure")}}class Ge extends je{constructor(Qe){super(),this._coords=Qe[2],this._colors=Qe[3],this._figures=Qe[4],this._bounds=Qe[5],this._bbox=Qe[7],this._background=Qe[8],this.matrix=null}_createMeshCanvas(Qe,pn,nn){const Je=Math.floor(this._bounds[0]),an=Math.floor(this._bounds[1]),gn=Math.ceil(this._bounds[2])-Je,Ke=Math.ceil(this._bounds[3])-an,sn=Math.min(Math.ceil(Math.abs(gn*Qe[0]*1.1)),3e3),hn=Math.min(Math.ceil(Math.abs(Ke*Qe[1]*1.1)),3e3),Cn=gn/sn,bn=Ke/hn,En={coords:this._coords,colors:this._colors,offsetX:-Je,offsetY:-an,scaleX:1/Cn,scaleY:1/bn},yn=sn+2*2,xn=hn+2*2,vn=nn.getCanvas("mesh",yn,xn,!1),kn=vn.context,Sn=kn.createImageData(sn,hn);if(pn){const on=Sn.data;for(let ln=0,_n=on.length;ln<_n;ln+=4)on[ln]=pn[0],on[ln+1]=pn[1],on[ln+2]=pn[2],on[ln+3]=255}for(const on of this._figures)We(Sn,on,En);return kn.putImageData(Sn,2,2),{canvas:vn.canvas,offsetX:Je-2*Cn,offsetY:an-2*bn,scaleX:Cn,scaleY:bn}}getPattern(Qe,pn,nn,rn){Ne(Qe,this._bbox);let cn;if(rn===Fe.SHADING)cn=Re.Util.singularValueDecompose2dScale((0,Ie.getCurrentTransform)(Qe));else if(cn=Re.Util.singularValueDecompose2dScale(pn.baseTransform),this.matrix){const Je=Re.Util.singularValueDecompose2dScale(this.matrix);cn=[cn[0]*Je[0],cn[1]*Je[1]]}const tn=this._createMeshCanvas(cn,rn===Fe.SHADING?null:this._background,pn.cachedCanvases);return rn!==Fe.SHADING&&(Qe.setTransform(...pn.baseTransform),this.matrix&&Qe.transform(...this.matrix)),Qe.translate(tn.offsetX,tn.offsetY),Qe.scale(tn.scaleX,tn.scaleY),Qe.createPattern(tn.canvas,"no-repeat")}}class Xe extends je{getPattern(){return"hotpink"}}function $e(Ze){switch(Ze[0]){case"RadialAxial":return new Be(Ze);case"Mesh":return new Ge(Ze);case"Dummy":return new Xe}throw new Error(`Unknown IR type: ${Ze[0]}`)}const qe={COLORED:1,UNCOLORED:2},Ye=class Ye{constructor(Qe,pn,nn,rn,cn){this.operatorList=Qe[2],this.matrix=Qe[3]||[1,0,0,1,0,0],this.bbox=Qe[4],this.xstep=Qe[5],this.ystep=Qe[6],this.paintType=Qe[7],this.tilingType=Qe[8],this.color=pn,this.ctx=nn,this.canvasGraphicsFactory=rn,this.baseTransform=cn}createPatternCanvas(Qe){const pn=this.operatorList,nn=this.bbox,rn=this.xstep,cn=this.ystep,tn=this.paintType,Je=this.tilingType,an=this.color,gn=this.canvasGraphicsFactory;(0,Re.info)("TilingType: "+Je);const Ke=nn[0],sn=nn[1],hn=nn[2],Cn=nn[3],bn=Re.Util.singularValueDecompose2dScale(this.matrix),En=Re.Util.singularValueDecompose2dScale(this.baseTransform),yn=[bn[0]*En[0],bn[1]*En[1]],xn=this.getSizeAndScale(rn,this.ctx.canvas.width,yn[0]),vn=this.getSizeAndScale(cn,this.ctx.canvas.height,yn[1]),kn=Qe.cachedCanvases.getCanvas("pattern",xn.size,vn.size,!0),Sn=kn.context,fn=gn.createCanvasGraphics(Sn);fn.groupLevel=Qe.groupLevel,this.setFillAndStrokeStyleToContext(fn,tn,an);let on=Ke,ln=sn,_n=hn,Tn=Cn;return Ke<0&&(on=0,_n+=Math.abs(Ke)),sn<0&&(ln=0,Tn+=Math.abs(sn)),Sn.translate(-(xn.scale*on),-(vn.scale*ln)),fn.transform(xn.scale,0,0,vn.scale,0,0),Sn.save(),this.clipBbox(fn,on,ln,_n,Tn),fn.baseTransform=(0,Ie.getCurrentTransform)(fn.ctx),fn.executeOperatorList(pn),fn.endDrawing(),{canvas:kn.canvas,scaleX:xn.scale,scaleY:vn.scale,offsetX:on,offsetY:ln}}getSizeAndScale(Qe,pn,nn){Qe=Math.abs(Qe);const rn=Math.max(Ye.MAX_PATTERN_SIZE,pn);let cn=Math.ceil(Qe*nn);return cn>=rn?cn=rn:nn=cn/Qe,{scale:nn,size:cn}}clipBbox(Qe,pn,nn,rn,cn){const tn=rn-pn,Je=cn-nn;Qe.ctx.rect(pn,nn,tn,Je),Qe.current.updateRectMinMax((0,Ie.getCurrentTransform)(Qe.ctx),[pn,nn,rn,cn]),Qe.clip(),Qe.endPath()}setFillAndStrokeStyleToContext(Qe,pn,nn){const rn=Qe.ctx,cn=Qe.current;switch(pn){case qe.COLORED:const tn=this.ctx;rn.fillStyle=tn.fillStyle,rn.strokeStyle=tn.strokeStyle,cn.fillColor=tn.fillStyle,cn.strokeColor=tn.strokeStyle;break;case qe.UNCOLORED:const Je=Re.Util.makeHexColor(nn[0],nn[1],nn[2]);rn.fillStyle=Je,rn.strokeStyle=Je,cn.fillColor=Je,cn.strokeColor=Je;break;default:throw new Re.FormatError(`Unsupported paint type: ${pn}`)}}getPattern(Qe,pn,nn,rn){let cn=nn;rn!==Fe.SHADING&&(cn=Re.Util.transform(cn,pn.baseTransform),this.matrix&&(cn=Re.Util.transform(cn,this.matrix)));const tn=this.createPatternCanvas(pn);let Je=new DOMMatrix(cn);Je=Je.translate(tn.offsetX,tn.offsetY),Je=Je.scale(1/tn.scaleX,1/tn.scaleY);const an=Qe.createPattern(tn.canvas,"repeat");return an.setTransform(Je),an}};br(Ye,"MAX_PATTERN_SIZE",3e3);let Ue=Ye;_e.TilingPattern=Ue},(Ae,_e,ke)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.convertBlackAndWhiteToRGBA=Fe,_e.convertToRGBA=Ie,_e.grayToRGBA=je;var Re=ke(1);function Ie(Be){switch(Be.kind){case Re.ImageKind.GRAYSCALE_1BPP:return Fe(Be);case Re.ImageKind.RGB_24BPP:return Ne(Be)}return null}function Fe({src:Be,srcPos:He=0,dest:We,width:Ge,height:Xe,nonBlackColor:$e=4294967295,inverseDecode:qe=!1}){const Ue=Re.FeatureTest.isLittleEndian?4278190080:255,[Ye,Ze]=qe?[$e,Ue]:[Ue,$e],Qe=Ge>>3,pn=Ge&7,nn=Be.length;We=new Uint32Array(We.buffer);let rn=0;for(let cn=0;cn<Xe;cn++){for(const Je=He+Qe;He<Je;He++){const an=He<nn?Be[He]:255;We[rn++]=an&128?Ze:Ye,We[rn++]=an&64?Ze:Ye,We[rn++]=an&32?Ze:Ye,We[rn++]=an&16?Ze:Ye,We[rn++]=an&8?Ze:Ye,We[rn++]=an&4?Ze:Ye,We[rn++]=an&2?Ze:Ye,We[rn++]=an&1?Ze:Ye}if(pn===0)continue;const tn=He<nn?Be[He++]:255;for(let Je=0;Je<pn;Je++)We[rn++]=tn&1<<7-Je?Ze:Ye}return{srcPos:He,destPos:rn}}function Ne({src:Be,srcPos:He=0,dest:We,destPos:Ge=0,width:Xe,height:$e}){let qe=0;const Ue=Be.length>>2,Ye=new Uint32Array(Be.buffer,He,Ue);if(Re.FeatureTest.isLittleEndian){for(;qe<Ue-2;qe+=3,Ge+=4){const Ze=Ye[qe],Qe=Ye[qe+1],pn=Ye[qe+2];We[Ge]=Ze|4278190080,We[Ge+1]=Ze>>>24|Qe<<8|4278190080,We[Ge+2]=Qe>>>16|pn<<16|4278190080,We[Ge+3]=pn>>>8|4278190080}for(let Ze=qe*4,Qe=Be.length;Ze<Qe;Ze+=3)We[Ge++]=Be[Ze]|Be[Ze+1]<<8|Be[Ze+2]<<16|4278190080}else{for(;qe<Ue-2;qe+=3,Ge+=4){const Ze=Ye[qe],Qe=Ye[qe+1],pn=Ye[qe+2];We[Ge]=Ze|255,We[Ge+1]=Ze<<24|Qe>>>8|255,We[Ge+2]=Qe<<16|pn>>>16|255,We[Ge+3]=pn<<8|255}for(let Ze=qe*4,Qe=Be.length;Ze<Qe;Ze+=3)We[Ge++]=Be[Ze]<<24|Be[Ze+1]<<16|Be[Ze+2]<<8|255}return{srcPos:He,destPos:Ge}}function je(Be,He){if(Re.FeatureTest.isLittleEndian)for(let We=0,Ge=Be.length;We<Ge;We++)He[We]=Be[We]*65793|4278190080;else for(let We=0,Ge=Be.length;We<Ge;We++)He[We]=Be[We]*16843008|255}},(Ae,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.GlobalWorkerOptions=void 0;const ke=Object.create(null);_e.GlobalWorkerOptions=ke,ke.workerPort=null,ke.workerSrc=""},(Ae,_e,ke)=>{var Be,Ep,wp,gu;Object.defineProperty(_e,"__esModule",{value:!0}),_e.MessageHandler=void 0;var Re=ke(1);const Ie={DATA:1,ERROR:2},Fe={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ne(Xe){switch(Xe instanceof Error||typeof Xe=="object"&&Xe!==null||(0,Re.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),Xe.name){case"AbortException":return new Re.AbortException(Xe.message);case"MissingPDFException":return new Re.MissingPDFException(Xe.message);case"PasswordException":return new Re.PasswordException(Xe.message,Xe.code);case"UnexpectedResponseException":return new Re.UnexpectedResponseException(Xe.message,Xe.status);case"UnknownErrorException":return new Re.UnknownErrorException(Xe.message,Xe.details);default:return new Re.UnknownErrorException(Xe.message,Xe.toString())}}class je{constructor($e,qe,Ue){ai(this,Be);this.sourceName=$e,this.targetName=qe,this.comObj=Ue,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=Ye=>{const Ze=Ye.data;if(Ze.targetName!==this.sourceName)return;if(Ze.stream){Kn(this,Be,wp).call(this,Ze);return}if(Ze.callback){const pn=Ze.callbackId,nn=this.callbackCapabilities[pn];if(!nn)throw new Error(`Cannot resolve callback ${pn}`);if(delete this.callbackCapabilities[pn],Ze.callback===Ie.DATA)nn.resolve(Ze.data);else if(Ze.callback===Ie.ERROR)nn.reject(Ne(Ze.reason));else throw new Error("Unexpected callback case");return}const Qe=this.actionHandler[Ze.action];if(!Qe)throw new Error(`Unknown action from worker: ${Ze.action}`);if(Ze.callbackId){const pn=this.sourceName,nn=Ze.sourceName;new Promise(function(rn){rn(Qe(Ze.data))}).then(function(rn){Ue.postMessage({sourceName:pn,targetName:nn,callback:Ie.DATA,callbackId:Ze.callbackId,data:rn})},function(rn){Ue.postMessage({sourceName:pn,targetName:nn,callback:Ie.ERROR,callbackId:Ze.callbackId,reason:Ne(rn)})});return}if(Ze.streamId){Kn(this,Be,Ep).call(this,Ze);return}Qe(Ze.data)},Ue.addEventListener("message",this._onComObjOnMessage)}on($e,qe){const Ue=this.actionHandler;if(Ue[$e])throw new Error(`There is already an actionName called "${$e}"`);Ue[$e]=qe}send($e,qe,Ue){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$e,data:qe},Ue)}sendWithPromise($e,qe,Ue){const Ye=this.callbackId++,Ze=new Re.PromiseCapability;this.callbackCapabilities[Ye]=Ze;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$e,callbackId:Ye,data:qe},Ue)}catch(Qe){Ze.reject(Qe)}return Ze.promise}sendWithStream($e,qe,Ue,Ye){const Ze=this.streamId++,Qe=this.sourceName,pn=this.targetName,nn=this.comObj;return new ReadableStream({start:rn=>{const cn=new Re.PromiseCapability;return this.streamControllers[Ze]={controller:rn,startCall:cn,pullCall:null,cancelCall:null,isClosed:!1},nn.postMessage({sourceName:Qe,targetName:pn,action:$e,streamId:Ze,data:qe,desiredSize:rn.desiredSize},Ye),cn.promise},pull:rn=>{const cn=new Re.PromiseCapability;return this.streamControllers[Ze].pullCall=cn,nn.postMessage({sourceName:Qe,targetName:pn,stream:Fe.PULL,streamId:Ze,desiredSize:rn.desiredSize}),cn.promise},cancel:rn=>{(0,Re.assert)(rn instanceof Error,"cancel must have a valid reason");const cn=new Re.PromiseCapability;return this.streamControllers[Ze].cancelCall=cn,this.streamControllers[Ze].isClosed=!0,nn.postMessage({sourceName:Qe,targetName:pn,stream:Fe.CANCEL,streamId:Ze,reason:Ne(rn)}),cn.promise}},Ue)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Be=new WeakSet,Ep=function($e){const qe=$e.streamId,Ue=this.sourceName,Ye=$e.sourceName,Ze=this.comObj,Qe=this,pn=this.actionHandler[$e.action],nn={enqueue(rn,cn=1,tn){if(this.isCancelled)return;const Je=this.desiredSize;this.desiredSize-=cn,Je>0&&this.desiredSize<=0&&(this.sinkCapability=new Re.PromiseCapability,this.ready=this.sinkCapability.promise),Ze.postMessage({sourceName:Ue,targetName:Ye,stream:Fe.ENQUEUE,streamId:qe,chunk:rn},tn)},close(){this.isCancelled||(this.isCancelled=!0,Ze.postMessage({sourceName:Ue,targetName:Ye,stream:Fe.CLOSE,streamId:qe}),delete Qe.streamSinks[qe])},error(rn){(0,Re.assert)(rn instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Ze.postMessage({sourceName:Ue,targetName:Ye,stream:Fe.ERROR,streamId:qe,reason:Ne(rn)}))},sinkCapability:new Re.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:$e.desiredSize,ready:null};nn.sinkCapability.resolve(),nn.ready=nn.sinkCapability.promise,this.streamSinks[qe]=nn,new Promise(function(rn){rn(pn($e.data,nn))}).then(function(){Ze.postMessage({sourceName:Ue,targetName:Ye,stream:Fe.START_COMPLETE,streamId:qe,success:!0})},function(rn){Ze.postMessage({sourceName:Ue,targetName:Ye,stream:Fe.START_COMPLETE,streamId:qe,reason:Ne(rn)})})},wp=function($e){const qe=$e.streamId,Ue=this.sourceName,Ye=$e.sourceName,Ze=this.comObj,Qe=this.streamControllers[qe],pn=this.streamSinks[qe];switch($e.stream){case Fe.START_COMPLETE:$e.success?Qe.startCall.resolve():Qe.startCall.reject(Ne($e.reason));break;case Fe.PULL_COMPLETE:$e.success?Qe.pullCall.resolve():Qe.pullCall.reject(Ne($e.reason));break;case Fe.PULL:if(!pn){Ze.postMessage({sourceName:Ue,targetName:Ye,stream:Fe.PULL_COMPLETE,streamId:qe,success:!0});break}pn.desiredSize<=0&&$e.desiredSize>0&&pn.sinkCapability.resolve(),pn.desiredSize=$e.desiredSize,new Promise(function(nn){var rn;nn((rn=pn.onPull)==null?void 0:rn.call(pn))}).then(function(){Ze.postMessage({sourceName:Ue,targetName:Ye,stream:Fe.PULL_COMPLETE,streamId:qe,success:!0})},function(nn){Ze.postMessage({sourceName:Ue,targetName:Ye,stream:Fe.PULL_COMPLETE,streamId:qe,reason:Ne(nn)})});break;case Fe.ENQUEUE:if((0,Re.assert)(Qe,"enqueue should have stream controller"),Qe.isClosed)break;Qe.controller.enqueue($e.chunk);break;case Fe.CLOSE:if((0,Re.assert)(Qe,"close should have stream controller"),Qe.isClosed)break;Qe.isClosed=!0,Qe.controller.close(),Kn(this,Be,gu).call(this,Qe,qe);break;case Fe.ERROR:(0,Re.assert)(Qe,"error should have stream controller"),Qe.controller.error(Ne($e.reason)),Kn(this,Be,gu).call(this,Qe,qe);break;case Fe.CANCEL_COMPLETE:$e.success?Qe.cancelCall.resolve():Qe.cancelCall.reject(Ne($e.reason)),Kn(this,Be,gu).call(this,Qe,qe);break;case Fe.CANCEL:if(!pn)break;new Promise(function(nn){var rn;nn((rn=pn.onCancel)==null?void 0:rn.call(pn,Ne($e.reason)))}).then(function(){Ze.postMessage({sourceName:Ue,targetName:Ye,stream:Fe.CANCEL_COMPLETE,streamId:qe,success:!0})},function(nn){Ze.postMessage({sourceName:Ue,targetName:Ye,stream:Fe.CANCEL_COMPLETE,streamId:qe,reason:Ne(nn)})}),pn.sinkCapability.reject(Ne($e.reason)),pn.isCancelled=!0,delete this.streamSinks[qe];break;default:throw new Error("Unexpected stream case")}},gu=async function($e,qe){var Ue,Ye,Ze;await Promise.allSettled([(Ue=$e.startCall)==null?void 0:Ue.promise,(Ye=$e.pullCall)==null?void 0:Ye.promise,(Ze=$e.cancelCall)==null?void 0:Ze.promise]),delete this.streamControllers[qe]},_e.MessageHandler=je},(Ae,_e,ke)=>{var Fe,Ne;Object.defineProperty(_e,"__esModule",{value:!0}),_e.Metadata=void 0;var Re=ke(1);class Ie{constructor({parsedData:Be,rawData:He}){ai(this,Fe);ai(this,Ne);ci(this,Fe,Be),ci(this,Ne,He)}getRaw(){return un(this,Ne)}get(Be){return un(this,Fe).get(Be)??null}getAll(){return(0,Re.objectFromMap)(un(this,Fe))}has(Be){return un(this,Fe).has(Be)}}Fe=new WeakMap,Ne=new WeakMap,_e.Metadata=Ie},(Ae,_e,ke)=>{var Be,He,We,Ge,Xe,$e,ch;Object.defineProperty(_e,"__esModule",{value:!0}),_e.OptionalContentConfig=void 0;var Re=ke(1),Ie=ke(8);const Fe=Symbol("INTERNAL");class Ne{constructor(Ye,Ze){ai(this,Be,!0);this.name=Ye,this.intent=Ze}get visible(){return un(this,Be)}_setVisible(Ye,Ze){Ye!==Fe&&(0,Re.unreachable)("Internal method `_setVisible` called."),ci(this,Be,Ze)}}Be=new WeakMap;class je{constructor(Ye){ai(this,$e);ai(this,He,null);ai(this,We,new Map);ai(this,Ge,null);ai(this,Xe,null);if(this.name=null,this.creator=null,Ye!==null){this.name=Ye.name,this.creator=Ye.creator,ci(this,Xe,Ye.order);for(const Ze of Ye.groups)un(this,We).set(Ze.id,new Ne(Ze.name,Ze.intent));if(Ye.baseState==="OFF")for(const Ze of un(this,We).values())Ze._setVisible(Fe,!1);for(const Ze of Ye.on)un(this,We).get(Ze)._setVisible(Fe,!0);for(const Ze of Ye.off)un(this,We).get(Ze)._setVisible(Fe,!1);ci(this,Ge,this.getHash())}}isVisible(Ye){if(un(this,We).size===0)return!0;if(!Ye)return(0,Re.warn)("Optional content group not defined."),!0;if(Ye.type==="OCG")return un(this,We).has(Ye.id)?un(this,We).get(Ye.id).visible:((0,Re.warn)(`Optional content group not found: ${Ye.id}`),!0);if(Ye.type==="OCMD"){if(Ye.expression)return Kn(this,$e,ch).call(this,Ye.expression);if(!Ye.policy||Ye.policy==="AnyOn"){for(const Ze of Ye.ids){if(!un(this,We).has(Ze))return(0,Re.warn)(`Optional content group not found: ${Ze}`),!0;if(un(this,We).get(Ze).visible)return!0}return!1}else if(Ye.policy==="AllOn"){for(const Ze of Ye.ids){if(!un(this,We).has(Ze))return(0,Re.warn)(`Optional content group not found: ${Ze}`),!0;if(!un(this,We).get(Ze).visible)return!1}return!0}else if(Ye.policy==="AnyOff"){for(const Ze of Ye.ids){if(!un(this,We).has(Ze))return(0,Re.warn)(`Optional content group not found: ${Ze}`),!0;if(!un(this,We).get(Ze).visible)return!0}return!1}else if(Ye.policy==="AllOff"){for(const Ze of Ye.ids){if(!un(this,We).has(Ze))return(0,Re.warn)(`Optional content group not found: ${Ze}`),!0;if(un(this,We).get(Ze).visible)return!1}return!0}return(0,Re.warn)(`Unknown optional content policy ${Ye.policy}.`),!0}return(0,Re.warn)(`Unknown group type ${Ye.type}.`),!0}setVisibility(Ye,Ze=!0){if(!un(this,We).has(Ye)){(0,Re.warn)(`Optional content group not found: ${Ye}`);return}un(this,We).get(Ye)._setVisible(Fe,!!Ze),ci(this,He,null)}get hasInitialVisibility(){return un(this,Ge)===null||this.getHash()===un(this,Ge)}getOrder(){return un(this,We).size?un(this,Xe)?un(this,Xe).slice():[...un(this,We).keys()]:null}getGroups(){return un(this,We).size>0?(0,Re.objectFromMap)(un(this,We)):null}getGroup(Ye){return un(this,We).get(Ye)||null}getHash(){if(un(this,He)!==null)return un(this,He);const Ye=new Ie.MurmurHash3_64;for(const[Ze,Qe]of un(this,We))Ye.update(`${Ze}:${Qe.visible}`);return ci(this,He,Ye.hexdigest())}}He=new WeakMap,We=new WeakMap,Ge=new WeakMap,Xe=new WeakMap,$e=new WeakSet,ch=function(Ye){const Ze=Ye.length;if(Ze<2)return!0;const Qe=Ye[0];for(let pn=1;pn<Ze;pn++){const nn=Ye[pn];let rn;if(Array.isArray(nn))rn=Kn(this,$e,ch).call(this,nn);else if(un(this,We).has(nn))rn=un(this,We).get(nn).visible;else return(0,Re.warn)(`Optional content group not found: ${nn}`),!0;switch(Qe){case"And":if(!rn)return!1;break;case"Or":if(rn)return!0;break;case"Not":return!rn;default:return!0}}return Qe==="And"},_e.OptionalContentConfig=je},(Ae,_e,ke)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFDataTransportStream=void 0;var Re=ke(1),Ie=ke(6);class Fe{constructor({length:He,initialData:We,progressiveDone:Ge=!1,contentDispositionFilename:Xe=null,disableRange:$e=!1,disableStream:qe=!1},Ue){if((0,Re.assert)(Ue,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=Ge,this._contentDispositionFilename=Xe,(We==null?void 0:We.length)>0){const Ye=We instanceof Uint8Array&&We.byteLength===We.buffer.byteLength?We.buffer:new Uint8Array(We).buffer;this._queuedChunks.push(Ye)}this._pdfDataRangeTransport=Ue,this._isStreamingSupported=!qe,this._isRangeSupported=!$e,this._contentLength=He,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((Ye,Ze)=>{this._onReceiveData({begin:Ye,chunk:Ze})}),this._pdfDataRangeTransport.addProgressListener((Ye,Ze)=>{this._onProgress({loaded:Ye,total:Ze})}),this._pdfDataRangeTransport.addProgressiveReadListener(Ye=>{this._onReceiveData({chunk:Ye})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:He,chunk:We}){const Ge=We instanceof Uint8Array&&We.byteLength===We.buffer.byteLength?We.buffer:new Uint8Array(We).buffer;if(He===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(Ge):this._queuedChunks.push(Ge);else{const Xe=this._rangeReaders.some(function($e){return $e._begin!==He?!1:($e._enqueue(Ge),!0)});(0,Re.assert)(Xe,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var He;return((He=this._fullRequestReader)==null?void 0:He._loaded)??0}_onProgress(He){var We,Ge,Xe,$e;He.total===void 0?(Ge=(We=this._rangeReaders[0])==null?void 0:We.onProgress)==null||Ge.call(We,{loaded:He.loaded}):($e=(Xe=this._fullRequestReader)==null?void 0:Xe.onProgress)==null||$e.call(Xe,{loaded:He.loaded,total:He.total})}_onProgressiveDone(){var He;(He=this._fullRequestReader)==null||He.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(He){const We=this._rangeReaders.indexOf(He);We>=0&&this._rangeReaders.splice(We,1)}getFullReader(){(0,Re.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const He=this._queuedChunks;return this._queuedChunks=null,new Ne(this,He,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(He,We){if(We<=this._progressiveDataLength)return null;const Ge=new je(this,He,We);return this._pdfDataRangeTransport.requestDataRange(He,We),this._rangeReaders.push(Ge),Ge}cancelAllRequests(He){var We;(We=this._fullRequestReader)==null||We.cancel(He);for(const Ge of this._rangeReaders.slice(0))Ge.cancel(He);this._pdfDataRangeTransport.abort()}}_e.PDFDataTransportStream=Fe;class Ne{constructor(He,We,Ge=!1,Xe=null){this._stream=He,this._done=Ge||!1,this._filename=(0,Ie.isPdfFile)(Xe)?Xe:null,this._queuedChunks=We||[],this._loaded=0;for(const $e of this._queuedChunks)this._loaded+=$e.byteLength;this._requests=[],this._headersReady=Promise.resolve(),He._fullRequestReader=this,this.onProgress=null}_enqueue(He){this._done||(this._requests.length>0?this._requests.shift().resolve({value:He,done:!1}):this._queuedChunks.push(He),this._loaded+=He.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const He=new Re.PromiseCapability;return this._requests.push(He),He.promise}cancel(He){this._done=!0;for(const We of this._requests)We.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class je{constructor(He,We,Ge){this._stream=He,this._begin=We,this._end=Ge,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(He){if(!this._done){if(this._requests.length===0)this._queuedChunk=He;else{this._requests.shift().resolve({value:He,done:!1});for(const Ge of this._requests)Ge.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const We=this._queuedChunk;return this._queuedChunk=null,{value:We,done:!1}}if(this._done)return{value:void 0,done:!0};const He=new Re.PromiseCapability;return this._requests.push(He),He.promise}cancel(He){this._done=!0;for(const We of this._requests)We.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(Ae,_e,ke)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFFetchStream=void 0;var Re=ke(1),Ie=ke(20);function Fe(Ge,Xe,$e){return{method:"GET",headers:Ge,signal:$e.signal,mode:"cors",credentials:Xe?"include":"same-origin",redirect:"follow"}}function Ne(Ge){const Xe=new Headers;for(const $e in Ge){const qe=Ge[$e];qe!==void 0&&Xe.append($e,qe)}return Xe}function je(Ge){return Ge instanceof Uint8Array?Ge.buffer:Ge instanceof ArrayBuffer?Ge:((0,Re.warn)(`getArrayBuffer - unexpected data format: ${Ge}`),new Uint8Array(Ge).buffer)}class Be{constructor(Xe){this.source=Xe,this.isHttp=/^https?:/i.test(Xe.url),this.httpHeaders=this.isHttp&&Xe.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Xe;return((Xe=this._fullRequestReader)==null?void 0:Xe._loaded)??0}getFullReader(){return(0,Re.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new He(this),this._fullRequestReader}getRangeReader(Xe,$e){if($e<=this._progressiveDataLength)return null;const qe=new We(this,Xe,$e);return this._rangeRequestReaders.push(qe),qe}cancelAllRequests(Xe){var $e;($e=this._fullRequestReader)==null||$e.cancel(Xe);for(const qe of this._rangeRequestReaders.slice(0))qe.cancel(Xe)}}_e.PDFFetchStream=Be;class He{constructor(Xe){this._stream=Xe,this._reader=null,this._loaded=0,this._filename=null;const $e=Xe.source;this._withCredentials=$e.withCredentials||!1,this._contentLength=$e.length,this._headersCapability=new Re.PromiseCapability,this._disableRange=$e.disableRange||!1,this._rangeChunkSize=$e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!$e.disableStream,this._isRangeSupported=!$e.disableRange,this._headers=Ne(this._stream.httpHeaders);const qe=$e.url;fetch(qe,Fe(this._headers,this._withCredentials,this._abortController)).then(Ue=>{if(!(0,Ie.validateResponseStatus)(Ue.status))throw(0,Ie.createResponseStatusError)(Ue.status,qe);this._reader=Ue.body.getReader(),this._headersCapability.resolve();const Ye=pn=>Ue.headers.get(pn),{allowRangeRequests:Ze,suggestedLength:Qe}=(0,Ie.validateRangeRequestCapabilities)({getResponseHeader:Ye,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Ze,this._contentLength=Qe||this._contentLength,this._filename=(0,Ie.extractFilenameFromHeader)(Ye),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Re.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var qe;await this._headersCapability.promise;const{value:Xe,done:$e}=await this._reader.read();return $e?{value:Xe,done:$e}:(this._loaded+=Xe.byteLength,(qe=this.onProgress)==null||qe.call(this,{loaded:this._loaded,total:this._contentLength}),{value:je(Xe),done:!1})}cancel(Xe){var $e;($e=this._reader)==null||$e.cancel(Xe),this._abortController.abort()}}class We{constructor(Xe,$e,qe){this._stream=Xe,this._reader=null,this._loaded=0;const Ue=Xe.source;this._withCredentials=Ue.withCredentials||!1,this._readCapability=new Re.PromiseCapability,this._isStreamingSupported=!Ue.disableStream,this._abortController=new AbortController,this._headers=Ne(this._stream.httpHeaders),this._headers.append("Range",`bytes=${$e}-${qe-1}`);const Ye=Ue.url;fetch(Ye,Fe(this._headers,this._withCredentials,this._abortController)).then(Ze=>{if(!(0,Ie.validateResponseStatus)(Ze.status))throw(0,Ie.createResponseStatusError)(Ze.status,Ye);this._readCapability.resolve(),this._reader=Ze.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var qe;await this._readCapability.promise;const{value:Xe,done:$e}=await this._reader.read();return $e?{value:Xe,done:$e}:(this._loaded+=Xe.byteLength,(qe=this.onProgress)==null||qe.call(this,{loaded:this._loaded}),{value:je(Xe),done:!1})}cancel(Xe){var $e;($e=this._reader)==null||$e.cancel(Xe),this._abortController.abort()}}},(Ae,_e,ke)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.createResponseStatusError=Be,_e.extractFilenameFromHeader=je,_e.validateRangeRequestCapabilities=Ne,_e.validateResponseStatus=He;var Re=ke(1),Ie=ke(21),Fe=ke(6);function Ne({getResponseHeader:We,isHttp:Ge,rangeChunkSize:Xe,disableRange:$e}){const qe={allowRangeRequests:!1,suggestedLength:void 0},Ue=parseInt(We("Content-Length"),10);return!Number.isInteger(Ue)||(qe.suggestedLength=Ue,Ue<=2*Xe)||$e||!Ge||We("Accept-Ranges")!=="bytes"||(We("Content-Encoding")||"identity")!=="identity"||(qe.allowRangeRequests=!0),qe}function je(We){const Ge=We("Content-Disposition");if(Ge){let Xe=(0,Ie.getFilenameFromContentDispositionHeader)(Ge);if(Xe.includes("%"))try{Xe=decodeURIComponent(Xe)}catch{}if((0,Fe.isPdfFile)(Xe))return Xe}return null}function Be(We,Ge){return We===404||We===0&&Ge.startsWith("file:")?new Re.MissingPDFException('Missing PDF "'+Ge+'".'):new Re.UnexpectedResponseException(`Unexpected server response (${We}) while retrieving PDF "${Ge}".`,We)}function He(We){return We===200||We===206}},(Ae,_e,ke)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.getFilenameFromContentDispositionHeader=Ie;var Re=ke(1);function Ie(Fe){let Ne=!0,je=Be("filename\\*","i").exec(Fe);if(je){je=je[1];let Ue=Xe(je);return Ue=unescape(Ue),Ue=$e(Ue),Ue=qe(Ue),We(Ue)}if(je=Ge(Fe),je){const Ue=qe(je);return We(Ue)}if(je=Be("filename","i").exec(Fe),je){je=je[1];let Ue=Xe(je);return Ue=qe(Ue),We(Ue)}function Be(Ue,Ye){return new RegExp("(?:^|;)\\s*"+Ue+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Ye)}function He(Ue,Ye){if(Ue){if(!/^[\x00-\xFF]+$/.test(Ye))return Ye;try{const Ze=new TextDecoder(Ue,{fatal:!0}),Qe=(0,Re.stringToBytes)(Ye);Ye=Ze.decode(Qe),Ne=!1}catch{}}return Ye}function We(Ue){return Ne&&/[\x80-\xff]/.test(Ue)&&(Ue=He("utf-8",Ue),Ne&&(Ue=He("iso-8859-1",Ue))),Ue}function Ge(Ue){const Ye=[];let Ze;const Qe=Be("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Ze=Qe.exec(Ue))!==null;){let[,nn,rn,cn]=Ze;if(nn=parseInt(nn,10),nn in Ye){if(nn===0)break;continue}Ye[nn]=[rn,cn]}const pn=[];for(let nn=0;nn<Ye.length&&nn in Ye;++nn){let[rn,cn]=Ye[nn];cn=Xe(cn),rn&&(cn=unescape(cn),nn===0&&(cn=$e(cn))),pn.push(cn)}return pn.join("")}function Xe(Ue){if(Ue.startsWith('"')){const Ye=Ue.slice(1).split('\\"');for(let Ze=0;Ze<Ye.length;++Ze){const Qe=Ye[Ze].indexOf('"');Qe!==-1&&(Ye[Ze]=Ye[Ze].slice(0,Qe),Ye.length=Ze+1),Ye[Ze]=Ye[Ze].replaceAll(/\\(.)/g,"$1")}Ue=Ye.join('"')}return Ue}function $e(Ue){const Ye=Ue.indexOf("'");if(Ye===-1)return Ue;const Ze=Ue.slice(0,Ye),pn=Ue.slice(Ye+1).replace(/^[^']*'/,"");return He(Ze,pn)}function qe(Ue){return!Ue.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Ue)?Ue:Ue.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Ye,Ze,Qe,pn){if(Qe==="q"||Qe==="Q")return pn=pn.replaceAll("_"," "),pn=pn.replaceAll(/=([0-9a-fA-F]{2})/g,function(nn,rn){return String.fromCharCode(parseInt(rn,16))}),He(Ze,pn);try{pn=atob(pn)}catch{}return He(Ze,pn)})}return""}},(Ae,_e,ke)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFNetworkStream=void 0;var Re=ke(1),Ie=ke(20);const Fe=200,Ne=206;function je(Xe){const $e=Xe.response;return typeof $e!="string"?$e:(0,Re.stringToBytes)($e).buffer}class Be{constructor($e,qe={}){this.url=$e,this.isHttp=/^https?:/i.test($e),this.httpHeaders=this.isHttp&&qe.httpHeaders||Object.create(null),this.withCredentials=qe.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange($e,qe,Ue){const Ye={begin:$e,end:qe};for(const Ze in Ue)Ye[Ze]=Ue[Ze];return this.request(Ye)}requestFull($e){return this.request($e)}request($e){const qe=new XMLHttpRequest,Ue=this.currXhrId++,Ye=this.pendingRequests[Ue]={xhr:qe};qe.open("GET",this.url),qe.withCredentials=this.withCredentials;for(const Ze in this.httpHeaders){const Qe=this.httpHeaders[Ze];Qe!==void 0&&qe.setRequestHeader(Ze,Qe)}return this.isHttp&&"begin"in $e&&"end"in $e?(qe.setRequestHeader("Range",`bytes=${$e.begin}-${$e.end-1}`),Ye.expectedStatus=Ne):Ye.expectedStatus=Fe,qe.responseType="arraybuffer",$e.onError&&(qe.onerror=function(Ze){$e.onError(qe.status)}),qe.onreadystatechange=this.onStateChange.bind(this,Ue),qe.onprogress=this.onProgress.bind(this,Ue),Ye.onHeadersReceived=$e.onHeadersReceived,Ye.onDone=$e.onDone,Ye.onError=$e.onError,Ye.onProgress=$e.onProgress,qe.send(null),Ue}onProgress($e,qe){var Ye;const Ue=this.pendingRequests[$e];Ue&&((Ye=Ue.onProgress)==null||Ye.call(Ue,qe))}onStateChange($e,qe){var nn,rn,cn;const Ue=this.pendingRequests[$e];if(!Ue)return;const Ye=Ue.xhr;if(Ye.readyState>=2&&Ue.onHeadersReceived&&(Ue.onHeadersReceived(),delete Ue.onHeadersReceived),Ye.readyState!==4||!($e in this.pendingRequests))return;if(delete this.pendingRequests[$e],Ye.status===0&&this.isHttp){(nn=Ue.onError)==null||nn.call(Ue,Ye.status);return}const Ze=Ye.status||Fe;if(!(Ze===Fe&&Ue.expectedStatus===Ne)&&Ze!==Ue.expectedStatus){(rn=Ue.onError)==null||rn.call(Ue,Ye.status);return}const pn=je(Ye);if(Ze===Ne){const tn=Ye.getResponseHeader("Content-Range"),Je=/bytes (\d+)-(\d+)\/(\d+)/.exec(tn);Ue.onDone({begin:parseInt(Je[1],10),chunk:pn})}else pn?Ue.onDone({begin:0,chunk:pn}):(cn=Ue.onError)==null||cn.call(Ue,Ye.status)}getRequestXhr($e){return this.pendingRequests[$e].xhr}isPendingRequest($e){return $e in this.pendingRequests}abortRequest($e){const qe=this.pendingRequests[$e].xhr;delete this.pendingRequests[$e],qe.abort()}}class He{constructor($e){this._source=$e,this._manager=new Be($e.url,{httpHeaders:$e.httpHeaders,withCredentials:$e.withCredentials}),this._rangeChunkSize=$e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed($e){const qe=this._rangeRequestReaders.indexOf($e);qe>=0&&this._rangeRequestReaders.splice(qe,1)}getFullReader(){return(0,Re.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new We(this._manager,this._source),this._fullRequestReader}getRangeReader($e,qe){const Ue=new Ge(this._manager,$e,qe);return Ue.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Ue),Ue}cancelAllRequests($e){var qe;(qe=this._fullRequestReader)==null||qe.cancel($e);for(const Ue of this._rangeRequestReaders.slice(0))Ue.cancel($e)}}_e.PDFNetworkStream=He;class We{constructor($e,qe){this._manager=$e;const Ue={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=qe.url,this._fullRequestId=$e.requestFull(Ue),this._headersReceivedCapability=new Re.PromiseCapability,this._disableRange=qe.disableRange||!1,this._contentLength=qe.length,this._rangeChunkSize=qe.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const $e=this._fullRequestId,qe=this._manager.getRequestXhr($e),Ue=Qe=>qe.getResponseHeader(Qe),{allowRangeRequests:Ye,suggestedLength:Ze}=(0,Ie.validateRangeRequestCapabilities)({getResponseHeader:Ue,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});Ye&&(this._isRangeSupported=!0),this._contentLength=Ze||this._contentLength,this._filename=(0,Ie.extractFilenameFromHeader)(Ue),this._isRangeSupported&&this._manager.abortRequest($e),this._headersReceivedCapability.resolve()}_onDone($e){if($e&&(this._requests.length>0?this._requests.shift().resolve({value:$e.chunk,done:!1}):this._cachedChunks.push($e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const qe of this._requests)qe.resolve({value:void 0,done:!0});this._requests.length=0}}_onError($e){this._storedError=(0,Ie.createResponseStatusError)($e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const qe of this._requests)qe.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress($e){var qe;(qe=this.onProgress)==null||qe.call(this,{loaded:$e.loaded,total:$e.lengthComputable?$e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $e=new Re.PromiseCapability;return this._requests.push($e),$e.promise}cancel($e){this._done=!0,this._headersReceivedCapability.reject($e);for(const qe of this._requests)qe.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Ge{constructor($e,qe,Ue){this._manager=$e;const Ye={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=$e.url,this._requestId=$e.requestRange(qe,Ue,Ye),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var $e;($e=this.onClosed)==null||$e.call(this,this)}_onDone($e){const qe=$e.chunk;this._requests.length>0?this._requests.shift().resolve({value:qe,done:!1}):this._queuedChunk=qe,this._done=!0;for(const Ue of this._requests)Ue.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError($e){this._storedError=(0,Ie.createResponseStatusError)($e,this._url);for(const qe of this._requests)qe.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress($e){var qe;this.isStreamingSupported||(qe=this.onProgress)==null||qe.call(this,{loaded:$e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const qe=this._queuedChunk;return this._queuedChunk=null,{value:qe,done:!1}}if(this._done)return{value:void 0,done:!0};const $e=new Re.PromiseCapability;return this._requests.push($e),$e.promise}cancel($e){this._done=!0;for(const qe of this._requests)qe.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(Ae,_e,ke)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFNodeStream=void 0;var Re=ke(1),Ie=ke(20);const Fe=/^file:\/\/\/[a-zA-Z]:\//;function Ne(Ue){const Ye=require$$5,Ze=Ye.parse(Ue);return Ze.protocol==="file:"||Ze.host?Ze:/^[a-z]:[/\\]/i.test(Ue)?Ye.parse(`file:///${Ue}`):(Ze.host||(Ze.protocol="file:"),Ze)}class je{constructor(Ye){this.source=Ye,this.url=Ne(Ye.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&Ye.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Ye;return((Ye=this._fullRequestReader)==null?void 0:Ye._loaded)??0}getFullReader(){return(0,Re.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new $e(this):new Ge(this),this._fullRequestReader}getRangeReader(Ye,Ze){if(Ze<=this._progressiveDataLength)return null;const Qe=this.isFsUrl?new qe(this,Ye,Ze):new Xe(this,Ye,Ze);return this._rangeRequestReaders.push(Qe),Qe}cancelAllRequests(Ye){var Ze;(Ze=this._fullRequestReader)==null||Ze.cancel(Ye);for(const Qe of this._rangeRequestReaders.slice(0))Qe.cancel(Ye)}}_e.PDFNodeStream=je;class Be{constructor(Ye){this._url=Ye.url,this._done=!1,this._storedError=null,this.onProgress=null;const Ze=Ye.source;this._contentLength=Ze.length,this._loaded=0,this._filename=null,this._disableRange=Ze.disableRange||!1,this._rangeChunkSize=Ze.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Ze.disableStream,this._isRangeSupported=!Ze.disableRange,this._readableStream=null,this._readCapability=new Re.PromiseCapability,this._headersCapability=new Re.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Qe;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Ye=this._readableStream.read();return Ye===null?(this._readCapability=new Re.PromiseCapability,this.read()):(this._loaded+=Ye.length,(Qe=this.onProgress)==null||Qe.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Ye).buffer,done:!1})}cancel(Ye){if(!this._readableStream){this._error(Ye);return}this._readableStream.destroy(Ye)}_error(Ye){this._storedError=Ye,this._readCapability.resolve()}_setReadableStream(Ye){this._readableStream=Ye,Ye.on("readable",()=>{this._readCapability.resolve()}),Ye.on("end",()=>{Ye.destroy(),this._done=!0,this._readCapability.resolve()}),Ye.on("error",Ze=>{this._error(Ze)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Re.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class He{constructor(Ye){this._url=Ye.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new Re.PromiseCapability;const Ze=Ye.source;this._isStreamingSupported=!Ze.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Qe;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Ye=this._readableStream.read();return Ye===null?(this._readCapability=new Re.PromiseCapability,this.read()):(this._loaded+=Ye.length,(Qe=this.onProgress)==null||Qe.call(this,{loaded:this._loaded}),{value:new Uint8Array(Ye).buffer,done:!1})}cancel(Ye){if(!this._readableStream){this._error(Ye);return}this._readableStream.destroy(Ye)}_error(Ye){this._storedError=Ye,this._readCapability.resolve()}_setReadableStream(Ye){this._readableStream=Ye,Ye.on("readable",()=>{this._readCapability.resolve()}),Ye.on("end",()=>{Ye.destroy(),this._done=!0,this._readCapability.resolve()}),Ye.on("error",Ze=>{this._error(Ze)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function We(Ue,Ye){return{protocol:Ue.protocol,auth:Ue.auth,host:Ue.hostname,port:Ue.port,path:Ue.path,method:"GET",headers:Ye}}class Ge extends Be{constructor(Ye){super(Ye);const Ze=Qe=>{if(Qe.statusCode===404){const cn=new Re.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=cn,this._headersCapability.reject(cn);return}this._headersCapability.resolve(),this._setReadableStream(Qe);const pn=cn=>this._readableStream.headers[cn.toLowerCase()],{allowRangeRequests:nn,suggestedLength:rn}=(0,Ie.validateRangeRequestCapabilities)({getResponseHeader:pn,isHttp:Ye.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=nn,this._contentLength=rn||this._contentLength,this._filename=(0,Ie.extractFilenameFromHeader)(pn)};if(this._request=null,this._url.protocol==="http:"){const Qe=require$$5;this._request=Qe.request(We(this._url,Ye.httpHeaders),Ze)}else{const Qe=require$$5;this._request=Qe.request(We(this._url,Ye.httpHeaders),Ze)}this._request.on("error",Qe=>{this._storedError=Qe,this._headersCapability.reject(Qe)}),this._request.end()}}class Xe extends He{constructor(Ye,Ze,Qe){super(Ye),this._httpHeaders={};for(const nn in Ye.httpHeaders){const rn=Ye.httpHeaders[nn];rn!==void 0&&(this._httpHeaders[nn]=rn)}this._httpHeaders.Range=`bytes=${Ze}-${Qe-1}`;const pn=nn=>{if(nn.statusCode===404){const rn=new Re.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=rn;return}this._setReadableStream(nn)};if(this._request=null,this._url.protocol==="http:"){const nn=require$$5;this._request=nn.request(We(this._url,this._httpHeaders),pn)}else{const nn=require$$5;this._request=nn.request(We(this._url,this._httpHeaders),pn)}this._request.on("error",nn=>{this._storedError=nn}),this._request.end()}}class $e extends Be{constructor(Ye){super(Ye);let Ze=decodeURIComponent(this._url.path);Fe.test(this._url.href)&&(Ze=Ze.replace(/^\//,""));const Qe=require$$5;Qe.lstat(Ze,(pn,nn)=>{if(pn){pn.code==="ENOENT"&&(pn=new Re.MissingPDFException(`Missing PDF "${Ze}".`)),this._storedError=pn,this._headersCapability.reject(pn);return}this._contentLength=nn.size,this._setReadableStream(Qe.createReadStream(Ze)),this._headersCapability.resolve()})}}class qe extends He{constructor(Ye,Ze,Qe){super(Ye);let pn=decodeURIComponent(this._url.path);Fe.test(this._url.href)&&(pn=pn.replace(/^\//,""));const nn=require$$5;this._setReadableStream(nn.createReadStream(pn,{start:Ze,end:Qe-1}))}}},(Ae,_e,ke)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.SVGGraphics=void 0;var Re=ke(6),Ie=ke(1);const Fe={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Ne="http://www.w3.org/XML/1998/namespace",je="http://www.w3.org/1999/xlink",Be=["butt","round","square"],He=["miter","round","bevel"],We=function(nn,rn="",cn=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!cn)return URL.createObjectURL(new Blob([nn],{type:rn}));const tn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Je=`data:${rn};base64,`;for(let an=0,gn=nn.length;an<gn;an+=3){const Ke=nn[an]&255,sn=nn[an+1]&255,hn=nn[an+2]&255,Cn=Ke>>2,bn=(Ke&3)<<4|sn>>4,En=an+1<gn?(sn&15)<<2|hn>>6:64,yn=an+2<gn?hn&63:64;Je+=tn[Cn]+tn[bn]+tn[En]+tn[yn]}return Je},Ge=function(){const nn=new Uint8Array([137,80,78,71,13,10,26,10]),rn=12,cn=new Int32Array(256);for(let hn=0;hn<256;hn++){let Cn=hn;for(let bn=0;bn<8;bn++)Cn=Cn&1?3988292384^Cn>>1&2147483647:Cn>>1&2147483647;cn[hn]=Cn}function tn(hn,Cn,bn){let En=-1;for(let yn=Cn;yn<bn;yn++){const xn=(En^hn[yn])&255,vn=cn[xn];En=En>>>8^vn}return En^-1}function Je(hn,Cn,bn,En){let yn=En;const xn=Cn.length;bn[yn]=xn>>24&255,bn[yn+1]=xn>>16&255,bn[yn+2]=xn>>8&255,bn[yn+3]=xn&255,yn+=4,bn[yn]=hn.charCodeAt(0)&255,bn[yn+1]=hn.charCodeAt(1)&255,bn[yn+2]=hn.charCodeAt(2)&255,bn[yn+3]=hn.charCodeAt(3)&255,yn+=4,bn.set(Cn,yn),yn+=Cn.length;const vn=tn(bn,En+4,yn);bn[yn]=vn>>24&255,bn[yn+1]=vn>>16&255,bn[yn+2]=vn>>8&255,bn[yn+3]=vn&255}function an(hn,Cn,bn){let En=1,yn=0;for(let xn=Cn;xn<bn;++xn)En=(En+(hn[xn]&255))%65521,yn=(yn+En)%65521;return yn<<16|En}function gn(hn){if(!Ie.isNodeJS)return Ke(hn);try{const Cn=parseInt(process.versions.node)>=8?hn:Buffer.from(hn),bn=require$$5.deflateSync(Cn,{level:9});return bn instanceof Uint8Array?bn:new Uint8Array(bn)}catch(Cn){(0,Ie.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Cn)}return Ke(hn)}function Ke(hn){let Cn=hn.length;const bn=65535,En=Math.ceil(Cn/bn),yn=new Uint8Array(2+Cn+En*5+4);let xn=0;yn[xn++]=120,yn[xn++]=156;let vn=0;for(;Cn>bn;)yn[xn++]=0,yn[xn++]=255,yn[xn++]=255,yn[xn++]=0,yn[xn++]=0,yn.set(hn.subarray(vn,vn+bn),xn),xn+=bn,vn+=bn,Cn-=bn;yn[xn++]=1,yn[xn++]=Cn&255,yn[xn++]=Cn>>8&255,yn[xn++]=~Cn&65535&255,yn[xn++]=(~Cn&65535)>>8&255,yn.set(hn.subarray(vn),xn),xn+=hn.length-vn;const kn=an(hn,0,hn.length);return yn[xn++]=kn>>24&255,yn[xn++]=kn>>16&255,yn[xn++]=kn>>8&255,yn[xn++]=kn&255,yn}function sn(hn,Cn,bn,En){const yn=hn.width,xn=hn.height;let vn,kn,Sn;const fn=hn.data;switch(Cn){case Ie.ImageKind.GRAYSCALE_1BPP:kn=0,vn=1,Sn=yn+7>>3;break;case Ie.ImageKind.RGB_24BPP:kn=2,vn=8,Sn=yn*3;break;case Ie.ImageKind.RGBA_32BPP:kn=6,vn=8,Sn=yn*4;break;default:throw new Error("invalid format")}const on=new Uint8Array((1+Sn)*xn);let ln=0,_n=0;for(let li=0;li<xn;++li)on[ln++]=0,on.set(fn.subarray(_n,_n+Sn),ln),_n+=Sn,ln+=Sn;if(Cn===Ie.ImageKind.GRAYSCALE_1BPP&&En){ln=0;for(let li=0;li<xn;li++){ln++;for(let oi=0;oi<Sn;oi++)on[ln++]^=255}}const Tn=new Uint8Array([yn>>24&255,yn>>16&255,yn>>8&255,yn&255,xn>>24&255,xn>>16&255,xn>>8&255,xn&255,vn,kn,0,0,0]),Pn=gn(on),Rn=nn.length+rn*3+Tn.length+Pn.length,Dn=new Uint8Array(Rn);let Xn=0;return Dn.set(nn,Xn),Xn+=nn.length,Je("IHDR",Tn,Dn,Xn),Xn+=rn+Tn.length,Je("IDATA",Pn,Dn,Xn),Xn+=rn+Pn.length,Je("IEND",new Uint8Array(0),Dn,Xn),We(Dn,"image/png",bn)}return function(Cn,bn,En){const yn=Cn.kind===void 0?Ie.ImageKind.GRAYSCALE_1BPP:Cn.kind;return sn(Cn,yn,bn,En)}}();class Xe{constructor(){this.fontSizeScale=1,this.fontWeight=Fe.fontWeight,this.fontSize=0,this.textMatrix=Ie.IDENTITY_MATRIX,this.fontMatrix=Ie.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=Ie.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=Fe.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(rn,cn){this.x=rn,this.y=cn}}function $e(nn){let rn=[];const cn=[];for(const tn of nn){if(tn.fn==="save"){rn.push({fnId:92,fn:"group",items:[]}),cn.push(rn),rn=rn.at(-1).items;continue}tn.fn==="restore"?rn=cn.pop():rn.push(tn)}return rn}function qe(nn){if(Number.isInteger(nn))return nn.toString();const rn=nn.toFixed(10);let cn=rn.length-1;if(rn[cn]!=="0")return rn;do cn--;while(rn[cn]==="0");return rn.substring(0,rn[cn]==="."?cn:cn+1)}function Ue(nn){if(nn[4]===0&&nn[5]===0){if(nn[1]===0&&nn[2]===0)return nn[0]===1&&nn[3]===1?"":`scale(${qe(nn[0])} ${qe(nn[3])})`;if(nn[0]===nn[3]&&nn[1]===-nn[2]){const rn=Math.acos(nn[0])*180/Math.PI;return`rotate(${qe(rn)})`}}else if(nn[0]===1&&nn[1]===0&&nn[2]===0&&nn[3]===1)return`translate(${qe(nn[4])} ${qe(nn[5])})`;return`matrix(${qe(nn[0])} ${qe(nn[1])} ${qe(nn[2])} ${qe(nn[3])} ${qe(nn[4])} ${qe(nn[5])})`}let Ye=0,Ze=0,Qe=0;class pn{constructor(rn,cn,tn=!1){(0,Re.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new Re.DOMSVGFactory,this.current=new Xe,this.transformMatrix=Ie.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=rn,this.objs=cn,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!tn,this._operatorIdMapping=[];for(const Je in Ie.OPS)this._operatorIdMapping[Ie.OPS[Je]]=Je}getObject(rn,cn=null){return typeof rn=="string"?rn.startsWith("g_")?this.commonObjs.get(rn):this.objs.get(rn):cn}save(){this.transformStack.push(this.transformMatrix);const rn=this.current;this.extraStack.push(rn),this.current=rn.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(rn){this.save(),this.executeOpTree(rn),this.restore()}loadDependencies(rn){const cn=rn.fnArray,tn=rn.argsArray;for(let Je=0,an=cn.length;Je<an;Je++)if(cn[Je]===Ie.OPS.dependency)for(const gn of tn[Je]){const Ke=gn.startsWith("g_")?this.commonObjs:this.objs,sn=new Promise(hn=>{Ke.get(gn,hn)});this.current.dependencies.push(sn)}return Promise.all(this.current.dependencies)}transform(rn,cn,tn,Je,an,gn){const Ke=[rn,cn,tn,Je,an,gn];this.transformMatrix=Ie.Util.transform(this.transformMatrix,Ke),this.tgrp=null}getSVG(rn,cn){this.viewport=cn;const tn=this._initialize(cn);return this.loadDependencies(rn).then(()=>(this.transformMatrix=Ie.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(rn)),tn))}convertOpList(rn){const cn=this._operatorIdMapping,tn=rn.argsArray,Je=rn.fnArray,an=[];for(let gn=0,Ke=Je.length;gn<Ke;gn++){const sn=Je[gn];an.push({fnId:sn,fn:cn[sn],args:tn[gn]})}return $e(an)}executeOpTree(rn){for(const cn of rn){const tn=cn.fn,Je=cn.fnId,an=cn.args;switch(Je|0){case Ie.OPS.beginText:this.beginText();break;case Ie.OPS.dependency:break;case Ie.OPS.setLeading:this.setLeading(an);break;case Ie.OPS.setLeadingMoveText:this.setLeadingMoveText(an[0],an[1]);break;case Ie.OPS.setFont:this.setFont(an);break;case Ie.OPS.showText:this.showText(an[0]);break;case Ie.OPS.showSpacedText:this.showText(an[0]);break;case Ie.OPS.endText:this.endText();break;case Ie.OPS.moveText:this.moveText(an[0],an[1]);break;case Ie.OPS.setCharSpacing:this.setCharSpacing(an[0]);break;case Ie.OPS.setWordSpacing:this.setWordSpacing(an[0]);break;case Ie.OPS.setHScale:this.setHScale(an[0]);break;case Ie.OPS.setTextMatrix:this.setTextMatrix(an[0],an[1],an[2],an[3],an[4],an[5]);break;case Ie.OPS.setTextRise:this.setTextRise(an[0]);break;case Ie.OPS.setTextRenderingMode:this.setTextRenderingMode(an[0]);break;case Ie.OPS.setLineWidth:this.setLineWidth(an[0]);break;case Ie.OPS.setLineJoin:this.setLineJoin(an[0]);break;case Ie.OPS.setLineCap:this.setLineCap(an[0]);break;case Ie.OPS.setMiterLimit:this.setMiterLimit(an[0]);break;case Ie.OPS.setFillRGBColor:this.setFillRGBColor(an[0],an[1],an[2]);break;case Ie.OPS.setStrokeRGBColor:this.setStrokeRGBColor(an[0],an[1],an[2]);break;case Ie.OPS.setStrokeColorN:this.setStrokeColorN(an);break;case Ie.OPS.setFillColorN:this.setFillColorN(an);break;case Ie.OPS.shadingFill:this.shadingFill(an[0]);break;case Ie.OPS.setDash:this.setDash(an[0],an[1]);break;case Ie.OPS.setRenderingIntent:this.setRenderingIntent(an[0]);break;case Ie.OPS.setFlatness:this.setFlatness(an[0]);break;case Ie.OPS.setGState:this.setGState(an[0]);break;case Ie.OPS.fill:this.fill();break;case Ie.OPS.eoFill:this.eoFill();break;case Ie.OPS.stroke:this.stroke();break;case Ie.OPS.fillStroke:this.fillStroke();break;case Ie.OPS.eoFillStroke:this.eoFillStroke();break;case Ie.OPS.clip:this.clip("nonzero");break;case Ie.OPS.eoClip:this.clip("evenodd");break;case Ie.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case Ie.OPS.paintImageXObject:this.paintImageXObject(an[0]);break;case Ie.OPS.paintInlineImageXObject:this.paintInlineImageXObject(an[0]);break;case Ie.OPS.paintImageMaskXObject:this.paintImageMaskXObject(an[0]);break;case Ie.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(an[0],an[1]);break;case Ie.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case Ie.OPS.closePath:this.closePath();break;case Ie.OPS.closeStroke:this.closeStroke();break;case Ie.OPS.closeFillStroke:this.closeFillStroke();break;case Ie.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case Ie.OPS.nextLine:this.nextLine();break;case Ie.OPS.transform:this.transform(an[0],an[1],an[2],an[3],an[4],an[5]);break;case Ie.OPS.constructPath:this.constructPath(an[0],an[1]);break;case Ie.OPS.endPath:this.endPath();break;case 92:this.group(cn.items);break;default:(0,Ie.warn)(`Unimplemented operator ${tn}`);break}}}setWordSpacing(rn){this.current.wordSpacing=rn}setCharSpacing(rn){this.current.charSpacing=rn}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(rn,cn,tn,Je,an,gn){const Ke=this.current;Ke.textMatrix=Ke.lineMatrix=[rn,cn,tn,Je,an,gn],Ke.textMatrixScale=Math.hypot(rn,cn),Ke.x=Ke.lineX=0,Ke.y=Ke.lineY=0,Ke.xcoords=[],Ke.ycoords=[],Ke.tspan=this.svgFactory.createElement("svg:tspan"),Ke.tspan.setAttributeNS(null,"font-family",Ke.fontFamily),Ke.tspan.setAttributeNS(null,"font-size",`${qe(Ke.fontSize)}px`),Ke.tspan.setAttributeNS(null,"y",qe(-Ke.y)),Ke.txtElement=this.svgFactory.createElement("svg:text"),Ke.txtElement.append(Ke.tspan)}beginText(){const rn=this.current;rn.x=rn.lineX=0,rn.y=rn.lineY=0,rn.textMatrix=Ie.IDENTITY_MATRIX,rn.lineMatrix=Ie.IDENTITY_MATRIX,rn.textMatrixScale=1,rn.tspan=this.svgFactory.createElement("svg:tspan"),rn.txtElement=this.svgFactory.createElement("svg:text"),rn.txtgrp=this.svgFactory.createElement("svg:g"),rn.xcoords=[],rn.ycoords=[]}moveText(rn,cn){const tn=this.current;tn.x=tn.lineX+=rn,tn.y=tn.lineY+=cn,tn.xcoords=[],tn.ycoords=[],tn.tspan=this.svgFactory.createElement("svg:tspan"),tn.tspan.setAttributeNS(null,"font-family",tn.fontFamily),tn.tspan.setAttributeNS(null,"font-size",`${qe(tn.fontSize)}px`),tn.tspan.setAttributeNS(null,"y",qe(-tn.y))}showText(rn){const cn=this.current,tn=cn.font,Je=cn.fontSize;if(Je===0)return;const an=cn.fontSizeScale,gn=cn.charSpacing,Ke=cn.wordSpacing,sn=cn.fontDirection,hn=cn.textHScale*sn,Cn=tn.vertical,bn=Cn?1:-1,En=tn.defaultVMetrics,yn=Je*cn.fontMatrix[0];let xn=0;for(const Sn of rn){if(Sn===null){xn+=sn*Ke;continue}else if(typeof Sn=="number"){xn+=bn*Sn*Je/1e3;continue}const fn=(Sn.isSpace?Ke:0)+gn,on=Sn.fontChar;let ln,_n,Tn=Sn.width;if(Cn){let Rn;const Dn=Sn.vmetric||En;Rn=Sn.vmetric?Dn[1]:Tn*.5,Rn=-Rn*yn;const Xn=Dn[2]*yn;Tn=Dn?-Dn[0]:Tn,ln=Rn/an,_n=(xn+Xn)/an}else ln=xn/an,_n=0;(Sn.isInFont||tn.missingFile)&&(cn.xcoords.push(cn.x+ln),Cn&&cn.ycoords.push(-cn.y+_n),cn.tspan.textContent+=on);const Pn=Cn?Tn*yn-fn*sn:Tn*yn+fn*sn;xn+=Pn}cn.tspan.setAttributeNS(null,"x",cn.xcoords.map(qe).join(" ")),Cn?cn.tspan.setAttributeNS(null,"y",cn.ycoords.map(qe).join(" ")):cn.tspan.setAttributeNS(null,"y",qe(-cn.y)),Cn?cn.y-=xn:cn.x+=xn*hn,cn.tspan.setAttributeNS(null,"font-family",cn.fontFamily),cn.tspan.setAttributeNS(null,"font-size",`${qe(cn.fontSize)}px`),cn.fontStyle!==Fe.fontStyle&&cn.tspan.setAttributeNS(null,"font-style",cn.fontStyle),cn.fontWeight!==Fe.fontWeight&&cn.tspan.setAttributeNS(null,"font-weight",cn.fontWeight);const vn=cn.textRenderingMode&Ie.TextRenderingMode.FILL_STROKE_MASK;if(vn===Ie.TextRenderingMode.FILL||vn===Ie.TextRenderingMode.FILL_STROKE?(cn.fillColor!==Fe.fillColor&&cn.tspan.setAttributeNS(null,"fill",cn.fillColor),cn.fillAlpha<1&&cn.tspan.setAttributeNS(null,"fill-opacity",cn.fillAlpha)):cn.textRenderingMode===Ie.TextRenderingMode.ADD_TO_PATH?cn.tspan.setAttributeNS(null,"fill","transparent"):cn.tspan.setAttributeNS(null,"fill","none"),vn===Ie.TextRenderingMode.STROKE||vn===Ie.TextRenderingMode.FILL_STROKE){const Sn=1/(cn.textMatrixScale||1);this._setStrokeAttributes(cn.tspan,Sn)}let kn=cn.textMatrix;cn.textRise!==0&&(kn=kn.slice(),kn[5]+=cn.textRise),cn.txtElement.setAttributeNS(null,"transform",`${Ue(kn)} scale(${qe(hn)}, -1)`),cn.txtElement.setAttributeNS(Ne,"xml:space","preserve"),cn.txtElement.append(cn.tspan),cn.txtgrp.append(cn.txtElement),this._ensureTransformGroup().append(cn.txtElement)}setLeadingMoveText(rn,cn){this.setLeading(-cn),this.moveText(rn,cn)}addFontStyle(rn){if(!rn.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const cn=We(rn.data,rn.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${rn.loadedName}"; src: url(${cn}); }
`}setFont(rn){const cn=this.current,tn=this.commonObjs.get(rn[0]);let Je=rn[1];cn.font=tn,this.embedFonts&&!tn.missingFile&&!this.embeddedFonts[tn.loadedName]&&(this.addFontStyle(tn),this.embeddedFonts[tn.loadedName]=tn),cn.fontMatrix=tn.fontMatrix||Ie.FONT_IDENTITY_MATRIX;let an="normal";tn.black?an="900":tn.bold&&(an="bold");const gn=tn.italic?"italic":"normal";Je<0?(Je=-Je,cn.fontDirection=-1):cn.fontDirection=1,cn.fontSize=Je,cn.fontFamily=tn.loadedName,cn.fontWeight=an,cn.fontStyle=gn,cn.tspan=this.svgFactory.createElement("svg:tspan"),cn.tspan.setAttributeNS(null,"y",qe(-cn.y)),cn.xcoords=[],cn.ycoords=[]}endText(){var cn;const rn=this.current;rn.textRenderingMode&Ie.TextRenderingMode.ADD_TO_PATH_FLAG&&((cn=rn.txtElement)!=null&&cn.hasChildNodes())&&(rn.element=rn.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(rn){rn>0&&(this.current.lineWidth=rn)}setLineCap(rn){this.current.lineCap=Be[rn]}setLineJoin(rn){this.current.lineJoin=He[rn]}setMiterLimit(rn){this.current.miterLimit=rn}setStrokeAlpha(rn){this.current.strokeAlpha=rn}setStrokeRGBColor(rn,cn,tn){this.current.strokeColor=Ie.Util.makeHexColor(rn,cn,tn)}setFillAlpha(rn){this.current.fillAlpha=rn}setFillRGBColor(rn,cn,tn){this.current.fillColor=Ie.Util.makeHexColor(rn,cn,tn),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(rn){this.current.strokeColor=this._makeColorN_Pattern(rn)}setFillColorN(rn){this.current.fillColor=this._makeColorN_Pattern(rn)}shadingFill(rn){const{width:cn,height:tn}=this.viewport,Je=Ie.Util.inverseTransform(this.transformMatrix),[an,gn,Ke,sn]=Ie.Util.getAxialAlignedBoundingBox([0,0,cn,tn],Je),hn=this.svgFactory.createElement("svg:rect");hn.setAttributeNS(null,"x",an),hn.setAttributeNS(null,"y",gn),hn.setAttributeNS(null,"width",Ke-an),hn.setAttributeNS(null,"height",sn-gn),hn.setAttributeNS(null,"fill",this._makeShadingPattern(rn)),this.current.fillAlpha<1&&hn.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(hn)}_makeColorN_Pattern(rn){return rn[0]==="TilingPattern"?this._makeTilingPattern(rn):this._makeShadingPattern(rn)}_makeTilingPattern(rn){const cn=rn[1],tn=rn[2],Je=rn[3]||Ie.IDENTITY_MATRIX,[an,gn,Ke,sn]=rn[4],hn=rn[5],Cn=rn[6],bn=rn[7],En=`shading${Qe++}`,[yn,xn,vn,kn]=Ie.Util.normalizeRect([...Ie.Util.applyTransform([an,gn],Je),...Ie.Util.applyTransform([Ke,sn],Je)]),[Sn,fn]=Ie.Util.singularValueDecompose2dScale(Je),on=hn*Sn,ln=Cn*fn,_n=this.svgFactory.createElement("svg:pattern");_n.setAttributeNS(null,"id",En),_n.setAttributeNS(null,"patternUnits","userSpaceOnUse"),_n.setAttributeNS(null,"width",on),_n.setAttributeNS(null,"height",ln),_n.setAttributeNS(null,"x",`${yn}`),_n.setAttributeNS(null,"y",`${xn}`);const Tn=this.svg,Pn=this.transformMatrix,Rn=this.current.fillColor,Dn=this.current.strokeColor,Xn=this.svgFactory.create(vn-yn,kn-xn);if(this.svg=Xn,this.transformMatrix=Je,bn===2){const li=Ie.Util.makeHexColor(...cn);this.current.fillColor=li,this.current.strokeColor=li}return this.executeOpTree(this.convertOpList(tn)),this.svg=Tn,this.transformMatrix=Pn,this.current.fillColor=Rn,this.current.strokeColor=Dn,_n.append(Xn.childNodes[0]),this.defs.append(_n),`url(#${En})`}_makeShadingPattern(rn){switch(typeof rn=="string"&&(rn=this.objs.get(rn)),rn[0]){case"RadialAxial":const cn=`shading${Qe++}`,tn=rn[3];let Je;switch(rn[1]){case"axial":const an=rn[4],gn=rn[5];Je=this.svgFactory.createElement("svg:linearGradient"),Je.setAttributeNS(null,"id",cn),Je.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Je.setAttributeNS(null,"x1",an[0]),Je.setAttributeNS(null,"y1",an[1]),Je.setAttributeNS(null,"x2",gn[0]),Je.setAttributeNS(null,"y2",gn[1]);break;case"radial":const Ke=rn[4],sn=rn[5],hn=rn[6],Cn=rn[7];Je=this.svgFactory.createElement("svg:radialGradient"),Je.setAttributeNS(null,"id",cn),Je.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Je.setAttributeNS(null,"cx",sn[0]),Je.setAttributeNS(null,"cy",sn[1]),Je.setAttributeNS(null,"r",Cn),Je.setAttributeNS(null,"fx",Ke[0]),Je.setAttributeNS(null,"fy",Ke[1]),Je.setAttributeNS(null,"fr",hn);break;default:throw new Error(`Unknown RadialAxial type: ${rn[1]}`)}for(const an of tn){const gn=this.svgFactory.createElement("svg:stop");gn.setAttributeNS(null,"offset",an[0]),gn.setAttributeNS(null,"stop-color",an[1]),Je.append(gn)}return this.defs.append(Je),`url(#${cn})`;case"Mesh":return(0,Ie.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${rn[0]}`)}}setDash(rn,cn){this.current.dashArray=rn,this.current.dashPhase=cn}constructPath(rn,cn){const tn=this.current;let Je=tn.x,an=tn.y,gn=[],Ke=0;for(const sn of rn)switch(sn|0){case Ie.OPS.rectangle:Je=cn[Ke++],an=cn[Ke++];const hn=cn[Ke++],Cn=cn[Ke++],bn=Je+hn,En=an+Cn;gn.push("M",qe(Je),qe(an),"L",qe(bn),qe(an),"L",qe(bn),qe(En),"L",qe(Je),qe(En),"Z");break;case Ie.OPS.moveTo:Je=cn[Ke++],an=cn[Ke++],gn.push("M",qe(Je),qe(an));break;case Ie.OPS.lineTo:Je=cn[Ke++],an=cn[Ke++],gn.push("L",qe(Je),qe(an));break;case Ie.OPS.curveTo:Je=cn[Ke+4],an=cn[Ke+5],gn.push("C",qe(cn[Ke]),qe(cn[Ke+1]),qe(cn[Ke+2]),qe(cn[Ke+3]),qe(Je),qe(an)),Ke+=6;break;case Ie.OPS.curveTo2:gn.push("C",qe(Je),qe(an),qe(cn[Ke]),qe(cn[Ke+1]),qe(cn[Ke+2]),qe(cn[Ke+3])),Je=cn[Ke+2],an=cn[Ke+3],Ke+=4;break;case Ie.OPS.curveTo3:Je=cn[Ke+2],an=cn[Ke+3],gn.push("C",qe(cn[Ke]),qe(cn[Ke+1]),qe(Je),qe(an),qe(Je),qe(an)),Ke+=4;break;case Ie.OPS.closePath:gn.push("Z");break}gn=gn.join(" "),tn.path&&rn.length>0&&rn[0]!==Ie.OPS.rectangle&&rn[0]!==Ie.OPS.moveTo?gn=tn.path.getAttributeNS(null,"d")+gn:(tn.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(tn.path)),tn.path.setAttributeNS(null,"d",gn),tn.path.setAttributeNS(null,"fill","none"),tn.element=tn.path,tn.setCurrentPoint(Je,an)}endPath(){const rn=this.current;if(rn.path=null,!this.pendingClip)return;if(!rn.element){this.pendingClip=null;return}const cn=`clippath${Ye++}`,tn=this.svgFactory.createElement("svg:clipPath");tn.setAttributeNS(null,"id",cn),tn.setAttributeNS(null,"transform",Ue(this.transformMatrix));const Je=rn.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Je.setAttributeNS(null,"clip-rule","evenodd"):Je.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,tn.append(Je),this.defs.append(tn),rn.activeClipUrl){rn.clipGroup=null;for(const an of this.extraStack)an.clipGroup=null;tn.setAttributeNS(null,"clip-path",rn.activeClipUrl)}rn.activeClipUrl=`url(#${cn})`,this.tgrp=null}clip(rn){this.pendingClip=rn}closePath(){const rn=this.current;if(rn.path){const cn=`${rn.path.getAttributeNS(null,"d")}Z`;rn.path.setAttributeNS(null,"d",cn)}}setLeading(rn){this.current.leading=-rn}setTextRise(rn){this.current.textRise=rn}setTextRenderingMode(rn){this.current.textRenderingMode=rn}setHScale(rn){this.current.textHScale=rn/100}setRenderingIntent(rn){}setFlatness(rn){}setGState(rn){for(const[cn,tn]of rn)switch(cn){case"LW":this.setLineWidth(tn);break;case"LC":this.setLineCap(tn);break;case"LJ":this.setLineJoin(tn);break;case"ML":this.setMiterLimit(tn);break;case"D":this.setDash(tn[0],tn[1]);break;case"RI":this.setRenderingIntent(tn);break;case"FL":this.setFlatness(tn);break;case"Font":this.setFont(tn);break;case"CA":this.setStrokeAlpha(tn);break;case"ca":this.setFillAlpha(tn);break;default:(0,Ie.warn)(`Unimplemented graphic state operator ${cn}`);break}}fill(){const rn=this.current;rn.element&&(rn.element.setAttributeNS(null,"fill",rn.fillColor),rn.element.setAttributeNS(null,"fill-opacity",rn.fillAlpha),this.endPath())}stroke(){const rn=this.current;rn.element&&(this._setStrokeAttributes(rn.element),rn.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(rn,cn=1){const tn=this.current;let Je=tn.dashArray;cn!==1&&Je.length>0&&(Je=Je.map(function(an){return cn*an})),rn.setAttributeNS(null,"stroke",tn.strokeColor),rn.setAttributeNS(null,"stroke-opacity",tn.strokeAlpha),rn.setAttributeNS(null,"stroke-miterlimit",qe(tn.miterLimit)),rn.setAttributeNS(null,"stroke-linecap",tn.lineCap),rn.setAttributeNS(null,"stroke-linejoin",tn.lineJoin),rn.setAttributeNS(null,"stroke-width",qe(cn*tn.lineWidth)+"px"),rn.setAttributeNS(null,"stroke-dasharray",Je.map(qe).join(" ")),rn.setAttributeNS(null,"stroke-dashoffset",qe(cn*tn.dashPhase)+"px")}eoFill(){var rn;(rn=this.current.element)==null||rn.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var rn;(rn=this.current.element)==null||rn.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const rn=this.svgFactory.createElement("svg:rect");rn.setAttributeNS(null,"x","0"),rn.setAttributeNS(null,"y","0"),rn.setAttributeNS(null,"width","1px"),rn.setAttributeNS(null,"height","1px"),rn.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(rn)}paintImageXObject(rn){const cn=this.getObject(rn);if(!cn){(0,Ie.warn)(`Dependent image with object ID ${rn} is not ready yet`);return}this.paintInlineImageXObject(cn)}paintInlineImageXObject(rn,cn){const tn=rn.width,Je=rn.height,an=Ge(rn,this.forceDataSchema,!!cn),gn=this.svgFactory.createElement("svg:rect");gn.setAttributeNS(null,"x","0"),gn.setAttributeNS(null,"y","0"),gn.setAttributeNS(null,"width",qe(tn)),gn.setAttributeNS(null,"height",qe(Je)),this.current.element=gn,this.clip("nonzero");const Ke=this.svgFactory.createElement("svg:image");Ke.setAttributeNS(je,"xlink:href",an),Ke.setAttributeNS(null,"x","0"),Ke.setAttributeNS(null,"y",qe(-Je)),Ke.setAttributeNS(null,"width",qe(tn)+"px"),Ke.setAttributeNS(null,"height",qe(Je)+"px"),Ke.setAttributeNS(null,"transform",`scale(${qe(1/tn)} ${qe(-1/Je)})`),cn?cn.append(Ke):this._ensureTransformGroup().append(Ke)}paintImageMaskXObject(rn){const cn=this.getObject(rn.data,rn);if(cn.bitmap){(0,Ie.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const tn=this.current,Je=cn.width,an=cn.height,gn=tn.fillColor;tn.maskId=`mask${Ze++}`;const Ke=this.svgFactory.createElement("svg:mask");Ke.setAttributeNS(null,"id",tn.maskId);const sn=this.svgFactory.createElement("svg:rect");sn.setAttributeNS(null,"x","0"),sn.setAttributeNS(null,"y","0"),sn.setAttributeNS(null,"width",qe(Je)),sn.setAttributeNS(null,"height",qe(an)),sn.setAttributeNS(null,"fill",gn),sn.setAttributeNS(null,"mask",`url(#${tn.maskId})`),this.defs.append(Ke),this._ensureTransformGroup().append(sn),this.paintInlineImageXObject(cn,Ke)}paintFormXObjectBegin(rn,cn){if(Array.isArray(rn)&&rn.length===6&&this.transform(rn[0],rn[1],rn[2],rn[3],rn[4],rn[5]),cn){const tn=cn[2]-cn[0],Je=cn[3]-cn[1],an=this.svgFactory.createElement("svg:rect");an.setAttributeNS(null,"x",cn[0]),an.setAttributeNS(null,"y",cn[1]),an.setAttributeNS(null,"width",qe(tn)),an.setAttributeNS(null,"height",qe(Je)),this.current.element=an,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(rn){const cn=this.svgFactory.create(rn.width,rn.height),tn=this.svgFactory.createElement("svg:defs");cn.append(tn),this.defs=tn;const Je=this.svgFactory.createElement("svg:g");return Je.setAttributeNS(null,"transform",Ue(rn.transform)),cn.append(Je),this.svg=Je,cn}_ensureClipGroup(){if(!this.current.clipGroup){const rn=this.svgFactory.createElement("svg:g");rn.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(rn),this.current.clipGroup=rn}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Ue(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}_e.SVGGraphics=pn},(Ae,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.XfaText=void 0;class ke{static textContent(Ie){const Fe=[],Ne={items:Fe,styles:Object.create(null)};function je(Be){var Ge;if(!Be)return;let He=null;const We=Be.name;if(We==="#text")He=Be.value;else if(ke.shouldBuildText(We))(Ge=Be==null?void 0:Be.attributes)!=null&&Ge.textContent?He=Be.attributes.textContent:Be.value&&(He=Be.value);else return;if(He!==null&&Fe.push({str:He}),!!Be.children)for(const Xe of Be.children)je(Xe)}return je(Ie),Ne}static shouldBuildText(Ie){return!(Ie==="textarea"||Ie==="input"||Ie==="option"||Ie==="select")}}_e.XfaText=ke},(Ae,_e,ke)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.TextLayerRenderTask=void 0,_e.renderTextLayer=Ue,_e.updateTextLayer=Ye;var Re=ke(1),Ie=ke(6);const Fe=1e5,Ne=30,je=.8,Be=new Map;function He(Ze,Qe){let pn;if(Qe&&Re.FeatureTest.isOffscreenCanvasSupported)pn=new OffscreenCanvas(Ze,Ze).getContext("2d",{alpha:!1});else{const nn=document.createElement("canvas");nn.width=nn.height=Ze,pn=nn.getContext("2d",{alpha:!1})}return pn}function We(Ze,Qe){const pn=Be.get(Ze);if(pn)return pn;const nn=He(Ne,Qe);nn.font=`${Ne}px ${Ze}`;const rn=nn.measureText("");let cn=rn.fontBoundingBoxAscent,tn=Math.abs(rn.fontBoundingBoxDescent);if(cn){const an=cn/(cn+tn);return Be.set(Ze,an),nn.canvas.width=nn.canvas.height=0,an}nn.strokeStyle="red",nn.clearRect(0,0,Ne,Ne),nn.strokeText("g",0,0);let Je=nn.getImageData(0,0,Ne,Ne).data;tn=0;for(let an=Je.length-1-3;an>=0;an-=4)if(Je[an]>0){tn=Math.ceil(an/4/Ne);break}nn.clearRect(0,0,Ne,Ne),nn.strokeText("A",0,Ne),Je=nn.getImageData(0,0,Ne,Ne).data,cn=0;for(let an=0,gn=Je.length;an<gn;an+=4)if(Je[an]>0){cn=Ne-Math.floor(an/4/Ne);break}if(nn.canvas.width=nn.canvas.height=0,cn){const an=cn/(cn+tn);return Be.set(Ze,an),an}return Be.set(Ze,je),je}function Ge(Ze,Qe,pn){const nn=document.createElement("span"),rn={angle:0,canvasWidth:0,hasText:Qe.str!=="",hasEOL:Qe.hasEOL,fontSize:0};Ze._textDivs.push(nn);const cn=Re.Util.transform(Ze._transform,Qe.transform);let tn=Math.atan2(cn[1],cn[0]);const Je=pn[Qe.fontName];Je.vertical&&(tn+=Math.PI/2);const an=Math.hypot(cn[2],cn[3]),gn=an*We(Je.fontFamily,Ze._isOffscreenCanvasSupported);let Ke,sn;tn===0?(Ke=cn[4],sn=cn[5]-gn):(Ke=cn[4]+gn*Math.sin(tn),sn=cn[5]-gn*Math.cos(tn));const hn="calc(var(--scale-factor)*",Cn=nn.style;Ze._container===Ze._rootContainer?(Cn.left=`${(100*Ke/Ze._pageWidth).toFixed(2)}%`,Cn.top=`${(100*sn/Ze._pageHeight).toFixed(2)}%`):(Cn.left=`${hn}${Ke.toFixed(2)}px)`,Cn.top=`${hn}${sn.toFixed(2)}px)`),Cn.fontSize=`${hn}${an.toFixed(2)}px)`,Cn.fontFamily=Je.fontFamily,rn.fontSize=an,nn.setAttribute("role","presentation"),nn.textContent=Qe.str,nn.dir=Qe.dir,Ze._fontInspectorEnabled&&(nn.dataset.fontName=Qe.fontName),tn!==0&&(rn.angle=tn*(180/Math.PI));let bn=!1;if(Qe.str.length>1)bn=!0;else if(Qe.str!==" "&&Qe.transform[0]!==Qe.transform[3]){const En=Math.abs(Qe.transform[0]),yn=Math.abs(Qe.transform[3]);En!==yn&&Math.max(En,yn)/Math.min(En,yn)>1.5&&(bn=!0)}bn&&(rn.canvasWidth=Je.vertical?Qe.height:Qe.width),Ze._textDivProperties.set(nn,rn),Ze._isReadableStream&&Ze._layoutText(nn)}function Xe(Ze){const{div:Qe,scale:pn,properties:nn,ctx:rn,prevFontSize:cn,prevFontFamily:tn}=Ze,{style:Je}=Qe;let an="";if(nn.canvasWidth!==0&&nn.hasText){const{fontFamily:gn}=Je,{canvasWidth:Ke,fontSize:sn}=nn;(cn!==sn||tn!==gn)&&(rn.font=`${sn*pn}px ${gn}`,Ze.prevFontSize=sn,Ze.prevFontFamily=gn);const{width:hn}=rn.measureText(Qe.textContent);hn>0&&(an=`scaleX(${Ke*pn/hn})`)}nn.angle!==0&&(an=`rotate(${nn.angle}deg) ${an}`),an.length>0&&(Je.transform=an)}function $e(Ze){if(Ze._canceled)return;const Qe=Ze._textDivs,pn=Ze._capability;if(Qe.length>Fe){pn.resolve();return}if(!Ze._isReadableStream)for(const rn of Qe)Ze._layoutText(rn);pn.resolve()}class qe{constructor({textContentSource:Qe,container:pn,viewport:nn,textDivs:rn,textDivProperties:cn,textContentItemsStr:tn,isOffscreenCanvasSupported:Je}){var hn;this._textContentSource=Qe,this._isReadableStream=Qe instanceof ReadableStream,this._container=this._rootContainer=pn,this._textDivs=rn||[],this._textContentItemsStr=tn||[],this._isOffscreenCanvasSupported=Je,this._fontInspectorEnabled=!!((hn=globalThis.FontInspector)!=null&&hn.enabled),this._reader=null,this._textDivProperties=cn||new WeakMap,this._canceled=!1,this._capability=new Re.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:nn.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:He(0,Je)};const{pageWidth:an,pageHeight:gn,pageX:Ke,pageY:sn}=nn.rawDims;this._transform=[1,0,0,-1,-Ke,sn+gn],this._pageWidth=an,this._pageHeight=gn,(0,Ie.setLayerDimensions)(pn,nn),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new Re.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new Re.AbortException("TextLayer task cancelled."))}_processItems(Qe,pn){for(const nn of Qe){if(nn.str===void 0){if(nn.type==="beginMarkedContentProps"||nn.type==="beginMarkedContent"){const rn=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),nn.id!==null&&this._container.setAttribute("id",`${nn.id}`),rn.append(this._container)}else nn.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(nn.str),Ge(this,nn,pn)}}_layoutText(Qe){const pn=this._layoutTextParams.properties=this._textDivProperties.get(Qe);if(this._layoutTextParams.div=Qe,Xe(this._layoutTextParams),pn.hasText&&this._container.append(Qe),pn.hasEOL){const nn=document.createElement("br");nn.setAttribute("role","presentation"),this._container.append(nn)}}_render(){const Qe=new Re.PromiseCapability;let pn=Object.create(null);if(this._isReadableStream){const nn=()=>{this._reader.read().then(({value:rn,done:cn})=>{if(cn){Qe.resolve();return}Object.assign(pn,rn.styles),this._processItems(rn.items,pn),nn()},Qe.reject)};this._reader=this._textContentSource.getReader(),nn()}else if(this._textContentSource){const{items:nn,styles:rn}=this._textContentSource;this._processItems(nn,rn),Qe.resolve()}else throw new Error('No "textContentSource" parameter specified.');Qe.promise.then(()=>{pn=null,$e(this)},this._capability.reject)}}_e.TextLayerRenderTask=qe;function Ue(Ze){!Ze.textContentSource&&(Ze.textContent||Ze.textContentStream)&&((0,Ie.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),Ze.textContentSource=Ze.textContent||Ze.textContentStream);const{container:Qe,viewport:pn}=Ze,nn=getComputedStyle(Qe),rn=nn.getPropertyValue("visibility"),cn=parseFloat(nn.getPropertyValue("--scale-factor"));rn==="visible"&&(!cn||Math.abs(cn-pn.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const tn=new qe(Ze);return tn._render(),tn}function Ye({container:Ze,viewport:Qe,textDivs:pn,textDivProperties:nn,isOffscreenCanvasSupported:rn,mustRotate:cn=!0,mustRescale:tn=!0}){if(cn&&(0,Ie.setLayerDimensions)(Ze,{rotation:Qe.rotation}),tn){const Je=He(0,rn),gn={prevFontSize:null,prevFontFamily:null,div:null,scale:Qe.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Je};for(const Ke of pn)gn.properties=nn.get(Ke),gn.div=Ke,Xe(gn)}}},(Ae,_e,ke)=>{var We,Ge,Xe,$e,qe,Ue,Ye,Ze,Qe,pn,nn,uh,vu,dh,hh;Object.defineProperty(_e,"__esModule",{value:!0}),_e.AnnotationEditorLayer=void 0;var Re=ke(1),Ie=ke(4),Fe=ke(28),Ne=ke(33),je=ke(6),Be=ke(34);const an=class an{constructor({uiManager:Ke,pageIndex:sn,div:hn,accessibilityManager:Cn,annotationLayer:bn,viewport:En,l10n:yn}){ai(this,nn);ai(this,We);ai(this,Ge,!1);ai(this,Xe,null);ai(this,$e,this.pointerup.bind(this));ai(this,qe,this.pointerdown.bind(this));ai(this,Ue,new Map);ai(this,Ye,!1);ai(this,Ze,!1);ai(this,Qe,!1);ai(this,pn);const xn=[Fe.FreeTextEditor,Ne.InkEditor,Be.StampEditor];if(!an._initialized){an._initialized=!0;for(const vn of xn)vn.initialize(yn)}Ke.registerEditorTypes(xn),ci(this,pn,Ke),this.pageIndex=sn,this.div=hn,ci(this,We,Cn),ci(this,Xe,bn),this.viewport=En,un(this,pn).addLayer(this)}get isEmpty(){return un(this,Ue).size===0}updateToolbar(Ke){un(this,pn).updateToolbar(Ke)}updateMode(Ke=un(this,pn).getMode()){Kn(this,nn,hh).call(this),Ke===Re.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Ke!==Re.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Ke===Re.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Ke===Re.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Ke===Re.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Ke){if(!Ke&&un(this,pn).getMode()!==Re.AnnotationEditorType.INK)return;if(!Ke){for(const hn of un(this,Ue).values())if(hn.isEmpty()){hn.setInBackground();return}}Kn(this,nn,vu).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Ke){un(this,pn).setEditingState(Ke)}addCommands(Ke){un(this,pn).addCommands(Ke)}enable(){this.div.style.pointerEvents="auto";const Ke=new Set;for(const hn of un(this,Ue).values())hn.enableEditing(),hn.annotationElementId&&Ke.add(hn.annotationElementId);if(!un(this,Xe))return;const sn=un(this,Xe).getEditableAnnotations();for(const hn of sn){if(hn.hide(),un(this,pn).isDeletedAnnotationElement(hn.data.id)||Ke.has(hn.data.id))continue;const Cn=this.deserialize(hn);Cn&&(this.addOrRebuild(Cn),Cn.enableEditing())}}disable(){var sn;ci(this,Qe,!0),this.div.style.pointerEvents="none";const Ke=new Set;for(const hn of un(this,Ue).values()){if(hn.disableEditing(),!hn.annotationElementId||hn.serialize()!==null){Ke.add(hn.annotationElementId);continue}(sn=this.getEditableAnnotation(hn.annotationElementId))==null||sn.show(),hn.remove()}if(un(this,Xe)){const hn=un(this,Xe).getEditableAnnotations();for(const Cn of hn){const{id:bn}=Cn.data;Ke.has(bn)||un(this,pn).isDeletedAnnotationElement(bn)||Cn.show()}}Kn(this,nn,hh).call(this),this.isEmpty&&(this.div.hidden=!0),ci(this,Qe,!1)}getEditableAnnotation(Ke){var sn;return((sn=un(this,Xe))==null?void 0:sn.getEditableAnnotation(Ke))||null}setActiveEditor(Ke){un(this,pn).getActive()!==Ke&&un(this,pn).setActiveEditor(Ke)}enableClick(){this.div.addEventListener("pointerdown",un(this,qe)),this.div.addEventListener("pointerup",un(this,$e))}disableClick(){this.div.removeEventListener("pointerdown",un(this,qe)),this.div.removeEventListener("pointerup",un(this,$e))}attach(Ke){un(this,Ue).set(Ke.id,Ke);const{annotationElementId:sn}=Ke;sn&&un(this,pn).isDeletedAnnotationElement(sn)&&un(this,pn).removeDeletedAnnotationElement(Ke)}detach(Ke){var sn;un(this,Ue).delete(Ke.id),(sn=un(this,We))==null||sn.removePointerInTextLayer(Ke.contentDiv),!un(this,Qe)&&Ke.annotationElementId&&un(this,pn).addDeletedAnnotationElement(Ke)}remove(Ke){this.detach(Ke),un(this,pn).removeEditor(Ke),Ke.div.contains(document.activeElement)&&setTimeout(()=>{un(this,pn).focusMainContainer()},0),Ke.div.remove(),Ke.isAttachedToDOM=!1,un(this,Ze)||this.addInkEditorIfNeeded(!1)}changeParent(Ke){var sn;Ke.parent!==this&&(Ke.annotationElementId&&(un(this,pn).addDeletedAnnotationElement(Ke.annotationElementId),Ie.AnnotationEditor.deleteAnnotationElement(Ke),Ke.annotationElementId=null),this.attach(Ke),(sn=Ke.parent)==null||sn.detach(Ke),Ke.setParent(this),Ke.div&&Ke.isAttachedToDOM&&(Ke.div.remove(),this.div.append(Ke.div)))}add(Ke){if(this.changeParent(Ke),un(this,pn).addEditor(Ke),this.attach(Ke),!Ke.isAttachedToDOM){const sn=Ke.render();this.div.append(sn),Ke.isAttachedToDOM=!0}Ke.fixAndSetPosition(),Ke.onceAdded(),un(this,pn).addToAnnotationStorage(Ke)}moveEditorInDOM(Ke){var hn;if(!Ke.isAttachedToDOM)return;const{activeElement:sn}=document;Ke.div.contains(sn)&&(Ke._focusEventsAllowed=!1,setTimeout(()=>{Ke.div.contains(document.activeElement)?Ke._focusEventsAllowed=!0:(Ke.div.addEventListener("focusin",()=>{Ke._focusEventsAllowed=!0},{once:!0}),sn.focus())},0)),Ke._structTreeParentId=(hn=un(this,We))==null?void 0:hn.moveElementInDOM(this.div,Ke.div,Ke.contentDiv,!0)}addOrRebuild(Ke){Ke.needsToBeRebuilt()?Ke.rebuild():this.add(Ke)}addUndoableEditor(Ke){const sn=()=>Ke._uiManager.rebuild(Ke),hn=()=>{Ke.remove()};this.addCommands({cmd:sn,undo:hn,mustExec:!1})}getNextId(){return un(this,pn).getId()}pasteEditor(Ke,sn){un(this,pn).updateToolbar(Ke),un(this,pn).updateMode(Ke);const{offsetX:hn,offsetY:Cn}=Kn(this,nn,dh).call(this),bn=this.getNextId(),En=Kn(this,nn,uh).call(this,{parent:this,id:bn,x:hn,y:Cn,uiManager:un(this,pn),isCentered:!0,...sn});En&&this.add(En)}deserialize(Ke){switch(Ke.annotationType??Ke.annotationEditorType){case Re.AnnotationEditorType.FREETEXT:return Fe.FreeTextEditor.deserialize(Ke,this,un(this,pn));case Re.AnnotationEditorType.INK:return Ne.InkEditor.deserialize(Ke,this,un(this,pn));case Re.AnnotationEditorType.STAMP:return Be.StampEditor.deserialize(Ke,this,un(this,pn))}return null}addNewEditor(){Kn(this,nn,vu).call(this,Kn(this,nn,dh).call(this),!0)}setSelected(Ke){un(this,pn).setSelected(Ke)}toggleSelected(Ke){un(this,pn).toggleSelected(Ke)}isSelected(Ke){return un(this,pn).isSelected(Ke)}unselect(Ke){un(this,pn).unselect(Ke)}pointerup(Ke){const{isMac:sn}=Re.FeatureTest.platform;if(!(Ke.button!==0||Ke.ctrlKey&&sn)&&Ke.target===this.div&&un(this,Ye)){if(ci(this,Ye,!1),!un(this,Ge)){ci(this,Ge,!0);return}if(un(this,pn).getMode()===Re.AnnotationEditorType.STAMP){un(this,pn).unselectAll();return}Kn(this,nn,vu).call(this,Ke,!1)}}pointerdown(Ke){if(un(this,Ye)){ci(this,Ye,!1);return}const{isMac:sn}=Re.FeatureTest.platform;if(Ke.button!==0||Ke.ctrlKey&&sn||Ke.target!==this.div)return;ci(this,Ye,!0);const hn=un(this,pn).getActive();ci(this,Ge,!hn||hn.isEmpty())}findNewParent(Ke,sn,hn){const Cn=un(this,pn).findParent(sn,hn);return Cn===null||Cn===this?!1:(Cn.changeParent(Ke),!0)}destroy(){var Ke,sn;((Ke=un(this,pn).getActive())==null?void 0:Ke.parent)===this&&(un(this,pn).commitOrRemove(),un(this,pn).setActiveEditor(null));for(const hn of un(this,Ue).values())(sn=un(this,We))==null||sn.removePointerInTextLayer(hn.contentDiv),hn.setParent(null),hn.isAttachedToDOM=!1,hn.div.remove();this.div=null,un(this,Ue).clear(),un(this,pn).removeLayer(this)}render({viewport:Ke}){this.viewport=Ke,(0,je.setLayerDimensions)(this.div,Ke);for(const sn of un(this,pn).getEditors(this.pageIndex))this.add(sn);this.updateMode()}update({viewport:Ke}){un(this,pn).commitOrRemove(),this.viewport=Ke,(0,je.setLayerDimensions)(this.div,{rotation:Ke.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Ke,pageHeight:sn}=this.viewport.rawDims;return[Ke,sn]}};We=new WeakMap,Ge=new WeakMap,Xe=new WeakMap,$e=new WeakMap,qe=new WeakMap,Ue=new WeakMap,Ye=new WeakMap,Ze=new WeakMap,Qe=new WeakMap,pn=new WeakMap,nn=new WeakSet,uh=function(Ke){switch(un(this,pn).getMode()){case Re.AnnotationEditorType.FREETEXT:return new Fe.FreeTextEditor(Ke);case Re.AnnotationEditorType.INK:return new Ne.InkEditor(Ke);case Re.AnnotationEditorType.STAMP:return new Be.StampEditor(Ke)}return null},vu=function(Ke,sn){const hn=this.getNextId(),Cn=Kn(this,nn,uh).call(this,{parent:this,id:hn,x:Ke.offsetX,y:Ke.offsetY,uiManager:un(this,pn),isCentered:sn});return Cn&&this.add(Cn),Cn},dh=function(){const{x:Ke,y:sn,width:hn,height:Cn}=this.div.getBoundingClientRect(),bn=Math.max(0,Ke),En=Math.max(0,sn),yn=Math.min(window.innerWidth,Ke+hn),xn=Math.min(window.innerHeight,sn+Cn),vn=(bn+yn)/2-Ke,kn=(En+xn)/2-sn,[Sn,fn]=this.viewport.rotation%180===0?[vn,kn]:[kn,vn];return{offsetX:Sn,offsetY:fn}},hh=function(){ci(this,Ze,!0);for(const Ke of un(this,Ue).values())Ke.isEmpty()&&Ke.remove();ci(this,Ze,!1)},br(an,"_initialized",!1);let He=an;_e.AnnotationEditorLayer=He},(Ae,_e,ke)=>{var Be,He,We,Ge,Xe,$e,qe,Ue,Ye,Ze,kp,Cp,Pp,Jl,fh,Ap,ph;Object.defineProperty(_e,"__esModule",{value:!0}),_e.FreeTextEditor=void 0;var Re=ke(1),Ie=ke(5),Fe=ke(4),Ne=ke(29);const an=class an extends Fe.AnnotationEditor{constructor(sn){super({...sn,name:"freeTextEditor"});ai(this,Ze);ai(this,Be,this.editorDivBlur.bind(this));ai(this,He,this.editorDivFocus.bind(this));ai(this,We,this.editorDivInput.bind(this));ai(this,Ge,this.editorDivKeydown.bind(this));ai(this,Xe);ai(this,$e,"");ai(this,qe,`${this.id}-editor`);ai(this,Ue);ai(this,Ye,null);ci(this,Xe,sn.color||an._defaultColor||Fe.AnnotationEditor._defaultLineColor),ci(this,Ue,sn.fontSize||an._defaultFontSize)}static get _keyboardManager(){const sn=an.prototype,hn=En=>En.isEmpty(),Cn=Ie.AnnotationEditorUIManager.TRANSLATE_SMALL,bn=Ie.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,Re.shadow)(this,"_keyboardManager",new Ie.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],sn.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],sn.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],sn._translateEmpty,{args:[-Cn,0],checker:hn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],sn._translateEmpty,{args:[-bn,0],checker:hn}],[["ArrowRight","mac+ArrowRight"],sn._translateEmpty,{args:[Cn,0],checker:hn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],sn._translateEmpty,{args:[bn,0],checker:hn}],[["ArrowUp","mac+ArrowUp"],sn._translateEmpty,{args:[0,-Cn],checker:hn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],sn._translateEmpty,{args:[0,-bn],checker:hn}],[["ArrowDown","mac+ArrowDown"],sn._translateEmpty,{args:[0,Cn],checker:hn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],sn._translateEmpty,{args:[0,bn],checker:hn}]]))}static initialize(sn){Fe.AnnotationEditor.initialize(sn,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const hn=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(hn.getPropertyValue("--freetext-padding"))}static updateDefaultParams(sn,hn){switch(sn){case Re.AnnotationEditorParamsType.FREETEXT_SIZE:an._defaultFontSize=hn;break;case Re.AnnotationEditorParamsType.FREETEXT_COLOR:an._defaultColor=hn;break}}updateParams(sn,hn){switch(sn){case Re.AnnotationEditorParamsType.FREETEXT_SIZE:Kn(this,Ze,kp).call(this,hn);break;case Re.AnnotationEditorParamsType.FREETEXT_COLOR:Kn(this,Ze,Cp).call(this,hn);break}}static get defaultPropertiesToUpdate(){return[[Re.AnnotationEditorParamsType.FREETEXT_SIZE,an._defaultFontSize],[Re.AnnotationEditorParamsType.FREETEXT_COLOR,an._defaultColor||Fe.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[Re.AnnotationEditorParamsType.FREETEXT_SIZE,un(this,Ue)],[Re.AnnotationEditorParamsType.FREETEXT_COLOR,un(this,Xe)]]}_translateEmpty(sn,hn){this._uiManager.translateSelectedEditors(sn,hn,!0)}getInitialTranslation(){const sn=this.parentScale;return[-an._internalPadding*sn,-(an._internalPadding+un(this,Ue))*sn]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(Re.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",un(this,Ge)),this.editorDiv.addEventListener("focus",un(this,He)),this.editorDiv.addEventListener("blur",un(this,Be)),this.editorDiv.addEventListener("input",un(this,We)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",un(this,qe)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",un(this,Ge)),this.editorDiv.removeEventListener("focus",un(this,He)),this.editorDiv.removeEventListener("blur",un(this,Be)),this.editorDiv.removeEventListener("input",un(this,We)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(sn){this._focusEventsAllowed&&(super.focusin(sn),sn.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var sn;if(this.width){Kn(this,Ze,ph).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(sn=this._initialOptions)!=null&&sn.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const sn=un(this,$e),hn=ci(this,$e,Kn(this,Ze,Pp).call(this).trimEnd());if(sn===hn)return;const Cn=bn=>{if(ci(this,$e,bn),!bn){this.remove();return}Kn(this,Ze,fh).call(this),this._uiManager.rebuild(this),Kn(this,Ze,Jl).call(this)};this.addCommands({cmd:()=>{Cn(hn)},undo:()=>{Cn(sn)},mustExec:!1}),Kn(this,Ze,Jl).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(sn){this.enterInEditMode()}keydown(sn){sn.target===this.div&&sn.key==="Enter"&&(this.enterInEditMode(),sn.preventDefault())}editorDivKeydown(sn){an._keyboardManager.exec(this,sn)}editorDivFocus(sn){this.isEditing=!0}editorDivBlur(sn){this.isEditing=!1}editorDivInput(sn){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let sn,hn;this.width&&(sn=this.x,hn=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",un(this,qe)),this.enableEditing(),Fe.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(bn=>{var En;return(En=this.editorDiv)==null?void 0:En.setAttribute("aria-label",bn)}),Fe.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(bn=>{var En;return(En=this.editorDiv)==null?void 0:En.setAttribute("default-content",bn)}),this.editorDiv.contentEditable=!0;const{style:Cn}=this.editorDiv;if(Cn.fontSize=`calc(${un(this,Ue)}px * var(--scale-factor))`,Cn.color=un(this,Xe),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,Ie.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[bn,En]=this.parentDimensions;if(this.annotationElementId){const{position:yn}=un(this,Ye);let[xn,vn]=this.getInitialTranslation();[xn,vn]=this.pageTranslationToScreen(xn,vn);const[kn,Sn]=this.pageDimensions,[fn,on]=this.pageTranslation;let ln,_n;switch(this.rotation){case 0:ln=sn+(yn[0]-fn)/kn,_n=hn+this.height-(yn[1]-on)/Sn;break;case 90:ln=sn+(yn[0]-fn)/kn,_n=hn-(yn[1]-on)/Sn,[xn,vn]=[vn,-xn];break;case 180:ln=sn-this.width+(yn[0]-fn)/kn,_n=hn-(yn[1]-on)/Sn,[xn,vn]=[-xn,-vn];break;case 270:ln=sn+(yn[0]-fn-this.height*Sn)/kn,_n=hn+(yn[1]-on-this.width*kn)/Sn,[xn,vn]=[-vn,xn];break}this.setAt(ln*bn,_n*En,xn,vn)}else this.setAt(sn*bn,hn*En,this.width*bn,this.height*En);Kn(this,Ze,fh).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(sn,hn,Cn){let bn=null;if(sn instanceof Ne.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:yn,fontColor:xn},rect:vn,rotation:kn,id:Sn},textContent:fn,textPosition:on,parent:{page:{pageNumber:ln}}}=sn;if(!fn||fn.length===0)return null;bn=sn={annotationType:Re.AnnotationEditorType.FREETEXT,color:Array.from(xn),fontSize:yn,value:fn.join(`
`),position:on,pageIndex:ln-1,rect:vn,rotation:kn,id:Sn,deleted:!1}}const En=super.deserialize(sn,hn,Cn);return ci(En,Ue,sn.fontSize),ci(En,Xe,Re.Util.makeHexColor(...sn.color)),ci(En,$e,sn.value),En.annotationElementId=sn.id||null,ci(En,Ye,bn),En}serialize(sn=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const hn=an._internalPadding*this.parentScale,Cn=this.getRect(hn,hn),bn=Fe.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:un(this,Xe)),En={annotationType:Re.AnnotationEditorType.FREETEXT,color:bn,fontSize:un(this,Ue),value:un(this,$e),pageIndex:this.pageIndex,rect:Cn,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return sn?En:this.annotationElementId&&!Kn(this,Ze,Ap).call(this,En)?null:(En.id=this.annotationElementId,En)}};Be=new WeakMap,He=new WeakMap,We=new WeakMap,Ge=new WeakMap,Xe=new WeakMap,$e=new WeakMap,qe=new WeakMap,Ue=new WeakMap,Ye=new WeakMap,Ze=new WeakSet,kp=function(sn){const hn=bn=>{this.editorDiv.style.fontSize=`calc(${bn}px * var(--scale-factor))`,this.translate(0,-(bn-un(this,Ue))*this.parentScale),ci(this,Ue,bn),Kn(this,Ze,Jl).call(this)},Cn=un(this,Ue);this.addCommands({cmd:()=>{hn(sn)},undo:()=>{hn(Cn)},mustExec:!0,type:Re.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Cp=function(sn){const hn=un(this,Xe);this.addCommands({cmd:()=>{ci(this,Xe,this.editorDiv.style.color=sn)},undo:()=>{ci(this,Xe,this.editorDiv.style.color=hn)},mustExec:!0,type:Re.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Pp=function(){const sn=this.editorDiv.getElementsByTagName("div");if(sn.length===0)return this.editorDiv.innerText;const hn=[];for(const Cn of sn)hn.push(Cn.innerText.replace(/\r\n?|\n/,""));return hn.join(`
`)},Jl=function(){const[sn,hn]=this.parentDimensions;let Cn;if(this.isAttachedToDOM)Cn=this.div.getBoundingClientRect();else{const{currentLayer:bn,div:En}=this,yn=En.style.display;En.style.display="hidden",bn.div.append(this.div),Cn=En.getBoundingClientRect(),En.remove(),En.style.display=yn}this.rotation%180===this.parentRotation%180?(this.width=Cn.width/sn,this.height=Cn.height/hn):(this.width=Cn.height/sn,this.height=Cn.width/hn),this.fixAndSetPosition()},fh=function(){if(this.editorDiv.replaceChildren(),!!un(this,$e))for(const sn of un(this,$e).split(`
`)){const hn=document.createElement("div");hn.append(sn?document.createTextNode(sn):document.createElement("br")),this.editorDiv.append(hn)}},Ap=function(sn){const{value:hn,fontSize:Cn,color:bn,rect:En,pageIndex:yn}=un(this,Ye);return sn.value!==hn||sn.fontSize!==Cn||sn.rect.some((xn,vn)=>Math.abs(xn-En[vn])>=1)||sn.color.some((xn,vn)=>xn!==bn[vn])||sn.pageIndex!==yn},ph=function(sn=!1){if(!this.annotationElementId)return;if(Kn(this,Ze,Jl).call(this),!sn&&(this.width===0||this.height===0)){setTimeout(()=>Kn(this,Ze,ph).call(this,!0),0);return}const hn=an._internalPadding*this.parentScale;un(this,Ye).rect=this.getRect(hn,hn)},br(an,"_freeTextDefaultContent",""),br(an,"_internalPadding",0),br(an,"_defaultColor",null),br(an,"_defaultFontSize",10),br(an,"_type","freetext");let je=an;_e.FreeTextEditor=je},(Ae,_e,ke)=>{var _n,Pn,Fa,Mp,Xn,li,oi,di,vi,yi,Zn,Gn,wn,Ln,Wn,Bn,Yn,fi,gi,$n,Pi,Ei,Tp,bu,mh,gh,Xi,er,Mr,_i,Qn,ti,Bi,vh,Qi,Fn,pi,Ti,Rp,bh;Object.defineProperty(_e,"__esModule",{value:!0}),_e.StampAnnotationElement=_e.InkAnnotationElement=_e.FreeTextAnnotationElement=_e.AnnotationLayer=void 0;var Re=ke(1),Ie=ke(6),Fe=ke(3),Ne=ke(30),je=ke(31),Be=ke(32);const He=1e3,We=9,Ge=new WeakSet;function Xe(ji){return{width:ji[2]-ji[0],height:ji[3]-ji[1]}}class $e{static create(In){switch(In.data.annotationType){case Re.AnnotationType.LINK:return new Ue(In);case Re.AnnotationType.TEXT:return new Ye(In);case Re.AnnotationType.WIDGET:switch(In.data.fieldType){case"Tx":return new Qe(In);case"Btn":return In.data.radioButton?new rn(In):In.data.checkBox?new nn(In):new cn(In);case"Ch":return new tn(In);case"Sig":return new pn(In)}return new Ze(In);case Re.AnnotationType.POPUP:return new Je(In);case Re.AnnotationType.FREETEXT:return new gn(In);case Re.AnnotationType.LINE:return new Ke(In);case Re.AnnotationType.SQUARE:return new sn(In);case Re.AnnotationType.CIRCLE:return new hn(In);case Re.AnnotationType.POLYLINE:return new Cn(In);case Re.AnnotationType.CARET:return new En(In);case Re.AnnotationType.INK:return new yn(In);case Re.AnnotationType.POLYGON:return new bn(In);case Re.AnnotationType.HIGHLIGHT:return new xn(In);case Re.AnnotationType.UNDERLINE:return new vn(In);case Re.AnnotationType.SQUIGGLY:return new kn(In);case Re.AnnotationType.STRIKEOUT:return new Sn(In);case Re.AnnotationType.STAMP:return new fn(In);case Re.AnnotationType.FILEATTACHMENT:return new on(In);default:return new qe(In)}}}const Tn=class Tn{constructor(In,{isRenderable:On=!1,ignoreBorder:Vn=!1,createQuadrilaterals:ui=!1}={}){ai(this,_n,!1);this.isRenderable=On,this.data=In.data,this.layer=In.layer,this.linkService=In.linkService,this.downloadManager=In.downloadManager,this.imageResourcesPath=In.imageResourcesPath,this.renderForms=In.renderForms,this.svgFactory=In.svgFactory,this.annotationStorage=In.annotationStorage,this.enableScripting=In.enableScripting,this.hasJSActions=In.hasJSActions,this._fieldObjects=In.fieldObjects,this.parent=In.parent,On&&(this.container=this._createContainer(Vn)),ui&&this._createQuadrilaterals()}static _hasPopupData({titleObj:In,contentsObj:On,richText:Vn}){return!!(In!=null&&In.str||On!=null&&On.str||Vn!=null&&Vn.str)}get hasPopupData(){return Tn._hasPopupData(this.data)}_createContainer(In){const{data:On,parent:{page:Vn,viewport:ui}}=this,hi=document.createElement("section");hi.setAttribute("data-annotation-id",On.id),this instanceof Ze||(hi.tabIndex=He),hi.style.zIndex=this.parent.zIndex++,this.data.popupRef&&hi.setAttribute("aria-haspopup","dialog"),On.noRotate&&hi.classList.add("norotate");const{pageWidth:xi,pageHeight:Ai,pageX:Ui,pageY:qi}=ui.rawDims;if(!On.rect||this instanceof Je){const{rotation:pr}=On;return!On.hasOwnCanvas&&pr!==0&&this.setRotation(pr,hi),hi}const{width:Fi,height:yr}=Xe(On.rect),Ki=Re.Util.normalizeRect([On.rect[0],Vn.view[3]-On.rect[1]+Vn.view[1],On.rect[2],Vn.view[3]-On.rect[3]+Vn.view[1]]);if(!In&&On.borderStyle.width>0){hi.style.borderWidth=`${On.borderStyle.width}px`;const pr=On.borderStyle.horizontalCornerRadius,Sr=On.borderStyle.verticalCornerRadius;if(pr>0||Sr>0){const Vr=`calc(${pr}px * var(--scale-factor)) / calc(${Sr}px * var(--scale-factor))`;hi.style.borderRadius=Vr}else if(this instanceof rn){const Vr=`calc(${Fi}px * var(--scale-factor)) / calc(${yr}px * var(--scale-factor))`;hi.style.borderRadius=Vr}switch(On.borderStyle.style){case Re.AnnotationBorderStyleType.SOLID:hi.style.borderStyle="solid";break;case Re.AnnotationBorderStyleType.DASHED:hi.style.borderStyle="dashed";break;case Re.AnnotationBorderStyleType.BEVELED:(0,Re.warn)("Unimplemented border style: beveled");break;case Re.AnnotationBorderStyleType.INSET:(0,Re.warn)("Unimplemented border style: inset");break;case Re.AnnotationBorderStyleType.UNDERLINE:hi.style.borderBottomStyle="solid";break}const Fr=On.borderColor||null;Fr?(ci(this,_n,!0),hi.style.borderColor=Re.Util.makeHexColor(Fr[0]|0,Fr[1]|0,Fr[2]|0)):hi.style.borderWidth=0}hi.style.left=`${100*(Ki[0]-Ui)/xi}%`,hi.style.top=`${100*(Ki[1]-qi)/Ai}%`;const{rotation:Ji}=On;return On.hasOwnCanvas||Ji===0?(hi.style.width=`${100*Fi/xi}%`,hi.style.height=`${100*yr/Ai}%`):this.setRotation(Ji,hi),hi}setRotation(In,On=this.container){if(!this.data.rect)return;const{pageWidth:Vn,pageHeight:ui}=this.parent.viewport.rawDims,{width:hi,height:xi}=Xe(this.data.rect);let Ai,Ui;In%180===0?(Ai=100*hi/Vn,Ui=100*xi/ui):(Ai=100*xi/Vn,Ui=100*hi/ui),On.style.width=`${Ai}%`,On.style.height=`${Ui}%`,On.setAttribute("data-main-rotation",(360-In)%360)}get _commonActions(){const In=(On,Vn,ui)=>{const hi=ui.detail[On],xi=hi[0],Ai=hi.slice(1);ui.target.style[Vn]=Ne.ColorConverters[`${xi}_HTML`](Ai),this.annotationStorage.setValue(this.data.id,{[Vn]:Ne.ColorConverters[`${xi}_rgb`](Ai)})};return(0,Re.shadow)(this,"_commonActions",{display:On=>{const{display:Vn}=On.detail,ui=Vn%2===1;this.container.style.visibility=ui?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:ui,noPrint:Vn===1||Vn===2})},print:On=>{this.annotationStorage.setValue(this.data.id,{noPrint:!On.detail.print})},hidden:On=>{const{hidden:Vn}=On.detail;this.container.style.visibility=Vn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Vn,noView:Vn})},focus:On=>{setTimeout(()=>On.target.focus({preventScroll:!1}),0)},userName:On=>{On.target.title=On.detail.userName},readonly:On=>{On.target.disabled=On.detail.readonly},required:On=>{this._setRequired(On.target,On.detail.required)},bgColor:On=>{In("bgColor","backgroundColor",On)},fillColor:On=>{In("fillColor","backgroundColor",On)},fgColor:On=>{In("fgColor","color",On)},textColor:On=>{In("textColor","color",On)},borderColor:On=>{In("borderColor","borderColor",On)},strokeColor:On=>{In("strokeColor","borderColor",On)},rotation:On=>{const Vn=On.detail.rotation;this.setRotation(Vn),this.annotationStorage.setValue(this.data.id,{rotation:Vn})}})}_dispatchEventFromSandbox(In,On){const Vn=this._commonActions;for(const ui of Object.keys(On.detail)){const hi=In[ui]||Vn[ui];hi==null||hi(On)}}_setDefaultPropertiesFromJS(In){if(!this.enableScripting)return;const On=this.annotationStorage.getRawValue(this.data.id);if(!On)return;const Vn=this._commonActions;for(const[ui,hi]of Object.entries(On)){const xi=Vn[ui];if(xi){const Ai={detail:{[ui]:hi},target:In};xi(Ai),delete On[ui]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:In}=this.data;if(!In)return;const[On,Vn,ui,hi]=this.data.rect;if(In.length===1){const[,{x:Sr,y:Fr},{x:Vr,y:vs}]=In[0];if(ui===Sr&&hi===Fr&&On===Vr&&Vn===vs)return}const{style:xi}=this.container;let Ai;if(un(this,_n)){const{borderColor:Sr,borderWidth:Fr}=xi;xi.borderWidth=0,Ai=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Sr}" stroke-width="${Fr}">`],this.container.classList.add("hasBorder")}const Ui=ui-On,qi=hi-Vn,{svgFactory:Fi}=this,yr=Fi.createElement("svg");yr.classList.add("quadrilateralsContainer"),yr.setAttribute("width",0),yr.setAttribute("height",0);const Ki=Fi.createElement("defs");yr.append(Ki);const Ji=Fi.createElement("clipPath"),pr=`clippath_${this.data.id}`;Ji.setAttribute("id",pr),Ji.setAttribute("clipPathUnits","objectBoundingBox"),Ki.append(Ji);for(const[,{x:Sr,y:Fr},{x:Vr,y:vs}]of In){const ts=Fi.createElement("rect"),Ws=(Vr-On)/Ui,Zs=(hi-Fr)/qi,Qs=(Sr-Vr)/Ui,Da=(Fr-vs)/qi;ts.setAttribute("x",Ws),ts.setAttribute("y",Zs),ts.setAttribute("width",Qs),ts.setAttribute("height",Da),Ji.append(ts),Ai==null||Ai.push(`<rect vector-effect="non-scaling-stroke" x="${Ws}" y="${Zs}" width="${Qs}" height="${Da}"/>`)}un(this,_n)&&(Ai.push("</g></svg>')"),xi.backgroundImage=Ai.join("")),this.container.append(yr),this.container.style.clipPath=`url(#${pr})`}_createPopup(){const{container:In,data:On}=this;In.setAttribute("aria-haspopup","dialog");const Vn=new Je({data:{color:On.color,titleObj:On.titleObj,modificationDate:On.modificationDate,contentsObj:On.contentsObj,richText:On.richText,parentRect:On.rect,borderStyle:0,id:`popup_${On.id}`,rotation:On.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Vn.render())}render(){(0,Re.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(In,On=null){const Vn=[];if(this._fieldObjects){const ui=this._fieldObjects[In];if(ui)for(const{page:hi,id:xi,exportValues:Ai}of ui){if(hi===-1||xi===On)continue;const Ui=typeof Ai=="string"?Ai:null,qi=document.querySelector(`[data-element-id="${xi}"]`);if(qi&&!Ge.has(qi)){(0,Re.warn)(`_getElementsByName - element not allowed: ${xi}`);continue}Vn.push({id:xi,exportValue:Ui,domElement:qi})}return Vn}for(const ui of document.getElementsByName(In)){const{exportValue:hi}=ui,xi=ui.getAttribute("data-element-id");xi!==On&&Ge.has(ui)&&Vn.push({id:xi,exportValue:hi,domElement:ui})}return Vn}show(){var In;this.container&&(this.container.hidden=!1),(In=this.popup)==null||In.maybeShow()}hide(){var In;this.container&&(this.container.hidden=!0),(In=this.popup)==null||In.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const In=this.getElementsToTriggerPopup();if(Array.isArray(In))for(const On of In)On.classList.add("highlightArea");else In.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:In,data:{id:On}}=this;this.container.addEventListener("dblclick",()=>{var Vn;(Vn=this.linkService.eventBus)==null||Vn.dispatch("switchannotationeditormode",{source:this,mode:In,editId:On})})}};_n=new WeakMap;let qe=Tn;class Ue extends qe{constructor(On,Vn=null){super(On,{isRenderable:!0,ignoreBorder:!!(Vn!=null&&Vn.ignoreBorder),createQuadrilaterals:!0});ai(this,Pn);this.isTooltipOnly=On.data.isTooltipOnly}render(){const{data:On,linkService:Vn}=this,ui=document.createElement("a");ui.setAttribute("data-element-id",On.id);let hi=!1;return On.url?(Vn.addLinkAttributes(ui,On.url,On.newWindow),hi=!0):On.action?(this._bindNamedAction(ui,On.action),hi=!0):On.attachment?(this._bindAttachment(ui,On.attachment),hi=!0):On.setOCGState?(Kn(this,Pn,Mp).call(this,ui,On.setOCGState),hi=!0):On.dest?(this._bindLink(ui,On.dest),hi=!0):(On.actions&&(On.actions.Action||On.actions["Mouse Up"]||On.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(ui,On),hi=!0),On.resetForm?(this._bindResetFormAction(ui,On.resetForm),hi=!0):this.isTooltipOnly&&!hi&&(this._bindLink(ui,""),hi=!0)),this.container.classList.add("linkAnnotation"),hi&&this.container.append(ui),this.container}_bindLink(On,Vn){On.href=this.linkService.getDestinationHash(Vn),On.onclick=()=>(Vn&&this.linkService.goToDestination(Vn),!1),(Vn||Vn==="")&&Kn(this,Pn,Fa).call(this)}_bindNamedAction(On,Vn){On.href=this.linkService.getAnchorUrl(""),On.onclick=()=>(this.linkService.executeNamedAction(Vn),!1),Kn(this,Pn,Fa).call(this)}_bindAttachment(On,Vn){On.href=this.linkService.getAnchorUrl(""),On.onclick=()=>{var ui;return(ui=this.downloadManager)==null||ui.openOrDownloadData(this.container,Vn.content,Vn.filename),!1},Kn(this,Pn,Fa).call(this)}_bindJSAction(On,Vn){On.href=this.linkService.getAnchorUrl("");const ui=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const hi of Object.keys(Vn.actions)){const xi=ui.get(hi);xi&&(On[xi]=()=>{var Ai;return(Ai=this.linkService.eventBus)==null||Ai.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Vn.id,name:hi}}),!1})}On.onclick||(On.onclick=()=>!1),Kn(this,Pn,Fa).call(this)}_bindResetFormAction(On,Vn){const ui=On.onclick;if(ui||(On.href=this.linkService.getAnchorUrl("")),Kn(this,Pn,Fa).call(this),!this._fieldObjects){(0,Re.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),ui||(On.onclick=()=>!1);return}On.onclick=()=>{var yr;ui==null||ui();const{fields:hi,refs:xi,include:Ai}=Vn,Ui=[];if(hi.length!==0||xi.length!==0){const Ki=new Set(xi);for(const Ji of hi){const pr=this._fieldObjects[Ji]||[];for(const{id:Sr}of pr)Ki.add(Sr)}for(const Ji of Object.values(this._fieldObjects))for(const pr of Ji)Ki.has(pr.id)===Ai&&Ui.push(pr)}else for(const Ki of Object.values(this._fieldObjects))Ui.push(...Ki);const qi=this.annotationStorage,Fi=[];for(const Ki of Ui){const{id:Ji}=Ki;switch(Fi.push(Ji),Ki.type){case"text":{const Sr=Ki.defaultValue||"";qi.setValue(Ji,{value:Sr});break}case"checkbox":case"radiobutton":{const Sr=Ki.defaultValue===Ki.exportValues;qi.setValue(Ji,{value:Sr});break}case"combobox":case"listbox":{const Sr=Ki.defaultValue||"";qi.setValue(Ji,{value:Sr});break}default:continue}const pr=document.querySelector(`[data-element-id="${Ji}"]`);if(pr){if(!Ge.has(pr)){(0,Re.warn)(`_bindResetFormAction - element not allowed: ${Ji}`);continue}}else continue;pr.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((yr=this.linkService.eventBus)==null||yr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Fi,name:"ResetForm"}})),!1}}}Pn=new WeakSet,Fa=function(){this.container.setAttribute("data-internal-link","")},Mp=function(On,Vn){On.href=this.linkService.getAnchorUrl(""),On.onclick=()=>(this.linkService.executeSetOCGState(Vn),!1),Kn(this,Pn,Fa).call(this)};class Ye extends qe{constructor(In){super(In,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const In=document.createElement("img");return In.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",In.alt="[{{type}} Annotation]",In.dataset.l10nId="text_annotation_type",In.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(In),this.container}}class Ze extends qe{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(In){var On;this.data.hasOwnCanvas&&(((On=In.previousSibling)==null?void 0:On.nodeName)==="CANVAS"&&(In.previousSibling.hidden=!0),In.hidden=!1)}_getKeyModifier(In){const{isWin:On,isMac:Vn}=Re.FeatureTest.platform;return On&&In.ctrlKey||Vn&&In.metaKey}_setEventListener(In,On,Vn,ui,hi){Vn.includes("mouse")?In.addEventListener(Vn,xi=>{var Ai;(Ai=this.linkService.eventBus)==null||Ai.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ui,value:hi(xi),shift:xi.shiftKey,modifier:this._getKeyModifier(xi)}})}):In.addEventListener(Vn,xi=>{var Ai;if(Vn==="blur"){if(!On.focused||!xi.relatedTarget)return;On.focused=!1}else if(Vn==="focus"){if(On.focused)return;On.focused=!0}hi&&((Ai=this.linkService.eventBus)==null||Ai.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ui,value:hi(xi)}}))})}_setEventListeners(In,On,Vn,ui){var hi,xi,Ai;for(const[Ui,qi]of Vn)(qi==="Action"||(hi=this.data.actions)!=null&&hi[qi])&&((qi==="Focus"||qi==="Blur")&&(On||(On={focused:!1})),this._setEventListener(In,On,Ui,qi,ui),qi==="Focus"&&!((xi=this.data.actions)!=null&&xi.Blur)?this._setEventListener(In,On,"blur","Blur",null):qi==="Blur"&&!((Ai=this.data.actions)!=null&&Ai.Focus)&&this._setEventListener(In,On,"focus","Focus",null))}_setBackgroundColor(In){const On=this.data.backgroundColor||null;In.style.backgroundColor=On===null?"transparent":Re.Util.makeHexColor(On[0],On[1],On[2])}_setTextStyle(In){const On=["left","center","right"],{fontColor:Vn}=this.data.defaultAppearanceData,ui=this.data.defaultAppearanceData.fontSize||We,hi=In.style;let xi;const Ai=2,Ui=qi=>Math.round(10*qi)/10;if(this.data.multiLine){const qi=Math.abs(this.data.rect[3]-this.data.rect[1]-Ai),Fi=Math.round(qi/(Re.LINE_FACTOR*ui))||1,yr=qi/Fi;xi=Math.min(ui,Ui(yr/Re.LINE_FACTOR))}else{const qi=Math.abs(this.data.rect[3]-this.data.rect[1]-Ai);xi=Math.min(ui,Ui(qi/Re.LINE_FACTOR))}hi.fontSize=`calc(${xi}px * var(--scale-factor))`,hi.color=Re.Util.makeHexColor(Vn[0],Vn[1],Vn[2]),this.data.textAlignment!==null&&(hi.textAlign=On[this.data.textAlignment])}_setRequired(In,On){On?In.setAttribute("required",!0):In.removeAttribute("required"),In.setAttribute("aria-required",On)}}class Qe extends Ze{constructor(In){const On=In.renderForms||!In.data.hasAppearance&&!!In.data.fieldValue;super(In,{isRenderable:On})}setPropertyOnSiblings(In,On,Vn,ui){const hi=this.annotationStorage;for(const xi of this._getElementsByName(In.name,In.id))xi.domElement&&(xi.domElement[On]=Vn),hi.setValue(xi.id,{[ui]:Vn})}render(){var ui,hi;const In=this.annotationStorage,On=this.data.id;this.container.classList.add("textWidgetAnnotation");let Vn=null;if(this.renderForms){const xi=In.getValue(On,{value:this.data.fieldValue});let Ai=xi.value||"";const Ui=In.getValue(On,{charLimit:this.data.maxLen}).charLimit;Ui&&Ai.length>Ui&&(Ai=Ai.slice(0,Ui));let qi=xi.formattedValue||((ui=this.data.textContent)==null?void 0:ui.join(`
`))||null;qi&&this.data.comb&&(qi=qi.replaceAll(/\s+/g,""));const Fi={userValue:Ai,formattedValue:qi,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Vn=document.createElement("textarea"),Vn.textContent=qi??Ai,this.data.doNotScroll&&(Vn.style.overflowY="hidden")):(Vn=document.createElement("input"),Vn.type="text",Vn.setAttribute("value",qi??Ai),this.data.doNotScroll&&(Vn.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Vn.hidden=!0),Ge.add(Vn),Vn.setAttribute("data-element-id",On),Vn.disabled=this.data.readOnly,Vn.name=this.data.fieldName,Vn.tabIndex=He,this._setRequired(Vn,this.data.required),Ui&&(Vn.maxLength=Ui),Vn.addEventListener("input",Ki=>{In.setValue(On,{value:Ki.target.value}),this.setPropertyOnSiblings(Vn,"value",Ki.target.value,"value"),Fi.formattedValue=null}),Vn.addEventListener("resetform",Ki=>{const Ji=this.data.defaultFieldValue??"";Vn.value=Fi.userValue=Ji,Fi.formattedValue=null});let yr=Ki=>{const{formattedValue:Ji}=Fi;Ji!=null&&(Ki.target.value=Ji),Ki.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Vn.addEventListener("focus",Ji=>{if(Fi.focused)return;const{target:pr}=Ji;Fi.userValue&&(pr.value=Fi.userValue),Fi.lastCommittedValue=pr.value,Fi.commitKey=1,Fi.focused=!0}),Vn.addEventListener("updatefromsandbox",Ji=>{this.showElementAndHideCanvas(Ji.target);const pr={value(Sr){Fi.userValue=Sr.detail.value??"",In.setValue(On,{value:Fi.userValue.toString()}),Sr.target.value=Fi.userValue},formattedValue(Sr){const{formattedValue:Fr}=Sr.detail;Fi.formattedValue=Fr,Fr!=null&&Sr.target!==document.activeElement&&(Sr.target.value=Fr),In.setValue(On,{formattedValue:Fr})},selRange(Sr){Sr.target.setSelectionRange(...Sr.detail.selRange)},charLimit:Sr=>{var ts;const{charLimit:Fr}=Sr.detail,{target:Vr}=Sr;if(Fr===0){Vr.removeAttribute("maxLength");return}Vr.setAttribute("maxLength",Fr);let vs=Fi.userValue;!vs||vs.length<=Fr||(vs=vs.slice(0,Fr),Vr.value=Fi.userValue=vs,In.setValue(On,{value:vs}),(ts=this.linkService.eventBus)==null||ts.dispatch("dispatcheventinsandbox",{source:this,detail:{id:On,name:"Keystroke",value:vs,willCommit:!0,commitKey:1,selStart:Vr.selectionStart,selEnd:Vr.selectionEnd}}))}};this._dispatchEventFromSandbox(pr,Ji)}),Vn.addEventListener("keydown",Ji=>{var Fr;Fi.commitKey=1;let pr=-1;if(Ji.key==="Escape"?pr=0:Ji.key==="Enter"&&!this.data.multiLine?pr=2:Ji.key==="Tab"&&(Fi.commitKey=3),pr===-1)return;const{value:Sr}=Ji.target;Fi.lastCommittedValue!==Sr&&(Fi.lastCommittedValue=Sr,Fi.userValue=Sr,(Fr=this.linkService.eventBus)==null||Fr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:On,name:"Keystroke",value:Sr,willCommit:!0,commitKey:pr,selStart:Ji.target.selectionStart,selEnd:Ji.target.selectionEnd}}))});const Ki=yr;yr=null,Vn.addEventListener("blur",Ji=>{var Sr;if(!Fi.focused||!Ji.relatedTarget)return;Fi.focused=!1;const{value:pr}=Ji.target;Fi.userValue=pr,Fi.lastCommittedValue!==pr&&((Sr=this.linkService.eventBus)==null||Sr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:On,name:"Keystroke",value:pr,willCommit:!0,commitKey:Fi.commitKey,selStart:Ji.target.selectionStart,selEnd:Ji.target.selectionEnd}})),Ki(Ji)}),(hi=this.data.actions)!=null&&hi.Keystroke&&Vn.addEventListener("beforeinput",Ji=>{var Zs;Fi.lastCommittedValue=null;const{data:pr,target:Sr}=Ji,{value:Fr,selectionStart:Vr,selectionEnd:vs}=Sr;let ts=Vr,Ws=vs;switch(Ji.inputType){case"deleteWordBackward":{const Qs=Fr.substring(0,Vr).match(/\w*[^\w]*$/);Qs&&(ts-=Qs[0].length);break}case"deleteWordForward":{const Qs=Fr.substring(Vr).match(/^[^\w]*\w*/);Qs&&(Ws+=Qs[0].length);break}case"deleteContentBackward":Vr===vs&&(ts-=1);break;case"deleteContentForward":Vr===vs&&(Ws+=1);break}Ji.preventDefault(),(Zs=this.linkService.eventBus)==null||Zs.dispatch("dispatcheventinsandbox",{source:this,detail:{id:On,name:"Keystroke",value:Fr,change:pr||"",willCommit:!1,selStart:ts,selEnd:Ws}})}),this._setEventListeners(Vn,Fi,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ji=>Ji.target.value)}if(yr&&Vn.addEventListener("blur",yr),this.data.comb){const Ji=(this.data.rect[2]-this.data.rect[0])/Ui;Vn.classList.add("comb"),Vn.style.letterSpacing=`calc(${Ji}px * var(--scale-factor) - 1ch)`}}else Vn=document.createElement("div"),Vn.textContent=this.data.fieldValue,Vn.style.verticalAlign="middle",Vn.style.display="table-cell";return this._setTextStyle(Vn),this._setBackgroundColor(Vn),this._setDefaultPropertiesFromJS(Vn),this.container.append(Vn),this.container}}class pn extends Ze{constructor(In){super(In,{isRenderable:!!In.data.hasOwnCanvas})}}class nn extends Ze{constructor(In){super(In,{isRenderable:In.renderForms})}render(){const In=this.annotationStorage,On=this.data,Vn=On.id;let ui=In.getValue(Vn,{value:On.exportValue===On.fieldValue}).value;typeof ui=="string"&&(ui=ui!=="Off",In.setValue(Vn,{value:ui})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const hi=document.createElement("input");return Ge.add(hi),hi.setAttribute("data-element-id",Vn),hi.disabled=On.readOnly,this._setRequired(hi,this.data.required),hi.type="checkbox",hi.name=On.fieldName,ui&&hi.setAttribute("checked",!0),hi.setAttribute("exportValue",On.exportValue),hi.tabIndex=He,hi.addEventListener("change",xi=>{const{name:Ai,checked:Ui}=xi.target;for(const qi of this._getElementsByName(Ai,Vn)){const Fi=Ui&&qi.exportValue===On.exportValue;qi.domElement&&(qi.domElement.checked=Fi),In.setValue(qi.id,{value:Fi})}In.setValue(Vn,{value:Ui})}),hi.addEventListener("resetform",xi=>{const Ai=On.defaultFieldValue||"Off";xi.target.checked=Ai===On.exportValue}),this.enableScripting&&this.hasJSActions&&(hi.addEventListener("updatefromsandbox",xi=>{const Ai={value(Ui){Ui.target.checked=Ui.detail.value!=="Off",In.setValue(Vn,{value:Ui.target.checked})}};this._dispatchEventFromSandbox(Ai,xi)}),this._setEventListeners(hi,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],xi=>xi.target.checked)),this._setBackgroundColor(hi),this._setDefaultPropertiesFromJS(hi),this.container.append(hi),this.container}}class rn extends Ze{constructor(In){super(In,{isRenderable:In.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const In=this.annotationStorage,On=this.data,Vn=On.id;let ui=In.getValue(Vn,{value:On.fieldValue===On.buttonValue}).value;typeof ui=="string"&&(ui=ui!==On.buttonValue,In.setValue(Vn,{value:ui}));const hi=document.createElement("input");if(Ge.add(hi),hi.setAttribute("data-element-id",Vn),hi.disabled=On.readOnly,this._setRequired(hi,this.data.required),hi.type="radio",hi.name=On.fieldName,ui&&hi.setAttribute("checked",!0),hi.tabIndex=He,hi.addEventListener("change",xi=>{const{name:Ai,checked:Ui}=xi.target;for(const qi of this._getElementsByName(Ai,Vn))In.setValue(qi.id,{value:!1});In.setValue(Vn,{value:Ui})}),hi.addEventListener("resetform",xi=>{const Ai=On.defaultFieldValue;xi.target.checked=Ai!=null&&Ai===On.buttonValue}),this.enableScripting&&this.hasJSActions){const xi=On.buttonValue;hi.addEventListener("updatefromsandbox",Ai=>{const Ui={value:qi=>{const Fi=xi===qi.detail.value;for(const yr of this._getElementsByName(qi.target.name)){const Ki=Fi&&yr.id===Vn;yr.domElement&&(yr.domElement.checked=Ki),In.setValue(yr.id,{value:Ki})}}};this._dispatchEventFromSandbox(Ui,Ai)}),this._setEventListeners(hi,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ai=>Ai.target.checked)}return this._setBackgroundColor(hi),this._setDefaultPropertiesFromJS(hi),this.container.append(hi),this.container}}class cn extends Ue{constructor(In){super(In,{ignoreBorder:In.data.hasAppearance})}render(){const In=super.render();In.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(In.title=this.data.alternativeText);const On=In.lastChild;return this.enableScripting&&this.hasJSActions&&On&&(this._setDefaultPropertiesFromJS(On),On.addEventListener("updatefromsandbox",Vn=>{this._dispatchEventFromSandbox({},Vn)})),In}}class tn extends Ze{constructor(In){super(In,{isRenderable:In.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const In=this.annotationStorage,On=this.data.id,Vn=In.getValue(On,{value:this.data.fieldValue}),ui=document.createElement("select");Ge.add(ui),ui.setAttribute("data-element-id",On),ui.disabled=this.data.readOnly,this._setRequired(ui,this.data.required),ui.name=this.data.fieldName,ui.tabIndex=He;let hi=this.data.combo&&this.data.options.length>0;this.data.combo||(ui.size=this.data.options.length,this.data.multiSelect&&(ui.multiple=!0)),ui.addEventListener("resetform",Fi=>{const yr=this.data.defaultFieldValue;for(const Ki of ui.options)Ki.selected=Ki.value===yr});for(const Fi of this.data.options){const yr=document.createElement("option");yr.textContent=Fi.displayValue,yr.value=Fi.exportValue,Vn.value.includes(Fi.exportValue)&&(yr.setAttribute("selected",!0),hi=!1),ui.append(yr)}let xi=null;if(hi){const Fi=document.createElement("option");Fi.value=" ",Fi.setAttribute("hidden",!0),Fi.setAttribute("selected",!0),ui.prepend(Fi),xi=()=>{Fi.remove(),ui.removeEventListener("input",xi),xi=null},ui.addEventListener("input",xi)}const Ai=Fi=>{const yr=Fi?"value":"textContent",{options:Ki,multiple:Ji}=ui;return Ji?Array.prototype.filter.call(Ki,pr=>pr.selected).map(pr=>pr[yr]):Ki.selectedIndex===-1?null:Ki[Ki.selectedIndex][yr]};let Ui=Ai(!1);const qi=Fi=>{const yr=Fi.target.options;return Array.prototype.map.call(yr,Ki=>({displayValue:Ki.textContent,exportValue:Ki.value}))};return this.enableScripting&&this.hasJSActions?(ui.addEventListener("updatefromsandbox",Fi=>{const yr={value(Ki){xi==null||xi();const Ji=Ki.detail.value,pr=new Set(Array.isArray(Ji)?Ji:[Ji]);for(const Sr of ui.options)Sr.selected=pr.has(Sr.value);In.setValue(On,{value:Ai(!0)}),Ui=Ai(!1)},multipleSelection(Ki){ui.multiple=!0},remove(Ki){const Ji=ui.options,pr=Ki.detail.remove;Ji[pr].selected=!1,ui.remove(pr),Ji.length>0&&Array.prototype.findIndex.call(Ji,Fr=>Fr.selected)===-1&&(Ji[0].selected=!0),In.setValue(On,{value:Ai(!0),items:qi(Ki)}),Ui=Ai(!1)},clear(Ki){for(;ui.length!==0;)ui.remove(0);In.setValue(On,{value:null,items:[]}),Ui=Ai(!1)},insert(Ki){const{index:Ji,displayValue:pr,exportValue:Sr}=Ki.detail.insert,Fr=ui.children[Ji],Vr=document.createElement("option");Vr.textContent=pr,Vr.value=Sr,Fr?Fr.before(Vr):ui.append(Vr),In.setValue(On,{value:Ai(!0),items:qi(Ki)}),Ui=Ai(!1)},items(Ki){const{items:Ji}=Ki.detail;for(;ui.length!==0;)ui.remove(0);for(const pr of Ji){const{displayValue:Sr,exportValue:Fr}=pr,Vr=document.createElement("option");Vr.textContent=Sr,Vr.value=Fr,ui.append(Vr)}ui.options.length>0&&(ui.options[0].selected=!0),In.setValue(On,{value:Ai(!0),items:qi(Ki)}),Ui=Ai(!1)},indices(Ki){const Ji=new Set(Ki.detail.indices);for(const pr of Ki.target.options)pr.selected=Ji.has(pr.index);In.setValue(On,{value:Ai(!0)}),Ui=Ai(!1)},editable(Ki){Ki.target.disabled=!Ki.detail.editable}};this._dispatchEventFromSandbox(yr,Fi)}),ui.addEventListener("input",Fi=>{var Ki;const yr=Ai(!0);In.setValue(On,{value:yr}),Fi.preventDefault(),(Ki=this.linkService.eventBus)==null||Ki.dispatch("dispatcheventinsandbox",{source:this,detail:{id:On,name:"Keystroke",value:Ui,changeEx:yr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(ui,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Fi=>Fi.target.value)):ui.addEventListener("input",function(Fi){In.setValue(On,{value:Ai(!0)})}),this.data.combo&&this._setTextStyle(ui),this._setBackgroundColor(ui),this._setDefaultPropertiesFromJS(ui),this.container.append(ui),this.container}}class Je extends qe{constructor(In){const{data:On,elements:Vn}=In;super(In,{isRenderable:qe._hasPopupData(On)}),this.elements=Vn}render(){this.container.classList.add("popupAnnotation");const In=new an({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),On=[];for(const Vn of this.elements)Vn.popup=In,On.push(Vn.data.id),Vn.addHighlightArea();return this.container.setAttribute("aria-controls",On.map(Vn=>`${Re.AnnotationPrefix}${Vn}`).join(",")),this.container}}class an{constructor({container:In,color:On,elements:Vn,titleObj:ui,modificationDate:hi,contentsObj:xi,richText:Ai,parent:Ui,rect:qi,parentRect:Fi,open:yr}){ai(this,Ei);ai(this,Xn,null);ai(this,li,Kn(this,Ei,Tp).bind(this));ai(this,oi,Kn(this,Ei,gh).bind(this));ai(this,di,Kn(this,Ei,mh).bind(this));ai(this,vi,Kn(this,Ei,bu).bind(this));ai(this,yi,null);ai(this,Zn,null);ai(this,Gn,null);ai(this,wn,null);ai(this,Ln,null);ai(this,Wn,null);ai(this,Bn,!1);ai(this,Yn,null);ai(this,fi,null);ai(this,gi,null);ai(this,$n,null);ai(this,Pi,!1);var Ji;ci(this,Zn,In),ci(this,$n,ui),ci(this,Gn,xi),ci(this,gi,Ai),ci(this,Ln,Ui),ci(this,yi,On),ci(this,fi,qi),ci(this,Wn,Fi),ci(this,wn,Vn);const Ki=Ie.PDFDateString.toDateObject(hi);Ki&&ci(this,Xn,Ui.l10n.get("annotation_date_string",{date:Ki.toLocaleDateString(),time:Ki.toLocaleTimeString()})),this.trigger=Vn.flatMap(pr=>pr.getElementsToTriggerPopup());for(const pr of this.trigger)pr.addEventListener("click",un(this,vi)),pr.addEventListener("mouseenter",un(this,di)),pr.addEventListener("mouseleave",un(this,oi)),pr.classList.add("popupTriggerArea");for(const pr of Vn)(Ji=pr.container)==null||Ji.addEventListener("keydown",un(this,li));un(this,Zn).hidden=!0,yr&&Kn(this,Ei,bu).call(this)}render(){if(un(this,Yn))return;const{page:{view:In},viewport:{rawDims:{pageWidth:On,pageHeight:Vn,pageX:ui,pageY:hi}}}=un(this,Ln),xi=ci(this,Yn,document.createElement("div"));if(xi.className="popup",un(this,yi)){const ts=xi.style.outlineColor=Re.Util.makeHexColor(...un(this,yi));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?xi.style.backgroundColor=`color-mix(in srgb, ${ts} 30%, white)`:xi.style.backgroundColor=Re.Util.makeHexColor(...un(this,yi).map(Zs=>Math.floor(.7*(255-Zs)+Zs)))}const Ai=document.createElement("span");Ai.className="header";const Ui=document.createElement("h1");if(Ai.append(Ui),{dir:Ui.dir,str:Ui.textContent}=un(this,$n),xi.append(Ai),un(this,Xn)){const ts=document.createElement("span");ts.classList.add("popupDate"),un(this,Xn).then(Ws=>{ts.textContent=Ws}),Ai.append(ts)}const qi=un(this,Gn),Fi=un(this,gi);if(Fi!=null&&Fi.str&&(!(qi!=null&&qi.str)||qi.str===Fi.str))Be.XfaLayer.render({xfaHtml:Fi.html,intent:"richText",div:xi}),xi.lastChild.classList.add("richText","popupContent");else{const ts=this._formatContents(qi);xi.append(ts)}let yr=!!un(this,Wn),Ki=yr?un(this,Wn):un(this,fi);for(const ts of un(this,wn))if(!Ki||Re.Util.intersect(ts.data.rect,Ki)!==null){Ki=ts.data.rect,yr=!0;break}const Ji=Re.Util.normalizeRect([Ki[0],In[3]-Ki[1]+In[1],Ki[2],In[3]-Ki[3]+In[1]]),Sr=yr?Ki[2]-Ki[0]+5:0,Fr=Ji[0]+Sr,Vr=Ji[1],{style:vs}=un(this,Zn);vs.left=`${100*(Fr-ui)/On}%`,vs.top=`${100*(Vr-hi)/Vn}%`,un(this,Zn).append(xi)}_formatContents({str:In,dir:On}){const Vn=document.createElement("p");Vn.classList.add("popupContent"),Vn.dir=On;const ui=In.split(/(?:\r\n?|\n)/);for(let hi=0,xi=ui.length;hi<xi;++hi){const Ai=ui[hi];Vn.append(document.createTextNode(Ai)),hi<xi-1&&Vn.append(document.createElement("br"))}return Vn}forceHide(){ci(this,Pi,this.isVisible),un(this,Pi)&&(un(this,Zn).hidden=!0)}maybeShow(){un(this,Pi)&&(ci(this,Pi,!1),un(this,Zn).hidden=!1)}get isVisible(){return un(this,Zn).hidden===!1}}Xn=new WeakMap,li=new WeakMap,oi=new WeakMap,di=new WeakMap,vi=new WeakMap,yi=new WeakMap,Zn=new WeakMap,Gn=new WeakMap,wn=new WeakMap,Ln=new WeakMap,Wn=new WeakMap,Bn=new WeakMap,Yn=new WeakMap,fi=new WeakMap,gi=new WeakMap,$n=new WeakMap,Pi=new WeakMap,Ei=new WeakSet,Tp=function(In){In.altKey||In.shiftKey||In.ctrlKey||In.metaKey||(In.key==="Enter"||In.key==="Escape"&&un(this,Bn))&&Kn(this,Ei,bu).call(this)},bu=function(){ci(this,Bn,!un(this,Bn)),un(this,Bn)?(Kn(this,Ei,mh).call(this),un(this,Zn).addEventListener("click",un(this,vi)),un(this,Zn).addEventListener("keydown",un(this,li))):(Kn(this,Ei,gh).call(this),un(this,Zn).removeEventListener("click",un(this,vi)),un(this,Zn).removeEventListener("keydown",un(this,li)))},mh=function(){un(this,Yn)||this.render(),this.isVisible?un(this,Bn)&&un(this,Zn).classList.add("focused"):(un(this,Zn).hidden=!1,un(this,Zn).style.zIndex=parseInt(un(this,Zn).style.zIndex)+1e3)},gh=function(){un(this,Zn).classList.remove("focused"),!(un(this,Bn)||!this.isVisible)&&(un(this,Zn).hidden=!0,un(this,Zn).style.zIndex=parseInt(un(this,Zn).style.zIndex)-1e3)};class gn extends qe{constructor(In){super(In,{isRenderable:!0,ignoreBorder:!0}),this.textContent=In.data.textContent,this.textPosition=In.data.textPosition,this.annotationEditorType=Re.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const In=document.createElement("div");In.classList.add("annotationTextContent"),In.setAttribute("role","comment");for(const On of this.textContent){const Vn=document.createElement("span");Vn.textContent=On,In.append(Vn)}this.container.append(In)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}_e.FreeTextAnnotationElement=gn;class Ke extends qe{constructor(On){super(On,{isRenderable:!0,ignoreBorder:!0});ai(this,Xi,null)}render(){this.container.classList.add("lineAnnotation");const On=this.data,{width:Vn,height:ui}=Xe(On.rect),hi=this.svgFactory.create(Vn,ui,!0),xi=ci(this,Xi,this.svgFactory.createElement("svg:line"));return xi.setAttribute("x1",On.rect[2]-On.lineCoordinates[0]),xi.setAttribute("y1",On.rect[3]-On.lineCoordinates[1]),xi.setAttribute("x2",On.rect[2]-On.lineCoordinates[2]),xi.setAttribute("y2",On.rect[3]-On.lineCoordinates[3]),xi.setAttribute("stroke-width",On.borderStyle.width||1),xi.setAttribute("stroke","transparent"),xi.setAttribute("fill","transparent"),hi.append(xi),this.container.append(hi),!On.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return un(this,Xi)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xi=new WeakMap;class sn extends qe{constructor(On){super(On,{isRenderable:!0,ignoreBorder:!0});ai(this,er,null)}render(){this.container.classList.add("squareAnnotation");const On=this.data,{width:Vn,height:ui}=Xe(On.rect),hi=this.svgFactory.create(Vn,ui,!0),xi=On.borderStyle.width,Ai=ci(this,er,this.svgFactory.createElement("svg:rect"));return Ai.setAttribute("x",xi/2),Ai.setAttribute("y",xi/2),Ai.setAttribute("width",Vn-xi),Ai.setAttribute("height",ui-xi),Ai.setAttribute("stroke-width",xi||1),Ai.setAttribute("stroke","transparent"),Ai.setAttribute("fill","transparent"),hi.append(Ai),this.container.append(hi),!On.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return un(this,er)}addHighlightArea(){this.container.classList.add("highlightArea")}}er=new WeakMap;class hn extends qe{constructor(On){super(On,{isRenderable:!0,ignoreBorder:!0});ai(this,Mr,null)}render(){this.container.classList.add("circleAnnotation");const On=this.data,{width:Vn,height:ui}=Xe(On.rect),hi=this.svgFactory.create(Vn,ui,!0),xi=On.borderStyle.width,Ai=ci(this,Mr,this.svgFactory.createElement("svg:ellipse"));return Ai.setAttribute("cx",Vn/2),Ai.setAttribute("cy",ui/2),Ai.setAttribute("rx",Vn/2-xi/2),Ai.setAttribute("ry",ui/2-xi/2),Ai.setAttribute("stroke-width",xi||1),Ai.setAttribute("stroke","transparent"),Ai.setAttribute("fill","transparent"),hi.append(Ai),this.container.append(hi),!On.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return un(this,Mr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mr=new WeakMap;class Cn extends qe{constructor(On){super(On,{isRenderable:!0,ignoreBorder:!0});ai(this,_i,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const On=this.data,{width:Vn,height:ui}=Xe(On.rect),hi=this.svgFactory.create(Vn,ui,!0);let xi=[];for(const Ui of On.vertices){const qi=Ui.x-On.rect[0],Fi=On.rect[3]-Ui.y;xi.push(qi+","+Fi)}xi=xi.join(" ");const Ai=ci(this,_i,this.svgFactory.createElement(this.svgElementName));return Ai.setAttribute("points",xi),Ai.setAttribute("stroke-width",On.borderStyle.width||1),Ai.setAttribute("stroke","transparent"),Ai.setAttribute("fill","transparent"),hi.append(Ai),this.container.append(hi),!On.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return un(this,_i)}addHighlightArea(){this.container.classList.add("highlightArea")}}_i=new WeakMap;class bn extends Cn{constructor(In){super(In),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class En extends qe{constructor(In){super(In,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class yn extends qe{constructor(On){super(On,{isRenderable:!0,ignoreBorder:!0});ai(this,Qn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Re.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const On=this.data,{width:Vn,height:ui}=Xe(On.rect),hi=this.svgFactory.create(Vn,ui,!0);for(const xi of On.inkLists){let Ai=[];for(const qi of xi){const Fi=qi.x-On.rect[0],yr=On.rect[3]-qi.y;Ai.push(`${Fi},${yr}`)}Ai=Ai.join(" ");const Ui=this.svgFactory.createElement(this.svgElementName);un(this,Qn).push(Ui),Ui.setAttribute("points",Ai),Ui.setAttribute("stroke-width",On.borderStyle.width||1),Ui.setAttribute("stroke","transparent"),Ui.setAttribute("fill","transparent"),!On.popupRef&&this.hasPopupData&&this._createPopup(),hi.append(Ui)}return this.container.append(hi),this.container}getElementsToTriggerPopup(){return un(this,Qn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qn=new WeakMap,_e.InkAnnotationElement=yn;class xn extends qe{constructor(In){super(In,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class vn extends qe{constructor(In){super(In,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class kn extends qe{constructor(In){super(In,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Sn extends qe{constructor(In){super(In,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class fn extends qe{constructor(In){super(In,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}_e.StampAnnotationElement=fn;class on extends qe{constructor(On){var hi;super(On,{isRenderable:!0});ai(this,Bi);ai(this,ti,null);const{filename:Vn,content:ui}=this.data.file;this.filename=(0,Ie.getFilenameFromUrl)(Vn,!0),this.content=ui,(hi=this.linkService.eventBus)==null||hi.dispatch("fileattachmentannotation",{source:this,filename:Vn,content:ui})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:On,data:Vn}=this;let ui;Vn.hasAppearance||Vn.fillAlpha===0?ui=document.createElement("div"):(ui=document.createElement("img"),ui.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Vn.name)?"paperclip":"pushpin"}.svg`,Vn.fillAlpha&&Vn.fillAlpha<1&&(ui.style=`filter: opacity(${Math.round(Vn.fillAlpha*100)}%);`)),ui.addEventListener("dblclick",Kn(this,Bi,vh).bind(this)),ci(this,ti,ui);const{isMac:hi}=Re.FeatureTest.platform;return On.addEventListener("keydown",xi=>{xi.key==="Enter"&&(hi?xi.metaKey:xi.ctrlKey)&&Kn(this,Bi,vh).call(this)}),!Vn.popupRef&&this.hasPopupData?this._createPopup():ui.classList.add("popupTriggerArea"),On.append(ui),On}getElementsToTriggerPopup(){return un(this,ti)}addHighlightArea(){this.container.classList.add("highlightArea")}}ti=new WeakMap,Bi=new WeakSet,vh=function(){var On;(On=this.downloadManager)==null||On.openOrDownloadData(this.container,this.content,this.filename)};class ln{constructor({div:In,accessibilityManager:On,annotationCanvasMap:Vn,l10n:ui,page:hi,viewport:xi}){ai(this,Ti);ai(this,Qi,null);ai(this,Fn,null);ai(this,pi,new Map);this.div=In,ci(this,Qi,On),ci(this,Fn,Vn),this.l10n=ui,this.page=hi,this.viewport=xi,this.zIndex=0,this.l10n||(this.l10n=je.NullL10n)}async render(In){const{annotations:On}=In,Vn=this.div;(0,Ie.setLayerDimensions)(Vn,this.viewport);const ui=new Map,hi={data:null,layer:Vn,linkService:In.linkService,downloadManager:In.downloadManager,imageResourcesPath:In.imageResourcesPath||"",renderForms:In.renderForms!==!1,svgFactory:new Ie.DOMSVGFactory,annotationStorage:In.annotationStorage||new Fe.AnnotationStorage,enableScripting:In.enableScripting===!0,hasJSActions:In.hasJSActions,fieldObjects:In.fieldObjects,parent:this,elements:null};for(const xi of On){if(xi.noHTML)continue;const Ai=xi.annotationType===Re.AnnotationType.POPUP;if(Ai){const Fi=ui.get(xi.id);if(!Fi)continue;hi.elements=Fi}else{const{width:Fi,height:yr}=Xe(xi.rect);if(Fi<=0||yr<=0)continue}hi.data=xi;const Ui=$e.create(hi);if(!Ui.isRenderable)continue;if(!Ai&&xi.popupRef){const Fi=ui.get(xi.popupRef);Fi?Fi.push(Ui):ui.set(xi.popupRef,[Ui])}Ui.annotationEditorType>0&&un(this,pi).set(Ui.data.id,Ui);const qi=Ui.render();xi.hidden&&(qi.style.visibility="hidden"),Kn(this,Ti,Rp).call(this,qi,xi.id)}Kn(this,Ti,bh).call(this),await this.l10n.translate(Vn)}update({viewport:In}){const On=this.div;this.viewport=In,(0,Ie.setLayerDimensions)(On,{rotation:In.rotation}),Kn(this,Ti,bh).call(this),On.hidden=!1}getEditableAnnotations(){return Array.from(un(this,pi).values())}getEditableAnnotation(In){return un(this,pi).get(In)}}Qi=new WeakMap,Fn=new WeakMap,pi=new WeakMap,Ti=new WeakSet,Rp=function(In,On){var ui;const Vn=In.firstChild||In;Vn.id=`${Re.AnnotationPrefix}${On}`,this.div.append(In),(ui=un(this,Qi))==null||ui.moveElementInDOM(this.div,In,Vn,!1)},bh=function(){if(!un(this,Fn))return;const In=this.div;for(const[On,Vn]of un(this,Fn)){const ui=In.querySelector(`[data-annotation-id="${On}"]`);if(!ui)continue;const{firstChild:hi}=ui;hi?hi.nodeName==="CANVAS"?hi.replaceWith(Vn):hi.before(Vn):ui.append(Vn)}un(this,Fn).clear()},_e.AnnotationLayer=ln},(Ae,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.ColorConverters=void 0;function ke(Fe){return Math.floor(Math.max(0,Math.min(1,Fe))*255).toString(16).padStart(2,"0")}function Re(Fe){return Math.max(0,Math.min(255,255*Fe))}class Ie{static CMYK_G([Ne,je,Be,He]){return["G",1-Math.min(1,.3*Ne+.59*Be+.11*je+He)]}static G_CMYK([Ne]){return["CMYK",0,0,0,1-Ne]}static G_RGB([Ne]){return["RGB",Ne,Ne,Ne]}static G_rgb([Ne]){return Ne=Re(Ne),[Ne,Ne,Ne]}static G_HTML([Ne]){const je=ke(Ne);return`#${je}${je}${je}`}static RGB_G([Ne,je,Be]){return["G",.3*Ne+.59*je+.11*Be]}static RGB_rgb(Ne){return Ne.map(Re)}static RGB_HTML(Ne){return`#${Ne.map(ke).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([Ne,je,Be,He]){return["RGB",1-Math.min(1,Ne+He),1-Math.min(1,Be+He),1-Math.min(1,je+He)]}static CMYK_rgb([Ne,je,Be,He]){return[Re(1-Math.min(1,Ne+He)),Re(1-Math.min(1,Be+He)),Re(1-Math.min(1,je+He))]}static CMYK_HTML(Ne){const je=this.CMYK_RGB(Ne).slice(1);return this.RGB_HTML(je)}static RGB_CMYK([Ne,je,Be]){const He=1-Ne,We=1-je,Ge=1-Be,Xe=Math.min(He,We,Ge);return["CMYK",He,We,Ge,Xe]}}_e.ColorConverters=Ie},(Ae,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.NullL10n=void 0,_e.getL10nFallback=Re;const ke={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};ke.print_progress_percent="{{progress}}%";function Re(Ne,je){switch(Ne){case"find_match_count":Ne=`find_match_count[${je.total===1?"one":"other"}]`;break;case"find_match_count_limit":Ne=`find_match_count_limit[${je.limit===1?"one":"other"}]`;break}return ke[Ne]||""}function Ie(Ne,je){return je?Ne.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(Be,He)=>He in je?je[He]:"{{"+He+"}}"):Ne}const Fe={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(Ne,je=null,Be=Re(Ne,je)){return Ie(Be,je)},async translate(Ne){}};_e.NullL10n=Fe},(Ae,_e,ke)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.XfaLayer=void 0;var Re=ke(25);class Ie{static setupStorage(Ne,je,Be,He,We){const Ge=He.getValue(je,{value:null});switch(Be.name){case"textarea":if(Ge.value!==null&&(Ne.textContent=Ge.value),We==="print")break;Ne.addEventListener("input",Xe=>{He.setValue(je,{value:Xe.target.value})});break;case"input":if(Be.attributes.type==="radio"||Be.attributes.type==="checkbox"){if(Ge.value===Be.attributes.xfaOn?Ne.setAttribute("checked",!0):Ge.value===Be.attributes.xfaOff&&Ne.removeAttribute("checked"),We==="print")break;Ne.addEventListener("change",Xe=>{He.setValue(je,{value:Xe.target.checked?Xe.target.getAttribute("xfaOn"):Xe.target.getAttribute("xfaOff")})})}else{if(Ge.value!==null&&Ne.setAttribute("value",Ge.value),We==="print")break;Ne.addEventListener("input",Xe=>{He.setValue(je,{value:Xe.target.value})})}break;case"select":if(Ge.value!==null){Ne.setAttribute("value",Ge.value);for(const Xe of Be.children)Xe.attributes.value===Ge.value?Xe.attributes.selected=!0:Xe.attributes.hasOwnProperty("selected")&&delete Xe.attributes.selected}Ne.addEventListener("input",Xe=>{const $e=Xe.target.options,qe=$e.selectedIndex===-1?"":$e[$e.selectedIndex].value;He.setValue(je,{value:qe})});break}}static setAttributes({html:Ne,element:je,storage:Be=null,intent:He,linkService:We}){const{attributes:Ge}=je,Xe=Ne instanceof HTMLAnchorElement;Ge.type==="radio"&&(Ge.name=`${Ge.name}-${He}`);for(const[$e,qe]of Object.entries(Ge))if(qe!=null)switch($e){case"class":qe.length&&Ne.setAttribute($e,qe.join(" "));break;case"dataId":break;case"id":Ne.setAttribute("data-element-id",qe);break;case"style":Object.assign(Ne.style,qe);break;case"textContent":Ne.textContent=qe;break;default:(!Xe||$e!=="href"&&$e!=="newWindow")&&Ne.setAttribute($e,qe)}Xe&&We.addLinkAttributes(Ne,Ge.href,Ge.newWindow),Be&&Ge.dataId&&this.setupStorage(Ne,Ge.dataId,je,Be)}static render(Ne){var Ue;const je=Ne.annotationStorage,Be=Ne.linkService,He=Ne.xfaHtml,We=Ne.intent||"display",Ge=document.createElement(He.name);He.attributes&&this.setAttributes({html:Ge,element:He,intent:We,linkService:Be});const Xe=[[He,-1,Ge]],$e=Ne.div;if($e.append(Ge),Ne.viewport){const Ye=`matrix(${Ne.viewport.transform.join(",")})`;$e.style.transform=Ye}We!=="richText"&&$e.setAttribute("class","xfaLayer xfaFont");const qe=[];for(;Xe.length>0;){const[Ye,Ze,Qe]=Xe.at(-1);if(Ze+1===Ye.children.length){Xe.pop();continue}const pn=Ye.children[++Xe.at(-1)[1]];if(pn===null)continue;const{name:nn}=pn;if(nn==="#text"){const cn=document.createTextNode(pn.value);qe.push(cn),Qe.append(cn);continue}const rn=(Ue=pn==null?void 0:pn.attributes)!=null&&Ue.xmlns?document.createElementNS(pn.attributes.xmlns,nn):document.createElement(nn);if(Qe.append(rn),pn.attributes&&this.setAttributes({html:rn,element:pn,storage:je,intent:We,linkService:Be}),pn.children&&pn.children.length>0)Xe.push([pn,-1,rn]);else if(pn.value){const cn=document.createTextNode(pn.value);Re.XfaText.shouldBuildText(nn)&&qe.push(cn),rn.append(cn)}}for(const Ye of $e.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))Ye.setAttribute("readOnly",!0);return{textDivs:qe}}static update(Ne){const je=`matrix(${Ne.viewport.transform.join(",")})`;Ne.div.style.transform=je,Ne.div.hidden=!1}}_e.XfaLayer=Ie},(Ae,_e,ke)=>{var He,We,Ge,Xe,$e,qe,Ue,Ye,Ze,Qe,pn,nn,rn,cn,tn,Lp,Op,Ip,Fp,yh,Dp,_h,Np,zp,jp,Bp,Hp,qo,Sh,yu,_u,yl,xh,Su,Pn,Wp,Eh,Vp,Up,wh,xu,_l;Object.defineProperty(_e,"__esModule",{value:!0}),_e.InkEditor=void 0;var Re=ke(1),Ie=ke(4),Fe=ke(29),Ne=ke(6),je=ke(5);const yi=class yi extends Ie.AnnotationEditor{constructor(wn){super({...wn,name:"inkEditor"});ai(this,tn);ai(this,He,0);ai(this,We,0);ai(this,Ge,this.canvasPointermove.bind(this));ai(this,Xe,this.canvasPointerleave.bind(this));ai(this,$e,this.canvasPointerup.bind(this));ai(this,qe,this.canvasPointerdown.bind(this));ai(this,Ue,new Path2D);ai(this,Ye,!1);ai(this,Ze,!1);ai(this,Qe,!1);ai(this,pn,null);ai(this,nn,0);ai(this,rn,0);ai(this,cn,null);this.color=wn.color||null,this.thickness=wn.thickness||null,this.opacity=wn.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(wn){Ie.AnnotationEditor.initialize(wn,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(wn,Ln){switch(wn){case Re.AnnotationEditorParamsType.INK_THICKNESS:yi._defaultThickness=Ln;break;case Re.AnnotationEditorParamsType.INK_COLOR:yi._defaultColor=Ln;break;case Re.AnnotationEditorParamsType.INK_OPACITY:yi._defaultOpacity=Ln/100;break}}updateParams(wn,Ln){switch(wn){case Re.AnnotationEditorParamsType.INK_THICKNESS:Kn(this,tn,Lp).call(this,Ln);break;case Re.AnnotationEditorParamsType.INK_COLOR:Kn(this,tn,Op).call(this,Ln);break;case Re.AnnotationEditorParamsType.INK_OPACITY:Kn(this,tn,Ip).call(this,Ln);break}}static get defaultPropertiesToUpdate(){return[[Re.AnnotationEditorParamsType.INK_THICKNESS,yi._defaultThickness],[Re.AnnotationEditorParamsType.INK_COLOR,yi._defaultColor||Ie.AnnotationEditor._defaultLineColor],[Re.AnnotationEditorParamsType.INK_OPACITY,Math.round(yi._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Re.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||yi._defaultThickness],[Re.AnnotationEditorParamsType.INK_COLOR,this.color||yi._defaultColor||Ie.AnnotationEditor._defaultLineColor],[Re.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??yi._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Kn(this,tn,yu).call(this),Kn(this,tn,_u).call(this)),this.isAttachedToDOM||(this.parent.add(this),Kn(this,tn,yl).call(this)),Kn(this,tn,_l).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,un(this,pn).disconnect(),ci(this,pn,null),super.remove())}setParent(wn){!this.parent&&wn?this._uiManager.removeShouldRescale(this):this.parent&&wn===null&&this._uiManager.addShouldRescale(this),super.setParent(wn)}onScaleChanging(){const[wn,Ln]=this.parentDimensions,Wn=this.width*wn,Bn=this.height*Ln;this.setDimensions(Wn,Bn)}enableEditMode(){un(this,Ye)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",un(this,qe)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",un(this,qe)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){un(this,Ye)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),ci(this,Ye,!0),this.div.classList.add("disabled"),Kn(this,tn,_l).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(wn){this._focusEventsAllowed&&(super.focusin(wn),this.enableEditMode())}canvasPointerdown(wn){wn.button!==0||!this.isInEditMode()||un(this,Ye)||(this.setInForeground(),wn.preventDefault(),wn.type!=="mouse"&&this.div.focus(),Kn(this,tn,Dp).call(this,wn.offsetX,wn.offsetY))}canvasPointermove(wn){wn.preventDefault(),Kn(this,tn,_h).call(this,wn.offsetX,wn.offsetY)}canvasPointerup(wn){wn.preventDefault(),Kn(this,tn,Sh).call(this,wn)}canvasPointerleave(wn){Kn(this,tn,Sh).call(this,wn)}get isResizable(){return!this.isEmpty()&&un(this,Ye)}render(){if(this.div)return this.div;let wn,Ln;this.width&&(wn=this.x,Ln=this.y),super.render(),Ie.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(gi=>{var $n;return($n=this.div)==null?void 0:$n.setAttribute("aria-label",gi)});const[Wn,Bn,Yn,fi]=Kn(this,tn,Fp).call(this);if(this.setAt(Wn,Bn,0,0),this.setDims(Yn,fi),Kn(this,tn,yu).call(this),this.width){const[gi,$n]=this.parentDimensions;this.setAspectRatio(this.width*gi,this.height*$n),this.setAt(wn*gi,Ln*$n,this.width*gi,this.height*$n),ci(this,Qe,!0),Kn(this,tn,yl).call(this),this.setDims(this.width*gi,this.height*$n),Kn(this,tn,qo).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Kn(this,tn,_u).call(this),this.div}setDimensions(wn,Ln){const Wn=Math.round(wn),Bn=Math.round(Ln);if(un(this,nn)===Wn&&un(this,rn)===Bn)return;ci(this,nn,Wn),ci(this,rn,Bn),this.canvas.style.visibility="hidden";const[Yn,fi]=this.parentDimensions;this.width=wn/Yn,this.height=Ln/fi,this.fixAndSetPosition(),un(this,Ye)&&Kn(this,tn,xh).call(this,wn,Ln),Kn(this,tn,yl).call(this),Kn(this,tn,qo).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(wn,Ln,Wn){var Xi,er,Mr;if(wn instanceof Fe.InkAnnotationElement)return null;const Bn=super.deserialize(wn,Ln,Wn);Bn.thickness=wn.thickness,Bn.color=Re.Util.makeHexColor(...wn.color),Bn.opacity=wn.opacity;const[Yn,fi]=Bn.pageDimensions,gi=Bn.width*Yn,$n=Bn.height*fi,Pi=Bn.parentScale,Ei=wn.thickness/2;ci(Bn,Ye,!0),ci(Bn,nn,Math.round(gi)),ci(Bn,rn,Math.round($n));const{paths:Yi,rect:Wi,rotation:ir}=wn;for(let{bezier:_i}of Yi){_i=Kn(Xi=yi,Pn,Vp).call(Xi,_i,Wi,ir);const Qn=[];Bn.paths.push(Qn);let ti=Pi*(_i[0]-Ei),Bi=Pi*(_i[1]-Ei);for(let Qi=2,Fn=_i.length;Qi<Fn;Qi+=6){const pi=Pi*(_i[Qi]-Ei),Ti=Pi*(_i[Qi+1]-Ei),$i=Pi*(_i[Qi+2]-Ei),Gi=Pi*(_i[Qi+3]-Ei),ji=Pi*(_i[Qi+4]-Ei),In=Pi*(_i[Qi+5]-Ei);Qn.push([[ti,Bi],[pi,Ti],[$i,Gi],[ji,In]]),ti=ji,Bi=In}const Vi=Kn(this,Pn,Wp).call(this,Qn);Bn.bezierPath2D.push(Vi)}const Mi=Kn(er=Bn,tn,wh).call(er);return ci(Bn,We,Math.max(Ie.AnnotationEditor.MIN_SIZE,Mi[2]-Mi[0])),ci(Bn,He,Math.max(Ie.AnnotationEditor.MIN_SIZE,Mi[3]-Mi[1])),Kn(Mr=Bn,tn,xh).call(Mr,gi,$n),Bn}serialize(){if(this.isEmpty())return null;const wn=this.getRect(0,0),Ln=Ie.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Re.AnnotationEditorType.INK,color:Ln,thickness:this.thickness,opacity:this.opacity,paths:Kn(this,tn,Up).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,wn),pageIndex:this.pageIndex,rect:wn,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};He=new WeakMap,We=new WeakMap,Ge=new WeakMap,Xe=new WeakMap,$e=new WeakMap,qe=new WeakMap,Ue=new WeakMap,Ye=new WeakMap,Ze=new WeakMap,Qe=new WeakMap,pn=new WeakMap,nn=new WeakMap,rn=new WeakMap,cn=new WeakMap,tn=new WeakSet,Lp=function(wn){const Ln=this.thickness;this.addCommands({cmd:()=>{this.thickness=wn,Kn(this,tn,_l).call(this)},undo:()=>{this.thickness=Ln,Kn(this,tn,_l).call(this)},mustExec:!0,type:Re.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Op=function(wn){const Ln=this.color;this.addCommands({cmd:()=>{this.color=wn,Kn(this,tn,qo).call(this)},undo:()=>{this.color=Ln,Kn(this,tn,qo).call(this)},mustExec:!0,type:Re.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Ip=function(wn){wn/=100;const Ln=this.opacity;this.addCommands({cmd:()=>{this.opacity=wn,Kn(this,tn,qo).call(this)},undo:()=>{this.opacity=Ln,Kn(this,tn,qo).call(this)},mustExec:!0,type:Re.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Fp=function(){const{parentRotation:wn,parentDimensions:[Ln,Wn]}=this;switch(wn){case 90:return[0,Wn,Wn,Ln];case 180:return[Ln,Wn,Ln,Wn];case 270:return[Ln,0,Wn,Ln];default:return[0,0,Ln,Wn]}},yh=function(){const{ctx:wn,color:Ln,opacity:Wn,thickness:Bn,parentScale:Yn,scaleFactor:fi}=this;wn.lineWidth=Bn*Yn/fi,wn.lineCap="round",wn.lineJoin="round",wn.miterLimit=10,wn.strokeStyle=`${Ln}${(0,je.opacityToHex)(Wn)}`},Dp=function(wn,Ln){this.canvas.addEventListener("contextmenu",Ne.noContextMenu),this.canvas.addEventListener("pointerleave",un(this,Xe)),this.canvas.addEventListener("pointermove",un(this,Ge)),this.canvas.addEventListener("pointerup",un(this,$e)),this.canvas.removeEventListener("pointerdown",un(this,qe)),this.isEditing=!0,un(this,Qe)||(ci(this,Qe,!0),Kn(this,tn,yl).call(this),this.thickness||(this.thickness=yi._defaultThickness),this.color||(this.color=yi._defaultColor||Ie.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=yi._defaultOpacity)),this.currentPath.push([wn,Ln]),ci(this,Ze,!1),Kn(this,tn,yh).call(this),ci(this,cn,()=>{Kn(this,tn,jp).call(this),un(this,cn)&&window.requestAnimationFrame(un(this,cn))}),window.requestAnimationFrame(un(this,cn))},_h=function(wn,Ln){const[Wn,Bn]=this.currentPath.at(-1);if(this.currentPath.length>1&&wn===Wn&&Ln===Bn)return;const Yn=this.currentPath;let fi=un(this,Ue);if(Yn.push([wn,Ln]),ci(this,Ze,!0),Yn.length<=2){fi.moveTo(...Yn[0]),fi.lineTo(wn,Ln);return}Yn.length===3&&(ci(this,Ue,fi=new Path2D),fi.moveTo(...Yn[0])),Kn(this,tn,Bp).call(this,fi,...Yn.at(-3),...Yn.at(-2),wn,Ln)},Np=function(){if(this.currentPath.length===0)return;const wn=this.currentPath.at(-1);un(this,Ue).lineTo(...wn)},zp=function(wn,Ln){ci(this,cn,null),wn=Math.min(Math.max(wn,0),this.canvas.width),Ln=Math.min(Math.max(Ln,0),this.canvas.height),Kn(this,tn,_h).call(this,wn,Ln),Kn(this,tn,Np).call(this);let Wn;if(this.currentPath.length!==1)Wn=Kn(this,tn,Hp).call(this);else{const $n=[wn,Ln];Wn=[[$n,$n.slice(),$n.slice(),$n]]}const Bn=un(this,Ue),Yn=this.currentPath;this.currentPath=[],ci(this,Ue,new Path2D);const fi=()=>{this.allRawPaths.push(Yn),this.paths.push(Wn),this.bezierPath2D.push(Bn),this.rebuild()},gi=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Kn(this,tn,yu).call(this),Kn(this,tn,_u).call(this)),Kn(this,tn,_l).call(this))};this.addCommands({cmd:fi,undo:gi,mustExec:!0})},jp=function(){if(!un(this,Ze))return;ci(this,Ze,!1);const wn=Math.ceil(this.thickness*this.parentScale),Ln=this.currentPath.slice(-3),Wn=Ln.map(fi=>fi[0]),Bn=Ln.map(fi=>fi[1]);Math.min(...Wn)-wn,Math.max(...Wn)+wn,Math.min(...Bn)-wn,Math.max(...Bn)+wn;const{ctx:Yn}=this;Yn.save(),Yn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const fi of this.bezierPath2D)Yn.stroke(fi);Yn.stroke(un(this,Ue)),Yn.restore()},Bp=function(wn,Ln,Wn,Bn,Yn,fi,gi){const $n=(Ln+Bn)/2,Pi=(Wn+Yn)/2,Ei=(Bn+fi)/2,Yi=(Yn+gi)/2;wn.bezierCurveTo($n+2*(Bn-$n)/3,Pi+2*(Yn-Pi)/3,Ei+2*(Bn-Ei)/3,Yi+2*(Yn-Yi)/3,Ei,Yi)},Hp=function(){const wn=this.currentPath;if(wn.length<=2)return[[wn[0],wn[0],wn.at(-1),wn.at(-1)]];const Ln=[];let Wn,[Bn,Yn]=wn[0];for(Wn=1;Wn<wn.length-2;Wn++){const[Wi,ir]=wn[Wn],[Mi,Xi]=wn[Wn+1],er=(Wi+Mi)/2,Mr=(ir+Xi)/2,_i=[Bn+2*(Wi-Bn)/3,Yn+2*(ir-Yn)/3],Qn=[er+2*(Wi-er)/3,Mr+2*(ir-Mr)/3];Ln.push([[Bn,Yn],_i,Qn,[er,Mr]]),[Bn,Yn]=[er,Mr]}const[fi,gi]=wn[Wn],[$n,Pi]=wn[Wn+1],Ei=[Bn+2*(fi-Bn)/3,Yn+2*(gi-Yn)/3],Yi=[$n+2*(fi-$n)/3,Pi+2*(gi-Pi)/3];return Ln.push([[Bn,Yn],Ei,Yi,[$n,Pi]]),Ln},qo=function(){if(this.isEmpty()){Kn(this,tn,Su).call(this);return}Kn(this,tn,yh).call(this);const{canvas:wn,ctx:Ln}=this;Ln.setTransform(1,0,0,1,0,0),Ln.clearRect(0,0,wn.width,wn.height),Kn(this,tn,Su).call(this);for(const Wn of this.bezierPath2D)Ln.stroke(Wn)},Sh=function(wn){this.canvas.removeEventListener("pointerleave",un(this,Xe)),this.canvas.removeEventListener("pointermove",un(this,Ge)),this.canvas.removeEventListener("pointerup",un(this,$e)),this.canvas.addEventListener("pointerdown",un(this,qe)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",Ne.noContextMenu)},10),Kn(this,tn,zp).call(this,wn.offsetX,wn.offsetY),this.addToAnnotationStorage(),this.setInBackground()},yu=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",Ie.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(wn=>{var Ln;return(Ln=this.canvas)==null?void 0:Ln.setAttribute("aria-label",wn)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},_u=function(){ci(this,pn,new ResizeObserver(wn=>{const Ln=wn[0].contentRect;Ln.width&&Ln.height&&this.setDimensions(Ln.width,Ln.height)})),un(this,pn).observe(this.div)},yl=function(){if(!un(this,Qe))return;const[wn,Ln]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*wn),this.canvas.height=Math.ceil(this.height*Ln),Kn(this,tn,Su).call(this)},xh=function(wn,Ln){const Wn=Kn(this,tn,xu).call(this),Bn=(wn-Wn)/un(this,We),Yn=(Ln-Wn)/un(this,He);this.scaleFactor=Math.min(Bn,Yn)},Su=function(){const wn=Kn(this,tn,xu).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+wn,this.translationY*this.scaleFactor+wn)},Pn=new WeakSet,Wp=function(wn){const Ln=new Path2D;for(let Wn=0,Bn=wn.length;Wn<Bn;Wn++){const[Yn,fi,gi,$n]=wn[Wn];Wn===0&&Ln.moveTo(...Yn),Ln.bezierCurveTo(fi[0],fi[1],gi[0],gi[1],$n[0],$n[1])}return Ln},Eh=function(wn,Ln,Wn){const[Bn,Yn,fi,gi]=Ln;switch(Wn){case 0:for(let $n=0,Pi=wn.length;$n<Pi;$n+=2)wn[$n]+=Bn,wn[$n+1]=gi-wn[$n+1];break;case 90:for(let $n=0,Pi=wn.length;$n<Pi;$n+=2){const Ei=wn[$n];wn[$n]=wn[$n+1]+Bn,wn[$n+1]=Ei+Yn}break;case 180:for(let $n=0,Pi=wn.length;$n<Pi;$n+=2)wn[$n]=fi-wn[$n],wn[$n+1]+=Yn;break;case 270:for(let $n=0,Pi=wn.length;$n<Pi;$n+=2){const Ei=wn[$n];wn[$n]=fi-wn[$n+1],wn[$n+1]=gi-Ei}break;default:throw new Error("Invalid rotation")}return wn},Vp=function(wn,Ln,Wn){const[Bn,Yn,fi,gi]=Ln;switch(Wn){case 0:for(let $n=0,Pi=wn.length;$n<Pi;$n+=2)wn[$n]-=Bn,wn[$n+1]=gi-wn[$n+1];break;case 90:for(let $n=0,Pi=wn.length;$n<Pi;$n+=2){const Ei=wn[$n];wn[$n]=wn[$n+1]-Yn,wn[$n+1]=Ei-Bn}break;case 180:for(let $n=0,Pi=wn.length;$n<Pi;$n+=2)wn[$n]=fi-wn[$n],wn[$n+1]-=Yn;break;case 270:for(let $n=0,Pi=wn.length;$n<Pi;$n+=2){const Ei=wn[$n];wn[$n]=gi-wn[$n+1],wn[$n+1]=fi-Ei}break;default:throw new Error("Invalid rotation")}return wn},Up=function(wn,Ln,Wn,Bn){var Pi,Ei;const Yn=[],fi=this.thickness/2,gi=wn*Ln+fi,$n=wn*Wn+fi;for(const Yi of this.paths){const Wi=[],ir=[];for(let Mi=0,Xi=Yi.length;Mi<Xi;Mi++){const[er,Mr,_i,Qn]=Yi[Mi],ti=wn*er[0]+gi,Bi=wn*er[1]+$n,Vi=wn*Mr[0]+gi,Qi=wn*Mr[1]+$n,Fn=wn*_i[0]+gi,pi=wn*_i[1]+$n,Ti=wn*Qn[0]+gi,$i=wn*Qn[1]+$n;Mi===0&&(Wi.push(ti,Bi),ir.push(ti,Bi)),Wi.push(Vi,Qi,Fn,pi,Ti,$i),ir.push(Vi,Qi),Mi===Xi-1&&ir.push(Ti,$i)}Yn.push({bezier:Kn(Pi=yi,Pn,Eh).call(Pi,Wi,Bn,this.rotation),points:Kn(Ei=yi,Pn,Eh).call(Ei,ir,Bn,this.rotation)})}return Yn},wh=function(){let wn=1/0,Ln=-1/0,Wn=1/0,Bn=-1/0;for(const Yn of this.paths)for(const[fi,gi,$n,Pi]of Yn){const Ei=Re.Util.bezierBoundingBox(...fi,...gi,...$n,...Pi);wn=Math.min(wn,Ei[0]),Wn=Math.min(Wn,Ei[1]),Ln=Math.max(Ln,Ei[2]),Bn=Math.max(Bn,Ei[3])}return[wn,Wn,Ln,Bn]},xu=function(){return un(this,Ye)?Math.ceil(this.thickness*this.parentScale):0},_l=function(wn=!1){if(this.isEmpty())return;if(!un(this,Ye)){Kn(this,tn,qo).call(this);return}const Ln=Kn(this,tn,wh).call(this),Wn=Kn(this,tn,xu).call(this);ci(this,We,Math.max(Ie.AnnotationEditor.MIN_SIZE,Ln[2]-Ln[0])),ci(this,He,Math.max(Ie.AnnotationEditor.MIN_SIZE,Ln[3]-Ln[1]));const Bn=Math.ceil(Wn+un(this,We)*this.scaleFactor),Yn=Math.ceil(Wn+un(this,He)*this.scaleFactor),[fi,gi]=this.parentDimensions;this.width=Bn/fi,this.height=Yn/gi,this.setAspectRatio(Bn,Yn);const $n=this.translationX,Pi=this.translationY;this.translationX=-Ln[0],this.translationY=-Ln[1],Kn(this,tn,yl).call(this),Kn(this,tn,qo).call(this),ci(this,nn,Bn),ci(this,rn,Yn),this.setDims(Bn,Yn);const Ei=wn?Wn/this.scaleFactor/2:0;this.translate($n-this.translationX-Ei,Pi-this.translationY-Ei)},ai(yi,Pn),br(yi,"_defaultColor",null),br(yi,"_defaultOpacity",1),br(yi,"_defaultThickness",1),br(yi,"_type","ink");let Be=yi;_e.InkEditor=Be},(Ae,_e,ke)=>{var Be,He,We,Ge,Xe,$e,qe,Ue,Ye,Ze,Qe,ec,tc,Eu,kh,$p,qp,Ch,wu,Xp;Object.defineProperty(_e,"__esModule",{value:!0}),_e.StampEditor=void 0;var Re=ke(1),Ie=ke(4),Fe=ke(6),Ne=ke(29);const sn=class sn extends Ie.AnnotationEditor{constructor(bn){super({...bn,name:"stampEditor"});ai(this,Qe);ai(this,Be,null);ai(this,He,null);ai(this,We,null);ai(this,Ge,null);ai(this,Xe,null);ai(this,$e,null);ai(this,qe,null);ai(this,Ue,null);ai(this,Ye,!1);ai(this,Ze,!1);ci(this,Ge,bn.bitmapUrl),ci(this,Xe,bn.bitmapFile)}static initialize(bn){Ie.AnnotationEditor.initialize(bn)}static get supportedTypes(){const bn=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,Re.shadow)(this,"supportedTypes",bn.map(En=>`image/${En}`))}static get supportedTypesStr(){return(0,Re.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(bn){return this.supportedTypes.includes(bn)}static paste(bn,En){En.pasteEditor(Re.AnnotationEditorType.STAMP,{bitmapFile:bn.getAsFile()})}remove(){var bn,En;un(this,He)&&(ci(this,Be,null),this._uiManager.imageManager.deleteId(un(this,He)),(bn=un(this,$e))==null||bn.remove(),ci(this,$e,null),(En=un(this,qe))==null||En.disconnect(),ci(this,qe,null)),super.remove()}rebuild(){if(!this.parent){un(this,He)&&Kn(this,Qe,Eu).call(this);return}super.rebuild(),this.div!==null&&(un(this,He)&&Kn(this,Qe,Eu).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(un(this,We)||un(this,Be)||un(this,Ge)||un(this,Xe))}get isResizable(){return!0}render(){if(this.div)return this.div;let bn,En;if(this.width&&(bn=this.x,En=this.y),super.render(),this.div.hidden=!0,un(this,Be)?Kn(this,Qe,kh).call(this):Kn(this,Qe,Eu).call(this),this.width){const[yn,xn]=this.parentDimensions;this.setAt(bn*yn,En*xn,this.width*yn,this.height*xn)}return this.div}static deserialize(bn,En,yn){if(bn instanceof Ne.StampAnnotationElement)return null;const xn=super.deserialize(bn,En,yn),{rect:vn,bitmapUrl:kn,bitmapId:Sn,isSvg:fn,accessibilityData:on}=bn;Sn&&yn.imageManager.isValidId(Sn)?ci(xn,He,Sn):ci(xn,Ge,kn),ci(xn,Ye,fn);const[ln,_n]=xn.pageDimensions;return xn.width=(vn[2]-vn[0])/ln,xn.height=(vn[3]-vn[1])/_n,on&&(xn.altTextData=on),xn}serialize(bn=!1,En=null){if(this.isEmpty())return null;const yn={annotationType:Re.AnnotationEditorType.STAMP,bitmapId:un(this,He),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:un(this,Ye),structTreeParentId:this._structTreeParentId};if(bn)return yn.bitmapUrl=Kn(this,Qe,wu).call(this,!0),yn.accessibilityData=this.altTextData,yn;const{decorative:xn,altText:vn}=this.altTextData;if(!xn&&vn&&(yn.accessibilityData={type:"Figure",alt:vn}),En===null)return yn;En.stamps||(En.stamps=new Map);const kn=un(this,Ye)?(yn.rect[2]-yn.rect[0])*(yn.rect[3]-yn.rect[1]):null;if(!En.stamps.has(un(this,He)))En.stamps.set(un(this,He),{area:kn,serialized:yn}),yn.bitmap=Kn(this,Qe,wu).call(this,!1);else if(un(this,Ye)){const Sn=En.stamps.get(un(this,He));kn>Sn.area&&(Sn.area=kn,Sn.serialized.bitmap.close(),Sn.serialized.bitmap=Kn(this,Qe,wu).call(this,!1))}return yn}};Be=new WeakMap,He=new WeakMap,We=new WeakMap,Ge=new WeakMap,Xe=new WeakMap,$e=new WeakMap,qe=new WeakMap,Ue=new WeakMap,Ye=new WeakMap,Ze=new WeakMap,Qe=new WeakSet,ec=function(bn,En=!1){if(!bn){this.remove();return}ci(this,Be,bn.bitmap),En||(ci(this,He,bn.id),ci(this,Ye,bn.isSvg)),Kn(this,Qe,kh).call(this)},tc=function(){ci(this,We,null),this._uiManager.enableWaiting(!1),un(this,$e)&&this.div.focus()},Eu=function(){if(un(this,He)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(un(this,He)).then(En=>Kn(this,Qe,ec).call(this,En,!0)).finally(()=>Kn(this,Qe,tc).call(this));return}if(un(this,Ge)){const En=un(this,Ge);ci(this,Ge,null),this._uiManager.enableWaiting(!0),ci(this,We,this._uiManager.imageManager.getFromUrl(En).then(yn=>Kn(this,Qe,ec).call(this,yn)).finally(()=>Kn(this,Qe,tc).call(this)));return}if(un(this,Xe)){const En=un(this,Xe);ci(this,Xe,null),this._uiManager.enableWaiting(!0),ci(this,We,this._uiManager.imageManager.getFromFile(En).then(yn=>Kn(this,Qe,ec).call(this,yn)).finally(()=>Kn(this,Qe,tc).call(this)));return}const bn=document.createElement("input");bn.type="file",bn.accept=sn.supportedTypesStr,ci(this,We,new Promise(En=>{bn.addEventListener("change",async()=>{if(!bn.files||bn.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const yn=await this._uiManager.imageManager.getFromFile(bn.files[0]);Kn(this,Qe,ec).call(this,yn)}En()}),bn.addEventListener("cancel",()=>{this.remove(),En()})}).finally(()=>Kn(this,Qe,tc).call(this))),bn.click()},kh=function(){const{div:bn}=this;let{width:En,height:yn}=un(this,Be);const[xn,vn]=this.pageDimensions,kn=.75;if(this.width)En=this.width*xn,yn=this.height*vn;else if(En>kn*xn||yn>kn*vn){const ln=Math.min(kn*xn/En,kn*vn/yn);En*=ln,yn*=ln}const[Sn,fn]=this.parentDimensions;this.setDims(En*Sn/xn,yn*fn/vn),this._uiManager.enableWaiting(!1);const on=ci(this,$e,document.createElement("canvas"));bn.append(on),bn.hidden=!1,Kn(this,Qe,Ch).call(this,En,yn),Kn(this,Qe,Xp).call(this),un(this,Ze)||(this.parent.addUndoableEditor(this),ci(this,Ze,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},$p=function(bn,En){var kn;const[yn,xn]=this.parentDimensions;this.width=bn/yn,this.height=En/xn,this.setDims(bn,En),(kn=this._initialOptions)!=null&&kn.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,un(this,Ue)!==null&&clearTimeout(un(this,Ue)),ci(this,Ue,setTimeout(()=>{ci(this,Ue,null),Kn(this,Qe,Ch).call(this,bn,En)},200))},qp=function(bn,En){const{width:yn,height:xn}=un(this,Be);let vn=yn,kn=xn,Sn=un(this,Be);for(;vn>2*bn||kn>2*En;){const fn=vn,on=kn;vn>2*bn&&(vn=vn>=16384?Math.floor(vn/2)-1:Math.ceil(vn/2)),kn>2*En&&(kn=kn>=16384?Math.floor(kn/2)-1:Math.ceil(kn/2));const ln=new OffscreenCanvas(vn,kn);ln.getContext("2d").drawImage(Sn,0,0,fn,on,0,0,vn,kn),Sn=ln.transferToImageBitmap()}return Sn},Ch=function(bn,En){bn=Math.ceil(bn),En=Math.ceil(En);const yn=un(this,$e);if(!yn||yn.width===bn&&yn.height===En)return;yn.width=bn,yn.height=En;const xn=un(this,Ye)?un(this,Be):Kn(this,Qe,qp).call(this,bn,En),vn=yn.getContext("2d");vn.filter=this._uiManager.hcmFilter,vn.drawImage(xn,0,0,xn.width,xn.height,0,0,bn,En)},wu=function(bn){if(bn){if(un(this,Ye)){const xn=this._uiManager.imageManager.getSvgUrl(un(this,He));if(xn)return xn}const En=document.createElement("canvas");return{width:En.width,height:En.height}=un(this,Be),En.getContext("2d").drawImage(un(this,Be),0,0),En.toDataURL()}if(un(this,Ye)){const[En,yn]=this.pageDimensions,xn=Math.round(this.width*En*Fe.PixelsPerInch.PDF_TO_CSS_UNITS),vn=Math.round(this.height*yn*Fe.PixelsPerInch.PDF_TO_CSS_UNITS),kn=new OffscreenCanvas(xn,vn);return kn.getContext("2d").drawImage(un(this,Be),0,0,un(this,Be).width,un(this,Be).height,0,0,xn,vn),kn.transferToImageBitmap()}return structuredClone(un(this,Be))},Xp=function(){ci(this,qe,new ResizeObserver(bn=>{const En=bn[0].contentRect;En.width&&En.height&&Kn(this,Qe,$p).call(this,En.width,En.height)})),un(this,qe).observe(this.div)},br(sn,"_type","stamp");let je=sn;_e.StampEditor=je}],__webpack_module_cache__={};function __w_pdfjs_require__(Ae){var _e=__webpack_module_cache__[Ae];if(_e!==void 0)return _e.exports;var ke=__webpack_module_cache__[Ae]={exports:{}};return __webpack_modules__[Ae](ke,ke.exports,__w_pdfjs_require__),ke.exports}var __webpack_exports__={};return(()=>{var Ae=__webpack_exports__;Object.defineProperty(Ae,"__esModule",{value:!0}),Object.defineProperty(Ae,"AbortException",{enumerable:!0,get:function(){return _e.AbortException}}),Object.defineProperty(Ae,"AnnotationEditorLayer",{enumerable:!0,get:function(){return Fe.AnnotationEditorLayer}}),Object.defineProperty(Ae,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return _e.AnnotationEditorParamsType}}),Object.defineProperty(Ae,"AnnotationEditorType",{enumerable:!0,get:function(){return _e.AnnotationEditorType}}),Object.defineProperty(Ae,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Ne.AnnotationEditorUIManager}}),Object.defineProperty(Ae,"AnnotationLayer",{enumerable:!0,get:function(){return je.AnnotationLayer}}),Object.defineProperty(Ae,"AnnotationMode",{enumerable:!0,get:function(){return _e.AnnotationMode}}),Object.defineProperty(Ae,"CMapCompressionType",{enumerable:!0,get:function(){return _e.CMapCompressionType}}),Object.defineProperty(Ae,"DOMSVGFactory",{enumerable:!0,get:function(){return Re.DOMSVGFactory}}),Object.defineProperty(Ae,"FeatureTest",{enumerable:!0,get:function(){return _e.FeatureTest}}),Object.defineProperty(Ae,"GlobalWorkerOptions",{enumerable:!0,get:function(){return Be.GlobalWorkerOptions}}),Object.defineProperty(Ae,"ImageKind",{enumerable:!0,get:function(){return _e.ImageKind}}),Object.defineProperty(Ae,"InvalidPDFException",{enumerable:!0,get:function(){return _e.InvalidPDFException}}),Object.defineProperty(Ae,"MissingPDFException",{enumerable:!0,get:function(){return _e.MissingPDFException}}),Object.defineProperty(Ae,"OPS",{enumerable:!0,get:function(){return _e.OPS}}),Object.defineProperty(Ae,"PDFDataRangeTransport",{enumerable:!0,get:function(){return ke.PDFDataRangeTransport}}),Object.defineProperty(Ae,"PDFDateString",{enumerable:!0,get:function(){return Re.PDFDateString}}),Object.defineProperty(Ae,"PDFWorker",{enumerable:!0,get:function(){return ke.PDFWorker}}),Object.defineProperty(Ae,"PasswordResponses",{enumerable:!0,get:function(){return _e.PasswordResponses}}),Object.defineProperty(Ae,"PermissionFlag",{enumerable:!0,get:function(){return _e.PermissionFlag}}),Object.defineProperty(Ae,"PixelsPerInch",{enumerable:!0,get:function(){return Re.PixelsPerInch}}),Object.defineProperty(Ae,"PromiseCapability",{enumerable:!0,get:function(){return _e.PromiseCapability}}),Object.defineProperty(Ae,"RenderingCancelledException",{enumerable:!0,get:function(){return Re.RenderingCancelledException}}),Object.defineProperty(Ae,"SVGGraphics",{enumerable:!0,get:function(){return ke.SVGGraphics}}),Object.defineProperty(Ae,"UnexpectedResponseException",{enumerable:!0,get:function(){return _e.UnexpectedResponseException}}),Object.defineProperty(Ae,"Util",{enumerable:!0,get:function(){return _e.Util}}),Object.defineProperty(Ae,"VerbosityLevel",{enumerable:!0,get:function(){return _e.VerbosityLevel}}),Object.defineProperty(Ae,"XfaLayer",{enumerable:!0,get:function(){return He.XfaLayer}}),Object.defineProperty(Ae,"build",{enumerable:!0,get:function(){return ke.build}}),Object.defineProperty(Ae,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return _e.createValidAbsoluteUrl}}),Object.defineProperty(Ae,"getDocument",{enumerable:!0,get:function(){return ke.getDocument}}),Object.defineProperty(Ae,"getFilenameFromUrl",{enumerable:!0,get:function(){return Re.getFilenameFromUrl}}),Object.defineProperty(Ae,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return Re.getPdfFilenameFromUrl}}),Object.defineProperty(Ae,"getXfaPageViewport",{enumerable:!0,get:function(){return Re.getXfaPageViewport}}),Object.defineProperty(Ae,"isDataScheme",{enumerable:!0,get:function(){return Re.isDataScheme}}),Object.defineProperty(Ae,"isPdfFile",{enumerable:!0,get:function(){return Re.isPdfFile}}),Object.defineProperty(Ae,"loadScript",{enumerable:!0,get:function(){return Re.loadScript}}),Object.defineProperty(Ae,"noContextMenu",{enumerable:!0,get:function(){return Re.noContextMenu}}),Object.defineProperty(Ae,"normalizeUnicode",{enumerable:!0,get:function(){return _e.normalizeUnicode}}),Object.defineProperty(Ae,"renderTextLayer",{enumerable:!0,get:function(){return Ie.renderTextLayer}}),Object.defineProperty(Ae,"setLayerDimensions",{enumerable:!0,get:function(){return Re.setLayerDimensions}}),Object.defineProperty(Ae,"shadow",{enumerable:!0,get:function(){return _e.shadow}}),Object.defineProperty(Ae,"updateTextLayer",{enumerable:!0,get:function(){return Ie.updateTextLayer}}),Object.defineProperty(Ae,"version",{enumerable:!0,get:function(){return ke.version}});var _e=__w_pdfjs_require__(1),ke=__w_pdfjs_require__(2),Re=__w_pdfjs_require__(6),Ie=__w_pdfjs_require__(26),Fe=__w_pdfjs_require__(27),Ne=__w_pdfjs_require__(5),je=__w_pdfjs_require__(29),Be=__w_pdfjs_require__(14),He=__w_pdfjs_require__(32)})(),__webpack_exports__})())}(pdf)),pdf.exports}var hasRequiredCore_min;function requireCore_min(){return hasRequiredCore_min||(hasRequiredCore_min=1,function(Ae){var _e=requireReact(),ke=requirePdf();function Re(mn){var An=Object.create(null);return mn&&Object.keys(mn).forEach(function(Nn){if(Nn!=="default"){var zn=Object.getOwnPropertyDescriptor(mn,Nn);Object.defineProperty(An,Nn,zn.get?zn:{enumerable:!0,get:function(){return mn[Nn]}})}}),An.default=mn,Object.freeze(An)}var Ie,Fe=Re(_e),Ne=Re(ke);Ae.AnnotationType=void 0,(Ie=Ae.AnnotationType||(Ae.AnnotationType={}))[Ie.Text=1]="Text",Ie[Ie.Link=2]="Link",Ie[Ie.FreeText=3]="FreeText",Ie[Ie.Line=4]="Line",Ie[Ie.Square=5]="Square",Ie[Ie.Circle=6]="Circle",Ie[Ie.Polygon=7]="Polygon",Ie[Ie.Polyline=8]="Polyline",Ie[Ie.Highlight=9]="Highlight",Ie[Ie.Underline=10]="Underline",Ie[Ie.Squiggly=11]="Squiggly",Ie[Ie.StrikeOut=12]="StrikeOut",Ie[Ie.Stamp=13]="Stamp",Ie[Ie.Caret=14]="Caret",Ie[Ie.Ink=15]="Ink",Ie[Ie.Popup=16]="Popup",Ie[Ie.FileAttachment=17]="FileAttachment";var je=function(mn,An){return je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Nn,zn){Nn.__proto__=zn}||function(Nn,zn){for(var Un in zn)Object.prototype.hasOwnProperty.call(zn,Un)&&(Nn[Un]=zn[Un])},je(mn,An)};function Be(mn,An){if(typeof An!="function"&&An!==null)throw new TypeError("Class extends value "+String(An)+" is not a constructor or null");function Nn(){this.constructor=mn}je(mn,An),mn.prototype=An===null?Object.create(An):(Nn.prototype=An.prototype,new Nn)}var He,We=function(){return We=Object.assign||function(mn){for(var An,Nn=1,zn=arguments.length;Nn<zn;Nn++)for(var Un in An=arguments[Nn])Object.prototype.hasOwnProperty.call(An,Un)&&(mn[Un]=An[Un]);return mn},We.apply(this,arguments)};Ae.TextDirection=void 0,(He=Ae.TextDirection||(Ae.TextDirection={})).RightToLeft="RTL",He.LeftToRight="LTR";var Ge,Xe=Fe.createContext({currentTheme:"light",direction:Ae.TextDirection.LeftToRight,setCurrentTheme:function(){}}),$e=function(mn){var An=[];return Object.keys(mn).forEach(function(Nn){Nn&&mn[Nn]&&An.push(Nn)}),An.join(" ")},qe=typeof window<"u"?Fe.useLayoutEffect:Fe.useEffect,Ue=function(mn){var An=Fe.useRef(null),Nn=mn.once,zn=mn.threshold,Un=mn.onVisibilityChanged;return qe(function(){var qn=An.current;if(qn){var ri=new IntersectionObserver(function(ei){ei.forEach(function(jn){var ii=jn.isIntersecting,ni=jn.intersectionRatio;Un({isVisible:ii,ratio:ni}),ii&&Nn&&(ri.unobserve(qn),ri.disconnect())})},{threshold:zn||0});return ri.observe(qn),function(){ri.unobserve(qn),ri.disconnect()}}},[]),An},Ye=function(mn){var An=mn.children,Nn=mn.ignoreDirection,zn=Nn!==void 0&&Nn,Un=mn.size,qn=Un===void 0?24:Un,ri=Fe.useContext(Xe).direction,ei=!zn&&ri===Ae.TextDirection.RightToLeft,jn="".concat(qn||24,"px");return Fe.createElement("svg",{"aria-hidden":"true",className:$e({"rpv-core__icon":!0,"rpv-core__icon--rtl":ei}),focusable:"false",height:jn,viewBox:"0 0 24 24",width:jn},An)},Ze=function(){return Fe.createElement(Ye,{size:16},Fe.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},Qe=function(mn){var An=mn.children,Nn=mn.testId,zn=mn.onClick,Un=Fe.useContext(Xe).direction===Ae.TextDirection.RightToLeft,qn=Nn?{"data-testid":Nn}:{};return Fe.createElement("button",We({className:$e({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":Un}),type:"button",onClick:zn},qn),An)},pn=function(mn){var An=mn.size,Nn=An===void 0?"4rem":An,zn=mn.testId,Un=Fe.useState(!1),qn=Un[0],ri=Un[1],ei=zn?{"data-testid":zn}:{},jn=Ue({onVisibilityChanged:function(ii){ri(ii.isVisible)}});return Fe.createElement("div",We({},ei,{className:$e({"rpv-core__spinner":!0,"rpv-core__spinner--animating":qn}),ref:jn,style:{height:Nn,width:Nn}}))},nn=function(mn){var An=mn.ariaLabel,Nn=An===void 0?"":An,zn=mn.autoFocus,Un=zn!==void 0&&zn,qn=mn.placeholder,ri=qn===void 0?"":qn,ei=mn.testId,jn=mn.type,ii=jn===void 0?"text":jn,ni=mn.value,Ci=ni===void 0?"":ni,ki=mn.onChange,wi=mn.onKeyDown,Ni=wi===void 0?function(){}:wi,Li=Fe.useContext(Xe).direction,Oi=Fe.useRef(),kr=Li===Ae.TextDirection.RightToLeft,dr={ref:Oi,"data-testid":"","aria-label":Nn,className:$e({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":kr}),placeholder:ri,value:Ci,onChange:function(cr){return ki(cr.target.value)},onKeyDown:Ni};return ei&&(dr["data-testid"]=ei),qe(function(){if(Un){var cr=Oi.current;if(cr){var vr=window.scrollX,tr=window.scrollY;cr.focus(),window.scrollTo(vr,tr)}}},[]),ii==="text"?Fe.createElement("input",We({type:"text"},dr)):Fe.createElement("input",We({type:"password"},dr))};(function(mn){mn[mn.ExitFullScreen=0]="ExitFullScreen",mn[mn.FullScreenChange=1]="FullScreenChange",mn[mn.FullScreenElement=2]="FullScreenElement",mn[mn.FullScreenEnabled=3]="FullScreenEnabled",mn[mn.RequestFullScreen=4]="RequestFullScreen"})(Ge||(Ge={}));var rn,cn={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},tn={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},Je={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},an=typeof window<"u",gn=an&&(Ge.FullScreenEnabled in document&&cn||tn.FullScreenEnabled in document&&tn||Je.FullScreenEnabled in document&&Je)||cn,Ke=function(){return an&&gn.FullScreenEnabled in document&&document[gn.FullScreenEnabled]===!0},sn=function(mn){return an?mn[gn.ExitFullScreen]():Promise.resolve({})},hn=function(){return an?document[gn.FullScreenElement]:null},Cn=function(mn,An){var Nn=Fe.useRef(),zn=function(){Nn.current&&clearTimeout(Nn.current)};return Fe.useEffect(function(){return function(){return zn()}},[]),Fe.useCallback(function(){for(var Un=[],qn=0;qn<arguments.length;qn++)Un[qn]=arguments[qn];zn(),Nn.current=setTimeout(function(){mn.apply(void 0,Un)},An)},[mn,An])},bn=function(){var mn=Fe.useRef(!1);return Fe.useEffect(function(){return mn.current=!0,function(){mn.current=!1}},[]),mn},En=function(mn){var An=Fe.useRef(mn);return Fe.useEffect(function(){An.current=mn},[mn]),An.current};(function(mn){mn.NotRenderedYet="NotRenderedYet",mn.Rendering="Rendering",mn.Rendered="Rendered"})(rn||(rn={}));var yn,xn=-9999,vn=function(mn){var An=mn.doc,Nn=An.numPages,zn=An.loadingTask.docId,Un=Fe.useMemo(function(){return Array(Nn).fill(null).map(function(ei,jn){return{pageIndex:jn,renderStatus:rn.NotRenderedYet,visibility:xn}})},[zn]),qn=Fe.useRef({currentRenderingPage:-1,startRange:0,endRange:Nn-1,visibilities:Un}),ri=function(ei,jn){qn.current.visibilities[ei].visibility=jn};return{getHighestPriorityPage:function(){var ei=qn.current.visibilities.slice(qn.current.startRange,qn.current.endRange+1).filter(function(ki){return ki.visibility>xn});if(!ei.length)return-1;for(var jn=ei[0].pageIndex,ii=ei[ei.length-1].pageIndex,ni=ei.length,Ci=0;Ci<ni;Ci++){if(ei[Ci].renderStatus===rn.Rendering)return-1;if(ei[Ci].renderStatus===rn.NotRenderedYet)return ei[Ci].pageIndex}return ii+1<Nn&&qn.current.visibilities[ii+1].renderStatus!==rn.Rendered?ii+1:jn-1>=0&&qn.current.visibilities[jn-1].renderStatus!==rn.Rendered?jn-1:-1},isInRange:function(ei){return ei>=qn.current.startRange&&ei<=qn.current.endRange},markNotRendered:function(){for(var ei=0;ei<Nn;ei++)qn.current.visibilities[ei].renderStatus=rn.NotRenderedYet},markRendered:function(ei){qn.current.visibilities[ei].renderStatus=rn.Rendered},markRendering:function(ei){qn.current.currentRenderingPage!==-1&&qn.current.currentRenderingPage!==ei&&qn.current.visibilities[qn.current.currentRenderingPage].renderStatus===rn.Rendering&&(qn.current.visibilities[qn.current.currentRenderingPage].renderStatus=rn.NotRenderedYet),qn.current.visibilities[ei].renderStatus=rn.Rendering,qn.current.currentRenderingPage=ei},setOutOfRange:function(ei){ri(ei,xn)},setRange:function(ei,jn){qn.current.startRange=ei,qn.current.endRange=jn;for(var ii=0;ii<Nn;ii++)(ii<ei||ii>jn)&&(qn.current.visibilities[ii].visibility=xn,qn.current.visibilities[ii].renderStatus=rn.NotRenderedYet)},setVisibility:ri}},kn={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},Sn=Fe.createContext({l10n:kn,setL10n:function(){}}),fn=0,on=function(){return fn++},ln=function(mn,An,Nn){var zn=function(Un){var qn=An.current;if(qn){var ri=Un.target;if(ri instanceof Element&&ri.shadowRoot){var ei=Un.composedPath();ei.length>0&&!qn.contains(ei[0])&&Nn()}else qn.contains(ri)||Nn()}};Fe.useEffect(function(){if(mn){var Un={capture:!0};return document.addEventListener("click",zn,Un),function(){document.removeEventListener("click",zn,Un)}}},[])},_n=function(mn){var An=function(Nn){Nn.key==="Escape"&&mn()};Fe.useEffect(function(){return document.addEventListener("keyup",An),function(){document.removeEventListener("keyup",An)}},[])},Tn=function(mn){var An=mn.ariaControlsSuffix,Nn=mn.children,zn=mn.closeOnClickOutside,Un=mn.closeOnEscape,qn=mn.onToggle,ri=Fe.useRef(),ei=Fe.useContext(Xe).direction===Ae.TextDirection.RightToLeft;return Fe.useEffect(function(){var jn=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=jn}},[]),_n(function(){ri.current&&Un&&qn()}),ln(zn,ri,qn),qe(function(){var jn=ri.current;if(jn){var ii=.75*document.body.clientHeight;jn.getBoundingClientRect().height>=ii&&(jn.style.overflow="auto",jn.style.maxHeight="".concat(ii,"px"))}},[]),Fe.createElement("div",{"aria-modal":"true",className:$e({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":ei}),id:"rpv-core__modal-body-".concat(An),ref:ri,role:"dialog",tabIndex:-1},Nn)},Pn=function(mn){var An=mn.children;return Fe.createElement("div",{className:"rpv-core__modal-overlay"},An)};Ae.ToggleStatus=void 0,(yn=Ae.ToggleStatus||(Ae.ToggleStatus={})).Close="Close",yn.Open="Open",yn.Toggle="Toggle";var Rn,Dn=function(mn){var An=Fe.useState(mn),Nn=An[0],zn=An[1];return{opened:Nn,toggle:function(Un){switch(Un){case Ae.ToggleStatus.Close:zn(!1);break;case Ae.ToggleStatus.Open:zn(!0);break;case Ae.ToggleStatus.Toggle:default:zn(function(qn){return!qn})}}}},Xn=function(mn){var An=mn.content,Nn=mn.isOpened,zn=Nn!==void 0&&Nn,Un=mn.target,qn=Dn(zn),ri=qn.opened,ei=qn.toggle;return Fe.createElement(Fe.Fragment,null,Un&&Un(ei,ri),ri&&An(ei))};Ae.Position=void 0,(Rn=Ae.Position||(Ae.Position={})).TopLeft="TOP_LEFT",Rn.TopCenter="TOP_CENTER",Rn.TopRight="TOP_RIGHT",Rn.RightTop="RIGHT_TOP",Rn.RightCenter="RIGHT_CENTER",Rn.RightBottom="RIGHT_BOTTOM",Rn.BottomLeft="BOTTOM_LEFT",Rn.BottomCenter="BOTTOM_CENTER",Rn.BottomRight="BOTTOM_RIGHT",Rn.LeftTop="LEFT_TOP",Rn.LeftCenter="LEFT_CENTER",Rn.LeftBottom="LEFT_BOTTOM";var li,oi,di,vi,yi,Zn,Gn,wn,Ln=function(mn,An,Nn,zn,Un){qe(function(){var qn=An.current,ri=mn.current,ei=Nn.current;if(ri&&qn&&ei){var jn=ei.getBoundingClientRect(),ii=function(ki,wi,Ni,Li){var Oi=wi.getBoundingClientRect(),kr=ki.getBoundingClientRect(),dr=kr.height,cr=kr.width,vr=0,tr=0;switch(Ni){case Ae.Position.TopLeft:vr=Oi.top-dr,tr=Oi.left;break;case Ae.Position.TopCenter:vr=Oi.top-dr,tr=Oi.left+Oi.width/2-cr/2;break;case Ae.Position.TopRight:vr=Oi.top-dr,tr=Oi.left+Oi.width-cr;break;case Ae.Position.RightTop:vr=Oi.top,tr=Oi.left+Oi.width;break;case Ae.Position.RightCenter:vr=Oi.top+Oi.height/2-dr/2,tr=Oi.left+Oi.width;break;case Ae.Position.RightBottom:vr=Oi.top+Oi.height-dr,tr=Oi.left+Oi.width;break;case Ae.Position.BottomLeft:vr=Oi.top+Oi.height,tr=Oi.left;break;case Ae.Position.BottomCenter:vr=Oi.top+Oi.height,tr=Oi.left+Oi.width/2-cr/2;break;case Ae.Position.BottomRight:vr=Oi.top+Oi.height,tr=Oi.left+Oi.width-cr;break;case Ae.Position.LeftTop:vr=Oi.top,tr=Oi.left-cr;break;case Ae.Position.LeftCenter:vr=Oi.top+Oi.height/2-dr/2,tr=Oi.left-cr;break;case Ae.Position.LeftBottom:vr=Oi.top+Oi.height-dr,tr=Oi.left-cr}return{left:tr+(Li.left||0),top:vr+(Li.top||0)}}(ri,qn,zn,Un),ni=ii.top,Ci=ii.left;ri.style.top="".concat(ni-jn.top,"px"),ri.style.left="".concat(Ci-jn.left,"px")}},[])},Wn=function(mn){var An,Nn=mn.customClassName,zn=mn.position;return Fe.createElement("div",{className:$e((An={"rpv-core__arrow":!0,"rpv-core__arrow--tl":zn===Ae.Position.TopLeft,"rpv-core__arrow--tc":zn===Ae.Position.TopCenter,"rpv-core__arrow--tr":zn===Ae.Position.TopRight,"rpv-core__arrow--rt":zn===Ae.Position.RightTop,"rpv-core__arrow--rc":zn===Ae.Position.RightCenter,"rpv-core__arrow--rb":zn===Ae.Position.RightBottom,"rpv-core__arrow--bl":zn===Ae.Position.BottomLeft,"rpv-core__arrow--bc":zn===Ae.Position.BottomCenter,"rpv-core__arrow--br":zn===Ae.Position.BottomRight,"rpv-core__arrow--lt":zn===Ae.Position.LeftTop,"rpv-core__arrow--lc":zn===Ae.Position.LeftCenter,"rpv-core__arrow--lb":zn===Ae.Position.LeftBottom},An["".concat(Nn)]=Nn!=="",An))})},Bn=function(mn){var An=mn.ariaControlsSuffix,Nn=mn.children,zn=mn.closeOnClickOutside,Un=mn.offset,qn=mn.position,ri=mn.targetRef,ei=mn.onClose,jn=Fe.useRef(),ii=Fe.useRef(),ni=Fe.useRef(),Ci=Fe.useContext(Xe).direction===Ae.TextDirection.RightToLeft;ln(zn,jn,ei),Ln(jn,ri,ni,qn,Un),qe(function(){var wi=ii.current;if(wi){var Ni=.75*document.body.clientHeight;wi.getBoundingClientRect().height>=Ni&&(wi.style.overflow="auto",wi.style.maxHeight="".concat(Ni,"px"))}},[]);var ki="rpv-core__popover-body-inner-".concat(An);return Fe.createElement(Fe.Fragment,null,Fe.createElement("div",{ref:ni,style:{left:0,position:"absolute",top:0}}),Fe.createElement("div",{"aria-describedby":ki,className:$e({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":Ci}),id:"rpv-core__popover-body-".concat(An),ref:jn,role:"dialog",tabIndex:-1},Fe.createElement(Wn,{customClassName:"rpv-core__popover-body-arrow",position:qn}),Fe.createElement("div",{id:ki,ref:ii},Nn)))},Yn=function(mn){var An=mn.closeOnEscape,Nn=mn.onClose,zn=Fe.useRef();return _n(function(){zn.current&&An&&Nn()}),Fe.createElement("div",{className:"rpv-core__popover-overlay",ref:zn})},fi=function(mn){var An=mn.ariaControlsSuffix,Nn=mn.children,zn=mn.contentRef,Un=mn.offset,qn=mn.position,ri=mn.targetRef,ei=Fe.useRef(),jn=Fe.useContext(Xe).direction===Ae.TextDirection.RightToLeft;return Ln(zn,ri,ei,qn,Un),Fe.createElement(Fe.Fragment,null,Fe.createElement("div",{ref:ei,style:{left:0,position:"absolute",top:0}}),Fe.createElement("div",{className:$e({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":jn}),id:"rpv-core__tooltip-body-".concat(An),ref:zn,role:"tooltip"},Fe.createElement(Wn,{customClassName:"rpv-core__tooltip-body-arrow",position:qn}),Fe.createElement("div",{className:"rpv-core__tooltip-body-content"},Nn)))};Ae.FullScreenMode=void 0,(li=Ae.FullScreenMode||(Ae.FullScreenMode={})).Normal="Normal",li.Entering="Entering",li.Entered="Entered",li.EnteredCompletely="EnteredCompletely",li.Exitting="Exitting",li.Exited="Exited",Ae.LayerRenderStatus=void 0,(oi=Ae.LayerRenderStatus||(Ae.LayerRenderStatus={}))[oi.PreRender=0]="PreRender",oi[oi.DidRender=1]="DidRender",Ae.PageMode=void 0,(di=Ae.PageMode||(Ae.PageMode={})).Attachments="UseAttachments",di.Bookmarks="UseOutlines",di.ContentGroup="UseOC",di.Default="UserNone",di.FullScreen="FullScreen",di.Thumbnails="UseThumbs",Ae.PasswordStatus=void 0,(vi=Ae.PasswordStatus||(Ae.PasswordStatus={})).RequiredPassword="RequiredPassword",vi.WrongPassword="WrongPassword",Ae.RotateDirection=void 0,(yi=Ae.RotateDirection||(Ae.RotateDirection={})).Backward="Backward",yi.Forward="Forward",Ae.ScrollMode=void 0,(Zn=Ae.ScrollMode||(Ae.ScrollMode={})).Page="Page",Zn.Horizontal="Horizontal",Zn.Vertical="Vertical",Zn.Wrapped="Wrapped",Ae.SpecialZoomLevel=void 0,(Gn=Ae.SpecialZoomLevel||(Ae.SpecialZoomLevel={})).ActualSize="ActualSize",Gn.PageFit="PageFit",Gn.PageWidth="PageWidth",Ae.ViewMode=void 0,(wn=Ae.ViewMode||(Ae.ViewMode={})).DualPage="DualPage",wn.DualPageWithCover="DualPageWithCover",wn.SinglePage="SinglePage";var gi,$n=function(mn,An){return mn.reduce(function(Nn,zn,Un){return Un%An?Nn[Nn.length-1].push(zn):Nn.push([zn]),Nn},[])},Pi=function(mn,An){switch(An[1].name){case"XYZ":return{bottomOffset:function(Nn,zn){return An[3]===null?zn:An[3]},leftOffset:function(Nn,zn){return An[2]===null?0:An[2]},pageIndex:mn,scaleTo:An[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:mn,scaleTo:Ae.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:An[2],leftOffset:0,pageIndex:mn,scaleTo:Ae.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:mn,scaleTo:1}}},Ei=new Map,Yi=new Map,Wi=function(mn,An){return"".concat(mn.loadingTask.docId,"___").concat(An.num,"R").concat(An.gen===0?"":An.gen)},ir=function(mn,An,Nn){Ei.set(Wi(mn,An),Nn)},Mi=function(mn,An){if(!mn)return Promise.reject("The document is not loaded yet");var Nn="".concat(mn.loadingTask.docId,"___").concat(An),zn=Yi.get(Nn);return zn?Promise.resolve(zn):new Promise(function(Un,qn){mn.getPage(An+1).then(function(ri){Yi.set(Nn,ri),ri.ref&&ir(mn,ri.ref,An),Un(ri)})})},Xi=function(mn,An){return new Promise(function(Nn){new Promise(function(zn){typeof An=="string"?mn.getDestination(An).then(function(Un){zn(Un)}):zn(An)}).then(function(zn){if(typeof zn[0]=="object"&&zn[0]!==null){var Un=zn[0],qn=function(ei,jn){var ii=Wi(ei,jn);return Ei.has(ii)?Ei.get(ii):null}(mn,Un);qn===null?mn.getPageIndex(Un).then(function(ei){ir(mn,Un,ei),Xi(mn,An).then(function(jn){return Nn(jn)})}):Nn(Pi(qn,zn))}else{var ri=Pi(zn[0],zn);Nn(ri)}})})};(function(mn){mn[mn.Solid=1]="Solid",mn[mn.Dashed=2]="Dashed",mn[mn.Beveled=3]="Beveled",mn[mn.Inset=4]="Inset",mn[mn.Underline=5]="Underline"})(gi||(gi={}));var er,Mr=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),_i=function(mn,An,Nn,zn){var Un=parseInt(mn,10);return Un>=An&&Un<=Nn?Un:zn},Qn=function(mn){return mn.contentsObj?mn.contentsObj.str:mn.contents||""},ti=function(mn){return mn.titleObj?mn.titleObj.str:mn.title||""},Bi=function(mn){var An=mn.annotation,Nn=Fe.useContext(Xe).direction,zn=ti(An),Un=Qn(An),qn=Nn===Ae.TextDirection.RightToLeft,ri=Fe.useRef(),ei="";if(An.modificationDate){var jn=function(ii){var ni=Mr.exec(ii);if(!ni)return null;var Ci=parseInt(ni[1],10),ki=_i(ni[2],1,12,1)-1,wi=_i(ni[3],1,31,1),Ni=_i(ni[4],0,23,0),Li=_i(ni[5],0,59,0),Oi=_i(ni[6],0,59,0),kr=ni[7]||"Z",dr=_i(ni[8],0,23,0),cr=_i(ni[9],0,59,0);switch(kr){case"-":Ni+=dr,Li+=cr;break;case"+":Ni-=dr,Li-=cr}return new Date(Date.UTC(Ci,ki,wi,Ni,Li,Oi))}(An.modificationDate);ei=jn?"".concat(jn.toLocaleDateString(),", ").concat(jn.toLocaleTimeString()):""}return Fe.useLayoutEffect(function(){if(ri.current){var ii=document.querySelector('[data-annotation-id="'.concat(An.id,'"]'));if(ii){var ni=ii;return ni.style.zIndex+=1,function(){ni.style.zIndex="".concat(parseInt(ni.style.zIndex,10)-1)}}}},[]),Fe.createElement("div",{ref:ri,className:$e({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":qn}),style:{top:An.annotationType===Ae.AnnotationType.Popup?"":"100%"}},zn&&Fe.createElement(Fe.Fragment,null,Fe.createElement("div",{className:$e({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!qn,"rpv-core__annotation-popup-title--rtl":qn})},zn),Fe.createElement("div",{className:"rpv-core__annotation-popup-date"},ei)),Un&&Fe.createElement("div",{className:"rpv-core__annotation-popup-content"},Un.split(`
`).map(function(ii,ni){return Fe.createElement(Fe.Fragment,{key:ni},ii,Fe.createElement("br",null))})))};(function(mn){mn.Click="Click",mn.Hover="Hover"})(er||(er={}));var Vi,Qi=function(mn){var An,Nn=mn.annotation,zn=mn.children,Un=mn.ignoreBorder,qn=mn.hasPopup,ri=mn.isRenderable,ei=mn.page,jn=mn.viewport,ii=Nn.rect,ni=function(){var hr=Dn(!1),zr=hr.opened,Dr=hr.toggle,Hr=Fe.useState(er.Hover),Br=Hr[0],Wr=Hr[1];return{opened:zr,closeOnHover:function(){Br===er.Hover&&Dr(Ae.ToggleStatus.Close)},openOnHover:function(){Br===er.Hover&&Dr(Ae.ToggleStatus.Open)},toggleOnClick:function(){switch(Br){case er.Click:zr&&Wr(er.Hover),Dr(Ae.ToggleStatus.Toggle);break;case er.Hover:Wr(er.Click),Dr(Ae.ToggleStatus.Open)}}}}(),Ci=ni.closeOnHover,ki=ni.opened,wi=ni.openOnHover,Ni=ni.toggleOnClick,Li=(An=[ii[0],ei.view[3]+ei.view[1]-ii[1],ii[2],ei.view[3]+ei.view[1]-ii[3]],[Math.min(An[0],An[2]),Math.min(An[1],An[3]),Math.max(An[0],An[2]),Math.max(An[1],An[3])]),Oi=ii[2]-ii[0],kr=ii[3]-ii[1],dr={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!Un&&Nn.borderStyle.width>0){switch(Nn.borderStyle.style){case gi.Dashed:dr.borderStyle="dashed";break;case gi.Solid:dr.borderStyle="solid";break;case gi.Underline:dr=Object.assign({borderBottomStyle:"solid"},dr);case gi.Beveled:case gi.Inset:}var cr=Nn.borderStyle.width;dr.borderWidth="".concat(cr,"px"),Nn.borderStyle.style!==gi.Underline&&(Oi-=2*cr,kr-=2*cr);var vr=Nn.borderStyle,tr=vr.horizontalCornerRadius,or=vr.verticalCornerRadius;(tr>0||or>0)&&(dr.borderRadius="".concat(tr,"px / ").concat(or,"px")),Nn.color?dr.borderColor="rgb(".concat(0|Nn.color[0],", ").concat(0|Nn.color[1],", ").concat(0|Nn.color[2],")"):dr.borderWidth="0"}return Fe.createElement(Fe.Fragment,null,ri&&zn({popup:{opened:ki,closeOnHover:Ci,openOnHover:wi,toggleOnClick:Ni},slot:{attrs:{style:Object.assign({height:"".concat(kr,"px"),left:"".concat(Li[0],"px"),top:"".concat(Li[1],"px"),transform:"matrix(".concat(jn.transform.join(","),")"),transformOrigin:"-".concat(Li[0],"px -").concat(Li[1],"px"),width:"".concat(Oi,"px")},dr)},children:Fe.createElement(Fe.Fragment,null,qn&&ki&&Fe.createElement(Bi,{annotation:Nn}))}}))},Fn=function(mn){var An=mn.annotation,Nn=mn.page,zn=mn.viewport,Un=An.hasPopup===!1,qn=ti(An),ri=Qn(An),ei=!!(An.hasPopup||qn||ri);return Fe.createElement(Qi,{annotation:An,hasPopup:Un,ignoreBorder:!0,isRenderable:ei,page:Nn,viewport:zn},function(jn){return Fe.createElement("div",We({},jn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":An.id,onClick:jn.popup.toggleOnClick,onMouseEnter:jn.popup.openOnHover,onMouseLeave:jn.popup.closeOnHover}),jn.slot.children)})},pi=function(mn){var An=mn.annotation,Nn=mn.page,zn=mn.viewport,Un=An.hasPopup===!1,qn=ti(An),ri=Qn(An),ei=!!(An.hasPopup||qn||ri),jn=An.rect,ii=jn[2]-jn[0],ni=jn[3]-jn[1],Ci=An.borderStyle.width;return Fe.createElement(Qi,{annotation:An,hasPopup:Un,ignoreBorder:!0,isRenderable:ei,page:Nn,viewport:zn},function(ki){return Fe.createElement("div",We({},ki.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":An.id,onClick:ki.popup.toggleOnClick,onMouseEnter:ki.popup.openOnHover,onMouseLeave:ki.popup.closeOnHover}),Fe.createElement("svg",{height:"".concat(ni,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ii," ").concat(ni),width:"".concat(ii,"px")},Fe.createElement("circle",{cy:ni/2,fill:"none",rx:ii/2-Ci/2,ry:ni/2-Ci/2,stroke:"transparent",strokeWidth:Ci||1})),ki.slot.children)})},Ti=function(mn){var An=mn.annotation,Nn=mn.page,zn=mn.viewport,Un=ti(An),qn=Qn(An),ri=!(An.hasPopup!==!1||!Un&&!qn),ei=function(){var jn,ii,ni,Ci,ki=An.file;ki&&(jn=ki.filename,ii=ki.content,ni=typeof ii=="string"?"":URL.createObjectURL(new Blob([ii],{type:""})),(Ci=document.createElement("a")).style.display="none",Ci.href=ni||jn,Ci.setAttribute("download",function(wi){var Ni=wi.split("/").pop();return Ni?Ni.split("#")[0].split("?")[0]:wi}(jn)),document.body.appendChild(Ci),Ci.click(),document.body.removeChild(Ci),ni&&URL.revokeObjectURL(ni))};return Fe.createElement(Qi,{annotation:An,hasPopup:ri,ignoreBorder:!0,isRenderable:!0,page:Nn,viewport:zn},function(jn){return Fe.createElement("div",We({},jn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":An.id,onClick:jn.popup.toggleOnClick,onDoubleClick:ei,onMouseEnter:jn.popup.openOnHover,onMouseLeave:jn.popup.closeOnHover}),jn.slot.children)})},$i=function(mn){var An=mn.annotation,Nn=mn.page,zn=mn.viewport,Un=An.hasPopup===!1,qn=ti(An),ri=Qn(An),ei=!!(An.hasPopup||qn||ri);return Fe.createElement(Qi,{annotation:An,hasPopup:Un,ignoreBorder:!0,isRenderable:ei,page:Nn,viewport:zn},function(jn){return Fe.createElement("div",We({},jn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":An.id,onClick:jn.popup.toggleOnClick,onMouseEnter:jn.popup.openOnHover,onMouseLeave:jn.popup.closeOnHover}),jn.slot.children)})},Gi=function(mn){var An=mn.annotation,Nn=mn.page,zn=mn.viewport,Un=ti(An),qn=Qn(An),ri=!(!Un&&!qn),ei=!An.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(An.parentType)!==-1;return qe(function(){if(An.parentId){var jn=document.querySelector('[data-annotation-id="'.concat(An.parentId,'"]')),ii=document.querySelector('[data-annotation-id="'.concat(An.id,'"]'));if(jn&&ii){var ni=parseFloat(jn.style.left),Ci=parseFloat(jn.style.top)+parseFloat(jn.style.height);ii.style.left="".concat(ni,"px"),ii.style.top="".concat(Ci,"px"),ii.style.transformOrigin="-".concat(ni,"px -").concat(Ci,"px")}}},[]),Fe.createElement(Qi,{annotation:An,hasPopup:ei,ignoreBorder:!1,isRenderable:ri,page:Nn,viewport:zn},function(jn){return Fe.createElement("div",We({},jn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":An.id}),Fe.createElement(Bi,{annotation:An}))})},ji=function(mn){var An=mn.annotation,Nn=mn.childAnnotation,zn=mn.page,Un=mn.viewport,qn=An.hasPopup===!1,ri=ti(An),ei=Qn(An),jn=!!(An.hasPopup||ri||ei);if(An.quadPoints&&An.quadPoints.length>0){var ii=An.quadPoints.map(function(ni){return Object.assign({},An,{rect:[ni[2].x,ni[2].y,ni[1].x,ni[1].y],quadPoints:[]})});return Fe.createElement(Fe.Fragment,null,ii.map(function(ni,Ci){return Fe.createElement(ji,{key:Ci,annotation:ni,childAnnotation:Nn,page:zn,viewport:Un})}))}return Fe.createElement(Qi,{annotation:An,hasPopup:qn,ignoreBorder:!0,isRenderable:jn,page:zn,viewport:Un},function(ni){return Fe.createElement(Fe.Fragment,null,Fe.createElement("div",We({},ni.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":An.id,onClick:ni.popup.toggleOnClick,onMouseEnter:ni.popup.openOnHover,onMouseLeave:ni.popup.closeOnHover}),ni.slot.children),Nn&&Nn.annotationType===Ae.AnnotationType.Popup&&ni.popup.opened&&Fe.createElement(Gi,{annotation:Nn,page:zn,viewport:Un}))})},In=function(mn){var An=mn.annotation,Nn=mn.page,zn=mn.viewport,Un=An.hasPopup===!1,qn=ti(An),ri=Qn(An),ei=!!(An.hasPopup||qn||ri),jn=An.rect,ii=jn[2]-jn[0],ni=jn[3]-jn[1],Ci=An.borderStyle.width;return Fe.createElement(Qi,{annotation:An,hasPopup:Un,ignoreBorder:!0,isRenderable:ei,page:Nn,viewport:zn},function(ki){return Fe.createElement("div",We({},ki.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":An.id,onClick:ki.popup.toggleOnClick,onMouseEnter:ki.popup.openOnHover,onMouseLeave:ki.popup.closeOnHover}),An.inkLists&&An.inkLists.length&&Fe.createElement("svg",{height:"".concat(ni,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ii," ").concat(ni),width:"".concat(ii,"px")},An.inkLists.map(function(wi,Ni){return Fe.createElement("polyline",{key:Ni,fill:"none",stroke:"transparent",strokeWidth:Ci||1,points:wi.map(function(Li){return"".concat(Li.x-jn[0],",").concat(jn[3]-Li.y)}).join(" ")})})),ki.slot.children)})},On=function(mn){var An=mn.annotation,Nn=mn.page,zn=mn.viewport,Un=An.hasPopup===!1,qn=ti(An),ri=Qn(An),ei=!!(An.hasPopup||qn||ri),jn=An.rect,ii=jn[2]-jn[0],ni=jn[3]-jn[1],Ci=An.borderStyle.width;return Fe.createElement(Qi,{annotation:An,hasPopup:Un,ignoreBorder:!0,isRenderable:ei,page:Nn,viewport:zn},function(ki){return Fe.createElement("div",We({},ki.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":An.id,onClick:ki.popup.toggleOnClick,onMouseEnter:ki.popup.openOnHover,onMouseLeave:ki.popup.closeOnHover}),Fe.createElement("svg",{height:"".concat(ni,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ii," ").concat(ni),width:"".concat(ii,"px")},Fe.createElement("line",{stroke:"transparent",strokeWidth:Ci||1,x1:jn[2]-An.lineCoordinates[0],x2:jn[2]-An.lineCoordinates[2],y1:jn[3]-An.lineCoordinates[1],y2:jn[3]-An.lineCoordinates[3]})),ki.slot.children)})},Vn=/^([^\w]*)(javascript|data|vbscript)/im,ui=/&#(\w+)(^\w|;)?/g,hi=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,xi=/^([^:]+):/gm,Ai=function(mn,An){var Nn,zn=(Nn=mn||"",Nn.replace(ui,function(ei,jn){return String.fromCharCode(jn)})).replace(hi,"").trim();if(!zn)return An;var Un=zn[0];if(Un==="."||Un==="/")return zn;var qn=zn.match(xi);if(!qn)return zn;var ri=qn[0];return Vn.test(ri)?An:zn},Ui=function(mn){var An,Nn=mn.annotation,zn=mn.annotationContainerRef,Un=mn.doc,qn=mn.outlines,ri=mn.page,ei=mn.pageIndex,jn=mn.scale,ii=mn.viewport,ni=mn.onExecuteNamedAction,Ci=mn.onJumpFromLinkAnnotation,ki=mn.onJumpToDest,wi=Fe.useRef(),Ni=qn&&qn.length&&Nn.dest&&typeof Nn.dest=="string"?(An=qn.find(function(dr){return dr.dest===Nn.dest}))===null||An===void 0?void 0:An.title:"",Li=!!(Nn.url||Nn.dest||Nn.action||Nn.unsafeUrl),Oi={};if(Nn.url||Nn.unsafeUrl){var kr=Ai(Nn.url||Nn.unsafeUrl,"");kr?Oi={"data-target":"external",href:kr,rel:"noopener noreferrer nofollow",target:Nn.newWindow?"_blank":"",title:kr}:Li=!1}else Oi={href:"","data-annotation-link":Nn.id,onClick:function(dr){dr.preventDefault(),Nn.action?ni(Nn.action):Xi(Un,Nn.dest).then(function(cr){var vr=wi.current,tr=zn.current;if(vr&&tr){var or=vr.getBoundingClientRect();tr.style.setProperty("height","100%"),tr.style.setProperty("width","100%");var hr=tr.getBoundingClientRect();tr.style.removeProperty("height"),tr.style.removeProperty("width");var zr=(or.left-hr.left)/jn,Dr=(hr.bottom-or.bottom+or.height)/jn;Ci({bottomOffset:Dr,label:Ni,leftOffset:zr,pageIndex:ei})}ki(cr)})}};return Ni&&(Oi=Object.assign({},Oi,{title:Ni,"aria-label":Ni})),Fe.createElement(Qi,{annotation:Nn,hasPopup:!1,ignoreBorder:!1,isRenderable:Li,page:ri,viewport:ii},function(dr){return Fe.createElement("div",We({},dr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Nn.id,"data-testid":"core__annotation--link-".concat(Nn.id)}),Fe.createElement("a",We({ref:wi},Oi)))})},qi=function(mn){var An=mn.annotation,Nn=mn.page,zn=mn.viewport,Un=An.hasPopup===!1,qn=ti(An),ri=Qn(An),ei=!!(An.hasPopup||qn||ri),jn=An.rect,ii=jn[2]-jn[0],ni=jn[3]-jn[1],Ci=An.borderStyle.width;return Fe.createElement(Qi,{annotation:An,hasPopup:Un,ignoreBorder:!0,isRenderable:ei,page:Nn,viewport:zn},function(ki){return Fe.createElement("div",We({},ki.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":An.id,onClick:ki.popup.toggleOnClick,onMouseEnter:ki.popup.openOnHover,onMouseLeave:ki.popup.closeOnHover}),An.vertices&&An.vertices.length&&Fe.createElement("svg",{height:"".concat(ni,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ii," ").concat(ni),width:"".concat(ii,"px")},Fe.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:Ci||1,points:An.vertices.map(function(wi){return"".concat(wi.x-jn[0],",").concat(jn[3]-wi.y)}).join(" ")})),ki.slot.children)})},Fi=function(mn){var An=mn.annotation,Nn=mn.page,zn=mn.viewport,Un=An.hasPopup===!1,qn=ti(An),ri=Qn(An),ei=!!(An.hasPopup||qn||ri),jn=An.rect,ii=jn[2]-jn[0],ni=jn[3]-jn[1],Ci=An.borderStyle.width;return Fe.createElement(Qi,{annotation:An,hasPopup:Un,ignoreBorder:!0,isRenderable:ei,page:Nn,viewport:zn},function(ki){return Fe.createElement("div",We({},ki.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":An.id,onClick:ki.popup.toggleOnClick,onMouseEnter:ki.popup.openOnHover,onMouseLeave:ki.popup.closeOnHover}),An.vertices&&An.vertices.length&&Fe.createElement("svg",{height:"".concat(ni,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ii," ").concat(ni),width:"".concat(ii,"px")},Fe.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:Ci||1,points:An.vertices.map(function(wi){return"".concat(wi.x-jn[0],",").concat(jn[3]-wi.y)}).join(" ")})),ki.slot.children)})},yr=function(mn){var An=mn.annotation,Nn=mn.page,zn=mn.viewport,Un=An.hasPopup===!1,qn=ti(An),ri=Qn(An),ei=!!(An.hasPopup||qn||ri),jn=An.rect,ii=jn[2]-jn[0],ni=jn[3]-jn[1],Ci=An.borderStyle.width;return Fe.createElement(Qi,{annotation:An,hasPopup:Un,ignoreBorder:!0,isRenderable:ei,page:Nn,viewport:zn},function(ki){return Fe.createElement("div",We({},ki.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":An.id,onClick:ki.popup.toggleOnClick,onMouseEnter:ki.popup.openOnHover,onMouseLeave:ki.popup.closeOnHover}),Fe.createElement("svg",{height:"".concat(ni,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ii," ").concat(ni),width:"".concat(ii,"px")},Fe.createElement("rect",{height:ni-Ci,fill:"none",stroke:"transparent",strokeWidth:Ci||1,x:Ci/2,y:Ci/2,width:ii-Ci})),ki.slot.children)})},Ki=function(mn){var An=mn.annotation,Nn=mn.page,zn=mn.viewport,Un=An.hasPopup===!1,qn=ti(An),ri=Qn(An),ei=!!(An.hasPopup||qn||ri);return Fe.createElement(Qi,{annotation:An,hasPopup:Un,ignoreBorder:!0,isRenderable:ei,page:Nn,viewport:zn},function(jn){return Fe.createElement("div",We({},jn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":An.id,onClick:jn.popup.toggleOnClick,onMouseEnter:jn.popup.openOnHover,onMouseLeave:jn.popup.closeOnHover}),jn.slot.children)})},Ji=function(mn){var An=mn.annotation,Nn=mn.page,zn=mn.viewport,Un=An.hasPopup===!1,qn=ti(An),ri=Qn(An),ei=!!(An.hasPopup||qn||ri);return Fe.createElement(Qi,{annotation:An,hasPopup:Un,ignoreBorder:!0,isRenderable:ei,page:Nn,viewport:zn},function(jn){return Fe.createElement("div",We({},jn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":An.id,onClick:jn.popup.toggleOnClick,onMouseEnter:jn.popup.openOnHover,onMouseLeave:jn.popup.closeOnHover}),jn.slot.children)})},pr=function(mn){var An=mn.annotation,Nn=mn.page,zn=mn.viewport,Un=An.hasPopup===!1,qn=ti(An),ri=Qn(An),ei=!!(An.hasPopup||qn||ri);return Fe.createElement(Qi,{annotation:An,hasPopup:Un,ignoreBorder:!0,isRenderable:ei,page:Nn,viewport:zn},function(jn){return Fe.createElement("div",We({},jn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":An.id,onClick:jn.popup.toggleOnClick,onMouseEnter:jn.popup.openOnHover,onMouseLeave:jn.popup.closeOnHover}),jn.slot.children)})},Sr=function(){return Fe.createElement(Ye,{size:16},Fe.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),Fe.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),Fe.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),Fe.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},Fr=function(){return Fe.createElement(Ye,{size:16},Fe.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),Fe.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),Fe.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),Fe.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),Fe.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),Fe.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),Fe.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),Fe.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),Fe.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),Fe.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Vr=function(){return Fe.createElement(Ye,{size:16},Fe.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),Fe.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},vs=function(){return Fe.createElement(Ye,{size:16},Fe.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),Fe.createElement("path",{d:"M6 4.5L6 0.5"}),Fe.createElement("path",{d:"M18 4.5L18 0.5"}),Fe.createElement("path",{d:"M10 4.5L10 0.5"}),Fe.createElement("path",{d:"M14 4.5L14 0.5"}))},ts=function(){return Fe.createElement(Ye,{size:16},Fe.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),Fe.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),Fe.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Ws=function(){return Fe.createElement(Ye,{size:16},Fe.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Zs=function(mn){var An=mn.annotation,Nn=mn.childAnnotation,zn=mn.page,Un=mn.viewport,qn=An.hasPopup===!1,ri=ti(An),ei=Qn(An),jn=!!(An.hasPopup||ri||ei),ii=An.name?An.name.toLowerCase():"";return Fe.createElement(Qi,{annotation:An,hasPopup:qn,ignoreBorder:!1,isRenderable:jn,page:zn,viewport:Un},function(ni){return Fe.createElement(Fe.Fragment,null,Fe.createElement("div",We({},ni.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":An.id,onClick:ni.popup.toggleOnClick,onMouseEnter:ni.popup.openOnHover,onMouseLeave:ni.popup.closeOnHover}),ii&&Fe.createElement("div",{className:"rpv-core__annotation-text-icon"},ii==="check"&&Fe.createElement(Ze,null),ii==="comment"&&Fe.createElement(Sr,null),ii==="help"&&Fe.createElement(Fr,null),ii==="insert"&&Fe.createElement(Ws,null),ii==="key"&&Fe.createElement(Vr,null),ii==="note"&&Fe.createElement(vs,null),(ii==="newparagraph"||ii==="paragraph")&&Fe.createElement(ts,null)),ni.slot.children),Nn&&Nn.annotationType===Ae.AnnotationType.Popup&&ni.popup.opened&&Fe.createElement(Gi,{annotation:Nn,page:zn,viewport:Un}))})},Qs=function(mn){var An=mn.annotation,Nn=mn.page,zn=mn.viewport,Un=An.hasPopup===!1,qn=ti(An),ri=Qn(An),ei=!!(An.hasPopup||qn||ri);return Fe.createElement(Qi,{annotation:An,hasPopup:Un,ignoreBorder:!0,isRenderable:ei,page:Nn,viewport:zn},function(jn){return Fe.createElement("div",We({},jn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":An.id,onClick:jn.popup.toggleOnClick,onMouseEnter:jn.popup.openOnHover,onMouseLeave:jn.popup.closeOnHover}),jn.slot.children)})},Da=function(mn){var An=mn.annotations,Nn=mn.doc,zn=mn.outlines,Un=mn.page,qn=mn.pageIndex,ri=mn.plugins,ei=mn.rotation,jn=mn.scale,ii=mn.onExecuteNamedAction,ni=mn.onJumpFromLinkAnnotation,Ci=mn.onJumpToDest,ki=Fe.useRef(),wi=Un.getViewport({rotation:ei,scale:jn}).clone({dontFlip:!0}),Ni=An.filter(function(Li){return!Li.parentId});return qe(function(){var Li=ki.current;Li&&ri.forEach(function(Oi){Oi.onAnnotationLayerRender&&Oi.onAnnotationLayerRender({annotations:Ni,container:Li,pageIndex:qn,rotation:ei,scale:jn})})},[]),Fe.createElement("div",{ref:ki,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(qn)},Ni.map(function(Li){var Oi=An.find(function(kr){return kr.parentId===Li.id});switch(Li.annotationType){case Ae.AnnotationType.Caret:return Fe.createElement(Fn,{key:Li.id,annotation:Li,page:Un,viewport:wi});case Ae.AnnotationType.Circle:return Fe.createElement(pi,{key:Li.id,annotation:Li,page:Un,viewport:wi});case Ae.AnnotationType.FileAttachment:return Fe.createElement(Ti,{key:Li.id,annotation:Li,page:Un,viewport:wi});case Ae.AnnotationType.FreeText:return Fe.createElement($i,{key:Li.id,annotation:Li,page:Un,viewport:wi});case Ae.AnnotationType.Highlight:return Fe.createElement(ji,{key:Li.id,annotation:Li,childAnnotation:Oi,page:Un,viewport:wi});case Ae.AnnotationType.Ink:return Fe.createElement(In,{key:Li.id,annotation:Li,page:Un,viewport:wi});case Ae.AnnotationType.Line:return Fe.createElement(On,{key:Li.id,annotation:Li,page:Un,viewport:wi});case Ae.AnnotationType.Link:return Fe.createElement(Ui,{key:Li.id,annotation:Li,annotationContainerRef:ki,doc:Nn,outlines:zn,page:Un,pageIndex:qn,scale:jn,viewport:wi,onExecuteNamedAction:ii,onJumpFromLinkAnnotation:ni,onJumpToDest:Ci});case Ae.AnnotationType.Polygon:return Fe.createElement(qi,{key:Li.id,annotation:Li,page:Un,viewport:wi});case Ae.AnnotationType.Polyline:return Fe.createElement(Fi,{key:Li.id,annotation:Li,page:Un,viewport:wi});case Ae.AnnotationType.Popup:return Fe.createElement(Gi,{key:Li.id,annotation:Li,page:Un,viewport:wi});case Ae.AnnotationType.Square:return Fe.createElement(yr,{key:Li.id,annotation:Li,page:Un,viewport:wi});case Ae.AnnotationType.Squiggly:return Fe.createElement(Ki,{key:Li.id,annotation:Li,page:Un,viewport:wi});case Ae.AnnotationType.Stamp:return Fe.createElement(Ji,{key:Li.id,annotation:Li,page:Un,viewport:wi});case Ae.AnnotationType.StrikeOut:return Fe.createElement(pr,{key:Li.id,annotation:Li,page:Un,viewport:wi});case Ae.AnnotationType.Text:return Fe.createElement(Zs,{key:Li.id,annotation:Li,childAnnotation:Oi,page:Un,viewport:wi});case Ae.AnnotationType.Underline:return Fe.createElement(Qs,{key:Li.id,annotation:Li,page:Un,viewport:wi});default:return Fe.createElement(Fe.Fragment,{key:Li.id})}}))},ku=function(mn){var An=mn.page,Nn=mn.renderAnnotations,zn=bn(),Un=Fe.useState({loading:!0,annotations:[]}),qn=Un[0],ri=Un[1];return Fe.useEffect(function(){An.getAnnotations({intent:"display"}).then(function(ei){zn.current&&ri({loading:!1,annotations:ei})})},[]),qn.loading?Fe.createElement(Fe.Fragment,null):Nn(qn.annotations)},hs=function(mn){var An=mn.doc,Nn=mn.outlines,zn=mn.page,Un=mn.pageIndex,qn=mn.plugins,ri=mn.rotation,ei=mn.scale,jn=mn.onExecuteNamedAction,ii=mn.onJumpFromLinkAnnotation,ni=mn.onJumpToDest;return Fe.createElement(ku,{page:zn,renderAnnotations:function(Ci){return Fe.createElement(Da,{annotations:Ci,doc:An,outlines:Nn,page:zn,pageIndex:Un,plugins:qn,rotation:ri,scale:ei,onExecuteNamedAction:jn,onJumpFromLinkAnnotation:ii,onJumpToDest:ni})}})},Na=function(mn,An){var Nn=mn%An;return Nn===0?mn:Math.floor(mn-Nn)},Sl=function(mn){var An=mn.canvasLayerRef,Nn=mn.height,zn=mn.page,Un=mn.pageIndex,qn=mn.plugins,ri=mn.rotation,ei=mn.scale,jn=mn.width,ii=mn.onRenderCanvasCompleted,ni=Fe.useRef();return qe(function(){var Ci=ni.current;Ci&&Ci.cancel();var ki=An.current;ki.removeAttribute("data-testid"),qn.forEach(function(hr){hr.onCanvasLayerRender&&hr.onCanvasLayerRender({ele:ki,pageIndex:Un,rotation:ri,scale:ei,status:Ae.LayerRenderStatus.PreRender})});var wi=zn.getViewport({rotation:ri,scale:ei}),Ni=window.devicePixelRatio||1,Li=Math.sqrt(16777216/(wi.width*wi.height)),Oi=Ni>Li;Oi?ki.style.transform="scale(1, 1)":ki.style.removeProperty("transform");var kr=Math.min(Li,Ni),dr=function(hr,zr){var Dr,Hr;if(Math.floor(hr)===hr)return[hr,1];var Br=1/hr;if(Br>zr)return[1,zr];if(Math.floor(Br)===Br)return[1,Br];for(var Wr=hr>1?Br:hr,ns=0,Kr=1,us=1,rs=1;;){var os=ns+us,as=Kr+rs;if(as>zr)break;Wr<=os/as?(us=(Dr=[os,as])[0],rs=Dr[1]):(ns=(Hr=[os,as])[0],Kr=Hr[1])}return Wr<(ns/Kr+us/rs)/2?Wr===hr?[ns,Kr]:[Kr,ns]:Wr===hr?[us,rs]:[rs,us]}(kr,8),cr=dr[0],vr=dr[1];ki.width=Na(wi.width*kr,cr),ki.height=Na(wi.height*kr,cr),ki.style.width="".concat(Na(wi.width,vr),"px"),ki.style.height="".concat(Na(wi.height,vr),"px"),ki.hidden=!0;var tr=ki.getContext("2d",{alpha:!1}),or=Oi||Ni!==1?[kr,0,0,kr,0,0]:null;return ni.current=zn.render({canvasContext:tr,transform:or,viewport:wi}),ni.current.promise.then(function(){ki.hidden=!1,ki.setAttribute("data-testid","core__canvas-layer-".concat(Un)),qn.forEach(function(hr){hr.onCanvasLayerRender&&hr.onCanvasLayerRender({ele:ki,pageIndex:Un,rotation:ri,scale:ei,status:Ae.LayerRenderStatus.DidRender})}),ii()},function(){ii()}),function(){ki&&(ki.width=0,ki.height=0)}},[]),Fe.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Nn,"px"),width:"".concat(jn,"px")}},Fe.createElement("canvas",{ref:An}))},nc=function(mn){var An=mn.height,Nn=mn.page,zn=mn.rotation,Un=mn.scale,qn=mn.width,ri=Fe.useRef();return qe(function(){var ei=ri.current,jn=Nn.getViewport({rotation:zn,scale:Un});Nn.getOperatorList().then(function(ii){(function(){var ni=ri.current;ni&&(ni.innerHTML="")})(),new Ne.SVGGraphics(Nn.commonObjs,Nn.objs).getSVG(ii,jn).then(function(ni){ni.style.height="".concat(An,"px"),ni.style.width="".concat(qn,"px"),ei.appendChild(ni)})})},[]),Fe.createElement("div",{className:"rpv-core__svg-layer",ref:ri})},za=function(mn){var An=mn.containerRef,Nn=mn.page,zn=mn.pageIndex,Un=mn.plugins,qn=mn.rotation,ri=mn.scale,ei=mn.onRenderTextCompleted,jn=Fe.useRef(),ii=function(){var ni=An.current;ni&&([].slice.call(ni.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(Ci){return ni.removeChild(Ci)}),[].slice.call(ni.querySelectorAll('br[role="presentation"]')).forEach(function(Ci){return ni.removeChild(Ci)}))};return qe(function(){var ni=jn.current;ni&&ni.cancel();var Ci=An.current;if(Ci){Ci.removeAttribute("data-testid");var ki=Nn.getViewport({rotation:qn,scale:ri});return Un.forEach(function(wi){wi.onTextLayerRender&&wi.onTextLayerRender({ele:Ci,pageIndex:zn,scale:ri,status:Ae.LayerRenderStatus.PreRender})}),Nn.getTextContent().then(function(wi){ii(),jn.current=Ne.renderTextLayer({container:Ci,textContent:wi,textContentSource:wi,viewport:ki}),jn.current.promise.then(function(){Ci.setAttribute("data-testid","core__text-layer-".concat(zn)),[].slice.call(Ci.children).forEach(function(Ni){Ni.classList.contains("rpv-core__text-layer-text--not")||Ni.classList.add("rpv-core__text-layer-text")}),Un.forEach(function(Ni){Ni.onTextLayerRender&&Ni.onTextLayerRender({ele:Ci,pageIndex:zn,scale:ri,status:Ae.LayerRenderStatus.DidRender})}),ei()},function(){Ci.removeAttribute("data-testid"),ei()})}),function(){var wi;ii(),(wi=jn.current)===null||wi===void 0||wi.cancel()}}},[]),Fe.createElement("div",{className:"rpv-core__text-layer",ref:An})},Cu=function(mn){var An=mn.doc,Nn=mn.measureRef,zn=mn.outlines,Un=mn.pageIndex,qn=mn.pageRotation,ri=mn.pageSize,ei=mn.plugins,jn=mn.renderPage,ii=mn.renderQueueKey,ni=mn.rotation,Ci=mn.scale,ki=mn.shouldRender,wi=mn.viewMode,Ni=mn.onExecuteNamedAction,Li=mn.onJumpFromLinkAnnotation,Oi=mn.onJumpToDest,kr=mn.onRenderCompleted,dr=mn.onRotatePage,cr=bn(),vr=Fe.useState(null),tr=vr[0],or=vr[1],hr=Fe.useState(!1),zr=hr[0],Dr=hr[1],Hr=Fe.useState(!1),Br=Hr[0],Wr=Hr[1],ns=Fe.useRef(),Kr=Fe.useRef(),us=Math.abs(ni+qn)%180==0,rs=ri.pageWidth*Ci,os=ri.pageHeight*Ci,as=us?rs:os,is=us?os:rs,ws=(ri.rotation+ni+qn)%360,lo=Fe.useRef(0),eo=jn||function(_s){return Fe.createElement(Fe.Fragment,null,_s.canvasLayer.children,_s.textLayer.children,_s.annotationLayer.children)};return Fe.useEffect(function(){or(null),Dr(!1),Wr(!1)},[qn,ni,Ci]),Fe.useEffect(function(){ki&&cr.current&&!tr&&Mi(An,Un).then(function(_s){cr.current&&(lo.current=ii,or(_s))})},[ki,tr]),Fe.useEffect(function(){zr&&Br&&(ii!==lo.current?(or(null),Dr(!1),Wr(!1)):kr(Un))},[zr,Br]),Fe.createElement("div",{className:$e({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":wi===Ae.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":wi===Ae.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":wi===Ae.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(Un),ref:Nn,style:{height:"".concat(is,"px"),width:"".concat(as,"px")}},tr?Fe.createElement(Fe.Fragment,null,eo({annotationLayer:{attrs:{},children:Fe.createElement(hs,{doc:An,outlines:zn,page:tr,pageIndex:Un,plugins:ei,rotation:ws,scale:Ci,onExecuteNamedAction:Ni,onJumpFromLinkAnnotation:Li,onJumpToDest:Oi})},canvasLayer:{attrs:{},children:Fe.createElement(Sl,{canvasLayerRef:ns,height:is,page:tr,pageIndex:Un,plugins:ei,rotation:ws,scale:Ci,width:as,onRenderCanvasCompleted:function(){cr.current&&Dr(!0)}})},canvasLayerRendered:zr,doc:An,height:is,pageIndex:Un,rotation:ws,scale:Ci,svgLayer:{attrs:{},children:Fe.createElement(nc,{height:is,page:tr,rotation:ws,scale:Ci,width:as})},textLayer:{attrs:{},children:Fe.createElement(za,{containerRef:Kr,page:tr,pageIndex:Un,plugins:ei,rotation:ws,scale:Ci,onRenderTextCompleted:function(){cr.current&&Wr(!0)}})},textLayerRendered:Br,width:as,markRendered:kr,onRotatePage:function(_s){return dr(Un,_s)}}),ei.map(function(_s,Ls){return _s.renderPageLayer?Fe.createElement(Fe.Fragment,{key:Ls},_s.renderPageLayer({canvasLayerRef:ns,canvasLayerRendered:zr,doc:An,height:is,pageIndex:Un,rotation:ws,scale:Ci,textLayerRef:Kr,textLayerRendered:Br,width:as})):Fe.createElement(Fe.Fragment,{key:Ls})})):Fe.createElement(pn,{testId:"core__page-layer-loading-".concat(Un)}))},ic=function(mn,An){var Nn=An.rect;return mn.height!==Nn.height||mn.width!==Nn.width?Nn:mn};(function(mn){mn.Horizontal="Horizontal",mn.Vertical="Vertical",mn.Both="Both"})(Vi||(Vi={}));var ja=function(mn){return 1-Math.pow(1-mn,4)},Ns=1e-4,rc={left:0,top:0},Vs={capture:!1,passive:!0},Pu=function(mn){var An=mn.elementRef,Nn=mn.enableSmoothScroll,zn=mn.isRtl,Un=mn.scrollDirection,qn=mn.onSmoothScroll,ri=Fe.useState(rc),ei=ri[0],jn=ri[1],ii=Fe.useState(An.current),ni=ii[0],Ci=ii[1],ki=zn?-1:1,wi=Fe.useRef(Un);wi.current=Un;var Ni=Fe.useRef(rc),Li=Fe.useRef(!0),Oi=Fe.useCallback(function(){Li.current=!0,Nn&&jn(Ni.current),qn(!1)},[]),kr=Fe.useCallback(function(){if(ni){switch(wi.current){case Vi.Horizontal:Ni.current={left:ki*ni.scrollLeft,top:0};break;case Vi.Both:Ni.current={left:ki*ni.scrollLeft,top:ni.scrollTop};break;case Vi.Vertical:default:Ni.current={left:0,top:ni.scrollTop}}Nn&&!Li.current||jn(Ni.current)}},[ni]);qe(function(){Ci(An.current)}),qe(function(){if(ni)return ni.addEventListener("scroll",kr,Vs),function(){ni.removeEventListener("scroll",kr,Vs)}},[ni]);var dr=Fe.useCallback(function(cr,vr){var tr=An.current;if(!tr)return Promise.resolve();var or={left:0,top:0};switch(wi.current){case Vi.Horizontal:or.left=ki*cr.left;break;case Vi.Both:or.left=ki*cr.left,or.top=cr.top;break;case Vi.Vertical:default:or.top=cr.top}return vr?(Li.current=!1,qn(!0),new Promise(function(hr,zr){(function(Dr,Hr,Br,Wr,ns,Kr){ns===void 0&&(ns=function(Ls){return Ls}),Kr===void 0&&(Kr=function(){});var us=0,rs=0,os=!1;switch(Hr){case Vi.Horizontal:rs=Dr.scrollLeft,us=0;case Vi.Both:rs=Dr.scrollLeft,us=Dr.scrollTop;break;case Vi.Vertical:default:rs=0,us=Dr.scrollTop}var as=function(){os||(os=!0,Dr.scrollLeft=Br.left,Dr.scrollTop=Br.top,Kr())};if(Math.abs(us-Br.top)<=Ns&&Hr===Vi.Vertical)as();else if(Math.abs(rs-Br.left)<=Ns&&Hr===Vi.Horizontal)as();else{var is,ws=-1,lo=rs-Br.left,eo=us-Br.top,_s=function(Ls){ws===-1&&(ws=Ls);var co=Ls-ws,xr=Math.min(co/Wr,1),mr=ns(xr),rr={left:rs-lo*mr,top:us-eo*mr};switch(Hr){case Vi.Horizontal:Dr.scrollLeft=rr.left;break;case Vi.Both:Dr.scrollLeft=rr.left,Dr.scrollTop=rr.top;break;case Vi.Vertical:default:Dr.scrollTop=rr.top}Math.abs(rr.top-Br.top)<=Ns&&Math.abs(rr.left-Br.left)<=Ns&&!os&&(window.cancelAnimationFrame(is),as()),co<Wr?is=window.requestAnimationFrame(_s):window.cancelAnimationFrame(is)};is=window.requestAnimationFrame(_s)}})(tr,wi.current,or,400,ja,function(){Oi(),hr()})})):new Promise(function(hr,zr){switch(wi.current){case Vi.Horizontal:tr.scrollLeft=or.left;break;case Vi.Both:tr.scrollLeft=or.left,tr.scrollTop=or.top;break;case Vi.Vertical:default:tr.scrollTop=or.top}hr()})},[An]);return{scrollOffset:ei,scrollTo:dr}},fa=function(mn,An,Nn){return Math.max(mn,Math.min(Nn,An))},Au=function(mn,An){if(An!==Ae.ViewMode.DualPageWithCover)return 0;if(!function(Un){var qn=Un.length;if(qn===1)return!1;for(var ri=1;ri<qn;ri++)if(Un[ri].height!==Un[0].height||Un[ri].width!==Un[0].width)return!0;return!1}(mn))return 2*mn[0].width;var Nn=$n(mn.slice(1),2).map(function(Un){return Un.length===2?Un[0].width+Un[1].width:Un[0].width}),zn=[mn[0].width].concat(Nn);return Math.max.apply(Math,zn)},Ba={left:0,top:0},Ha={left:0,top:0},Io={left:0,top:0},Wa={left:0,top:0},Mu={height:0,width:0},sc={left:0,top:0},Va="data-virtual-index",oc=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],xl=function(mn){var An=mn.enableSmoothScroll,Nn=mn.isRtl,zn=mn.numberOfItems,Un=mn.parentRef,qn=mn.setRenderRange,ri=mn.sizes,ei=mn.scrollMode,jn=mn.viewMode,ii=Fe.useState(!1),ni=ii[0],Ci=ii[1],ki=Fe.useCallback(function(xr){return Ci(xr)},[]),wi=Fe.useRef(ei);wi.current=ei;var Ni=Fe.useRef(jn);Ni.current=jn;var Li=ei===Ae.ScrollMode.Wrapped||jn===Ae.ViewMode.DualPageWithCover||jn===Ae.ViewMode.DualPage?Vi.Both:ei===Ae.ScrollMode.Horizontal?Vi.Horizontal:Vi.Vertical,Oi=Pu({elementRef:Un,enableSmoothScroll:An,isRtl:Nn,scrollDirection:Li,onSmoothScroll:ki}),kr=Oi.scrollOffset,dr=Oi.scrollTo,cr=function(xr){var mr=xr.elementRef,rr=Fe.useState(mr.current),ar=rr[0],nr=rr[1],wr=Fe.useRef(!1),Cr=Fe.useReducer(ic,{height:0,width:0}),lr=Cr[0],Zi=Cr[1];return qe(function(){mr.current!==ar&&nr(mr.current)}),qe(function(){if(ar&&!wr.current){wr.current=!0;var Tr=ar.getBoundingClientRect(),Or=Tr.height,Jr=Tr.width;Zi({rect:{height:Or,width:Jr}})}},[ar]),Fe.useEffect(function(){if(ar){var Tr=new ResizeObserver(function(Or,Jr){Or.forEach(function(Zr){if(Zr.target===ar){var xs=Zr.contentRect,zs=xs.height,Rr=xs.width;Zi({rect:{height:zs,width:Rr}})}})});return Tr.observe(ar),function(){Tr.unobserve(ar)}}},[ar]),lr}({elementRef:Un}),vr=Fe.useRef({scrollOffset:sc,measurements:[]});vr.current.scrollOffset=kr;var tr=Fe.useMemo(function(){return Array(zn).fill(-1)},[]),or=Fe.useState(tr),hr=or[0],zr=or[1],Dr=Fe.useMemo(function(){var xr=new IntersectionObserver(function(mr){mr.forEach(function(rr){var ar=rr.isIntersecting?rr.intersectionRatio:-1,nr=rr.target.getAttribute(Va);if(nr){var wr=parseInt(nr,10);0<=wr&&wr<zn&&zr(function(Cr){return Cr[wr]=ar,function(lr,Zi,Tr){for(var Or,Jr=0,Zr=Zi.length;Jr<Zr;Jr++)!Or&&Jr in Zi||(Or||(Or=Array.prototype.slice.call(Zi,0,Jr)),Or[Jr]=Zi[Jr]);return lr.concat(Or||Array.prototype.slice.call(Zi))}([],Cr)})}})},{threshold:oc});return xr},[]),Hr=Fe.useMemo(function(){return ei===Ae.ScrollMode.Page&&jn===Ae.ViewMode.SinglePage?function(xr,mr,rr){for(var ar=[],nr=0;nr<xr;nr++){var wr={height:Math.max(mr.height,rr[nr].height),width:Math.max(mr.width,rr[nr].width)},Cr=nr===0?Wa:ar[nr-1].end,lr={left:Cr.left+wr.width,top:Cr.top+wr.height};ar[nr]={index:nr,start:Cr,size:wr,end:lr,visibility:-1}}return ar}(zn,cr,ri):jn===Ae.ViewMode.DualPageWithCover?function(xr,mr,rr,ar){for(var nr=[],wr=0,Cr=0,lr=Io,Zi=0;Zi<xr;Zi++){var Tr=Zi===0?{height:ar===Ae.ScrollMode.Page?Math.max(mr.height,rr[Zi].height):rr[Zi].height,width:ar===Ae.ScrollMode.Page?Math.max(mr.width,rr[Zi].width):rr[Zi].width}:{height:ar===Ae.ScrollMode.Page?Math.max(mr.height,rr[Zi].height):rr[Zi].height,width:Math.max(mr.width/2,rr[Zi].width)};ar===Ae.ScrollMode.Page?lr=Zi===0?Io:{left:Zi%2==0?Tr.width:0,top:Math.floor((Zi-1)/2)*Tr.height+nr[0].end.top}:Zi===0?(lr=Io,wr=rr[0].height,Cr=0):Zi%2==1?(lr={left:0,top:wr+=Cr},Cr=Zi===xr-1?rr[Zi].height:Math.max(rr[Zi].height,rr[Zi+1].height)):lr={left:nr[Zi-1].end.left,top:wr};var Or={left:lr.left+Tr.width,top:lr.top+Tr.height};nr[Zi]={index:Zi,start:lr,size:Tr,end:Or,visibility:-1}}return nr}(zn,cr,ri,ei):jn===Ae.ViewMode.DualPage?function(xr,mr,rr,ar){for(var nr=[],wr=0,Cr=0,lr=Ha,Zi=0;Zi<xr;Zi++){var Tr={height:ar===Ae.ScrollMode.Page?Math.max(mr.height,rr[Zi].height):rr[Zi].height,width:Math.max(mr.width/2,rr[Zi].width)};ar===Ae.ScrollMode.Page?lr={left:Zi%2==0?0:Tr.width,top:Math.floor(Zi/2)*Tr.height}:Zi%2==0?(lr={left:0,top:wr+=Cr},Cr=Zi===xr-1?rr[Zi].height:Math.max(rr[Zi].height,rr[Zi+1].height)):lr={left:nr[Zi-1].end.left,top:wr};var Or={left:lr.left+Tr.width,top:lr.top+Tr.height};nr[Zi]={index:Zi,start:lr,size:Tr,end:Or,visibility:-1}}return nr}(zn,cr,ri,ei):function(xr,mr,rr,ar){for(var nr=[],wr=0,Cr={left:0,top:0},lr=0,Zi=Ba,Tr=0;Tr<xr;Tr++){var Or=rr[Tr];if(Tr===0)wr=Or.width,Cr={left:0,top:0},lr=Or.height;else switch(ar){case Ae.ScrollMode.Wrapped:(wr+=Or.width)<mr.width?(Zi={left:nr[Tr-1].end.left,top:Cr.top},lr=Math.max(lr,Or.height)):(wr=Or.width,Cr={left:(Zi={left:Cr.left,top:Cr.top+lr}).left,top:Zi.top},lr=Or.height);break;case Ae.ScrollMode.Horizontal:case Ae.ScrollMode.Vertical:default:Zi=nr[Tr-1].end}var Jr={left:Zi.left+Or.width,top:Zi.top+Or.height};nr[Tr]={index:Tr,start:Zi,size:Or,end:Jr,visibility:-1}}return nr}(zn,cr,ri,ei)},[ei,ri,jn,cr]),Br=Hr[zn-1]?{height:Hr[zn-1].end.top,width:Hr[zn-1].end.left}:Mu;vr.current.measurements=Hr;var Wr=Fe.useMemo(function(){var xr=function(Tr,Or,Jr,Zr){var xs=0;switch(Tr){case Vi.Horizontal:xs=Zr.left;break;case Vi.Vertical:default:xs=Zr.top}var zs=Or.length-1,Rr=function(Xr,bo,No,ma){for(;Xr<=bo;){var Us=(Xr+bo)/2|0,ga=ma(Us);if(ga<No)Xr=Us+1;else{if(!(ga>No))return Us;bo=Us-1}}return Xr>0?Xr-1:0}(0,zs,xs,function(Xr){switch(Tr){case Vi.Horizontal:return Or[Xr].start.left;case Vi.Both:case Vi.Vertical:default:return Or[Xr].start.top}});if(Tr===Vi.Both)for(var bs=Or[Rr].start.top;Rr-1>=0&&Or[Rr-1].start.top===bs&&Or[Rr-1].start.left>=Zr.left;)Rr--;for(var qr=Rr;qr<=zs;){var es={top:Or[qr].start.top-Zr.top,left:Or[qr].start.left-Zr.left},fs={height:Jr.height-es.top,width:Jr.width-es.left};if(Tr===Vi.Horizontal&&fs.width<0||Tr===Vi.Vertical&&fs.height<0||Tr===Vi.Both&&(fs.width<0||fs.height<0))break;qr++}return{start:Rr,end:qr}}(Li,Hr,cr,kr),mr=xr.start,rr=xr.end,ar=hr.slice(fa(0,zn,mr),fa(0,zn,rr)),nr=mr+ar.reduce(function(Tr,Or,Jr,Zr){return Or>Zr[Tr]?Jr:Tr},0),wr=nr=fa(0,zn-1,nr),Cr=qn({endPage:rr,numPages:zn,startPage:mr}),lr=Cr.startPage,Zi=Cr.endPage;switch(lr=Math.max(lr,0),Zi=Math.min(Zi,zn-1),jn){case Ae.ViewMode.DualPageWithCover:nr>0&&(wr=nr%2==1?nr:nr-1),lr=lr===0?0:lr%2==1?lr:lr-1,zn-(Zi=Zi%2==1?Zi-1:Zi)<=2&&(Zi=zn-1);break;case Ae.ViewMode.DualPage:wr=nr%2==0?nr:nr-1,lr=lr%2==0?lr:lr-1,Zi=Zi%2==1?Zi:Zi-1;break;case Ae.ViewMode.SinglePage:default:wr=nr}return{startPage:lr,endPage:Zi,maxVisbilityIndex:wr}},[Hr,cr,kr,jn,hr]),ns=Wr.startPage,Kr=Wr.endPage,us=Wr.maxVisbilityIndex,rs=Fe.useMemo(function(){for(var xr=[],mr=function(ar){var nr=Hr[ar],wr=We(We({},nr),{visibility:hr[ar]!==void 0?hr[ar]:-1,measureRef:function(Cr){Cr&&(Cr.setAttribute(Va,"".concat(ar)),Dr.observe(Cr))}});xr.push(wr)},rr=ns;rr<=Kr;rr++)mr(rr);return xr},[ns,Kr,hr,Hr]),os=Fe.useCallback(function(xr,mr){var rr=vr.current.measurements[fa(0,zn-1,xr)],ar=wi.current===Ae.ScrollMode.Page?sc:mr;return rr?dr({left:ar.left+rr.start.left,top:ar.top+rr.start.top},An):Promise.resolve()},[dr,An]),as=Fe.useCallback(function(xr,mr){var rr=vr.current.measurements,ar=rr[xr].start,nr=rr.find(function(Cr){return Cr.start.top-ar.top>1e-12});if(!nr)return Promise.resolve();var wr=nr.index;switch(Ni.current){case Ae.ViewMode.DualPage:wr=wr%2==0?wr:wr+1;break;case Ae.ViewMode.DualPageWithCover:wr=wr%2==1?wr:wr+1}return os(wr,mr)},[]),is=Fe.useCallback(function(xr,mr){for(var rr=vr.current.measurements,ar=rr[xr].start,nr=xr,wr=!1,Cr=zn-1;Cr>=0;Cr--)if(ar.top-rr[Cr].start.top>1e-12){wr=!0,nr=rr[Cr].index;break}if(!wr)return Promise.resolve();switch(Ni.current){case Ae.ViewMode.DualPage:nr=nr%2==0?nr:nr-1;break;case Ae.ViewMode.DualPageWithCover:nr=nr%2==0?nr-1:nr}return nr===xr&&(nr=xr-1),os(nr,mr)},[]),ws=Fe.useCallback(function(xr,mr){if(Ni.current===Ae.ViewMode.DualPageWithCover||Ni.current===Ae.ViewMode.DualPage)return as(xr,mr);switch(wi.current){case Ae.ScrollMode.Wrapped:return as(xr,mr);case Ae.ScrollMode.Horizontal:case Ae.ScrollMode.Vertical:default:return os(xr+1,mr)}},[]),lo=Fe.useCallback(function(xr,mr){if(Ni.current===Ae.ViewMode.DualPageWithCover||Ni.current===Ae.ViewMode.DualPage)return is(xr,mr);switch(wi.current){case Ae.ScrollMode.Wrapped:return is(xr,mr);case Ae.ScrollMode.Horizontal:case Ae.ScrollMode.Vertical:default:return os(xr-1,mr)}},[]),eo=Fe.useCallback(function(){return function(xr,mr){switch(mr){case Ae.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(xr.width,"px")};case Ae.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(xr.height,"px"),width:"100%"}}}(Br,wi.current)},[Br]),_s=Fe.useCallback(function(xr){return function(mr,rr,ar){return ar!==Ae.ScrollMode.Page?{}:{height:"".concat(rr.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(mr.start.top,"px)")}}(xr,cr,wi.current)},[cr]),Ls=Fe.useCallback(function(xr){return function(mr,rr,ar,nr,wr){var Cr,lr,Zi,Tr,Or,Jr,Zr,xs=rr?"right":"left",zs=rr?-1:1,Rr=ar.length,bs=mr.start.left*zs,qr=mr.size,es=qr.height,fs=qr.width;if(nr===Ae.ViewMode.DualPageWithCover){var Xr=wr===Ae.ScrollMode.Page?0:mr.start.top;return mr.index===0||Rr%2==0&&mr.index===Rr-1?((Cr={height:"".concat(es,"px"),minWidth:"".concat(Au(ar,nr),"px"),width:"100%"})[xs]=0,Cr.position="absolute",Cr.top=0,Cr.transform="translate(".concat(bs,"px, ").concat(Xr,"px)"),Cr):((lr={height:"".concat(es,"px"),width:"".concat(fs,"px")})[xs]=0,lr.position="absolute",lr.top=0,lr.transform="translate(".concat(bs,"px, ").concat(Xr,"px)"),lr)}if(nr===Ae.ViewMode.DualPage)return(Zi={height:"".concat(es,"px"),width:"".concat(fs,"px")})[xs]=0,Zi.position="absolute",Zi.top=0,Zi.transform="translate(".concat(bs,"px, ").concat(wr===Ae.ScrollMode.Page?0:mr.start.top,"px)"),Zi;switch(wr){case Ae.ScrollMode.Horizontal:return(Tr={height:"100%",width:"".concat(fs,"px")})[xs]=0,Tr.position="absolute",Tr.top=0,Tr.transform="translateX(".concat(bs,"px)"),Tr;case Ae.ScrollMode.Page:return(Or={height:"".concat(es,"px"),width:"".concat(fs,"px")})[xs]=0,Or.position="absolute",Or.top=0,Or;case Ae.ScrollMode.Wrapped:return(Jr={height:"".concat(es,"px"),width:"".concat(fs,"px")})[xs]=0,Jr.position="absolute",Jr.top=0,Jr.transform="translate(".concat(bs,"px, ").concat(mr.start.top,"px)"),Jr;case Ae.ScrollMode.Vertical:default:return(Zr={height:"".concat(es,"px"),width:"100%"})[xs]=0,Zr.position="absolute",Zr.top=0,Zr.transform="translateY(".concat(mr.start.top,"px)"),Zr}}(xr,Nn,ri,Ni.current,wi.current)},[Nn,ri]),co=Fe.useCallback(function(xr,mr){var rr=vr.current,ar=rr.measurements,nr=rr.scrollOffset,wr=ar[fa(0,zn-1,mr)];if(wr){var Cr=wi.current===Ae.ScrollMode.Page?{left:wr.start.left,top:wr.start.top}:{left:nr.left*xr,top:nr.top*xr};return dr(Cr,!1)}return Promise.resolve()},[]);return Fe.useEffect(function(){return function(){Dr.disconnect()}},[]),{boundingClientRect:cr,isSmoothScrolling:ni,startPage:ns,endPage:Kr,maxVisbilityIndex:us,virtualItems:rs,getContainerStyles:eo,getItemContainerStyles:_s,getItemStyles:Ls,scrollToItem:os,scrollToNextItem:ws,scrollToPreviousItem:lo,zoom:co}},Fo=function(mn,An,Nn,zn,Un,qn){var ri=Nn;switch(!0){case(Un===Ae.ViewMode.DualPageWithCover&&qn>=3):case(Un===Ae.ViewMode.DualPage&&qn>=3):ri=2*Nn;break;default:ri=Nn}switch(zn){case Ae.SpecialZoomLevel.ActualSize:return 1;case Ae.SpecialZoomLevel.PageFit:return Math.min((mn.clientWidth-17)/ri,(mn.clientHeight-16)/An);case Ae.SpecialZoomLevel.PageWidth:return(mn.clientWidth-17)/ri}},Tu=function(mn){var An,Nn,zn=mn.getCurrentPage,Un=(An=50,Nn=Fe.useRef([]),Fe.useEffect(function(){return function(){Nn.current=[]}},[]),{push:function(ii){var ni=Nn.current;ni.length+1>An&&ni.shift(),ni.push(ii),Nn.current=ni},map:function(ii){return Nn.current.map(function(ni){return ii(ni)})},pop:function(){var ii=Nn.current;if(ii.length===0)return null;var ni=ii.pop();return Nn.current=ii,ni}}),qn=function(ii){var ni=Fe.useRef([]);return Fe.useEffect(function(){return function(){ni.current=[]}},[]),{dequeue:function(){var Ci=ni.current;if(Ci.length===0)return null;var ki=Ci.shift();return ni.current=Ci,ki||null},enqueue:function(Ci){var ki=ni.current;ki.length+1>ii&&ki.pop(),ni.current=[Ci].concat(ki)},map:function(Ci){return ni.current.map(function(ki){return Ci(ki)})}}}(50),ri=function(){var ii=qn.dequeue();return ii&&Un.push(ii),ii&&ii.pageIndex===zn()?ri():ii},ei=function(){var ii=Un.pop();return ii&&qn.enqueue(ii),ii&&ii.pageIndex===zn()?ei():ii},jn=Fe.useCallback(function(ii){Un.push(ii)},[]);return{getNextDestination:ri,getPreviousDestination:ei,markVisitedDestination:jn}},Ua=function(mn){var An=[];return mn.map(function(Nn){An=An.concat(Nn).concat(function(zn){var Un=[];return zn.items&&zn.items.length>0&&(Un=Un.concat(Ua(zn.items))),Un}(Nn))}),An},Yr={capture:!1,passive:!0},ac={height:0,width:0},$a={height:0,width:0},El=function(mn){var An=mn.getCurrentPage,Nn=mn.getCurrentScrollMode,zn=mn.jumpToPage,Un=mn.targetRef,qn=Fe.useState(Ae.FullScreenMode.Normal),ri=qn[0],ei=qn[1],jn=function(){var hr=Fe.useState(ac),zr=hr[0],Dr=hr[1],Hr=Cn(function(){Dr({height:window.innerHeight,width:window.innerWidth})},100);return qe(function(){return window.addEventListener("resize",Hr,Yr),function(){window.removeEventListener("resize",Hr,Yr)}},[]),zr}(),ii=Fe.useState($a),ni=ii[0],Ci=ii[1],ki=Fe.useRef($a),wi=Fe.useRef(An()),Ni=Fe.useRef($a),Li=Fe.useState(Un.current),Oi=Li[0],kr=Li[1],dr=Fe.useRef();qe(function(){Un.current!==Oi&&kr(Un.current)},[]),qe(function(){if(Oi){var hr=new ResizeObserver(function(zr){zr.forEach(function(Dr){var Hr=Dr.target.getBoundingClientRect(),Br=Hr.height,Wr=Hr.width;Ci({height:Br,width:Wr})})});return hr.observe(Oi),function(){hr.unobserve(Oi),hr.disconnect()}}},[Oi]);var cr=Fe.useCallback(function(hr){var zr=hn();return zr&&zr!==hr?(ei(Ae.FullScreenMode.Normal),sn(zr)):Promise.resolve()},[]),vr=Fe.useCallback(function(hr){hr&&Ke()&&(kr(hr),cr(hr).then(function(){dr.current=hr,ei(Ae.FullScreenMode.Entering),function(zr){an&&zr[gn.RequestFullScreen]()}(hr)}))},[]),tr=Fe.useCallback(function(){hn()&&(ei(Ae.FullScreenMode.Exitting),sn(document))},[]),or=Fe.useCallback(function(){Oi&&hn()!==Oi&&ei(Ae.FullScreenMode.Exitting)},[Oi]);return Fe.useEffect(function(){switch(ri){case Ae.FullScreenMode.Entering:dr.current&&(dr.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),wi.current=An(),ki.current={height:window.innerHeight,width:window.innerWidth};break;case Ae.FullScreenMode.Entered:Nn()===Ae.ScrollMode.Page?zn(wi.current).then(function(){ei(Ae.FullScreenMode.EnteredCompletely)}):ei(Ae.FullScreenMode.EnteredCompletely);break;case Ae.FullScreenMode.Exitting:dr.current&&(dr.current.style.backgroundColor="",dr.current=null),wi.current=An();break;case Ae.FullScreenMode.Exited:ei(Ae.FullScreenMode.Normal),Nn()===Ae.ScrollMode.Page&&zn(wi.current)}},[ri]),Fe.useEffect(function(){if(ri!==Ae.FullScreenMode.Normal)return ri===Ae.FullScreenMode.Entering&&jn.height===ni.height&&jn.width===ni.width&&jn.height>0&&jn.width>0&&(Ni.current.height===0||jn.height==Ni.current.height)?(Ni.current={height:window.innerHeight,width:window.innerWidth},void ei(Ae.FullScreenMode.Entered)):void(ri===Ae.FullScreenMode.Exitting&&ki.current.height===jn.height&&ki.current.width===jn.width&&jn.height>0&&jn.width>0&&ei(Ae.FullScreenMode.Exited))},[ri,jn,ni]),Fe.useEffect(function(){var hr;return hr=or,an&&document.addEventListener(gn.FullScreenChange,hr),function(){(function(zr){an&&document.removeEventListener(gn.FullScreenChange,zr)})(or)}},[Oi]),{enterFullScreenMode:vr,exitFullScreenMode:tr,fullScreenMode:ri}},lc={buildPageStyles:function(){return{}},transformSize:function(mn){return mn.size}},Do={left:0,top:0},cc=function(mn){var An=mn.currentFile,Nn=mn.defaultScale,zn=mn.doc,Un=mn.enableSmoothScroll,qn=mn.initialPage,ri=mn.initialRotation,ei=mn.initialScale,jn=mn.pageLayout,ii=mn.pageSizes,ni=mn.plugins,Ci=mn.renderPage,ki=mn.scrollMode,wi=mn.setRenderRange,Ni=mn.viewMode,Li=mn.viewerState,Oi=mn.onDocumentLoad,kr=mn.onOpenFile,dr=mn.onPageChange,cr=mn.onRotate,vr=mn.onRotatePage,tr=mn.onZoom,or=zn.numPages,hr=zn.loadingTask.docId,zr=Fe.useContext(Sn).l10n,Dr=Fe.useContext(Xe),Hr=Dr.direction===Ae.TextDirection.RightToLeft,Br=Fe.useRef(),Wr=Fe.useRef(),ns=Fe.useState(qn),Kr=ns[0],us=ns[1],rs=Fe.useRef(null),os=Tu({getCurrentPage:function(){return Rr.current.pageIndex}}),as=Fe.useState(ri),is=as[0],ws=as[1],lo=En(is),eo=Fe.useState(!1),_s=eo[0],Ls=eo[1],co=Fe.useState(new Map),xr=co[0],mr=co[1],rr=Fe.useState(ki),ar=rr[0],nr=rr[1],wr=En(ar),Cr=Fe.useState(Ni),lr=Cr[0],Zi=Cr[1],Tr=En(lr),Or=function(Ri){var Er=bn(),Ir=Fe.useState([]),Ur=Ir[0],jr=Ir[1];return Fe.useEffect(function(){Ri.getOutline().then(function(Nr){if(Er.current&&Nr!==null){var ps=Ua(Nr);jr(ps)}})},[]),Ur}(zn),Jr=Fe.useState(ei),Zr=Jr[0],xs=Jr[1],zs=En(Zr),Rr=Fe.useRef(Li),bs=Fe.useRef(typeof Nn=="string"?Nn:null),qr=Fe.useRef(-1),es=Fe.useRef(-1),fs=Fe.useRef(qn),Xr=El({getCurrentPage:function(){return Rr.current.pageIndex},getCurrentScrollMode:function(){return Rr.current.scrollMode},jumpToPage:function(Ri){return Ao(Ri)},targetRef:Wr}),bo=Fe.useState(-1),No=bo[0],ma=bo[1],Us=Fe.useState(0),ga=Us[0],Lu=Us[1],js=vn({doc:zn});Fe.useEffect(function(){return function(){Ei.clear(),Yi.clear()}},[hr]);var wl=Fe.useMemo(function(){return Object.assign({},lc,jn)},[]),dc=Fe.useMemo(function(){return Array(or).fill(0).map(function(Ri,Er){var Ir=[ii[Er].pageHeight,ii[Er].pageWidth],Ur=Math.abs(is)%180==0?{height:Ir[0],width:Ir[1]}:{height:Ir[1],width:Ir[0]},jr={height:Ur.height*Zr,width:Ur.width*Zr};return wl.transformSize({numPages:or,pageIndex:Er,size:jr})})},[is,Zr]),$r=xl({enableSmoothScroll:Un,isRtl:Hr,numberOfItems:or,parentRef:Wr,scrollMode:ar,setRenderRange:wi,sizes:dc,viewMode:lr}),va=Cn(function(){!bs.current||Rr.current.fullScreenMode!==Ae.FullScreenMode.Normal||qn>0&&fs.current===qn||Mo(bs.current)},200);(function(Ri){var Er=Ri.targetRef,Ir=Ri.onResize;qe(function(){var Ur=new ResizeObserver(function(Nr){Nr.forEach(function(ps){Ir(ps.target)})}),jr=Er.current;if(jr)return Ur.observe(jr),function(){Ur.unobserve(jr)}},[])})({targetRef:Wr,onResize:va});var Po=function(Ri){var Er=Ri;ni.forEach(function(Ir){Ir.onViewerStateChange&&(Er=Ir.onViewerStateChange(Er))}),Rr.current=Er},Ga=function(){return Wr.current},Ou=function(){return Rr.current},hc=Fe.useCallback(function(Ri){os.markVisitedDestination(Ri)},[]),ba=Fe.useCallback(function(Ri){var Er=Ri.pageIndex,Ir=Ri.bottomOffset,Ur=Ri.leftOffset,jr=Ri.scaleTo,Nr=Wr.current,ps=Rr.current;return Nr&&ps?new Promise(function(yo,Za){Mi(zn,Er).then(function(xa){var _o=xa.getViewport({scale:1}),no=0,Qa=(typeof Ir=="function"?Ir(_o.width,_o.height):Ir)||0,Zo=(typeof Ur=="function"?Ur(_o.width,_o.height):Ur)||0,Qo=ps.scale;switch(jr){case Ae.SpecialZoomLevel.PageFit:no=0,Zo=0,Mo(Ae.SpecialZoomLevel.PageFit);break;case Ae.SpecialZoomLevel.PageWidth:Qo=Fo(Nr,ii[Er].pageHeight,ii[Er].pageWidth,Ae.SpecialZoomLevel.PageWidth,Ni,or),no=(_o.height-Qa)*Qo,Zo*=Qo,Mo(Qo);break;default:no=(_o.height-Qa)*Qo,Zo*=Qo}switch(ps.scrollMode){case Ae.ScrollMode.Horizontal:$r.scrollToItem(Er,{left:Zo,top:0}).then(function(){yo()});break;case Ae.ScrollMode.Vertical:default:$r.scrollToItem(Er,{left:0,top:no}).then(function(){yo()})}})}):Promise.resolve()},[]),Ya=Fe.useCallback(function(Ri){return os.markVisitedDestination(Ri),ba(Ri)},[]),fc=Fe.useCallback(function(){var Ri=os.getNextDestination();return Ri?ba(Ri):Promise.resolve()},[]),pc=Fe.useCallback(function(){var Ri=os.getPreviousDestination();return Ri?ba(Ri):Promise.resolve()},[]),mc=Fe.useCallback(function(){return $r.scrollToNextItem(Rr.current.pageIndex,Do)},[]),Ao=Fe.useCallback(function(Ri){return 0<=Ri&&Ri<or?$r.scrollToItem(Ri,Do):Promise.resolve()},[]),Iu=Fe.useCallback(function(){return $r.scrollToPreviousItem(Rr.current.pageIndex,Do)},[]),gc=Fe.useCallback(function(Ri){var Er,Ir;(Er=Ri.name,Ir=Er.split(/\./).pop(),Ir?Ir.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(Ur){var jr=new FileReader;jr.readAsArrayBuffer(Ri),jr.onload=function(){var Nr=new Uint8Array(jr.result);Ur(Nr)}}).then(function(Ur){kr(Ri.name,Ur)})},[kr]),vc=Fe.useCallback(function(Ri){var Er=Ri===Ae.RotateDirection.Backward?-90:90,Ir=Rr.current.rotation,Ur=Ir===360||Ir===-360?Er:Ir+Er;js.markNotRendered(),ws(Ur),Po(We(We({},Rr.current),{rotation:Ur})),cr({direction:Ri,doc:zn,rotation:Ur})},[]),kl=Fe.useCallback(function(Ri,Er){var Ir=Er===Ae.RotateDirection.Backward?-90:90,Ur=Rr.current.pagesRotation,jr=(Ur.has(Ri)?Ur.get(Ri):ri)+Ir,Nr=Ur.set(Ri,jr);mr(Nr),Ls(function(ps){return!ps}),Po(We(We({},Rr.current),{pagesRotation:Nr,rotatedPage:Ri})),vr({direction:Er,doc:zn,pageIndex:Ri,rotation:jr}),js.markRendering(Ri),ma(Ri)},[]),$s=Fe.useCallback(function(Ri){Po(We(We({},Rr.current),{scrollMode:Ri})),nr(Ri)},[]),Yo=Fe.useCallback(function(Ri){Po(We(We({},Rr.current),{viewMode:Ri})),Zi(Ri)},[]),Mo=Fe.useCallback(function(Ri){var Er=Wr.current,Ir=Rr.current.pageIndex;if(!(Ir<0||Ir>=or)){var Ur=ii[Ir].pageHeight,jr=ii[Ir].pageWidth,Nr=Er?typeof Ri=="string"?Fo(Er,Ur,jr,Ri,Rr.current.viewMode,or):Ri:1;bs.current=typeof Ri=="string"?Ri:null,Nr!==Rr.current.scale&&(Lu(function(ps){return ps+1}),js.markNotRendered(),xs(Nr),tr({doc:zn,scale:Nr}),Po(We(We({},Rr.current),{scale:Nr})))}},[]),bc=Fe.useCallback(function(Ri){Xr.enterFullScreenMode(Ri)},[]),yc=Fe.useCallback(function(){Xr.exitFullScreenMode()},[]);Fe.useEffect(function(){Po(We(We({},Rr.current),{fullScreenMode:Xr.fullScreenMode}))},[Xr.fullScreenMode]),Fe.useEffect(function(){var Ri={enterFullScreenMode:bc,exitFullScreenMode:yc,getPagesContainer:Ga,getViewerState:Ou,jumpToDestination:Ya,jumpToNextDestination:fc,jumpToPreviousDestination:pc,jumpToNextPage:mc,jumpToPreviousPage:Iu,jumpToPage:Ao,openFile:gc,rotate:vc,rotatePage:kl,setViewerState:Po,switchScrollMode:$s,switchViewMode:Yo,zoom:Mo};return ni.forEach(function(Er){Er.install&&Er.install(Ri)}),function(){ni.forEach(function(Er){Er.uninstall&&Er.uninstall(Ri)})}},[hr]),Fe.useEffect(function(){Oi({doc:zn,file:An}),ni.forEach(function(Ri){Ri.onDocumentLoad&&Ri.onDocumentLoad({doc:zn,file:An})})},[hr]);var Ka,ya,Cl,_c=$r.boundingClientRect;Ka=function(){qn&&Ao(qn)},ya=_c.height>0&&_c.width>0,Cl=Fe.useRef(!1),qe(function(){ya&&!Cl.current&&(Cl.current=!0,Ka())},[Ka,ya]),qe(function(){var Ri=Rr.current.pageIndex;Ri>-1&&wr!==ar&&$r.scrollToItem(Ri,Do).then(function(){Xr.fullScreenMode===Ae.FullScreenMode.EnteredCompletely&&(Un||js.markNotRendered(),qr.current=-1)})},[ar]),qe(function(){var Ri=Rr.current.pageIndex;Ri>-1&&lo!==is&&$r.scrollToItem(Ri,Do)},[is]),qe(function(){zs!=0&&zs!=Rr.current.scale&&$r.zoom(Rr.current.scale/zs,Rr.current.pageIndex).then(function(){Xr.fullScreenMode===Ae.FullScreenMode.EnteredCompletely&&(es.current=-1)})},[Zr]),qe(function(){if(Tr!==Rr.current.viewMode){var Ri=$r.startPage,Er=$r.endPage,Ir=$r.virtualItems;js.markNotRendered(),js.setRange(Ri,Er);for(var Ur=function(Nr){var ps=Ir.find(function(yo){return yo.index===Nr});ps&&js.setVisibility(Nr,ps.visibility)},jr=Ri;jr<=Er;jr++)Ur(jr);_a()}},[lr]),qe(function(){var Ri=Rr.current.pageIndex;Ri>-1&&Tr!==lr&&$r.scrollToItem(Ri,Do)},[lr]),qe(function(){var Ri=Rr.current.pageIndex;Ri>0&&Ri===qn&&fs.current===qn&&bs.current&&(fs.current=-1,Mo(bs.current))},[Kr]),Fe.useEffect(function(){$r.isSmoothScrolling||rs.current!==null&&rs.current===Kr||(rs.current=Kr,dr({currentPage:Kr,doc:zn}))},[Kr,$r.isSmoothScrolling]),Fe.useEffect(function(){Xr.fullScreenMode===Ae.FullScreenMode.Entering&&Rr.current.scrollMode===Ae.ScrollMode.Page&&(qr.current=Rr.current.pageIndex),Xr.fullScreenMode===Ae.FullScreenMode.EnteredCompletely&&Rr.current.scrollMode===Ae.ScrollMode.Page&&Un&&(qr.current=-1),Xr.fullScreenMode===Ae.FullScreenMode.EnteredCompletely&&bs.current&&(es.current=Rr.current.pageIndex,Mo(bs.current))},[Xr.fullScreenMode]),Fe.useEffect(function(){if(Xr.fullScreenMode!==Ae.FullScreenMode.Entering&&Xr.fullScreenMode!==Ae.FullScreenMode.Exitting&&!$r.isSmoothScrolling){var Ri=$r.startPage,Er=$r.endPage,Ir=$r.maxVisbilityIndex,Ur=$r.virtualItems,jr=Ir,Nr=Xr.fullScreenMode===Ae.FullScreenMode.Entered||Xr.fullScreenMode===Ae.FullScreenMode.EnteredCompletely;if(!(Nr&&jr!==qr.current&&qr.current>-1||Nr&&jr!==es.current&&es.current>-1)){us(jr),Po(We(We({},Rr.current),{pageIndex:jr})),js.setRange(Ri,Er);for(var ps=function(Za){var xa=Ur.find(function(_o){return _o.index===Za});xa&&js.setVisibility(Za,xa.visibility)},yo=Ri;yo<=Er;yo++)ps(yo);_a()}}},[$r.startPage,$r.endPage,$r.isSmoothScrolling,$r.maxVisbilityIndex,Xr.fullScreenMode,_s,is,Zr]);var Ko=Fe.useCallback(function(Ri){js.markRendered(Ri),_a()},[ga]),_a=function(){var Ri=js.getHighestPriorityPage();Ri>-1&&js.isInRange(Ri)&&(js.markRendering(Ri),ma(Ri))},Sa=function(Ri){var Er=Kr-1,Ir=Kr+1;switch(Ri){case"FirstPage":Ao(0);break;case"LastPage":Ao(or-1);break;case"NextPage":Ir<or&&Ao(Ir);break;case"PrevPage":Er>=0&&Ao(Er)}},Pl=Fe.useCallback(function(){var Ri=$r.virtualItems,Er=[];switch(lr){case Ae.ViewMode.DualPage:Er=$n(Ri,2);break;case Ae.ViewMode.DualPageWithCover:Ri.length&&(Er=Ri[0].index===0?[[Ri[0]]].concat($n(Ri.slice(1),2)):$n(Ri,2));break;case Ae.ViewMode.SinglePage:default:Er=$n(Ri,1)}var Ir=zr&&zr.core?zr.core.pageLabel:"Page {{pageIndex}}",Ur={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:Br,style:{height:"100%"}},children:Fe.createElement(Fe.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:$e({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":ar===Ae.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":Hr,"rpv-core__inner-pages--single":ar===Ae.ScrollMode.Page,"rpv-core__inner-pages--vertical":ar===Ae.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":ar===Ae.ScrollMode.Wrapped}),ref:Wr,style:{height:"100%",position:"relative"}},children:Fe.createElement("div",{"data-testid":"core__inner-current-page-".concat(Kr),style:Object.assign({"--scale-factor":Zr},$r.getContainerStyles())},Er.map(function(jr){return Fe.createElement("div",{className:$e({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":ar===Ae.ScrollMode.Page}),style:$r.getItemContainerStyles(jr[0]),key:"".concat(jr[0].index,"-").concat(lr)},jr.map(function(Nr){var ps=lr===Ae.ViewMode.DualPageWithCover&&(Nr.index===0||or%2==0&&Nr.index===or-1);return Fe.createElement("div",{"aria-label":Ir.replace("{{pageIndex}}","".concat(Nr.index+1)),className:$e({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":lr===Ae.ViewMode.DualPage&&Nr.index%2==0,"rpv-core__inner-page--dual-odd":lr===Ae.ViewMode.DualPage&&Nr.index%2==1,"rpv-core__inner-page--dual-cover":ps,"rpv-core__inner-page--dual-cover-even":lr===Ae.ViewMode.DualPageWithCover&&!ps&&Nr.index%2==0,"rpv-core__inner-page--dual-cover-odd":lr===Ae.ViewMode.DualPageWithCover&&!ps&&Nr.index%2==1,"rpv-core__inner-page--single":lr===Ae.ViewMode.SinglePage&&ar===Ae.ScrollMode.Page}),role:"region",key:"".concat(Nr.index,"-").concat(lr),style:Object.assign({},$r.getItemStyles(Nr),wl.buildPageStyles({numPages:or,pageIndex:Nr.index,scrollMode:ar,viewMode:lr}))},Fe.createElement(Cu,{doc:zn,measureRef:Nr.measureRef,outlines:Or,pageIndex:Nr.index,pageRotation:xr.has(Nr.index)?xr.get(Nr.index):0,pageSize:ii[Nr.index],plugins:ni,renderPage:Ci,renderQueueKey:ga,rotation:is,scale:Zr,shouldRender:No===Nr.index,viewMode:lr,onExecuteNamedAction:Sa,onJumpFromLinkAnnotation:hc,onJumpToDest:Ya,onRenderCompleted:Ko,onRotatePage:kl}))}))}))}};return ni.forEach(function(jr){jr.renderViewer&&(Ur=jr.renderViewer({containerRef:Br,doc:zn,pagesContainerRef:Wr,pagesRotation:xr,pageSizes:ii,rotation:is,slot:Ur,themeContext:Dr,jumpToPage:Ao,openFile:gc,rotate:vc,rotatePage:kl,switchScrollMode:$s,switchViewMode:Yo,zoom:Mo}))}),Ur},[ni,$r]),Al=Fe.useCallback(function(Ri){return Fe.createElement("div",We({},Ri.attrs,{style:Ri.attrs&&Ri.attrs.style?Ri.attrs.style:{}}),Ri.children,Ri.subSlot&&Al(Ri.subSlot))},[]);return Al(Pl())},qa=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Xa=function(mn){var An=mn.defaultScale,Nn=mn.doc,zn=mn.render,Un=mn.scrollMode,qn=mn.viewMode,ri=Fe.useRef(),ei=Fe.useState({pageSizes:[],scale:0}),jn=ei[0],ii=ei[1];return Fe.useLayoutEffect(function(){var ni=Array(Nn.numPages).fill(0).map(function(Ci,ki){return new Promise(function(wi,Ni){Mi(Nn,ki).then(function(Li){var Oi=Li.getViewport({scale:1});wi({pageHeight:Oi.height,pageWidth:Oi.width,rotation:Oi.rotation})})})});Promise.all(ni).then(function(Ci){var ki=ri.current;if(ki&&Ci.length!==0){var wi=Ci[0].pageWidth,Ni=Ci[0].pageHeight,Li=ki.parentElement,Oi=(Li.clientWidth-45)/wi,kr=(Li.clientHeight-45)/Ni,dr=Oi;switch(Un){case Ae.ScrollMode.Horizontal:dr=Math.min(Oi,kr);break;case Ae.ScrollMode.Vertical:default:dr=Oi}var cr,vr,tr=An?typeof An=="string"?Fo(Li,Ni,wi,An,qn,Nn.numPages):An:(cr=dr,(vr=qa.findIndex(function(or){return or>=cr}))===-1||vr===0?cr:qa[vr-1]);ii({pageSizes:Ci,scale:tr})}})},[Nn.loadingTask.docId]),jn.pageSizes.length===0||jn.scale===0?Fe.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:ri},Fe.createElement(pn,null)):zn(jn.pageSizes,jn.scale)},Js=function(){},oo=function(mn){function An(Nn,zn){var Un=mn.call(this)||this;return Un.verifyPassword=Nn,Un.passwordStatus=zn,Un}return Be(An,mn),An}(Js),Co=function(mn){var An=mn.passwordStatus,Nn=mn.renderProtectedView,zn=mn.verifyPassword,Un=mn.onDocumentAskPassword,qn=Fe.useContext(Sn).l10n,ri=Fe.useState(""),ei=ri[0],jn=ri[1],ii=Fe.useContext(Xe).direction===Ae.TextDirection.RightToLeft,ni=function(){return zn(ei)};return Fe.useEffect(function(){Un&&Un({verifyPassword:zn})},[]),Nn?Nn({passwordStatus:An,verifyPassword:zn}):Fe.createElement("div",{className:"rpv-core__asking-password-wrapper"},Fe.createElement("div",{className:$e({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":ii})},Fe.createElement("div",{className:"rpv-core__asking-password-message"},An===Ae.PasswordStatus.RequiredPassword&&qn.core.askingPassword.requirePasswordToOpen,An===Ae.PasswordStatus.WrongPassword&&qn.core.wrongPassword.tryAgain),Fe.createElement("div",{className:"rpv-core__asking-password-body"},Fe.createElement("div",{className:$e({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!ii,"rpv-core__asking-password-input--rtl":ii})},Fe.createElement(nn,{testId:"core__asking-password-input",type:"password",value:ei,onChange:jn,onKeyDown:function(Ci){Ci.key==="Enter"&&ni()}})),Fe.createElement(Qe,{onClick:ni},qn.core.askingPassword.submit))))},Xo=function(mn){function An(Nn){var zn=mn.call(this)||this;return zn.doc=Nn,zn}return Be(An,mn),An}(Js),Go=function(mn){function An(Nn){var zn=mn.call(this)||this;return zn.error=Nn,zn}return Be(An,mn),An}(Js),ao=function(mn){function An(Nn){var zn=mn.call(this)||this;return zn.percentages=Nn,zn}return Be(An,mn),An}(Js),Ru=function(mn){var An=mn.characterMap,Nn=mn.file,zn=mn.httpHeaders,Un=mn.render,qn=mn.renderError,ri=mn.renderLoader,ei=mn.renderProtectedView,jn=mn.transformGetDocumentParams,ii=mn.withCredentials,ni=mn.onDocumentAskPassword,Ci=Fe.useContext(Xe).direction===Ae.TextDirection.RightToLeft,ki=Fe.useState(new ao(0)),wi=ki[0],Ni=ki[1],Li=Fe.useRef(""),Oi=bn();return Fe.useEffect(function(){Li.current="",Ni(new ao(0));var kr=new Ne.PDFWorker({name:"PDFWorker_".concat(Date.now())}),dr=Object.assign({httpHeaders:zn,withCredentials:ii,worker:kr},typeof Nn=="string"?{url:Nn}:{data:Nn},An?{cMapUrl:An.url,cMapPacked:An.isCompressed}:{}),cr=jn?jn(dr):dr,vr=Ne.getDocument(cr);return vr.onPassword=function(tr,or){switch(or){case Ne.PasswordResponses.NEED_PASSWORD:Oi.current&&Ni(new oo(tr,Ae.PasswordStatus.RequiredPassword));break;case Ne.PasswordResponses.INCORRECT_PASSWORD:Oi.current&&Ni(new oo(tr,Ae.PasswordStatus.WrongPassword))}},vr.onProgress=function(tr){var or=tr.total>0?Math.min(100,100*tr.loaded/tr.total):100;Oi.current&&Li.current===""&&Ni(new ao(or))},vr.promise.then(function(tr){Li.current=tr.loadingTask.docId,Oi.current&&Ni(new Xo(tr))},function(tr){return Oi.current&&!kr.destroyed&&Ni(new Go({message:tr.message||"Cannot load document",name:tr.name}))}),function(){vr.destroy(),kr.destroy()}},[Nn]),wi instanceof oo?Fe.createElement(Co,{passwordStatus:wi.passwordStatus,renderProtectedView:ei,verifyPassword:wi.verifyPassword,onDocumentAskPassword:ni}):wi instanceof Xo?Un(wi.doc):wi instanceof Go?qn?qn(wi.error):Fe.createElement("div",{className:$e({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":Ci})},Fe.createElement("div",{className:"rpv-core__doc-error-text"},wi.error.message)):Fe.createElement("div",{"data-testid":"core__doc-loading",className:$e({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":Ci})},ri?ri(wi.percentages):Fe.createElement(pn,null))},uc=function(mn,An){var Nn=Fe.useMemo(function(){return mn==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":mn},[]),zn=Fe.useState(Nn),Un=zn[0],qn=zn[1],ri=En(Un);return Fe.useEffect(function(){if(mn==="auto"){var ei=window.matchMedia("(prefers-color-scheme: dark)"),jn=function(ii){qn(ii.matches?"dark":"light")};return ei.addEventListener("change",jn),function(){return ei.removeEventListener("change",jn)}}},[]),Fe.useEffect(function(){Un!==ri&&An&&An(Un)},[Un]),Fe.useEffect(function(){mn!==Un&&qn(mn)},[mn]),{currentTheme:Un,setCurrentTheme:qn}},pa=function(mn){return{startPage:mn.startPage-3,endPage:mn.endPage+3}};Ae.Button=function(mn){var An=mn.children,Nn=mn.testId,zn=mn.onClick,Un=Fe.useContext(Xe).direction===Ae.TextDirection.RightToLeft,qn=Nn?{"data-testid":Nn}:{};return Fe.createElement("button",We({className:$e({"rpv-core__button":!0,"rpv-core__button--rtl":Un}),type:"button",onClick:zn},qn),An)},Ae.Icon=Ye,Ae.LazyRender=function(mn){var An=mn.attrs,Nn=mn.children,zn=mn.testId,Un=Fe.useState(!1),qn=Un[0],ri=Un[1],ei=zn?We(We({},An),{"data-testid":zn}):An,jn=Ue({once:!0,onVisibilityChanged:function(ii){ii.isVisible&&ri(!0)}});return Fe.createElement("div",We({ref:jn},ei),qn&&Nn)},Ae.LocalizationContext=Sn,Ae.Menu=function(mn){var An=mn.children,Nn=Fe.useRef(),zn=Fe.useRef([]),Un=Fe.useContext(Xe).direction===Ae.TextDirection.RightToLeft,qn=function(ei){if(Nn.current)switch(ei.key){case"Tab":ei.preventDefault();break;case"ArrowDown":ei.preventDefault(),ri(function(jn,ii){return ii+1});break;case"ArrowUp":ei.preventDefault(),ri(function(jn,ii){return ii-1});break;case"End":ei.preventDefault(),ri(function(jn,ii){return jn.length-1});break;case"Home":ei.preventDefault(),ri(function(jn,ii){return 0})}},ri=function(ei){if(Nn.current){var jn=zn.current,ii=jn.findIndex(function(Ci){return Ci.getAttribute("tabindex")==="0"}),ni=Math.min(jn.length-1,Math.max(0,ei(jn,ii)));ii>=0&&ii<=jn.length-1&&jn[ii].setAttribute("tabindex","-1"),jn[ni].setAttribute("tabindex","0"),jn[ni].focus()}};return qe(function(){var ei=Nn.current;if(ei){var jn=function(ii){var ni=[];return ii.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(Ci){if(Ci instanceof HTMLElement){var ki=Ci.parentElement;(ki===ii||window.getComputedStyle(ki).display!=="none")&&ni.push(Ci)}}),ni}(ei);zn.current=jn}},[]),qe(function(){return document.addEventListener("keydown",qn),function(){document.removeEventListener("keydown",qn)}},[]),Fe.createElement("div",{ref:Nn,"aria-orientation":"vertical",className:$e({"rpv-core__menu":!0,"rpv-core__menu--rtl":Un}),role:"menu",tabIndex:0},An)},Ae.MenuDivider=function(){return Fe.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},Ae.MenuItem=function(mn){var An=mn.checked,Nn=An!==void 0&&An,zn=mn.children,Un=mn.icon,qn=Un===void 0?null:Un,ri=mn.isDisabled,ei=ri!==void 0&&ri,jn=mn.testId,ii=mn.onClick,ni=Fe.useContext(Xe).direction===Ae.TextDirection.RightToLeft,Ci=jn?{"data-testid":jn}:{};return Fe.createElement("button",We({className:$e({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":ei,"rpv-core__menu-item--ltr":!ni,"rpv-core__menu-item--rtl":ni}),role:"menuitem",tabIndex:-1,type:"button",onClick:ii},Ci),Fe.createElement("div",{className:$e({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!ni,"rpv-core__menu-item-icon--rtl":ni})},qn),Fe.createElement("div",{className:$e({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!ni,"rpv-core__menu-item-label--rtl":ni})},zn),Fe.createElement("div",{className:$e({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!ni,"rpv-core__menu-item-check--rtl":ni})},Nn&&Fe.createElement(Ze,null)))},Ae.MinimalButton=function(mn){var An=mn.ariaLabel,Nn=An===void 0?"":An,zn=mn.ariaKeyShortcuts,Un=zn===void 0?"":zn,qn=mn.children,ri=mn.isDisabled,ei=ri!==void 0&&ri,jn=mn.isSelected,ii=jn!==void 0&&jn,ni=mn.testId,Ci=mn.onClick,ki=Fe.useContext(Xe).direction===Ae.TextDirection.RightToLeft,wi=ni?{"data-testid":ni}:{};return Fe.createElement("button",We({"aria-label":Nn},Un&&{"aria-keyshortcuts":Un},ei&&{"aria-disabled":!0},{className:$e({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":ei,"rpv-core__minimal-button--rtl":ki,"rpv-core__minimal-button--selected":ii}),type:"button",onClick:Ci},wi),qn)},Ae.Modal=function(mn){var An=mn.ariaControlsSuffix,Nn=mn.closeOnClickOutside,zn=mn.closeOnEscape,Un=mn.content,qn=mn.isOpened,ri=qn!==void 0&&qn,ei=mn.target,jn=An||"".concat(on());return Fe.createElement(Xn,{target:ei?function(ii,ni){return Fe.createElement("div",{"aria-expanded":ni?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(jn)},ei(ii,ni))}:null,content:function(ii){return Fe.createElement(Pn,null,Fe.createElement(Tn,{ariaControlsSuffix:jn,closeOnClickOutside:Nn,closeOnEscape:zn,onToggle:ii},Un(ii)))},isOpened:ri})},Ae.Popover=function(mn){var An=mn.ariaHasPopup,Nn=An===void 0?"dialog":An,zn=mn.ariaControlsSuffix,Un=mn.closeOnClickOutside,qn=mn.closeOnEscape,ri=mn.content,ei=mn.lockScroll,jn=ei===void 0||ei,ii=mn.offset,ni=mn.position,Ci=mn.target,ki=Dn(!1),wi=ki.opened,Ni=ki.toggle,Li=Fe.useRef(),Oi=Fe.useMemo(function(){return zn||"".concat(on())},[]);return Fe.createElement("div",{ref:Li,"aria-expanded":wi?"true":"false","aria-haspopup":Nn,"aria-controls":"rpv-core__popver-body-".concat(Oi)},Ci(Ni,wi),wi&&Fe.createElement(Fe.Fragment,null,jn&&Fe.createElement(Yn,{closeOnEscape:qn,onClose:Ni}),Fe.createElement(Bn,{ariaControlsSuffix:Oi,closeOnClickOutside:Un,offset:ii,position:ni,targetRef:Li,onClose:Ni},ri(Ni))))},Ae.PrimaryButton=Qe,Ae.ProgressBar=function(mn){var An=mn.progress,Nn=Fe.useContext(Xe).direction===Ae.TextDirection.RightToLeft;return Fe.createElement("div",{className:$e({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Nn})},Fe.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(An,"%")}},An,"%"))},Ae.Separator=function(){return Fe.createElement("div",{className:"rpv-core__separator"})},Ae.Spinner=pn,Ae.Splitter=function(mn){var An=mn.constrain,Nn=Fe.useContext(Xe).direction===Ae.TextDirection.RightToLeft,zn=Fe.useRef(),Un=Fe.useRef(),qn=Fe.useRef(),ri=Fe.useRef(0),ei=Fe.useRef(0),jn=Fe.useRef(0),ii=Fe.useRef(0),ni={capture:!0},Ci=function(wi){var Ni=zn.current,Li=Un.current,Oi=qn.current;if(Ni&&Li&&Oi){var kr=ii.current,dr=wi.clientX-ri.current,cr=jn.current+(Nn?-dr:dr),vr=Ni.parentElement.getBoundingClientRect().width,tr=100*cr/vr;if(Ni.classList.add("rpv-core__splitter--resizing"),An){var or=vr-cr-kr;if(!An({firstHalfPercentage:tr,firstHalfSize:cr,secondHalfPercentage:100*or/vr,secondHalfSize:or}))return}Li.style.width="".concat(tr,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),Li.classList.add("rpv-core__splitter-sibling--resizing"),Oi.classList.add("rpv-core__splitter-sibling--resizing")}},ki=function(wi){var Ni=zn.current,Li=Un.current,Oi=qn.current;Ni&&Li&&Oi&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),Ni.classList.remove("rpv-core__splitter--resizing"),Li.classList.remove("rpv-core__splitter-sibling--resizing"),Oi.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",Ci,ni),document.removeEventListener("mouseup",ki,ni))};return Fe.useEffect(function(){var wi=zn.current;wi&&(ii.current=wi.getBoundingClientRect().width,Un.current=wi.previousElementSibling,qn.current=wi.nextElementSibling)},[]),Fe.createElement("div",{ref:zn,className:"rpv-core__splitter",onMouseDown:function(wi){var Ni=Un.current;Ni&&(ri.current=wi.clientX,ei.current=wi.clientY,jn.current=Ni.getBoundingClientRect().width,document.addEventListener("mousemove",Ci,ni),document.addEventListener("mouseup",ki,ni))}})},Ae.TextBox=nn,Ae.ThemeContext=Xe,Ae.Tooltip=function(mn){var An=mn.ariaControlsSuffix,Nn=mn.content,zn=mn.offset,Un=mn.position,qn=mn.target,ri=Dn(!1),ei=ri.opened,jn=ri.toggle,ii=Fe.useRef(),ni=Fe.useRef(),Ci=Fe.useMemo(function(){return An||"".concat(on())},[]);_n(function(){ii.current&&document.activeElement&&ii.current.contains(document.activeElement)&&wi()});var ki=function(){jn(Ae.ToggleStatus.Open)},wi=function(){jn(Ae.ToggleStatus.Close)};return Fe.createElement(Fe.Fragment,null,Fe.createElement("div",{ref:ii,"aria-describedby":"rpv-core__tooltip-body-".concat(Ci),onBlur:function(Ni){Ni.relatedTarget instanceof HTMLElement&&Ni.currentTarget.parentElement&&Ni.currentTarget.parentElement.contains(Ni.relatedTarget)?ni.current&&(ni.current.style.display="none"):wi()},onFocus:ki,onMouseEnter:ki,onMouseLeave:wi},qn),ei&&Fe.createElement(fi,{ariaControlsSuffix:Ci,contentRef:ni,offset:zn,position:Un,targetRef:ii},Nn()))},Ae.Viewer=function(mn){var An=mn.characterMap,Nn=mn.defaultScale,zn=mn.enableSmoothScroll,Un=zn===void 0||zn,qn=mn.fileUrl,ri=mn.httpHeaders,ei=ri===void 0?{}:ri,jn=mn.initialPage,ii=jn===void 0?0:jn,ni=mn.pageLayout,Ci=mn.initialRotation,ki=Ci===void 0?0:Ci,wi=mn.localization,Ni=mn.plugins,Li=Ni===void 0?[]:Ni,Oi=mn.renderError,kr=mn.renderLoader,dr=mn.renderPage,cr=mn.renderProtectedView,vr=mn.scrollMode,tr=vr===void 0?Ae.ScrollMode.Vertical:vr,or=mn.setRenderRange,hr=or===void 0?pa:or,zr=mn.transformGetDocumentParams,Dr=mn.theme,Hr=Dr===void 0?{direction:Ae.TextDirection.LeftToRight,theme:"light"}:Dr,Br=mn.viewMode,Wr=Br===void 0?Ae.ViewMode.SinglePage:Br,ns=mn.withCredentials,Kr=ns!==void 0&&ns,us=mn.onDocumentAskPassword,rs=mn.onDocumentLoad,os=rs===void 0?function(){}:rs,as=mn.onPageChange,is=as===void 0?function(){}:as,ws=mn.onRotate,lo=ws===void 0?function(){}:ws,eo=mn.onRotatePage,_s=eo===void 0?function(){}:eo,Ls=mn.onSwitchTheme,co=Ls===void 0?function(){}:Ls,xr=mn.onZoom,mr=xr===void 0?function(){}:xr,rr=Fe.useState({data:qn,name:typeof qn=="string"?qn:"",shouldLoad:!1}),ar=rr[0],nr=rr[1],wr=function(qr,es){nr({data:es,name:qr,shouldLoad:!0})},Cr=Fe.useState(!1),lr=Cr[0],Zi=Cr[1],Tr=En(ar);Fe.useEffect(function(){var qr,es,fs,Xr;qr=Tr.data,Xr=typeof(es=qn),(fs=typeof qr)=="string"&&Xr==="string"&&qr===es||fs==="object"&&Xr==="object"&&qr.length===es.length&&qr.every(function(bo,No){return bo===es[No]})||nr({data:qn,name:typeof qn=="string"?qn:"",shouldLoad:lr})},[qn,lr]);var Or=Ue({onVisibilityChanged:function(qr){Zi(qr.isVisible),qr.isVisible&&nr(function(es){return Object.assign({},es,{shouldLoad:!0})})}}),Jr=typeof Hr=="string"?{direction:Ae.TextDirection.LeftToRight,theme:Hr}:Hr,Zr=Fe.useState(wi||kn),xs=Zr[0],zs=Zr[1],Rr={l10n:xs,setL10n:zs},bs=Object.assign({},{direction:Jr.direction},uc(Jr.theme||"light",co));return Fe.useEffect(function(){wi&&zs(wi)},[wi]),Fe.createElement(Sn.Provider,{value:Rr},Fe.createElement(Xe.Provider,{value:bs},Fe.createElement("div",{ref:Or,className:"rpv-core__viewer rpv-core__viewer--".concat(bs.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},ar.shouldLoad&&Fe.createElement(Ru,{characterMap:An,file:ar.data,httpHeaders:ei,render:function(qr){return Fe.createElement(Xa,{defaultScale:Nn,doc:qr,render:function(es,fs){return Fe.createElement(cc,{currentFile:{data:ar.data,name:ar.name},defaultScale:Nn,doc:qr,enableSmoothScroll:Un,initialPage:ii,initialRotation:ki,initialScale:fs,pageLayout:ni,pageSizes:es,plugins:Li,renderPage:dr,scrollMode:tr,setRenderRange:hr,viewMode:Wr,viewerState:{file:ar,fullScreenMode:Ae.FullScreenMode.Normal,pageIndex:-1,pageHeight:es[0].pageHeight,pageWidth:es[0].pageWidth,pagesRotation:new Map,rotation:ki,scale:fs,scrollMode:tr,viewMode:Wr},onDocumentLoad:os,onOpenFile:wr,onPageChange:is,onRotate:lo,onRotatePage:_s,onZoom:mr})},scrollMode:tr,viewMode:Wr})},renderError:Oi,renderLoader:kr,renderProtectedView:cr,transformGetDocumentParams:zr,withCredentials:Kr,onDocumentAskPassword:us}))))},Ae.Worker=function(mn){var An=mn.children,Nn=mn.workerUrl;return Ne.GlobalWorkerOptions.workerSrc=Nn,Fe.createElement(Fe.Fragment,null,An)},Ae.chunk=$n,Ae.classNames=$e,Ae.createStore=function(mn){var An=mn||{},Nn={},zn=function(qn,ri){var ei;An=We(We({},An),((ei={})[qn]=ri,ei)),(Nn[qn]||[]).forEach(function(jn){return jn(An[qn])})},Un=function(qn){return An[qn]};return{subscribe:function(qn,ri){Nn[qn]=(Nn[qn]||[]).concat(ri)},unsubscribe:function(qn,ri){Nn[qn]=(Nn[qn]||[]).filter(function(ei){return ei!==ri})},update:function(qn,ri){zn(qn,ri)},updateCurrentValue:function(qn,ri){var ei=Un(qn);ei!==void 0&&zn(qn,ri(ei))},get:function(qn){return Un(qn)}}},Ae.getDestination=Xi,Ae.getPage=Mi,Ae.isFullScreenEnabled=Ke,Ae.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},Ae.useDebounceCallback=Cn,Ae.useIntersectionObserver=Ue,Ae.useIsMounted=bn,Ae.useIsomorphicLayoutEffect=qe,Ae.usePrevious=En,Ae.useRenderQueue=vn}(core_min)),core_min}var hasRequiredLib$h;function requireLib$h(){if(hasRequiredLib$h)return lib$h.exports;hasRequiredLib$h=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$h.exports=requireCore_min(),lib$h.exports}var libExports$1=requireLib$h(),lib$g={exports:{}},defaultLayout_min={},lib$f={exports:{}},attachment_min={},hasRequiredAttachment_min;function requireAttachment_min(){if(hasRequiredAttachment_min)return attachment_min;hasRequiredAttachment_min=1;var Ae=requireLib$h();function _e(Ne){var je=Object.create(null);return Ne&&Object.keys(Ne).forEach(function(Be){if(Be!=="default"){var He=Object.getOwnPropertyDescriptor(Ne,Be);Object.defineProperty(je,Be,He.get?He:{enumerable:!0,get:function(){return Ne[Be]}})}}),je.default=Ne,Object.freeze(je)}var ke=_e(requireReact()),Re=function(Ne){var je=Ne.files,Be=ke.useRef(),He=ke.useContext(Ae.LocalizationContext).l10n,We=ke.useContext(Ae.ThemeContext).direction===Ae.TextDirection.RightToLeft,Ge=ke.useRef([]),Xe=He&&He.attachment?He.attachment.clickToDownload:"Click to download",$e=function(qe){var Ue=Be.current,Ye=[].slice.call(Ue.getElementsByClassName("rpv-attachment__item"));if(Ye.length!==0){Ye.forEach(function(pn){return pn.setAttribute("tabindex","-1")});var Ze=document.activeElement,Qe=Ye[Math.min(Ye.length-1,Math.max(0,qe(Ye,Ze)))];Qe.setAttribute("tabindex","0"),Qe.focus()}};return Ae.useIsomorphicLayoutEffect(function(){var qe=Be.current;if(qe){var Ue=[].slice.call(qe.getElementsByClassName("rpv-attachment__item"));if(Ge.current=Ue,Ue.length>0){var Ye=Ue[0];Ye.focus(),Ye.setAttribute("tabindex","0")}}},[]),ke.createElement("div",{"data-testid":"attachment__list",className:Ae.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":We}),ref:Be,tabIndex:-1,onKeyDown:function(qe){switch(qe.key){case"ArrowDown":qe.preventDefault(),$e(function(Ue,Ye){return Ue.indexOf(Ye)+1});break;case"ArrowUp":qe.preventDefault(),$e(function(Ue,Ye){return Ue.indexOf(Ye)-1});break;case"End":qe.preventDefault(),$e(function(Ue,Ye){return Ue.length-1});break;case"Home":qe.preventDefault(),$e(function(Ue,Ye){return 0})}}},je.map(function(qe){return ke.createElement("button",{className:"rpv-attachment__item",key:qe.fileName,tabIndex:-1,title:Xe,type:"button",onClick:function(){return Ue=qe.fileName,Ye=qe.data,Ze=typeof Ye=="string"?"":URL.createObjectURL(new Blob([Ye],{type:""})),(Qe=document.createElement("a")).style.display="none",Qe.href=Ze||Ue,Qe.setAttribute("download",function(pn){var nn=pn.split("/").pop();return nn?nn.split("#")[0].split("?")[0]:pn}(Ue)),document.body.appendChild(Qe),Qe.click(),document.body.removeChild(Qe),void(Ze&&URL.revokeObjectURL(Ze));var Ue,Ye,Ze,Qe}},qe.fileName)}))},Ie=function(Ne){var je=Ne.doc,Be=ke.useContext(Ae.LocalizationContext).l10n,He=ke.useContext(Ae.ThemeContext).direction===Ae.TextDirection.RightToLeft,We=Be&&Be.attachment?Be.attachment.noAttachment:"There is no attachment",Ge=ke.useState({files:[],isLoaded:!1}),Xe=Ge[0],$e=Ge[1];return ke.useEffect(function(){je.getAttachments().then(function(qe){var Ue=qe?Object.keys(qe).map(function(Ye){return{data:qe[Ye].content,fileName:qe[Ye].filename}}):[];$e({files:Ue,isLoaded:!0})})},[je]),Xe.isLoaded?Xe.files.length===0?ke.createElement("div",{"data-testid":"attachment__empty",className:Ae.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":He})},We):ke.createElement(Re,{files:Xe.files}):ke.createElement(Ae.Spinner,null)},Fe=function(Ne){var je=Ne.store,Be=ke.useState(je.get("doc")),He=Be[0],We=Be[1],Ge=function(Xe){We(Xe)};return ke.useEffect(function(){return je.subscribe("doc",Ge),function(){je.unsubscribe("doc",Ge)}},[]),He?ke.createElement(Ie,{doc:He}):ke.createElement("div",{className:"rpv-attachment__loader"},ke.createElement(Ae.Spinner,null))};return attachment_min.attachmentPlugin=function(){var Ne=ke.useMemo(function(){return Ae.createStore({})},[]);return{onDocumentLoad:function(je){Ne.update("doc",je.doc)},Attachments:function(){return ke.createElement(Fe,{store:Ne})}}},attachment_min}var hasRequiredLib$g;function requireLib$g(){if(hasRequiredLib$g)return lib$f.exports;hasRequiredLib$g=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$f.exports=requireAttachment_min(),lib$f.exports}var lib$e={exports:{}},bookmark_min={},hasRequiredBookmark_min;function requireBookmark_min(){if(hasRequiredBookmark_min)return bookmark_min;hasRequiredBookmark_min=1;var Ae=requireLib$h();function _e(Xe){var $e=Object.create(null);return Xe&&Object.keys(Xe).forEach(function(qe){if(qe!=="default"){var Ue=Object.getOwnPropertyDescriptor(Xe,qe);Object.defineProperty($e,qe,Ue.get?Ue:{enumerable:!0,get:function(){return Xe[qe]}})}}),$e.default=Xe,Object.freeze($e)}var ke,Re=_e(requireReact()),Ie=function(){return Ie=Object.assign||function(Xe){for(var $e,qe=1,Ue=arguments.length;qe<Ue;qe++)for(var Ye in $e=arguments[qe])Object.prototype.hasOwnProperty.call($e,Ye)&&(Xe[Ye]=$e[Ye]);return Xe},Ie.apply(this,arguments)},Fe=function(){return Re.createElement(Ae.Icon,{size:16},Re.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},Ne=function(){return Re.createElement(Ae.Icon,{size:16},Re.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},je=function(Xe){var $e=Xe.bookmark,qe=Xe.depth,Ue=Xe.doc,Ye=Xe.index,Ze=Xe.isBookmarkExpanded,Qe=Xe.numberOfSiblings,pn=Xe.pathFromRoot,nn=Xe.renderBookmarkItem,rn=Xe.store,cn=pn?"".concat(pn,".").concat(Ye):"".concat(Ye),tn=Re.useMemo(function(){return function(Sn){var fn=Sn.count,on=Sn.items;if(fn>=0)return!1;var ln=on.length;if(ln===0)return!1;for(var _n=on.concat([]);_n.length>0;){var Tn=_n.shift(),Pn=Tn.items;Tn.count&&Pn&&Tn.count>0&&Pn.length>0&&(ln+=Pn.length,_n=_n.concat(Pn))}return Math.abs(fn)===ln}($e)},[$e]),Je=rn.get("bookmarkExpandedMap"),an=Ze?Ze({bookmark:$e,doc:Ue,depth:qe,index:Ye}):Je.has(cn)?Je.get(cn):!tn,gn=Re.useState(an),Ke=gn[0],sn=gn[1],hn=$e.items&&$e.items.length>0,Cn=function(){var Sn=!Ke;rn.updateCurrentValue("bookmarkExpandedMap",function(fn){return fn.set(cn,Sn)}),sn(Sn)},bn=function(){var Sn=$e.dest,fn=rn.get("jumpToDestination");Ae.getDestination(Ue,Sn).then(function(on){fn&&fn(Ie({label:$e.title},on))})},En=function(){hn&&$e.dest&&bn()},yn=function(){!hn&&$e.dest&&bn()},xn=function(Sn,fn){return Re.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*qe,"rem")},onClick:Sn},fn)},vn=function(Sn,fn){return hn?Re.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(qe,"-").concat(Ye),onClick:Cn},Ke?Sn:fn):Re.createElement("span",{className:"rpv-bookmark__toggle"})},kn=function(Sn){return $e.url?Re.createElement("a",{className:"rpv-bookmark__title",href:$e.url,rel:"noopener noreferrer nofollow",target:$e.newWindow?"_blank":""},$e.title):Re.createElement("div",{className:"rpv-bookmark__title","aria-label":$e.title,onClick:Sn},$e.title)};return Re.createElement("li",{"aria-expanded":Ke?"true":"false","aria-label":$e.title,"aria-level":qe+1,"aria-posinset":Ye+1,"aria-setsize":Qe,role:"treeitem",tabIndex:-1},nn?nn({bookmark:$e,depth:qe,hasSubItems:hn,index:Ye,isExpanded:Ke,path:cn,defaultRenderItem:xn,defaultRenderTitle:kn,defaultRenderToggle:vn,onClickItem:yn,onClickTitle:En,onToggleSubItems:Cn}):xn(yn,Re.createElement(Re.Fragment,null,vn(Re.createElement(Fe,null),Re.createElement(Ne,null)),kn(En))),hn&&Ke&&Re.createElement(Be,{bookmarks:$e.items,depth:qe+1,doc:Ue,isBookmarkExpanded:Ze,isRoot:!1,pathFromRoot:cn,renderBookmarkItem:nn,store:rn}))},Be=function(Xe){var $e=Xe.bookmarks,qe=Xe.depth,Ue=qe===void 0?0:qe,Ye=Xe.doc,Ze=Xe.isBookmarkExpanded,Qe=Xe.isRoot,pn=Xe.pathFromRoot,nn=Xe.renderBookmarkItem,rn=Xe.store;return Re.createElement("ul",{className:"rpv-bookmark__list",role:Qe?"tree":"group",tabIndex:-1},$e.map(function(cn,tn){return Re.createElement(je,{bookmark:cn,depth:Ue,doc:Ye,index:tn,isBookmarkExpanded:Ze,key:tn,numberOfSiblings:$e.length,pathFromRoot:pn,renderBookmarkItem:nn,store:rn})}))};(function(Xe){Xe[Xe.Collapse=0]="Collapse",Xe[Xe.Expand=1]="Expand"})(ke||(ke={}));var He=function(Xe){var $e=Xe.bookmarks,qe=Xe.doc,Ue=Xe.isBookmarkExpanded,Ye=Xe.renderBookmarkItem,Ze=Xe.store,Qe=Re.useRef(),pn=function(tn){var Je=Qe.current;if(Je&&tn.target instanceof HTMLElement&&Je.contains(tn.target))switch(tn.key){case"ArrowDown":tn.preventDefault(),rn(function(an,gn){return an.indexOf(gn)+1});break;case"ArrowLeft":tn.preventDefault(),cn(ke.Collapse);break;case"ArrowRight":tn.preventDefault(),cn(ke.Expand);break;case"ArrowUp":tn.preventDefault,rn(function(an,gn){return an.indexOf(gn)-1});break;case"End":tn.preventDefault(),rn(function(an,gn){return an.length-1});break;case" ":case"Enter":case"Space":tn.preventDefault(),nn();break;case"Home":tn.preventDefault(),rn(function(an,gn){return 0})}},nn=function(){var tn=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");tn&&tn.click()},rn=function(tn){var Je=Qe.current,an=[].slice.call(Je.getElementsByClassName("rpv-bookmark__item"));if(an.length!==0){var gn=document.activeElement,Ke=an[Math.min(an.length-1,Math.max(0,tn(an,gn)))];gn.setAttribute("tabindex","-1"),Ke.setAttribute("tabindex","0"),Ke.focus()}},cn=function(tn){var Je=Qe.current;if([].slice.call(Je.getElementsByClassName("rpv-bookmark__item")).length!==0){var an=document.activeElement.closest(".rpv-bookmark__item"),gn=tn===ke.Collapse?"true":"false";if(an&&an.parentElement.getAttribute("aria-expanded")===gn){var Ke=an.querySelector(".rpv-bookmark__toggle");Ke&&Ke.click()}}};return Re.useEffect(function(){return document.addEventListener("keydown",pn),function(){document.removeEventListener("keydown",pn)}},[]),Re.useEffect(function(){var tn=Qe.current;if(tn){var Je=[].slice.call(tn.getElementsByClassName("rpv-bookmark__item"));Je.length>0&&(Je[0].focus(),Je[0].setAttribute("tabindex","0"))}},[]),Re.createElement("div",{ref:Qe},Re.createElement(Be,{bookmarks:$e,depth:0,doc:qe,isBookmarkExpanded:Ue,isRoot:!0,pathFromRoot:"",renderBookmarkItem:Ye,store:Ze}))},We=function(Xe){var $e=Xe.doc,qe=Xe.isBookmarkExpanded,Ue=Xe.renderBookmarkItem,Ye=Xe.store,Ze=Re.useContext(Ae.LocalizationContext).l10n,Qe=Re.useContext(Ae.ThemeContext).direction===Ae.TextDirection.RightToLeft,pn=Re.useState({isLoaded:!1,items:[]}),nn=pn[0],rn=pn[1];return Re.useEffect(function(){rn({isLoaded:!1,items:[]}),$e.getOutline().then(function(cn){rn({isLoaded:!0,items:cn||[]})})},[$e]),nn.isLoaded?nn.items.length===0?Re.createElement("div",{"data-testid":"bookmark__empty",className:Ae.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":Qe})},Ze&&Ze.bookmark?Ze.bookmark.noBookmark:"There is no bookmark"):Re.createElement("div",{"data-testid":"bookmark__container",className:Ae.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":Qe})},Re.createElement(He,{bookmarks:nn.items,doc:$e,isBookmarkExpanded:qe,renderBookmarkItem:Ue,store:Ye})):Re.createElement("div",{className:"rpv-bookmark__loader"},Re.createElement(Ae.Spinner,null))},Ge=function(Xe){var $e=Xe.isBookmarkExpanded,qe=Xe.renderBookmarkItem,Ue=Xe.store,Ye=Re.useState(Ue.get("doc")),Ze=Ye[0],Qe=Ye[1],pn=function(nn){Qe(nn)};return Re.useEffect(function(){return Ue.subscribe("doc",pn),function(){Ue.unsubscribe("doc",pn)}},[]),Ze?Re.createElement(We,{doc:Ze,isBookmarkExpanded:$e,renderBookmarkItem:qe,store:Ue}):Re.createElement("div",{className:"rpv-bookmark__loader"},Re.createElement(Ae.Spinner,null))};return bookmark_min.DownArrowIcon=Fe,bookmark_min.RightArrowIcon=Ne,bookmark_min.bookmarkPlugin=function(){var Xe=Re.useMemo(function(){return Ae.createStore({bookmarkExpandedMap:new Map})},[]);return{install:function($e){Xe.update("jumpToDestination",$e.jumpToDestination)},onDocumentLoad:function($e){Xe.update("doc",$e.doc)},Bookmarks:function($e){return Re.createElement(Ge,{isBookmarkExpanded:$e==null?void 0:$e.isBookmarkExpanded,renderBookmarkItem:$e==null?void 0:$e.renderBookmarkItem,store:Xe})}}},bookmark_min}var hasRequiredLib$f;function requireLib$f(){if(hasRequiredLib$f)return lib$e.exports;hasRequiredLib$f=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$e.exports=requireBookmark_min(),lib$e.exports}var lib$d={exports:{}},thumbnail_min={},hasRequiredThumbnail_min;function requireThumbnail_min(){return hasRequiredThumbnail_min||(hasRequiredThumbnail_min=1,function(Ae){var _e=requireLib$h();function ke(Ue){var Ye=Object.create(null);return Ue&&Object.keys(Ue).forEach(function(Ze){if(Ze!=="default"){var Qe=Object.getOwnPropertyDescriptor(Ue,Ze);Object.defineProperty(Ye,Ze,Qe.get?Qe:{enumerable:!0,get:function(){return Ue[Ze]}})}}),Ye.default=Ue,Object.freeze(Ye)}var Re,Ie=ke(requireReact());Ae.ThumbnailDirection=void 0,(Re=Ae.ThumbnailDirection||(Ae.ThumbnailDirection={})).Horizontal="Horizontal",Re.Vertical="Vertical";var Fe=function(){return Fe=Object.assign||function(Ue){for(var Ye,Ze=1,Qe=arguments.length;Ze<Qe;Ze++)for(var pn in Ye=arguments[Ze])Object.prototype.hasOwnProperty.call(Ye,pn)&&(Ue[pn]=Ye[pn]);return Ue},Fe.apply(this,arguments)},Ne=function(Ue){var Ye=Ue.doc,Ze=Ue.getPageIndex,Qe=Ue.renderSpinner,pn=Ue.store,nn=Ue.width,rn=Ye.numPages,cn=Ze?Ze({numPages:rn}):0,tn=Math.max(0,Math.min(cn,rn-1)),Je=pn.get("pagesRotation")||new Map,an=Je.has(tn)?Je.get(tn):0,gn=Ie.useState(""),Ke=gn[0],sn=gn[1],hn=_e.useIsMounted(),Cn=Ie.useRef(),bn=Ie.useState(pn.get("rotation")||0),En=bn[0],yn=bn[1],xn=Ie.useState(an),vn=xn[0],kn=xn[1],Sn=Ie.useState(!1),fn=Sn[0],on=Sn[1],ln=function(Pn){var Rn=Pn.has(tn)?Pn.get(tn):0;kn(Rn)},_n=function(Pn){yn(Pn)},Tn=_e.useIntersectionObserver({onVisibilityChanged:function(Pn){on(Pn.isVisible)}});return Ie.useEffect(function(){if(fn){var Pn=Tn.current;Pn&&(sn(""),_e.getPage(Ye,tn).then(function(Rn){var Dn=Rn.getViewport({scale:1}),Xn=(Dn.rotation+En+vn)%360,li=Math.abs(En+vn)%180==0,oi=li?Dn.width:Dn.height,di=li?Dn.height:Dn.width,vi=document.createElement("canvas"),yi=vi.getContext("2d",{alpha:!1}),Zn=Pn.clientWidth,Gn=Pn.clientHeight,wn=nn?nn/oi:Math.min(Zn/oi,Gn/di),Ln=wn*oi,Wn=wn*di;vi.height=Wn,vi.width=Ln,vi.style.opacity="0";var Bn=Rn.getViewport({rotation:Xn,scale:wn});Cn.current=Rn.render({canvasContext:yi,viewport:Bn}),Cn.current.promise.then(function(){hn.current&&sn(vi.toDataURL()),vi.width=0,vi.height=0},function(){})}))}},[vn,fn]),Ie.useEffect(function(){return pn.subscribe("pagesRotation",ln),pn.subscribe("rotation",_n),function(){pn.unsubscribe("pagesRotation",ln),pn.unsubscribe("rotation",_n)}},[]),Ie.useEffect(function(){return function(){var Pn;(Pn=Cn.current)===null||Pn===void 0||Pn.cancel()}},[]),Ie.createElement("div",{ref:Tn,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},Ke?Ie.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:Ke}):Ie.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},Qe?Qe():Ie.createElement(_e.Spinner,null)))},je=function(Ue){var Ye=Ue.getPageIndex,Ze=Ue.renderSpinner,Qe=Ue.store,pn=Ue.width,nn=Ie.useState(Qe.get("doc")),rn=nn[0],cn=nn[1],tn=function(Je){cn(Je)};return Ie.useEffect(function(){return Qe.subscribe("doc",tn),function(){Qe.unsubscribe("doc",tn)}},[]),Ie.createElement("div",{className:"rpv-thumbnail__cover"},rn?Ie.createElement(Ne,{doc:rn,getPageIndex:Ye,renderSpinner:Ze,store:Qe,width:pn}):Ie.createElement("div",{className:"rpv-thumbnail__cover-loader"},Ze?Ze():Ie.createElement(_e.Spinner,null)))},Be=function(){return Ie.createElement(_e.Spinner,null)},He=Ie.createContext({renderSpinner:Be}),We=function(Ue){var Ye=Ue.children,Ze=Ue.doc,Qe=_e.useIsMounted(),pn=Ie.useState({loading:!0,labels:[]}),nn=pn[0],rn=pn[1];return Ie.useEffect(function(){Ze.getPageLabels().then(function(cn){Qe.current&&rn({loading:!1,labels:cn||[]})})},[Ze.loadingTask.docId]),nn.loading?Ie.createElement(Ie.Fragment,null):Ye(nn.labels)},Ge=function(Ue){var Ye=Ue.page,Ze=Ue.pageHeight,Qe=Ue.pageIndex,pn=Ue.pageWidth,nn=Ue.rotation,rn=Ue.thumbnailHeight,cn=Ue.thumbnailWidth,tn=Ue.onRenderCompleted,Je=Ie.useContext(_e.LocalizationContext).l10n,an=Ie.useRef(),gn=Ie.useState(""),Ke=gn[0],sn=gn[1],hn=Je&&Je.thumbnail?Je.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return Ie.useEffect(function(){var Cn=an.current;Cn&&Cn.cancel();var bn=document.createElement("canvas"),En=bn.getContext("2d",{alpha:!1}),yn=cn,xn=yn/(pn/Ze),vn=yn/pn;bn.height=xn,bn.width=yn,bn.style.height="".concat(xn,"px"),bn.style.width="".concat(yn,"px");var kn=Ye.getViewport({rotation:nn,scale:vn});return an.current=Ye.render({canvasContext:En,viewport:kn}),an.current.promise.then(function(){sn(bn.toDataURL()),tn(Qe)},function(){tn(Qe)}),function(){var Sn;(Sn=an.current)===null||Sn===void 0||Sn.cancel()}},[nn]),Ke?Ie.createElement("img",{"aria-label":hn.replace("{{pageIndex}}","".concat(Qe+1)),src:Ke,height:"".concat(rn,"px"),width:"".concat(cn,"px")}):Ie.useContext(He).renderSpinner()},Xe=function(Ue){var Ye=Ue.doc,Ze=Ue.pageHeight,Qe=Ue.pageIndex,pn=Ue.pageRotation,nn=Ue.pageWidth,rn=Ue.rotation,cn=Ue.shouldRender,tn=Ue.thumbnailWidth,Je=Ue.onRenderCompleted,an=Ue.onVisibilityChanged,gn=_e.useIsMounted(),Ke=Ie.useState({height:Ze,page:null,viewportRotation:0,width:nn}),sn=Ke[0],hn=Ke[1],Cn=sn.page,bn=sn.height,En=sn.width,yn=En/bn,xn=Math.abs(rn+pn)%180==0,vn=xn?tn:tn/yn,kn=xn?tn/yn:tn;Ie.useEffect(function(){cn&&_e.getPage(Ye,Qe).then(function(on){var ln=on.getViewport({scale:1});gn.current&&hn({height:ln.height,page:on,viewportRotation:ln.rotation,width:ln.width})})},[cn]);var Sn=(sn.viewportRotation+rn+pn)%360,fn=_e.useIntersectionObserver({onVisibilityChanged:function(on){an(Qe,on)}});return Ie.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(Qe),ref:fn,style:{height:"".concat(kn,"px"),width:"".concat(vn,"px")}},Cn?Ie.createElement(Ge,{page:Cn,pageHeight:xn?bn:En,pageIndex:Qe,pageWidth:xn?En:bn,rotation:Sn,thumbnailHeight:kn,thumbnailWidth:vn,onRenderCompleted:Je}):Ie.useContext(He).renderSpinner())},$e=function(Ue){var Ye=Ue.currentPage,Ze=Ue.doc,Qe=Ue.labels,pn=Ue.pagesRotation,nn=Ue.pageHeight,rn=Ue.pageWidth,cn=Ue.renderCurrentPageLabel,tn=Ue.renderThumbnailItem,Je=Ue.rotatedPage,an=Ue.rotation,gn=Ue.thumbnailDirection,Ke=Ue.thumbnailWidth,sn=Ue.viewMode,hn=Ue.onJumpToPage,Cn=Ue.onRotatePage,bn=Ze.numPages,En=Ze.loadingTask.docId,yn=Ie.useRef(null),xn=Ie.useRef([]),vn=Ie.useState(Ye),kn=vn[0],Sn=vn[1],fn=Ie.useContext(_e.ThemeContext).direction===_e.TextDirection.RightToLeft,on=Ie.useState(-1),ln=on[0],_n=on[1],Tn=_e.useIsMounted(),Pn=_e.usePrevious(sn),Rn=Ie.useRef(!1),Dn=_e.useRenderQueue({doc:Ze}),Xn=Ie.useMemo(function(){return Array(bn).fill(0).map(function(wn,Ln){return Ln})},[En]),li=Ie.useMemo(function(){switch(sn){case _e.ViewMode.DualPage:return _e.chunk(Xn,2);case _e.ViewMode.DualPageWithCover:return[[Xn[0]]].concat(_e.chunk(Xn.slice(1),2));case _e.ViewMode.SinglePage:default:return _e.chunk(Xn,1)}},[En,sn]),oi=function(){if(yn.current){var wn=xn.current,Ln=kn+1;Ln<wn.length&&(kn>=0&&wn[kn].setAttribute("tabindex","-1"),Sn(Ln))}},di=function(){if(yn.current){var wn=xn.current,Ln=kn-1;Ln>=0&&(kn>=0&&wn[kn].setAttribute("tabindex","-1"),Sn(Ln))}},vi=function(){kn>=0&&kn<bn&&hn(kn)};_e.useIsomorphicLayoutEffect(function(){var wn=yn.current;wn&&(xn.current=Array.from(wn.querySelectorAll(".rpv-thumbnail__item")))},[sn]),Ie.useEffect(function(){var wn=xn.current;if(!(wn.length===0||kn<0||kn>wn.length)){var Ln=wn[kn];Ln.setAttribute("tabindex","0"),Ln.focus()}},[kn]),_e.useIsomorphicLayoutEffect(function(){var wn=yn.current,Ln=xn.current;if(!(!wn||Ln.length===0||Ye<0||Ye>Ln.length)){var Wn=Ln[Ye].closest(".rpv-thumbnail__items");Wn&&(gn===Ae.ThumbnailDirection.Vertical?function(Bn,Yn){var fi=Bn.getBoundingClientRect().top-Yn.getBoundingClientRect().top,gi=Bn.clientHeight,$n=Yn.clientHeight;fi<0?Yn.scrollTop+=fi:fi+gi<=$n||(Yn.scrollTop+=fi+gi-$n)}(Wn,wn):function(Bn,Yn){var fi=Bn.getBoundingClientRect().left-Yn.getBoundingClientRect().left,gi=Bn.clientWidth,$n=Yn.clientWidth;fi<0?Yn.scrollLeft+=fi:fi+gi<=$n||(Yn.scrollLeft+=fi+gi-$n)}(Wn,wn))}},[Ye,gn]);var yi=Ie.useCallback(function(wn){Tn.current&&(Dn.markRendered(wn),Rn.current=!1,Gn())},[En]),Zn=Ie.useCallback(function(wn,Ln){Ln.isVisible?Dn.setVisibility(wn,Ln.ratio):Dn.setOutOfRange(wn),Gn()},[En]),Gn=Ie.useCallback(function(){if(!Rn.current){var wn=Dn.getHighestPriorityPage();wn>-1&&(Dn.markRendering(wn),Rn.current=!0,_n(wn))}},[En]);return Ie.useEffect(function(){Je>=0&&(Dn.markRendering(Je),Rn.current=!0,_n(Je))},[En,Je]),_e.useIsomorphicLayoutEffect(function(){Pn!==sn&&(Dn.markNotRendered(),Gn())},[sn]),Ie.createElement("div",{ref:yn,"data-testid":"thumbnail__list",className:_e.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":gn===Ae.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":fn,"rpv-thumbnail__list--vertical":gn===Ae.ThumbnailDirection.Vertical}),onKeyDown:function(wn){switch(wn.key){case"ArrowDown":oi();break;case"ArrowUp":di();break;case"Enter":vi()}}},li.map(function(wn,Ln){var Wn=!1;switch(sn){case _e.ViewMode.DualPage:Wn=Ye===2*Ln||Ye===2*Ln+1;break;case _e.ViewMode.DualPageWithCover:Wn=Ye===0&&Ln===0||Ln>0&&Ye===2*Ln-1||Ln>0&&Ye===2*Ln;break;case _e.ViewMode.SinglePage:default:Wn=Ye===Ln}return Ie.createElement("div",{className:_e.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":sn===_e.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":sn===_e.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":sn===_e.ViewMode.SinglePage,"rpv-thumbnail__items--selected":Wn}),key:"".concat(Ln,"___").concat(sn)},wn.map(function(Bn){return function(Yn){var fi=sn===_e.ViewMode.DualPageWithCover&&(Yn===0||bn%2==0&&Yn===bn-1),gi="".concat(Ze.loadingTask.docId,"___").concat(Yn),$n=Qe.length===bn?Qe[Yn]:"".concat(Yn+1),Pi=cn?cn({currentPage:Ye,pageIndex:Yn,numPages:bn,pageLabel:$n}):$n,Ei=pn.has(Yn)?pn.get(Yn):0,Yi=Ie.createElement(Xe,{doc:Ze,pageHeight:nn,pageIndex:Yn,pageRotation:Ei,pageWidth:rn,rotation:an,shouldRender:ln===Yn,thumbnailWidth:Ke,onRenderCompleted:yi,onVisibilityChanged:Zn});return tn?tn({currentPage:Ye,key:gi,numPages:bn,pageIndex:Yn,renderPageLabel:Ie.createElement(Ie.Fragment,null,Pi),renderPageThumbnail:Yi,onJumpToPage:function(){return hn(Yn)},onRotatePage:function(Wi){return Cn(Yn,Wi)}}):Ie.createElement("div",{key:gi},Ie.createElement("div",{className:_e.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":sn===_e.ViewMode.DualPage&&Yn%2==0,"rpv-thumbnail__item--dual-odd":sn===_e.ViewMode.DualPage&&Yn%2==1,"rpv-thumbnail__item--dual-cover":fi,"rpv-thumbnail__item--dual-cover-even":sn===_e.ViewMode.DualPageWithCover&&!fi&&Yn%2==0,"rpv-thumbnail__item--dual-cover-odd":sn===_e.ViewMode.DualPageWithCover&&!fi&&Yn%2==1,"rpv-thumbnail__item--single":sn===_e.ViewMode.SinglePage,"rpv-thumbnail__item--selected":Ye===Yn}),role:"button",tabIndex:Ye===Yn?0:-1,onClick:function(){return hn(Yn)}},Yi),Ie.createElement("div",{"data-testid":"thumbnail__label-".concat(Yn),className:"rpv-thumbnail__label"},Pi))}(Bn)}))}))},qe=function(Ue){var Ye=Ue.renderCurrentPageLabel,Ze=Ue.renderThumbnailItem,Qe=Ue.store,pn=Ue.thumbnailDirection,nn=Ue.thumbnailWidth,rn=Ie.useState(Qe.get("doc")),cn=rn[0],tn=rn[1],Je=Ie.useState(Qe.get("currentPage")||0),an=Je[0],gn=Je[1],Ke=Ie.useState(Qe.get("pageHeight")||0),sn=Ke[0],hn=Ke[1],Cn=Ie.useState(Qe.get("pageWidth")||0),bn=Cn[0],En=Cn[1],yn=Ie.useState(Qe.get("rotation")||0),xn=yn[0],vn=yn[1],kn=Ie.useState(Qe.get("pagesRotation")||new Map),Sn=kn[0],fn=kn[1],on=Ie.useState(Qe.get("rotatedPage")||-1),ln=on[0],_n=on[1],Tn=Ie.useState(Qe.get("viewMode")),Pn=Tn[0],Rn=Tn[1],Dn=function(Ln){gn(Ln)},Xn=function(Ln){tn(Ln)},li=function(Ln){hn(Ln)},oi=function(Ln){En(Ln)},di=function(Ln){vn(Ln)},vi=function(Ln){fn(Ln)},yi=function(Ln){_n(Ln)},Zn=function(Ln){Rn(Ln)},Gn=function(Ln){var Wn=Qe.get("jumpToPage");Wn&&Wn(Ln)},wn=function(Ln,Wn){Qe.get("rotatePage")(Ln,Wn)};return Ie.useEffect(function(){return Qe.subscribe("doc",Xn),Qe.subscribe("pageHeight",li),Qe.subscribe("pageWidth",oi),Qe.subscribe("rotatedPage",yi),Qe.subscribe("rotation",di),Qe.subscribe("pagesRotation",vi),Qe.subscribe("viewMode",Zn),function(){Qe.unsubscribe("doc",Xn),Qe.unsubscribe("pageHeight",li),Qe.unsubscribe("pageWidth",oi),Qe.unsubscribe("rotatedPage",yi),Qe.unsubscribe("rotation",di),Qe.unsubscribe("pagesRotation",vi),Qe.unsubscribe("viewMode",Zn)}},[]),_e.useIsomorphicLayoutEffect(function(){return Qe.subscribe("currentPage",Dn),function(){Qe.unsubscribe("currentPage",Dn)}},[]),cn?Ie.createElement(_e.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},Ie.createElement(We,{doc:cn},function(Ln){return Ie.createElement($e,{currentPage:an,doc:cn,labels:Ln,pagesRotation:Sn,pageHeight:sn,pageWidth:bn,renderCurrentPageLabel:Ye,renderThumbnailItem:Ze,rotatedPage:ln,rotation:xn,thumbnailDirection:pn,thumbnailWidth:nn,viewMode:Pn,onJumpToPage:Gn,onRotatePage:wn})})):Ie.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},Ie.useContext(He).renderSpinner())};Ae.thumbnailPlugin=function(Ue){var Ye=Ie.useMemo(function(){return _e.createStore({rotatePage:function(){},viewMode:_e.ViewMode.SinglePage})},[]),Ze=Ie.useState(""),Qe=Ze[0],pn=Ze[1];return{install:function(nn){Ye.update("jumpToPage",nn.jumpToPage),Ye.update("rotatePage",nn.rotatePage)},onDocumentLoad:function(nn){pn(nn.doc.loadingTask.docId),Ye.update("doc",nn.doc)},onViewerStateChange:function(nn){return Ye.update("currentPage",nn.pageIndex),Ye.update("pagesRotation",nn.pagesRotation),Ye.update("pageHeight",nn.pageHeight),Ye.update("pageWidth",nn.pageWidth),Ye.update("rotation",nn.rotation),Ye.update("rotatedPage",nn.rotatedPage),Ye.update("viewMode",nn.viewMode),nn},Cover:function(nn){return Ie.createElement(je,Fe({},nn,{renderSpinner:Ue==null?void 0:Ue.renderSpinner,store:Ye}))},Thumbnails:Ie.useCallback(function(nn){return Ie.createElement(He.Provider,{value:{renderSpinner:(Ue==null?void 0:Ue.renderSpinner)||Be}},Ie.createElement(qe,{renderCurrentPageLabel:Ue==null?void 0:Ue.renderCurrentPageLabel,renderThumbnailItem:nn==null?void 0:nn.renderThumbnailItem,store:Ye,thumbnailDirection:(nn==null?void 0:nn.thumbnailDirection)||Ae.ThumbnailDirection.Vertical,thumbnailWidth:(Ue==null?void 0:Ue.thumbnailWidth)||100}))},[Qe])}}}(thumbnail_min)),thumbnail_min}var hasRequiredLib$e;function requireLib$e(){if(hasRequiredLib$e)return lib$d.exports;hasRequiredLib$e=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$d.exports=requireThumbnail_min(),lib$d.exports}var lib$c={exports:{}},toolbar_min={},lib$b={exports:{}},selectionMode_min={},hasRequiredSelectionMode_min;function requireSelectionMode_min(){return hasRequiredSelectionMode_min||(hasRequiredSelectionMode_min=1,function(Ae){var _e=requireLib$h();function ke(qe){var Ue=Object.create(null);return qe&&Object.keys(qe).forEach(function(Ye){if(Ye!=="default"){var Ze=Object.getOwnPropertyDescriptor(qe,Ye);Object.defineProperty(Ue,Ye,Ze.get?Ze:{enumerable:!0,get:function(){return qe[Ye]}})}}),Ue.default=qe,Object.freeze(Ue)}var Re,Ie=ke(requireReact()),Fe=function(){return Ie.createElement(_e.Icon,{size:16},Ie.createElement("path",{d:`M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4
            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335
            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67
            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6`}))},Ne=function(){return Ne=Object.assign||function(qe){for(var Ue,Ye=1,Ze=arguments.length;Ye<Ze;Ye++)for(var Qe in Ue=arguments[Ye])Object.prototype.hasOwnProperty.call(Ue,Qe)&&(qe[Qe]=Ue[Qe]);return qe},Ne.apply(this,arguments)};Ae.SelectionMode=void 0,(Re=Ae.SelectionMode||(Ae.SelectionMode={})).Hand="Hand",Re.Text="Text";var je=function(){return Ie.createElement(_e.Icon,{size:16},Ie.createElement("path",{d:`M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906
            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262
            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0
            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z`}))},Be=function(qe){var Ue=qe.children,Ye=qe.mode,Ze=qe.onClick,Qe=Ie.useContext(_e.LocalizationContext).l10n,pn="",nn=Ie.createElement(je,null);switch(Ye){case Ae.SelectionMode.Hand:pn=Qe&&Qe.selectionMode?Qe.selectionMode.handTool:"Hand tool",nn=Ie.createElement(Fe,null);break;case Ae.SelectionMode.Text:default:pn=Qe&&Qe.selectionMode?Qe.selectionMode.textSelectionTool:"Text selection tool",nn=Ie.createElement(je,null)}return Ue({icon:nn,label:pn,onClick:Ze})},He={left:0,top:8},We=function(qe){var Ue=qe.isSelected,Ye=qe.mode,Ze=qe.onClick,Qe="";switch(Ye){case Ae.SelectionMode.Hand:Qe="selection-mode__hand-button";break;case Ae.SelectionMode.Text:default:Qe="selection-mode__text-button"}return Ie.createElement(Be,{mode:Ye,onClick:Ze},function(pn){return Ie.createElement(_e.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:_e.Position.BottomCenter,target:Ie.createElement(_e.MinimalButton,{ariaLabel:pn.label,isSelected:Ue,testId:Qe,onClick:pn.onClick},pn.icon),content:function(){return pn.label},offset:He})})},Ge=function(qe){var Ue=qe.children,Ye=qe.mode,Ze=qe.store,Qe=Ye===Ze.get("selectionMode");return(Ue||function(pn){return Ie.createElement(We,{isSelected:Qe,mode:pn.mode,onClick:pn.onClick})})({isSelected:Qe,mode:Ye,onClick:function(){return Ze.update("selectionMode",Ye)}})},Xe=function(qe){var Ue=qe.isSelected,Ye=qe.mode,Ze=qe.onClick,Qe="";switch(Ye){case Ae.SelectionMode.Hand:Qe="selection-mode__hand-menu";break;case Ae.SelectionMode.Text:default:Qe="selection-mode__text-menu"}return Ie.createElement(Be,{mode:Ye,onClick:Ze},function(pn){return Ie.createElement(_e.MenuItem,{checked:Ue,icon:pn.icon,testId:Qe,onClick:pn.onClick},pn.label)})},$e=function(qe){var Ue=qe.store,Ye=Ie.useRef(null),Ze=Ie.useState(Ae.SelectionMode.Text),Qe=Ze[0],pn=Ze[1],nn=Ie.useRef({top:0,left:0,x:0,y:0}),rn=function(gn){var Ke=Ye.current;Ke&&(Ke.scrollTop=nn.current.top-(gn.clientY-nn.current.y),Ke.scrollLeft=nn.current.left-(gn.clientX-nn.current.x))},cn=function(){var gn=Ye.current;gn&&(gn.classList.add("rpv-selection-mode__grab"),gn.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",rn),document.removeEventListener("mouseup",cn))},tn=function(gn){var Ke=Ye.current;Ke&&Qe!==Ae.SelectionMode.Text&&(Ke.classList.remove("rpv-selection-mode__grab"),Ke.classList.add("rpv-selection-mode__grabbing"),gn.preventDefault(),gn.stopPropagation(),nn.current={left:Ke.scrollLeft,top:Ke.scrollTop,x:gn.clientX,y:gn.clientY},document.addEventListener("mousemove",rn),document.addEventListener("mouseup",cn))},Je=function(gn){Ye.current=gn()},an=function(gn){pn(gn)};return Ie.useEffect(function(){var gn=Ye.current;if(gn)return Qe===Ae.SelectionMode.Hand?gn.classList.add("rpv-selection-mode__grab"):gn.classList.remove("rpv-selection-mode__grab"),gn.addEventListener("mousedown",tn),function(){gn.removeEventListener("mousedown",tn)}},[Qe]),Ie.useEffect(function(){return Ue.subscribe("getPagesContainer",Je),Ue.subscribe("selectionMode",an),function(){Ue.unsubscribe("getPagesContainer",Je),Ue.unsubscribe("selectionMode",an)}},[]),Ie.createElement(Ie.Fragment,null)};Ae.HandToolIcon=Fe,Ae.TextSelectionIcon=je,Ae.selectionModePlugin=function(qe){var Ue=Ie.useMemo(function(){return _e.createStore()},[]),Ye=function(Ze){return Ie.createElement(Ge,Ne({},Ze,{store:Ue}))};return{install:function(Ze){Ue.update("selectionMode",qe&&qe.selectionMode?qe.selectionMode:Ae.SelectionMode.Text),Ue.update("getPagesContainer",Ze.getPagesContainer)},renderViewer:function(Ze){var Qe=Ze.slot;return Qe.subSlot&&Qe.subSlot.children&&(Qe.subSlot.children=Ie.createElement(Ie.Fragment,null,Ie.createElement($e,{store:Ue}),Qe.subSlot.children)),Qe},SwitchSelectionMode:Ye,SwitchSelectionModeButton:function(Ze){return Ie.createElement(Ye,{mode:Ze.mode},function(Qe){return Ie.createElement(We,{isSelected:Qe.isSelected,mode:Qe.mode,onClick:function(){Qe.onClick()}})})},SwitchSelectionModeMenuItem:function(Ze){return Ie.createElement(Ye,{mode:Ze.mode},function(Qe){return Ie.createElement(Xe,{isSelected:Qe.isSelected,mode:Qe.mode,onClick:function(){Qe.onClick(),Ze.onClick()}})})}}}}(selectionMode_min)),selectionMode_min}var hasRequiredLib$d;function requireLib$d(){if(hasRequiredLib$d)return lib$b.exports;hasRequiredLib$d=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$b.exports=requireSelectionMode_min(),lib$b.exports}var lib$a={exports:{}},fullScreen_min={},hasRequiredFullScreen_min;function requireFullScreen_min(){if(hasRequiredFullScreen_min)return fullScreen_min;hasRequiredFullScreen_min=1;var Ae=requireLib$h();function _e(Ze){var Qe=Object.create(null);return Ze&&Object.keys(Ze).forEach(function(pn){if(pn!=="default"){var nn=Object.getOwnPropertyDescriptor(Ze,pn);Object.defineProperty(Qe,pn,nn.get?nn:{enumerable:!0,get:function(){return Ze[pn]}})}}),Qe.default=Ze,Object.freeze(Qe)}var ke=_e(requireReact()),Re=function(){return ke.createElement(Ae.Icon,{size:16},ke.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),ke.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),ke.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),ke.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),ke.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},Ie=function(){return ke.createElement(Ae.Icon,{size:16},ke.createElement("path",{d:"M0.5 12L23.5 12"}),ke.createElement("path",{d:"M11.5 1L11.5 23"}),ke.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),ke.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),ke.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),ke.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},Fe=function(){return Fe=Object.assign||function(Ze){for(var Qe,pn=1,nn=arguments.length;pn<nn;pn++)for(var rn in Qe=arguments[pn])Object.prototype.hasOwnProperty.call(Qe,rn)&&(Ze[rn]=Qe[rn]);return Ze},Fe.apply(this,arguments)},Ne={left:0,top:8},je=function(Ze){var Qe=Ze.enableShortcuts,pn=Ze.onClick,nn=ke.useContext(Ae.LocalizationContext).l10n,rn=nn&&nn.fullScreen?nn.fullScreen.enterFullScreen:"Full screen",cn=Qe?Ae.isMac()?"Meta+Ctrl+F":"F11":"";return ke.createElement(Ae.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:Ae.Position.BottomCenter,target:ke.createElement(Ae.MinimalButton,{ariaKeyShortcuts:cn,ariaLabel:rn,isDisabled:!Ae.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:pn},ke.createElement(Ie,null)),content:function(){return rn},offset:Ne})},Be={left:0,top:8},He=function(Ze){var Qe=Ze.onClick,pn=ke.useContext(Ae.LocalizationContext).l10n,nn=pn&&pn.fullScreen?pn.fullScreen.exitFullScreen:"Exit full screen";return ke.createElement(Ae.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:Ae.Position.BottomCenter,target:ke.createElement(Ae.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:nn,testId:"full-screen__exit-button-with-tooltip",onClick:Qe},ke.createElement(Re,null)),content:function(){return nn},offset:Be})},We=function(Ze,Qe){var pn=ke.useState(Qe.get("fullScreenMode")),nn=pn[0],rn=pn[1],cn=ke.useCallback(function(tn){rn(tn)},[]);return ke.useEffect(function(){return Qe.subscribe("fullScreenMode",cn),function(){Qe.unsubscribe("fullScreenMode",cn)}},[]),{enterFullScreen:function(){var tn=Qe.get("getPagesContainer");if(tn){var Je=Ze(tn());Qe.get("enterFullScreenMode")(Je)}},exitFullScreen:function(){Qe.get("exitFullScreenMode")()},isFullScreen:nn===Ae.FullScreenMode.Entering||nn===Ae.FullScreenMode.EnteredCompletely}},Ge=function(Ze){var Qe=Ze.children,pn=Ze.enableShortcuts,nn=Ze.getFullScreenTarget,rn=Ze.store,cn=We(nn,rn),tn=cn.enterFullScreen,Je=cn.exitFullScreen,an=cn.isFullScreen;return(Qe||function(gn){return an?ke.createElement(He,{onClick:gn.onClick}):ke.createElement(je,{enableShortcuts:pn,onClick:gn.onClick})})({onClick:an?Je:tn})},Xe=function(Ze){var Qe=Ze.onClick,pn=ke.useContext(Ae.LocalizationContext).l10n,nn=pn&&pn.fullScreen?pn.fullScreen.enterFullScreen:"Full screen";return ke.createElement(Ae.MenuItem,{icon:ke.createElement(Ie,null),isDisabled:!Ae.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:Qe},nn)},$e=function(Ze){var Qe=Ze.onClick,pn=ke.useContext(Ae.LocalizationContext).l10n,nn=ke.useContext(Ae.ThemeContext).direction===Ae.TextDirection.RightToLeft,rn=pn&&pn.fullScreen?pn.fullScreen.exitFullScreen:"Exit full screen";return ke.createElement("div",{className:Ae.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!nn,"rpv-full-screen__exit-button--rtl":nn})},ke.createElement(Ae.MinimalButton,{ariaLabel:rn,testId:"full-screen__exit-button",onClick:Qe},ke.createElement(Re,null)))},qe=function(Ze){var Qe=Ze.children,pn=Ze.getFullScreenTarget,nn=Ze.store,rn=We(pn,nn),cn=rn.enterFullScreen,tn=rn.exitFullScreen,Je=rn.isFullScreen;return Je&&(Qe||function(an){return ke.createElement($e,{onClick:an.onClick})})({onClick:Je?tn:cn})},Ue=function(Ze){var Qe=Ze.store,pn=Ze.onEnterFullScreen,nn=Ze.onExitFullScreen,rn=ke.useState(Qe.get("fullScreenMode")),cn=rn[0],tn=rn[1],Je=ke.useCallback(function(an){tn(an)},[]);return ke.useEffect(function(){switch(cn){case Ae.FullScreenMode.EnteredCompletely:pn(Qe.get("zoom"));break;case Ae.FullScreenMode.Exited:nn(Qe.get("zoom"))}},[cn]),ke.useEffect(function(){return Qe.subscribe("fullScreenMode",Je),function(){Qe.unsubscribe("fullScreenMode",Je)}},[]),(cn===Ae.FullScreenMode.Entering||cn===Ae.FullScreenMode.Entered)&&ke.createElement("div",{className:"rpv-full-screen__overlay"},ke.createElement(Ae.Spinner,null))},Ye=function(Ze){var Qe=Ze.containerRef,pn=Ze.getFullScreenTarget,nn=Ze.store,rn=We(pn,nn).enterFullScreen,cn=function(tn){if(!tn.shiftKey&&!tn.altKey&&(Ae.isMac()?tn.metaKey&&tn.ctrlKey&&tn.key==="f":tn.key==="F11")){var Je=Qe.current;Je&&document.activeElement&&Je.contains(document.activeElement)&&(tn.preventDefault(),rn())}};return ke.useEffect(function(){if(Qe.current)return document.addEventListener("keydown",cn),function(){document.removeEventListener("keydown",cn)}},[Qe.current]),ke.createElement(ke.Fragment,null)};return fullScreen_min.ExitFullScreenIcon=Re,fullScreen_min.FullScreenIcon=Ie,fullScreen_min.fullScreenPlugin=function(Ze){var Qe=(Ze==null?void 0:Ze.getFullScreenTarget)||function(tn){return tn},pn=ke.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},Ze)},[]),nn=ke.useMemo(function(){return Ae.createStore({enterFullScreenMode:function(){},exitFullScreenMode:function(){},fullScreenMode:Ae.FullScreenMode.Normal,zoom:function(){}})},[]),rn=function(tn){return ke.createElement(Ge,Fe({},tn,{enableShortcuts:pn.enableShortcuts,getFullScreenTarget:Qe,store:nn}))},cn=function(){return ke.createElement(qe,{getFullScreenTarget:Qe,store:nn},Ze==null?void 0:Ze.renderExitFullScreenButton)};return{install:function(tn){nn.update("enterFullScreenMode",tn.enterFullScreenMode),nn.update("exitFullScreenMode",tn.exitFullScreenMode),nn.update("getPagesContainer",tn.getPagesContainer),nn.update("zoom",tn.zoom)},onViewerStateChange:function(tn){return nn.update("fullScreenMode",tn.fullScreenMode),tn},renderViewer:function(tn){var Je=tn.slot;return Je.subSlot&&(Je.subSlot.children=ke.createElement(ke.Fragment,null,pn.enableShortcuts&&ke.createElement(Ye,{containerRef:tn.containerRef,getFullScreenTarget:Qe,store:nn}),ke.createElement(Ue,{store:nn,onEnterFullScreen:pn.onEnterFullScreen,onExitFullScreen:pn.onExitFullScreen}),ke.createElement(cn,null),Je.subSlot.children)),Je},EnterFullScreen:rn,EnterFullScreenButton:function(){return ke.createElement(rn,null,function(tn){return ke.createElement(je,Fe({enableShortcuts:pn.enableShortcuts},tn))})},EnterFullScreenMenuItem:function(tn){return ke.createElement(rn,null,function(Je){return ke.createElement(Xe,{onClick:function(){Je.onClick(),tn.onClick()}})})}}},fullScreen_min}var hasRequiredLib$c;function requireLib$c(){if(hasRequiredLib$c)return lib$a.exports;hasRequiredLib$c=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$a.exports=requireFullScreen_min(),lib$a.exports}var lib$9={exports:{}},getFile_min={},hasRequiredGetFile_min;function requireGetFile_min(){if(hasRequiredGetFile_min)return getFile_min;hasRequiredGetFile_min=1;var Ae=requireLib$h();function _e(Xe){var $e=Object.create(null);return Xe&&Object.keys(Xe).forEach(function(qe){if(qe!=="default"){var Ue=Object.getOwnPropertyDescriptor(Xe,qe);Object.defineProperty($e,qe,Ue.get?Ue:{enumerable:!0,get:function(){return Xe[qe]}})}}),$e.default=Xe,Object.freeze($e)}var ke=_e(requireReact()),Re=function(){return ke.createElement(Ae.Icon,{size:16},ke.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),ke.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},Ie=function(){return Ie=Object.assign||function(Xe){for(var $e,qe=1,Ue=arguments.length;qe<Ue;qe++)for(var Ye in $e=arguments[qe])Object.prototype.hasOwnProperty.call($e,Ye)&&(Xe[Ye]=$e[Ye]);return Xe},Ie.apply(this,arguments)},Fe={left:0,top:8},Ne=function(Xe){var $e=Xe.onClick,qe=ke.useContext(Ae.LocalizationContext).l10n,Ue=qe&&qe.download?qe.download.download:"Download";return ke.createElement(Ae.Tooltip,{ariaControlsSuffix:"get-file",position:Ae.Position.BottomCenter,target:ke.createElement(Ae.MinimalButton,{ariaLabel:Ue,testId:"get-file__download-button",onClick:$e},ke.createElement(Re,null)),content:function(){return Ue},offset:Fe})},je=function(Xe,$e){var qe=document.createElement("a");qe.style.display="none",qe.href=Xe,qe.setAttribute("download",$e),document.body.appendChild(qe),qe.click(),document.body.removeChild(qe)},Be=function(Xe,$e,qe){var Ue=URL.createObjectURL(new Blob([Xe],{type:qe}));je(Ue,$e),Ue&&URL.revokeObjectURL(Ue)},He=function(Xe,$e){Xe.getData().then(function(qe){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?Be(qe,$e,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?je("data:application/pdf;base64,".concat(function(Ue){return btoa(Array(Ue.length).fill("").map(function(Ye,Ze){return String.fromCharCode(Ue[Ze])}).join(""))}(qe)),$e):Be(qe,$e,"application/pdf")})},We=function(Xe){var $e=Xe.children,qe=Xe.fileNameGenerator,Ue=Xe.store,Ye=ke.useState(Ue.get("file")),Ze=Ye[0],Qe=Ye[1],pn=ke.useState(Ue.get("doc")),nn=pn[0],rn=pn[1],cn=function(Je){rn(Je)},tn=function(Je){Qe(Je)};return ke.useEffect(function(){return Ue.subscribe("doc",cn),Ue.subscribe("file",tn),function(){Ue.subscribe("doc",cn),Ue.unsubscribe("file",tn)}},[]),($e||function(Je){return ke.createElement(Ne,{onClick:Je.onClick})})({onClick:function(){nn&&Ze&&He(nn,qe(Ze))}})},Ge=function(Xe){var $e=Xe.onClick,qe=ke.useContext(Ae.LocalizationContext).l10n,Ue=qe&&qe.download?qe.download.download:"Download";return ke.createElement(Ae.MenuItem,{icon:ke.createElement(Re,null),testId:"get-file__download-menu",onClick:$e},Ue)};return getFile_min.DownloadIcon=Re,getFile_min.getFilePlugin=function(Xe){var $e=ke.useMemo(function(){return Ae.createStore({})},[]),qe=function(Ye){return Ye.name?(Ze=Ye.name,(Qe=Ze.split("/").pop())?Qe.split("#")[0].split("?")[0]:Ze):"document.pdf";var Ze,Qe},Ue=function(Ye){return ke.createElement(We,Ie({},Ye,{fileNameGenerator:Xe&&Xe.fileNameGenerator||qe,store:$e}))};return{onDocumentLoad:function(Ye){$e.update("doc",Ye.doc),$e.update("file",Ye.file)},Download:Ue,DownloadButton:function(){return ke.createElement(Ue,null,function(Ye){return ke.createElement(Ne,Ie({},Ye))})},DownloadMenuItem:function(Ye){return ke.createElement(Ue,null,function(Ze){return ke.createElement(Ge,{onClick:function(){Ze.onClick(),Ye.onClick()}})})}}},getFile_min}var hasRequiredLib$b;function requireLib$b(){if(hasRequiredLib$b)return lib$9.exports;hasRequiredLib$b=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$9.exports=requireGetFile_min(),lib$9.exports}var lib$8={exports:{}},open_min={},hasRequiredOpen_min;function requireOpen_min(){if(hasRequiredOpen_min)return open_min;hasRequiredOpen_min=1;var Ae=requireLib$h();function _e(Ge){var Xe=Object.create(null);return Ge&&Object.keys(Ge).forEach(function($e){if($e!=="default"){var qe=Object.getOwnPropertyDescriptor(Ge,$e);Object.defineProperty(Xe,$e,qe.get?qe:{enumerable:!0,get:function(){return Ge[$e]}})}}),Xe.default=Ge,Object.freeze(Xe)}var ke=_e(requireReact()),Re=function(){return ke.createElement(Ae.Icon,{size:16},ke.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),ke.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},Ie=function(){return Ie=Object.assign||function(Ge){for(var Xe,$e=1,qe=arguments.length;$e<qe;$e++)for(var Ue in Xe=arguments[$e])Object.prototype.hasOwnProperty.call(Xe,Ue)&&(Ge[Ue]=Xe[Ue]);return Ge},Ie.apply(this,arguments)},Fe=function(Ge){var Xe=ke.useRef(),$e=function(){var Ue=Xe.current;Ue&&(Ue.click(),Ge.get("triggerOpenFile")&&Ge.update("triggerOpenFile",!1))},qe=function(Ue){Ue&&$e()};return ke.useEffect(function(){return Ge.subscribe("triggerOpenFile",qe),function(){Ge.unsubscribe("triggerOpenFile",qe)}},[]),{inputRef:Xe,openFile:$e}},Ne={left:0,top:8},je=function(Ge){var Xe=Ge.enableShortcuts,$e=Ge.store,qe=Ge.onClick,Ue=ke.useContext(Ae.LocalizationContext).l10n,Ye=Ue&&Ue.open?Ue.open.openFile:"Open file",Ze=Fe($e),Qe=Ze.inputRef,pn=Ze.openFile,nn=Xe?Ae.isMac()?"Meta+O":"Ctrl+O":"";return ke.createElement(Ae.Tooltip,{ariaControlsSuffix:"open",position:Ae.Position.BottomCenter,target:ke.createElement("div",{className:"rpv-open__input-wrapper"},ke.createElement("input",{accept:".pdf",ref:Qe,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:qe}),ke.createElement(Ae.MinimalButton,{ariaKeyShortcuts:nn,ariaLabel:Ye,testId:"open__button",onClick:pn},ke.createElement(Re,null))),content:function(){return Ye},offset:Ne})},Be=function(Ge){var Xe=Ge.children,$e=Ge.enableShortcuts,qe=Ge.store;return(Xe||function(Ue){return ke.createElement(je,{enableShortcuts:$e,store:qe,onClick:Ue.onClick})})({onClick:function(Ue){var Ye=Ue.target.files;if(Ye&&Ye.length){var Ze=qe.get("openFile");Ze&&Ze(Ye[0])}}})},He=function(Ge){var Xe=Ge.store,$e=Ge.onClick,qe=ke.useContext(Ae.LocalizationContext).l10n,Ue=qe&&qe.open?qe.open.openFile:"Open file",Ye=Fe(Xe),Ze=Ye.inputRef,Qe=Ye.openFile;return ke.createElement(Ae.MenuItem,{icon:ke.createElement(Re,null),testId:"open__menu",onClick:Qe},ke.createElement("div",{className:"rpv-open__input-wrapper"},ke.createElement("input",{accept:".pdf",ref:Ze,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:$e}),Ue))},We=function(Ge){var Xe=Ge.containerRef,$e=Ge.store,qe=function(Ue){if(!Ue.shiftKey&&!Ue.altKey&&Ue.key==="o"&&(Ae.isMac()?Ue.metaKey:Ue.ctrlKey)){var Ye=Xe.current;Ye&&document.activeElement&&Ye.contains(document.activeElement)&&(Ue.preventDefault(),$e.update("triggerOpenFile",!0))}};return ke.useEffect(function(){if(Xe.current)return document.addEventListener("keydown",qe),function(){document.removeEventListener("keydown",qe)}},[Xe.current]),ke.createElement(ke.Fragment,null)};return open_min.OpenFileIcon=Re,open_min.openPlugin=function(Ge){var Xe=ke.useMemo(function(){return Object.assign({},{enableShortcuts:!0},Ge)},[]),$e=ke.useMemo(function(){return Ae.createStore({})},[]),qe=function(Ue){return ke.createElement(Be,Ie({enableShortcuts:Xe.enableShortcuts},Ue,{store:$e}))};return{install:function(Ue){$e.update("openFile",Ue.openFile)},renderViewer:function(Ue){var Ye=Ue.slot,Ze={children:ke.createElement(ke.Fragment,null,Xe.enableShortcuts&&ke.createElement(We,{containerRef:Ue.containerRef,store:$e}),Ye.children)};return Ie(Ie({},Ye),Ze)},Open:qe,OpenButton:function(){return ke.createElement(qe,null)},OpenMenuItem:function(){return ke.createElement(qe,null,function(Ue){return ke.createElement(He,{store:$e,onClick:Ue.onClick})})}}},open_min}var hasRequiredLib$a;function requireLib$a(){if(hasRequiredLib$a)return lib$8.exports;hasRequiredLib$a=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$8.exports=requireOpen_min(),lib$8.exports}var lib$7={exports:{}},pageNavigation_min={},hasRequiredPageNavigation_min;function requirePageNavigation_min(){if(hasRequiredPageNavigation_min)return pageNavigation_min;hasRequiredPageNavigation_min=1;var Ae=requireLib$h();function _e(bn){var En=Object.create(null);return bn&&Object.keys(bn).forEach(function(yn){if(yn!=="default"){var xn=Object.getOwnPropertyDescriptor(bn,yn);Object.defineProperty(En,yn,xn.get?xn:{enumerable:!0,get:function(){return bn[yn]}})}}),En.default=bn,Object.freeze(En)}var ke=_e(requireReact()),Re=function(){return ke.createElement(Ae.Icon,{size:16},ke.createElement("path",{d:`M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552
            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11
            C1.96,3.016,2.138,2.966,2.32,2.966z`}))},Ie=function(){return ke.createElement(Ae.Icon,{size:16},ke.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},Fe=function(){return Fe=Object.assign||function(bn){for(var En,yn=1,xn=arguments.length;yn<xn;yn++)for(var vn in En=arguments[yn])Object.prototype.hasOwnProperty.call(En,vn)&&(bn[vn]=En[vn]);return bn},Fe.apply(this,arguments)},Ne=function(bn){var En=ke.useState(bn.get("currentPage")||0),yn=En[0],xn=En[1],vn=function(kn){xn(kn)};return Ae.useIsomorphicLayoutEffect(function(){return bn.subscribe("currentPage",vn),function(){bn.unsubscribe("currentPage",vn)}},[]),{currentPage:yn}},je=function(bn){var En=ke.useState(bn.get("numberOfPages")||0),yn=En[0],xn=En[1],vn=function(kn){xn(kn)};return ke.useEffect(function(){return bn.subscribe("numberOfPages",vn),function(){bn.unsubscribe("numberOfPages",vn)}},[]),{numberOfPages:yn}},Be=function(bn){var En=bn.store,yn=ke.useContext(Ae.LocalizationContext).l10n,xn=ke.useState("1"),vn=xn[0],kn=xn[1],Sn=Ne(En).currentPage,fn=je(En).numberOfPages;ke.useEffect(function(){return kn("".concat(Sn+1))},[Sn]);var on=function(_n){var Tn=En.get("jumpToPage");Tn&&Tn(_n)},ln=yn&&yn.pageNavigation?yn.pageNavigation.enterPageNumber:"Enter a page number";return ke.createElement("span",{className:"rpv-page-navigation__current-page-input"},ke.createElement(Ae.TextBox,{ariaLabel:ln,testId:"page-navigation__current-page-input",type:"text",value:vn,onChange:kn,onKeyDown:function(_n){switch(_n.key){case"ArrowUp":(Rn=Sn-1)>=0&&(kn("".concat(Rn+1)),on(Rn));break;case"ArrowDown":(Pn=Sn+1)<fn&&(kn("".concat(Pn+1)),on(Pn));break;case"Enter":Tn=parseInt(vn,10),vn===""||Tn<1||Tn>fn?kn("".concat(Sn+1)):on(Tn-1)}var Tn,Pn,Rn}}))},He=function(bn){var En=bn.children,yn=bn.doc,xn=Ae.useIsMounted(),vn=ke.useState({loading:!0,labels:[]}),kn=vn[0],Sn=vn[1];return ke.useEffect(function(){yn.getPageLabels().then(function(fn){xn.current&&Sn({loading:!1,labels:fn||[]})})},[yn.loadingTask.docId]),kn.loading?ke.createElement(ke.Fragment,null):En(kn.labels)},We=function(bn){var En=bn.children,yn=bn.store,xn=function(fn){var on=ke.useState(fn.get("doc")),ln=on[0],_n=on[1],Tn=function(Pn){_n(Pn)};return ke.useEffect(function(){return fn.subscribe("doc",Tn),function(){fn.unsubscribe("doc",Tn)}},[]),ln}(yn),vn=Ne(yn).currentPage,kn=je(yn).numberOfPages,Sn=En||function(fn){return ke.createElement(ke.Fragment,null,fn.currentPage+1)};return xn?ke.createElement(He,{doc:xn},function(fn){var on=fn.length===kn&&kn>0?fn[vn]:"";return Sn({currentPage:vn,numberOfPages:kn,pageLabel:on})}):ke.createElement(ke.Fragment,null)},Ge=function(){return ke.createElement(Ae.Icon,{size:16},ke.createElement("path",{d:`M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448
            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373
            C22.143,20.984,21.965,21.034,21.783,21.034z`}))},Xe={left:0,top:8},$e=function(bn){var En=bn.isDisabled,yn=bn.onClick,xn=ke.useContext(Ae.LocalizationContext).l10n,vn=xn&&xn.pageNavigation?xn.pageNavigation.goToFirstPage:"First page";return ke.createElement(Ae.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:Ae.Position.BottomCenter,target:ke.createElement(Ae.MinimalButton,{ariaLabel:vn,isDisabled:En,testId:"page-navigation__first-button",onClick:yn},ke.createElement(Ge,null)),content:function(){return vn},offset:Xe})},qe=function(bn){var En=bn.children,yn=bn.store;return(En||function(xn){return ke.createElement($e,{isDisabled:xn.isDisabled,onClick:xn.onClick})})({isDisabled:Ne(yn).currentPage===0,onClick:function(){var xn=yn.get("jumpToPage");xn&&xn(0)}})},Ue=function(bn){var En=bn.isDisabled,yn=bn.onClick,xn=ke.useContext(Ae.LocalizationContext).l10n,vn=xn&&xn.pageNavigation?xn.pageNavigation.goToFirstPage:"First page";return ke.createElement(Ae.MenuItem,{icon:ke.createElement(Ge,null),isDisabled:En,testId:"page-navigation__first-menu",onClick:yn},vn)},Ye={left:0,top:8},Ze=function(bn){var En=bn.isDisabled,yn=bn.onClick,xn=ke.useContext(Ae.LocalizationContext).l10n,vn=xn&&xn.pageNavigation?xn.pageNavigation.goToLastPage:"Last page";return ke.createElement(Ae.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:Ae.Position.BottomCenter,target:ke.createElement(Ae.MinimalButton,{ariaLabel:vn,isDisabled:En,testId:"page-navigation__last-button",onClick:yn},ke.createElement(Re,null)),content:function(){return vn},offset:Ye})},Qe=function(bn){var En=bn.children,yn=bn.store,xn=Ne(yn).currentPage,vn=je(yn).numberOfPages;return(En||function(kn){return ke.createElement(Ze,{isDisabled:kn.isDisabled,onClick:kn.onClick})})({isDisabled:xn+1>=vn,onClick:function(){var kn=yn.get("jumpToPage");kn&&kn(vn-1)}})},pn=function(bn){var En=bn.isDisabled,yn=bn.onClick,xn=ke.useContext(Ae.LocalizationContext).l10n,vn=xn&&xn.pageNavigation?xn.pageNavigation.goToLastPage:"Last page";return ke.createElement(Ae.MenuItem,{icon:ke.createElement(Re,null),isDisabled:En,testId:"page-navigation__last-menu",onClick:yn},vn)},nn={left:0,top:8},rn=function(bn){var En=bn.isDisabled,yn=bn.onClick,xn=ke.useContext(Ae.LocalizationContext).l10n,vn=xn&&xn.pageNavigation?xn.pageNavigation.goToNextPage:"Next page";return ke.createElement(Ae.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:Ae.Position.BottomCenter,target:ke.createElement(Ae.MinimalButton,{ariaLabel:vn,isDisabled:En,testId:"page-navigation__next-button",onClick:yn},ke.createElement(Ie,null)),content:function(){return vn},offset:nn})},cn=function(bn){var En=bn.children,yn=bn.store;return(En||function(xn){return ke.createElement(rn,{onClick:xn.onClick,isDisabled:xn.isDisabled})})({isDisabled:Ne(yn).currentPage+1>=je(yn).numberOfPages,onClick:function(){var xn=yn.get("jumpToNextPage");xn&&xn()}})},tn=function(bn){var En=bn.isDisabled,yn=bn.onClick,xn=ke.useContext(Ae.LocalizationContext).l10n,vn=xn&&xn.pageNavigation?xn.pageNavigation.goToNextPage:"Next page";return ke.createElement(Ae.MenuItem,{icon:ke.createElement(Ie,null),isDisabled:En,testId:"page-navigation__next-menu",onClick:yn},vn)},Je=function(){return ke.createElement(Ae.Icon,{size:16},ke.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},an={left:0,top:8},gn=function(bn){var En=bn.isDisabled,yn=bn.onClick,xn=ke.useContext(Ae.LocalizationContext).l10n,vn=xn&&xn.pageNavigation?xn.pageNavigation.goToPreviousPage:"Previous page";return ke.createElement(Ae.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:Ae.Position.BottomCenter,target:ke.createElement(Ae.MinimalButton,{ariaLabel:vn,isDisabled:En,testId:"page-navigation__previous-button",onClick:yn},ke.createElement(Je,null)),content:function(){return vn},offset:an})},Ke=function(bn){var En=bn.store;return(bn.children||function(yn){return ke.createElement(gn,{isDisabled:yn.isDisabled,onClick:yn.onClick})})({isDisabled:Ne(En).currentPage<=0,onClick:function(){var yn=En.get("jumpToPreviousPage");yn&&yn()}})},sn=function(bn){var En=bn.isDisabled,yn=bn.onClick,xn=ke.useContext(Ae.LocalizationContext).l10n,vn=xn&&xn.pageNavigation?xn.pageNavigation.goToPreviousPage:"Previous page";return ke.createElement(Ae.MenuItem,{icon:ke.createElement(Je,null),isDisabled:En,testId:"page-navigation__previous-menu",onClick:yn},vn)},hn=function(bn){var En=bn.children,yn=bn.store,xn=je(yn).numberOfPages;return En?En({numberOfPages:xn}):ke.createElement(ke.Fragment,null,xn)},Cn=function(bn){var En=bn.containerRef,yn=bn.numPages,xn=bn.store,vn=Ne(xn).currentPage,kn=ke.useRef(vn);kn.current=vn;var Sn=ke.useRef(!1),fn=function(){Sn.current=!0},on=function(){Sn.current=!1},ln=function(_n){var Tn=En.current,Pn=Sn.current||document.activeElement&&Tn.contains(document.activeElement);if(Tn&&Pn){var Rn,Dn,Xn=_n.altKey&&_n.key==="ArrowDown"||!_n.shiftKey&&!_n.altKey&&_n.key==="PageDown",li=_n.altKey&&_n.key==="ArrowUp"||!_n.shiftKey&&!_n.altKey&&_n.key==="PageUp";if(Xn)return _n.preventDefault(),Rn=xn.get("jumpToPage"),Dn=kn.current+1,void(Rn&&Dn<yn&&Rn(Dn));if(li)return _n.preventDefault(),void function(){var oi=xn.get("jumpToPage"),di=kn.current-1;oi&&di>=0&&oi(di)}();if(Ae.isMac()?_n.metaKey&&!_n.ctrlKey:_n.altKey)switch(_n.key){case"ArrowLeft":_n.preventDefault(),function(){var oi=xn.get("jumpToPreviousDestination");oi&&oi()}();break;case"ArrowRight":_n.preventDefault(),function(){var oi=xn.get("jumpToNextDestination");oi&&oi()}()}}};return ke.useEffect(function(){var _n=En.current;if(_n)return document.addEventListener("keydown",ln),_n.addEventListener("mouseenter",fn),_n.addEventListener("mouseleave",on),function(){document.removeEventListener("keydown",ln),_n.removeEventListener("mouseenter",fn),_n.removeEventListener("mouseleave",on)}},[En.current]),ke.createElement(ke.Fragment,null)};return pageNavigation_min.DownArrowIcon=Re,pageNavigation_min.NextIcon=Ie,pageNavigation_min.PreviousIcon=Je,pageNavigation_min.UpArrowIcon=Ge,pageNavigation_min.pageNavigationPlugin=function(bn){var En=ke.useMemo(function(){return Object.assign({},{enableShortcuts:!0},bn)},[]),yn=ke.useMemo(function(){return Ae.createStore()},[]),xn=function(fn){return ke.createElement(qe,Fe({},fn,{store:yn}))},vn=function(fn){return ke.createElement(Qe,Fe({},fn,{store:yn}))},kn=function(fn){return ke.createElement(cn,Fe({},fn,{store:yn}))},Sn=function(fn){return ke.createElement(Ke,Fe({},fn,{store:yn}))};return{install:function(fn){yn.update("jumpToDestination",fn.jumpToDestination),yn.update("jumpToNextDestination",fn.jumpToNextDestination),yn.update("jumpToNextPage",fn.jumpToNextPage),yn.update("jumpToPage",fn.jumpToPage),yn.update("jumpToPreviousDestination",fn.jumpToPreviousDestination),yn.update("jumpToPreviousPage",fn.jumpToPreviousPage)},renderViewer:function(fn){var on=fn.slot;if(!En.enableShortcuts)return on;var ln={children:ke.createElement(ke.Fragment,null,ke.createElement(Cn,{containerRef:fn.containerRef,numPages:fn.doc.numPages,store:yn}),on.children)};return Fe(Fe({},on),ln)},onDocumentLoad:function(fn){yn.update("doc",fn.doc),yn.update("numberOfPages",fn.doc.numPages)},onViewerStateChange:function(fn){return yn.update("currentPage",fn.pageIndex),fn},jumpToNextPage:function(){var fn=yn.get("jumpToNextPage");fn&&fn()},jumpToPage:function(fn){var on=yn.get("jumpToPage");on&&on(fn)},jumpToPreviousPage:function(){var fn=yn.get("jumpToPreviousPage");fn&&fn()},CurrentPageInput:function(){return ke.createElement(Be,{store:yn})},CurrentPageLabel:function(fn){return ke.createElement(We,Fe({},fn,{store:yn}))},GoToFirstPage:xn,GoToFirstPageButton:function(){return ke.createElement(xn,null,function(fn){return ke.createElement($e,Fe({},fn))})},GoToFirstPageMenuItem:function(fn){return ke.createElement(xn,null,function(on){return ke.createElement(Ue,{isDisabled:on.isDisabled,onClick:function(){on.onClick(),fn.onClick()}})})},GoToLastPage:vn,GoToLastPageButton:function(){return ke.createElement(vn,null,function(fn){return ke.createElement(Ze,Fe({},fn))})},GoToLastPageMenuItem:function(fn){return ke.createElement(vn,null,function(on){return ke.createElement(pn,{isDisabled:on.isDisabled,onClick:function(){on.onClick(),fn.onClick()}})})},GoToNextPage:kn,GoToNextPageButton:function(){return ke.createElement(kn,null,function(fn){return ke.createElement(rn,Fe({},fn))})},GoToNextPageMenuItem:function(fn){return ke.createElement(kn,null,function(on){return ke.createElement(tn,{isDisabled:on.isDisabled,onClick:function(){on.onClick(),fn.onClick()}})})},GoToPreviousPage:Sn,GoToPreviousPageButton:function(){return ke.createElement(Sn,null,function(fn){return ke.createElement(gn,Fe({},fn))})},GoToPreviousPageMenuItem:function(fn){return ke.createElement(Sn,null,function(on){return ke.createElement(sn,{isDisabled:on.isDisabled,onClick:function(){on.onClick(),fn.onClick()}})})},NumberOfPages:function(fn){return ke.createElement(hn,Fe({},fn,{store:yn}))}}},pageNavigation_min}var hasRequiredLib$9;function requireLib$9(){if(hasRequiredLib$9)return lib$7.exports;hasRequiredLib$9=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$7.exports=requirePageNavigation_min(),lib$7.exports}var lib$6={exports:{}},print_min={},hasRequiredPrint_min;function requirePrint_min(){if(hasRequiredPrint_min)return print_min;hasRequiredPrint_min=1;var Ae={},_e=requireLib$h(),ke=requireReact(),Re=requireReactDom();function Ie(nn){var rn=Object.create(null);return nn&&Object.keys(nn).forEach(function(cn){if(cn!=="default"){var tn=Object.getOwnPropertyDescriptor(nn,cn);Object.defineProperty(rn,cn,tn.get?tn:{enumerable:!0,get:function(){return nn[cn]}})}}),rn.default=nn,Object.freeze(rn)}var Fe,Ne=Ie(ke),je=function(){return Ne.createElement(_e.Icon,{size:16},Ne.createElement("path",{d:`M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19
            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3
            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414
            C18.395,3.394,18.5,3.649,18.5,3.914V4.5
            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z
            M3.5,8.499
            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z
            M14.5,0.499v4h4`}))},Be=function(){return Be=Object.assign||function(nn){for(var rn,cn=1,tn=arguments.length;cn<tn;cn++)for(var Je in rn=arguments[cn])Object.prototype.hasOwnProperty.call(rn,Je)&&(nn[Je]=rn[Je]);return nn},Be.apply(this,arguments)},He={left:0,top:8},We=function(nn){var rn=nn.enableShortcuts,cn=nn.onClick,tn=Ne.useContext(_e.LocalizationContext).l10n,Je=tn&&tn.print?tn.print.print:"Print",an=rn?_e.isMac()?"Meta+P":"Ctrl+P":"";return Ne.createElement(_e.Tooltip,{ariaControlsSuffix:"print",position:_e.Position.BottomCenter,target:Ne.createElement(_e.MinimalButton,{ariaKeyShortcuts:an,ariaLabel:Je,testId:"print__button",onClick:cn},Ne.createElement(je,null)),content:function(){return Je},offset:He})};(function(nn){nn.CheckingPermission="CheckingPermission",nn.Inactive="Inactive",nn.Preparing="Preparing",nn.Cancelled="Cancelled",nn.Ready="Ready"})(Fe||(Fe={}));var Ge=function(nn){var rn=nn.children,cn=nn.enableShortcuts,tn=nn.store;return(rn||We)({enableShortcuts:cn,onClick:function(){tn.update("printStatus",Fe.CheckingPermission)}})},Xe=function(nn){var rn=nn.doc,cn=nn.store,tn=Ne.useContext(_e.LocalizationContext).l10n,Je=Ne.useState(!0),an=Je[0],gn=Je[1];return Ne.useEffect(function(){rn.getPermissions().then(function(Ke){Ke===null||Ke.includes(4)||Ke.includes(2048)?cn.update("printStatus",Fe.Preparing):gn(!1)})},[]),an?Ne.createElement(Ne.Fragment,null):Ne.createElement(_e.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(Ke){return Ne.createElement(Ne.Fragment,null,Ne.createElement("div",{className:"rpv-print__permission-body"},tn&&tn.print?tn.print.disallowPrint:"The document does not allow to print"),Ne.createElement("div",{className:"rpv-print__permission-footer"},Ne.createElement(_e.Button,{onClick:function(){Ke(),cn.update("printStatus",Fe.Cancelled)}},tn&&tn.print?tn.print.close:"Close")))},isOpened:!0})},$e=function(nn){var rn=nn.numLoadedPages,cn=nn.numPages,tn=nn.onCancel,Je=Ne.useContext(_e.LocalizationContext).l10n,an=Ne.useContext(_e.ThemeContext).direction===_e.TextDirection.RightToLeft,gn=Math.floor(100*rn/cn);return Ne.createElement("div",{className:"rpv-print__progress"},Ne.createElement("div",{className:_e.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":an})},Ne.createElement("div",{className:"rpv-print__progress-message"},Je&&Je.print?Je.print.preparingDocument:"Preparing document ..."),Ne.createElement("div",{className:"rpv-print__progress-bar"},Ne.createElement(_e.ProgressBar,{progress:gn})),Ne.createElement(_e.Button,{onClick:tn},Je&&Je.print?Je.print.cancel:"Cancel")))},qe=function(nn){var rn=nn.canvas,cn=nn.page,tn=nn.pageHeight,Je=nn.pageIndex,an=nn.pageWidth,gn=nn.rotation,Ke=nn.onLoad,sn=_e.useIsMounted(),hn=Ne.useRef(),Cn=Ne.useState(""),bn=Cn[0],En=Cn[1],yn=Ne.useMemo(function(){return typeof process<"u"&&Ae.JEST_WORKER_ID!==void 0},[]);return Ne.useEffect(function(){var xn=hn.current;xn&&xn.cancel();var vn=150/72;rn.height=Math.floor(tn*vn),rn.width=Math.floor(an*vn);var kn=rn.getContext("2d");kn.save(),kn.fillStyle="rgb(255, 255, 255)",kn.fillRect(0,0,rn.width,rn.height),kn.restore();var Sn=cn.getViewport({rotation:gn,scale:1});hn.current=cn.render({canvasContext:kn,intent:"print",transform:[vn,0,0,vn,0,0],viewport:Sn}),hn.current.promise.then(function(){"toBlob"in rn&&"createObjectURL"in URL?rn.toBlob(function(fn){sn.current&&En(URL.createObjectURL(fn)),yn&&Ke()}):(sn.current&&En(rn.toDataURL()),yn&&Ke())},function(){})},[]),bn&&Ne.createElement("div",{className:"rpv-print__page"},Ne.createElement("img",{"data-testid":"print__thumbnail-".concat(Je),src:bn,onLoad:function(){yn||Ke()}}))},Ue=function(nn){var rn=nn.canvas,cn=nn.doc,tn=nn.pageIndex,Je=nn.pageRotation,an=nn.pageSize,gn=nn.rotation,Ke=nn.shouldRender,sn=nn.onLoad,hn=_e.useIsMounted(),Cn=Ne.useState(null),bn=Cn[0],En=Cn[1],yn=Math.abs(gn+Je)%180==0;Ne.useEffect(function(){Ke&&_e.getPage(cn,tn).then(function(vn){hn.current&&En(vn)})},[Ke]);var xn=(an.rotation+gn+Je)%360;return bn&&Ne.createElement(qe,{canvas:rn,page:bn,pageHeight:yn?an.pageHeight:an.pageWidth,pageIndex:tn,pageWidth:yn?an.pageWidth:an.pageHeight,rotation:xn,onLoad:sn})},Ye=function(nn){var rn=nn.doc,cn=nn.numLoadedPages,tn=nn.pagesRotation,Je=nn.pageSizes,an=nn.printPages,gn=nn.printStatus,Ke=nn.rotation,sn=nn.onCancel,hn=nn.onLoad,Cn=Ne.useMemo(function(){return document.createElement("canvas")},[]),bn=Ne.useMemo(function(){var xn=document.querySelector(".rpv-print__zone");if(xn)return xn;var vn=document.createElement("div");return vn.classList.add("rpv-print__zone"),vn.setAttribute("data-testid","print__zone"),document.body.appendChild(vn),vn},[]);Ne.useEffect(function(){gn===Fe.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var xn=function(){if(gn===Fe.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var vn=document.querySelectorAll(".rpv-print__zone");vn&&vn.forEach(function(kn){kn.parentElement.removeChild(kn)}),Cn.height=0,Cn.width=0,document.removeEventListener("mousemove",xn),sn()}};return document.addEventListener("mousemove",xn),function(){return document.removeEventListener("mousemove",xn)}},[gn]);var En=Je[0].pageHeight,yn=Je[0].pageWidth;return Re.createPortal(Ne.createElement(Ne.Fragment,null,an.map(function(xn,vn){return Ne.createElement(Ue,{key:xn,canvas:Cn,doc:rn,pageIndex:xn,pageRotation:tn.has(xn)?tn.get(xn):0,pageSize:Je[xn],rotation:Ke,shouldRender:vn===cn,onLoad:hn})}),Ne.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(yn,"pt ").concat(En,"pt }")}})),bn)},Ze=function(nn){var rn=nn.doc,cn=nn.pagesRotation,tn=nn.pageSizes,Je=nn.renderProgressBar,an=nn.rotation,gn=nn.setPages,Ke=nn.store,sn=Ne.useState(Fe.Inactive),hn=sn[0],Cn=sn[1],bn=Ne.useState(0),En=bn[0],yn=bn[1],xn=Ne.useMemo(function(){var fn=rn.numPages;return gn(rn).filter(function(on){return on>=0&&on<fn})},[rn,gn]),vn=xn.length,kn=function(){yn(0),Cn(Fe.Inactive)},Sn=function(fn){return Cn(fn)};return Ne.useEffect(function(){return Ke.subscribe("printStatus",Sn),function(){Ke.unsubscribe("printStatus",Sn)}},[]),Ne.createElement(Ne.Fragment,null,hn===Fe.CheckingPermission&&Ne.createElement(Xe,{doc:rn,store:Ke}),hn===Fe.Preparing&&(Je?Je(En,vn,kn):Ne.createElement($e,{numLoadedPages:En,numPages:vn,onCancel:kn})),(hn===Fe.Preparing||hn===Fe.Ready)&&En<=vn&&Ne.createElement(Ye,{doc:rn,numLoadedPages:En,pagesRotation:cn,pageSizes:tn,printPages:xn,printStatus:hn,rotation:an,onCancel:kn,onLoad:function(){var fn=En+1;fn<=vn&&(yn(fn),fn===vn&&Cn(Fe.Ready))}}))},Qe=function(nn){var rn=nn.onClick,cn=Ne.useContext(_e.LocalizationContext).l10n,tn=cn&&cn.print?cn.print.print:"Print";return Ne.createElement(_e.MenuItem,{icon:Ne.createElement(je,null),testId:"print__menu",onClick:rn},tn)},pn=function(nn){var rn=nn.containerRef,cn=nn.store,tn=function(Je){if(!Je.shiftKey&&!Je.altKey&&Je.key==="p"&&(_e.isMac()?Je.metaKey:Je.ctrlKey)){var an=rn.current;an&&document.activeElement&&an.contains(document.activeElement)&&(Je.preventDefault(),cn.update("printStatus",Fe.Preparing))}};return Ne.useEffect(function(){if(rn.current)return document.addEventListener("keydown",tn),function(){document.removeEventListener("keydown",tn)}},[rn.current]),Ne.createElement(Ne.Fragment,null)};return print_min.PrintIcon=je,print_min.getAllPagesNumbers=function(nn){return Array(nn.numPages).fill(0).map(function(rn,cn){return cn})},print_min.getCustomPagesNumbers=function(nn){return function(rn){var cn,tn=[];return nn.replace(/\s+/g,"").split(",").forEach(function(Je){var an,gn,Ke=Je.split("-").map(function(sn){return parseInt(sn,10)}).filter(function(sn){return Number.isInteger(sn)});Ke.length===1?tn.push(Ke[0]-1):Ke.length===2&&tn.push.apply(tn,(an=Ke[0]-1,gn=Ke[1]-1,Array(gn-an+1).fill(0).map(function(sn,hn){return an+hn})))}),(cn=tn,cn.filter(function(Je){return cn.indexOf(Je)===cn.lastIndexOf(Je)})).filter(function(Je){return Je>=0&&Je<rn.numPages})}},print_min.getEvenPagesNumbers=function(nn){return Array(nn.numPages).fill(0).map(function(rn,cn){return cn}).filter(function(rn){return(rn+1)%2==0})},print_min.getOddPagesNumbers=function(nn){return Array(nn.numPages).fill(0).map(function(rn,cn){return cn}).filter(function(rn){return(rn+1)%2==1})},print_min.printPlugin=function(nn){var rn=Ne.useMemo(function(){return Object.assign({},{enableShortcuts:!0,setPages:function(Je){return Array(Je.numPages).fill(0).map(function(an,gn){return gn})}},nn)},[]),cn=Ne.useMemo(function(){return _e.createStore({printStatus:Fe.Inactive})},[]),tn=function(Je){return Ne.createElement(Ge,Be({enableShortcuts:rn.enableShortcuts},Je,{store:cn}))};return{print:function(){cn.update("printStatus",Fe.CheckingPermission)},renderViewer:function(Je){var an=Je.slot,gn={children:Ne.createElement(Ne.Fragment,null,rn.enableShortcuts&&Ne.createElement(pn,{containerRef:Je.containerRef,store:cn}),Ne.createElement(Ze,{doc:Je.doc,pagesRotation:Je.pagesRotation,pageSizes:Je.pageSizes,renderProgressBar:nn==null?void 0:nn.renderProgressBar,rotation:Je.rotation,setPages:rn.setPages,store:cn}),an.children)};return Be(Be({},an),gn)},Print:tn,PrintButton:function(){return Ne.createElement(tn,null,function(Je){return Ne.createElement(We,Be({},Je))})},PrintMenuItem:function(Je){return Ne.createElement(tn,null,function(an){return Ne.createElement(Qe,{onClick:function(){an.onClick(),Je.onClick()}})})},setPages:function(Je){rn.setPages=Je}}},print_min}var hasRequiredLib$8;function requireLib$8(){if(hasRequiredLib$8)return lib$6.exports;hasRequiredLib$8=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$6.exports=requirePrint_min(),lib$6.exports}var lib$5={exports:{}},properties_min={},hasRequiredProperties_min;function requireProperties_min(){if(hasRequiredProperties_min)return properties_min;hasRequiredProperties_min=1;var Ae=requireLib$h();function _e(qe){var Ue=Object.create(null);return qe&&Object.keys(qe).forEach(function(Ye){if(Ye!=="default"){var Ze=Object.getOwnPropertyDescriptor(qe,Ye);Object.defineProperty(Ue,Ye,Ze.get?Ze:{enumerable:!0,get:function(){return qe[Ye]}})}}),Ue.default=qe,Object.freeze(Ue)}var ke=_e(requireReact()),Re=function(){return ke.createElement(Ae.Icon,{size:16},ke.createElement("path",{d:`M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z
            M14.5,17.005H13
            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10
            M11.745,6.504L11.745,6.504
            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25
            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5`}))},Ie=function(){return Ie=Object.assign||function(qe){for(var Ue,Ye=1,Ze=arguments.length;Ye<Ze;Ye++)for(var Qe in Ue=arguments[Ye])Object.prototype.hasOwnProperty.call(Ue,Qe)&&(qe[Qe]=Ue[Qe]);return qe},Ie.apply(this,arguments)},Fe=function(qe){var Ue=qe.doc,Ye=qe.render,Ze=ke.useState(),Qe=Ze[0],pn=Ze[1];return ke.useEffect(function(){Ue.getMetadata().then(function(nn){return Promise.resolve(nn)}).then(function(nn){return Ue.getDownloadInfo().then(function(rn){return Promise.resolve({fileName:nn.contentDispositionFilename||"",info:nn.info,length:rn.length})})}).then(function(nn){pn(nn)})},[]),Qe?Ye(Qe):ke.createElement("div",{className:"rpv-properties__loader"},ke.createElement(Ae.Spinner,null))},Ne=function(qe){var Ue=qe.label,Ye=qe.value,Ze=ke.useContext(Ae.ThemeContext).direction===Ae.TextDirection.RightToLeft;return ke.createElement("dl",{className:Ae.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":Ze})},ke.createElement("dt",{className:"rpv-properties__item-label"},Ue,":"),ke.createElement("dd",{className:"rpv-properties__item-value"},Ye||"-"))},je=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Be=function(qe,Ue,Ye,Ze){var Qe=parseInt(qe,10);return Qe>=Ue&&Qe<=Ye?Qe:Ze},He=function(qe){var Ue=qe.doc,Ye=qe.fileName,Ze=qe.onToggle,Qe=ke.useContext(Ae.LocalizationContext).l10n,pn=function(nn){var rn=function(cn){var tn=je.exec(cn);if(!tn)return null;var Je=parseInt(tn[1],10),an=Be(tn[2],1,12,1)-1,gn=Be(tn[3],1,31,1),Ke=Be(tn[4],0,23,0),sn=Be(tn[5],0,59,0),hn=Be(tn[6],0,59,0),Cn=tn[7]||"Z",bn=Be(tn[8],0,23,0),En=Be(tn[9],0,59,0);switch(Cn){case"-":Ke+=bn,sn+=En;break;case"+":Ke-=bn,sn-=En}return new Date(Date.UTC(Je,an,gn,Ke,sn,hn))}(nn);return rn?"".concat(rn.toLocaleDateString(),", ").concat(rn.toLocaleTimeString()):""};return ke.createElement("div",{className:"rpv-properties__modal"},ke.createElement(Fe,{doc:Ue,render:function(nn){return ke.createElement(ke.Fragment,null,ke.createElement("div",{className:"rpv-properties__modal-section"},ke.createElement(Ne,{label:Qe&&Qe.properties?Qe.properties.fileName:"File name",value:nn.fileName||(tn=Ye,Je=tn.split("/").pop(),Je?Je.split("#")[0].split("?")[0]:tn)}),ke.createElement(Ne,{label:Qe&&Qe.properties?Qe.properties.fileSize:"File size",value:(rn=nn.length,cn=Math.floor(Math.log(rn)/Math.log(1024)),"".concat((rn/Math.pow(1024,cn)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][cn]))})),ke.createElement(Ae.Separator,null),ke.createElement("div",{className:"rpv-properties__modal-section"},ke.createElement(Ne,{label:Qe&&Qe.properties?Qe.properties.title:"Title",value:nn.info.Title}),ke.createElement(Ne,{label:Qe&&Qe.properties?Qe.properties.author:"Author",value:nn.info.Author}),ke.createElement(Ne,{label:Qe&&Qe.properties?Qe.properties.subject:"Subject",value:nn.info.Subject}),ke.createElement(Ne,{label:Qe&&Qe.properties?Qe.properties.keywords:"Keywords",value:nn.info.Keywords}),ke.createElement(Ne,{label:Qe&&Qe.properties?Qe.properties.creator:"Creator",value:nn.info.Creator}),ke.createElement(Ne,{label:Qe&&Qe.properties?Qe.properties.creationDate:"Creation date",value:pn(nn.info.CreationDate)}),ke.createElement(Ne,{label:Qe&&Qe.properties?Qe.properties.modificationDate:"Modification date",value:pn(nn.info.ModDate)})),ke.createElement(Ae.Separator,null),ke.createElement("div",{className:"rpv-properties__modal-section"},ke.createElement(Ne,{label:Qe&&Qe.properties?Qe.properties.pdfProducer:"PDF producer",value:nn.info.Producer}),ke.createElement(Ne,{label:Qe&&Qe.properties?Qe.properties.pdfVersion:"PDF version",value:nn.info.PDFFormatVersion}),ke.createElement(Ne,{label:Qe&&Qe.properties?Qe.properties.pageCount:"Page count",value:"".concat(Ue.numPages)})));var rn,cn,tn,Je}}),ke.createElement("div",{className:"rpv-properties__modal-footer"},ke.createElement(Ae.Button,{onClick:Ze},Qe&&Qe.properties?Qe.properties.close:"Close")))},We={left:0,top:8},Ge=function(qe){var Ue=qe.onClick,Ye=ke.useContext(Ae.LocalizationContext).l10n,Ze=Ye&&Ye.properties?Ye.properties.showProperties:"Show properties";return ke.createElement(Ae.Tooltip,{ariaControlsSuffix:"properties",position:Ae.Position.BottomCenter,target:ke.createElement(Ae.MinimalButton,{ariaLabel:Ze,testId:"properties__button",onClick:Ue},ke.createElement(Re,null)),content:function(){return Ze},offset:We})},Xe=function(qe){var Ue=qe.children,Ye=qe.store,Ze=function(nn){var rn=ke.useState(nn.get("doc")),cn=rn[0],tn=rn[1],Je=function(an){tn(an)};return ke.useEffect(function(){return nn.subscribe("doc",Je),function(){nn.unsubscribe("doc",Je)}},[]),{currentDoc:cn}}(Ye).currentDoc,Qe=Ye.get("fileName")||"",pn=Ue||function(nn){return ke.createElement(Ge,Ie({},nn))};return Ze?ke.createElement(Ae.Modal,{ariaControlsSuffix:"properties",target:function(nn){return pn({onClick:nn})},content:function(nn){return ke.createElement(He,{doc:Ze,fileName:Qe,onToggle:nn})},closeOnClickOutside:!0,closeOnEscape:!0}):ke.createElement(ke.Fragment,null)},$e=function(qe){var Ue=qe.onClick,Ye=ke.useContext(Ae.LocalizationContext).l10n,Ze=Ye&&Ye.properties?Ye.properties.showProperties:"Show properties";return ke.createElement(Ae.MenuItem,{icon:ke.createElement(Re,null),testId:"properties__menu",onClick:Ue},Ze)};return properties_min.InfoIcon=Re,properties_min.propertiesPlugin=function(){var qe=ke.useMemo(function(){return Ae.createStore({fileName:""})},[]),Ue=function(Ye){return ke.createElement(Xe,Ie({},Ye,{store:qe}))};return{onDocumentLoad:function(Ye){qe.update("doc",Ye.doc)},onViewerStateChange:function(Ye){return qe.update("fileName",Ye.file.name),Ye},ShowProperties:Ue,ShowPropertiesButton:function(){return ke.createElement(Xe,{store:qe})},ShowPropertiesMenuItem:function(Ye){return ke.createElement(Ue,null,function(Ze){return ke.createElement($e,Ie({},Ze))})}}},properties_min}var hasRequiredLib$7;function requireLib$7(){if(hasRequiredLib$7)return lib$5.exports;hasRequiredLib$7=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$5.exports=requireProperties_min(),lib$5.exports}var lib$4={exports:{}},rotate_min={},hasRequiredRotate_min;function requireRotate_min(){if(hasRequiredRotate_min)return rotate_min;hasRequiredRotate_min=1;var Ae=requireLib$h();function _e(Ge){var Xe=Object.create(null);return Ge&&Object.keys(Ge).forEach(function($e){if($e!=="default"){var qe=Object.getOwnPropertyDescriptor(Ge,$e);Object.defineProperty(Xe,$e,qe.get?qe:{enumerable:!0,get:function(){return Ge[$e]}})}}),Xe.default=Ge,Object.freeze(Xe)}var ke=_e(requireReact()),Re=function(){return ke.createElement(Ae.Icon,{ignoreDirection:!0,size:16},ke.createElement("path",{d:`M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274
            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863
            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711
            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2
            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431
            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945
            M13.5,1.75L10,4.25l3.5,2.5`}))},Ie=function(){return ke.createElement(Ae.Icon,{ignoreDirection:!0,size:16},ke.createElement("path",{d:`M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274
            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863
            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713
            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2
            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431
            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945
            M10.5,1.75l3.5,2.5l-3.5,2.5`}))},Fe=function(){return Fe=Object.assign||function(Ge){for(var Xe,$e=1,qe=arguments.length;$e<qe;$e++)for(var Ue in Xe=arguments[$e])Object.prototype.hasOwnProperty.call(Xe,Ue)&&(Ge[Ue]=Xe[Ue]);return Ge},Fe.apply(this,arguments)},Ne={left:0,top:8},je=function(Ge){var Xe=Ge.direction,$e=Ge.onClick,qe=ke.useContext(Ae.LocalizationContext).l10n,Ue=qe&&qe.rotate?qe.rotate.rotateBackward:"Rotate counterclockwise",Ye=qe&&qe.rotate?qe.rotate.rotateForward:"Rotate clockwise",Ze=Xe===Ae.RotateDirection.Backward?Ue:Ye,Qe=Xe===Ae.RotateDirection.Backward?ke.createElement(Re,null):ke.createElement(Ie,null);return ke.createElement(Ae.Tooltip,{ariaControlsSuffix:"rotate",position:Ae.Position.BottomCenter,target:ke.createElement(Ae.MinimalButton,{ariaLabel:Ze,testId:Xe===Ae.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:$e},Qe),content:function(){return Ze},offset:Ne})},Be=function(Ge){var Xe=Ge.children,$e=Ge.direction,qe=Ge.store;return(Xe||function(Ue){return ke.createElement(je,{direction:Ue.direction,onClick:Ue.onClick})})({direction:$e,onClick:function(){var Ue=qe.get("rotate");Ue&&Ue($e)}})},He=function(Ge){var Xe=Ge.direction,$e=Ge.onClick,qe=ke.useContext(Ae.LocalizationContext).l10n,Ue=qe&&qe.rotate?qe.rotate.rotateBackward:"Rotate counterclockwise",Ye=qe&&qe.rotate?qe.rotate.rotateForward:"Rotate clockwise",Ze=Xe===Ae.RotateDirection.Backward?Ue:Ye,Qe=Xe===Ae.RotateDirection.Backward?ke.createElement(Re,null):ke.createElement(Ie,null);return ke.createElement(Ae.MenuItem,{icon:Qe,testId:Xe===Ae.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:$e},Ze)},We=function(Ge){var Xe=Ge.children,$e=Ge.store;return Xe({onRotatePage:function(qe,Ue){var Ye=$e.get("rotatePage");Ye&&Ye(qe,Ue)}})};return rotate_min.RotateBackwardIcon=Re,rotate_min.RotateForwardIcon=Ie,rotate_min.rotatePlugin=function(){var Ge=ke.useMemo(function(){return Ae.createStore()},[]),Xe=function($e){return ke.createElement(Be,Fe({},$e,{store:Ge}))};return{install:function($e){Ge.update("rotate",$e.rotate),Ge.update("rotatePage",$e.rotatePage)},Rotate:Xe,RotateBackwardButton:function(){return ke.createElement(Xe,{direction:Ae.RotateDirection.Backward},function($e){return ke.createElement(je,Fe({},$e))})},RotateBackwardMenuItem:function($e){return ke.createElement(Xe,{direction:Ae.RotateDirection.Backward},function(qe){return ke.createElement(He,{direction:qe.direction,onClick:function(){qe.onClick(),$e.onClick()}})})},RotateForwardButton:function(){return ke.createElement(Xe,{direction:Ae.RotateDirection.Forward},function($e){return ke.createElement(je,Fe({},$e))})},RotateForwardMenuItem:function($e){return ke.createElement(Xe,{direction:Ae.RotateDirection.Forward},function(qe){return ke.createElement(He,{direction:qe.direction,onClick:function(){qe.onClick(),$e.onClick()}})})},RotatePage:function($e){return ke.createElement(We,Fe({},$e,{store:Ge}))}}},rotate_min}var hasRequiredLib$6;function requireLib$6(){if(hasRequiredLib$6)return lib$4.exports;hasRequiredLib$6=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$4.exports=requireRotate_min(),lib$4.exports}var lib$3={exports:{}},scrollMode_min={},hasRequiredScrollMode_min;function requireScrollMode_min(){if(hasRequiredScrollMode_min)return scrollMode_min;hasRequiredScrollMode_min=1;var Ae=requireLib$h();function _e(Je){var an=Object.create(null);return Je&&Object.keys(Je).forEach(function(gn){if(gn!=="default"){var Ke=Object.getOwnPropertyDescriptor(Je,gn);Object.defineProperty(an,gn,Ke.get?Ke:{enumerable:!0,get:function(){return Je[gn]}})}}),an.default=Je,Object.freeze(an)}var ke=_e(requireReact()),Re=function(){return ke.createElement(Ae.Icon,{size:16},ke.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),ke.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),ke.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},Ie=function(){return ke.createElement(Ae.Icon,{size:16},ke.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),ke.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},Fe=function(){return ke.createElement(Ae.Icon,{size:16},ke.createElement("path",{d:`M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z`}))},Ne=function(){return ke.createElement(Ae.Icon,{size:16},ke.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},je=function(){return je=Object.assign||function(Je){for(var an,gn=1,Ke=arguments.length;gn<Ke;gn++)for(var sn in an=arguments[gn])Object.prototype.hasOwnProperty.call(an,sn)&&(Je[sn]=an[sn]);return Je},je.apply(this,arguments)},Be=function(Je,an){Je.get("switchScrollMode")(an);var gn=Je.get("viewMode");an!==Ae.ScrollMode.Horizontal&&an!==Ae.ScrollMode.Wrapped||gn===Ae.ViewMode.SinglePage||Je.get("switchViewMode")(Ae.ViewMode.SinglePage)},He=function(){return ke.createElement(Ae.Icon,{size:16},ke.createElement("path",{d:`M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z
            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z
            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z`}))},We=function(){return ke.createElement(Ae.Icon,{size:16},ke.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},Ge=function(Je){var an=Je.children,gn=Je.mode,Ke=Je.onClick,sn=ke.useContext(Ae.LocalizationContext).l10n,hn="",Cn=ke.createElement(He,null);switch(gn){case Ae.ScrollMode.Horizontal:hn=sn&&sn.scrollMode?sn.scrollMode.horizontalScrolling:"Horizontal scrolling",Cn=ke.createElement(Fe,null);break;case Ae.ScrollMode.Page:hn=sn&&sn.scrollMode?sn.scrollMode.pageScrolling:"Page scrolling",Cn=ke.createElement(Ne,null);break;case Ae.ScrollMode.Wrapped:hn=sn&&sn.scrollMode?sn.scrollMode.wrappedScrolling:"Wrapped scrolling",Cn=ke.createElement(We,null);break;case Ae.ScrollMode.Vertical:default:hn=sn&&sn.scrollMode?sn.scrollMode.verticalScrolling:"Vertical scrolling",Cn=ke.createElement(He,null)}return an({icon:Cn,label:hn,onClick:Ke})},Xe={left:0,top:8},$e=function(Je){var an=Je.isDisabled,gn=Je.isSelected,Ke=Je.mode,sn=Je.onClick,hn="";switch(Ke){case Ae.ScrollMode.Horizontal:hn="scroll-mode__horizontal-button";break;case Ae.ScrollMode.Page:hn="scroll-mode__page-button";break;case Ae.ScrollMode.Wrapped:hn="scroll-mode__wrapped-button";break;case Ae.ScrollMode.Vertical:default:hn="scroll-mode__vertical-button"}return ke.createElement(Ge,{mode:Ke,onClick:sn},function(Cn){return ke.createElement(Ae.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:Ae.Position.BottomCenter,target:ke.createElement(Ae.MinimalButton,{ariaLabel:Cn.label,isDisabled:an,isSelected:gn,testId:hn,onClick:Cn.onClick},Cn.icon),content:function(){return Cn.label},offset:Xe})})},qe=function(Je){var an=ke.useState(Je.get("scrollMode")||Ae.ScrollMode.Vertical),gn=an[0],Ke=an[1],sn=function(hn){Ke(hn)};return ke.useEffect(function(){return Je.subscribe("scrollMode",sn),function(){Je.unsubscribe("scrollMode",sn)}},[]),{scrollMode:gn}},Ue=function(Je){var an=ke.useState(Je.get("viewMode")||Ae.ViewMode.SinglePage),gn=an[0],Ke=an[1],sn=function(hn){Ke(hn)};return ke.useEffect(function(){return Je.subscribe("viewMode",sn),function(){Je.unsubscribe("viewMode",sn)}},[]),{viewMode:gn}},Ye=function(Je){var an=Je.children,gn=Je.mode,Ke=Je.store,sn=Ue(Ke).viewMode,hn=qe(Ke).scrollMode===gn,Cn=(gn===Ae.ScrollMode.Horizontal||gn===Ae.ScrollMode.Wrapped)&&sn!==Ae.ViewMode.SinglePage;return(an||function(bn){return ke.createElement($e,{isDisabled:Cn,isSelected:hn,mode:bn.mode,onClick:bn.onClick})})({isDisabled:Cn,isSelected:hn,mode:gn,onClick:function(){Be(Ke,gn)}})},Ze=function(Je){var an=Je.isDisabled,gn=Je.isSelected,Ke=Je.mode,sn=Je.onClick,hn="";switch(Ke){case Ae.ScrollMode.Horizontal:hn="scroll-mode__horizontal-menu";break;case Ae.ScrollMode.Page:hn="scroll-mode__page-menu";break;case Ae.ScrollMode.Wrapped:hn="scroll-mode__wrapped-menu";break;case Ae.ScrollMode.Vertical:default:hn="scroll-mode__vertical-menu"}return ke.createElement(Ge,{mode:Ke,onClick:sn},function(Cn){return ke.createElement(Ae.MenuItem,{checked:gn,icon:Cn.icon,isDisabled:an,testId:hn,onClick:Cn.onClick},Cn.label)})},Qe=function(Je,an){Je.get("switchViewMode")(an);var gn=Je.get("scrollMode");gn!==Ae.ScrollMode.Horizontal&&gn!==Ae.ScrollMode.Wrapped||an===Ae.ViewMode.SinglePage||Je.get("switchScrollMode")(Ae.ScrollMode.Vertical)},pn=function(Je){var an=Je.children,gn=Je.mode,Ke=Je.onClick,sn=ke.useContext(Ae.LocalizationContext).l10n,hn="",Cn=ke.createElement(Ne,null);switch(gn){case Ae.ViewMode.DualPage:hn=sn&&sn.scrollMode?sn.scrollMode.dualPage:"Dual page",Cn=ke.createElement(Ie,null);break;case Ae.ViewMode.DualPageWithCover:hn=sn&&sn.scrollMode?sn.scrollMode.dualPageCover:"Dual page with cover",Cn=ke.createElement(Re,null);break;case Ae.ViewMode.SinglePage:default:hn=sn&&sn.scrollMode?sn.scrollMode.singlePage:"Single page",Cn=ke.createElement(Ne,null)}return an({icon:Cn,label:hn,onClick:Ke})},nn={left:0,top:8},rn=function(Je){var an=Je.isDisabled,gn=Je.isSelected,Ke=Je.mode,sn=Je.onClick,hn="";switch(Ke){case Ae.ViewMode.DualPage:hn="view-mode__dual-button";break;case Ae.ViewMode.DualPageWithCover:hn="view-mode__dual-cover-button";break;case Ae.ViewMode.SinglePage:default:hn="view-mode__single-button"}return ke.createElement(pn,{mode:Ke,onClick:sn},function(Cn){return ke.createElement(Ae.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:Ae.Position.BottomCenter,target:ke.createElement(Ae.MinimalButton,{ariaLabel:Cn.label,isDisabled:an,isSelected:gn,testId:hn,onClick:Cn.onClick},Cn.icon),content:function(){return Cn.label},offset:nn})})},cn=function(Je){var an=Je.children,gn=Je.mode,Ke=Je.store,sn=Ue(Ke).viewMode,hn=qe(Ke).scrollMode,Cn=sn===gn,bn=(hn===Ae.ScrollMode.Horizontal||hn===Ae.ScrollMode.Wrapped)&&gn!==Ae.ViewMode.SinglePage;return(an||function(En){return ke.createElement(rn,{isDisabled:bn,isSelected:Cn,mode:En.mode,onClick:En.onClick})})({isDisabled:bn,isSelected:Cn,mode:gn,onClick:function(){Qe(Ke,gn)}})},tn=function(Je){var an=Je.isDisabled,gn=Je.isSelected,Ke=Je.mode,sn=Je.onClick,hn="";switch(Ke){case Ae.ViewMode.DualPage:hn="view-mode__dual-menu";break;case Ae.ViewMode.DualPageWithCover:hn="view-mode__dual-cover-menu";break;case Ae.ViewMode.SinglePage:default:hn="view-mode__single-menu"}return ke.createElement(pn,{mode:Ke,onClick:sn},function(Cn){return ke.createElement(Ae.MenuItem,{checked:gn,icon:Cn.icon,isDisabled:an,testId:hn,onClick:Cn.onClick},Cn.label)})};return scrollMode_min.DualPageCoverViewModeIcon=Re,scrollMode_min.DualPageViewModeIcon=Ie,scrollMode_min.HorizontalScrollingIcon=Fe,scrollMode_min.PageScrollingIcon=Ne,scrollMode_min.VerticalScrollingIcon=He,scrollMode_min.WrappedScrollingIcon=We,scrollMode_min.scrollModePlugin=function(){var Je=ke.useMemo(function(){return Ae.createStore({scrollMode:Ae.ScrollMode.Vertical,viewMode:Ae.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})},[]),an=function(Ke){return ke.createElement(Ye,je({},Ke,{store:Je}))},gn=function(Ke){return ke.createElement(cn,je({},Ke,{store:Je}))};return{install:function(Ke){Je.update("switchScrollMode",Ke.switchScrollMode),Je.update("switchViewMode",Ke.switchViewMode)},onViewerStateChange:function(Ke){return Je.update("scrollMode",Ke.scrollMode),Je.update("viewMode",Ke.viewMode),Ke},switchScrollMode:function(Ke){Be(Je,Ke)},switchViewMode:function(Ke){Qe(Je,Ke)},SwitchScrollMode:an,SwitchScrollModeButton:function(Ke){return ke.createElement(an,{mode:Ke.mode},function(sn){return ke.createElement($e,{isDisabled:sn.isDisabled,isSelected:sn.isSelected,mode:sn.mode,onClick:function(){sn.onClick()}})})},SwitchScrollModeMenuItem:function(Ke){return ke.createElement(an,{mode:Ke.mode},function(sn){return ke.createElement(Ze,{isDisabled:sn.isDisabled,isSelected:sn.isSelected,mode:sn.mode,onClick:function(){sn.onClick(),Ke.onClick()}})})},SwitchViewMode:gn,SwitchViewModeButton:function(Ke){return ke.createElement(gn,{mode:Ke.mode},function(sn){return ke.createElement(rn,{isDisabled:sn.isDisabled,isSelected:sn.isSelected,mode:sn.mode,onClick:function(){sn.onClick()}})})},SwitchViewModeMenuItem:function(Ke){return ke.createElement(gn,{mode:Ke.mode},function(sn){return ke.createElement(tn,{isDisabled:sn.isDisabled,isSelected:sn.isSelected,mode:sn.mode,onClick:function(){sn.onClick(),Ke.onClick()}})})}}},scrollMode_min}var hasRequiredLib$5;function requireLib$5(){if(hasRequiredLib$5)return lib$3.exports;hasRequiredLib$5=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$3.exports=requireScrollMode_min(),lib$3.exports}var lib$2={exports:{}},search_min={},hasRequiredSearch_min;function requireSearch_min(){if(hasRequiredSearch_min)return search_min;hasRequiredSearch_min=1;var Ae=requireLib$h();function _e(Ke){var sn=Object.create(null);return Ke&&Object.keys(Ke).forEach(function(hn){if(hn!=="default"){var Cn=Object.getOwnPropertyDescriptor(Ke,hn);Object.defineProperty(sn,hn,Cn.get?Cn:{enumerable:!0,get:function(){return Ke[hn]}})}}),sn.default=Ke,Object.freeze(sn)}var ke=_e(requireReact()),Re=function(){return ke.createElement(Ae.Icon,{size:16},ke.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},Ie=function(){return ke.createElement(Ae.Icon,{size:16},ke.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},Fe=function(){return ke.createElement(Ae.Icon,{ignoreDirection:!0,size:16},ke.createElement("path",{d:`M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z
            M23.5,23.5
            l-5.929-5.929`}))},Ne=function(){return Ne=Object.assign||function(Ke){for(var sn,hn=1,Cn=arguments.length;hn<Cn;hn++)for(var bn in sn=arguments[hn])Object.prototype.hasOwnProperty.call(sn,bn)&&(Ke[bn]=sn[bn]);return Ke},Ne.apply(this,arguments)},je={keyword:"",regExp:new RegExp(" "),wholeWords:!1},Be=function(Ke){return{left:"".concat(Ke.left,"%"),top:"".concat(Ke.top,"%"),height:"".concat(Ke.height,"%"),width:"".concat(Ke.width,"%")}},He=function(Ke){var sn=Ke.index,hn=Ke.area,Cn=Ke.onHighlightKeyword,bn=ke.useRef();return Ae.useIsomorphicLayoutEffect(function(){var En=bn.current;Cn&&En&&Cn({highlightEle:En,keyword:hn.keyword})},[]),ke.createElement("div",{className:"rpv-search__highlight","data-index":sn,ref:bn,style:Be(hn),title:hn.keywordStr.trim()})},We=function(Ke){var sn=Ke.parentNode;sn&&sn.removeChild(Ke)},Ge=function(Ke){var sn=Ke.parentNode;if(sn){var hn=document.createRange();hn.selectNodeContents(Ke),function(Cn,bn){We(Cn);var En=bn.parentNode;En&&En.insertBefore(Cn,bn),We(bn)}(hn.extractContents(),Ke),sn.normalize()}},Xe=function(Ke,sn){return Ke.top<sn.top?-1:Ke.top>sn.top?1:Ke.left<sn.left?-1:Ke.left>sn.left?1:0},$e=function(Ke){var sn=Ke.numPages,hn=Ke.pageIndex,Cn=Ke.renderHighlights,bn=Ke.store,En=Ke.onHighlightKeyword,yn=ke.useRef(),xn=ke.useCallback(function(Bn){return ke.createElement(ke.Fragment,null,Bn.highlightAreas.map(function(Yn,fi){return ke.createElement(He,{index:fi,key:fi,area:Yn,onHighlightKeyword:En})}))},[]),vn=Cn||xn,kn=ke.useState(bn.get("matchPosition")),Sn=kn[0],fn=kn[1],on=ke.useState(bn.get("keyword")||[je]),ln=on[0],_n=on[1],Tn=ke.useState({pageIndex:hn,scale:1,status:Ae.LayerRenderStatus.PreRender}),Pn=Tn[0],Rn=Tn[1],Dn=ke.useRef(null),Xn=ke.useRef([]),li=ke.useState([]),oi=li[0],di=li[1],vi=function(){return!0},yi=ke.useCallback(function(){return bn.get("targetPageFilter")||vi},[bn.get("targetPageFilter")]),Zn=function(Bn){var Yn=Xn.current;if(Yn.length===0)return[];var fi=[],gi=[].slice.call(Bn.querySelectorAll(".rpv-core__text-layer-text")),$n=Yn.map(function(Pi){return Pi.char}).join("");return ln.forEach(function(Pi){var Ei=Pi.keyword;if(Ei.trim()){for(var Yi,Wi=Pi.regExp.flags.indexOf("g")===-1?new RegExp(Pi.regExp,"".concat(Pi.regExp.flags,"g")):Pi.regExp,ir=[];(Yi=Wi.exec($n))!==null;)ir.push({keyword:Wi,startIndex:Yi.index,endIndex:Wi.lastIndex});ir.map(function(Mi){return{keyword:Mi.keyword,indexes:Yn.slice(Mi.startIndex,Mi.endIndex)}}).forEach(function(Mi){var Xi=Mi.indexes.reduce(function(er,Mr){return er[Mr.spanIndex]=(er[Mr.spanIndex]||[]).concat([Mr]),er},{});Object.values(Xi).forEach(function(er){if(er.length!==1||er[0].char.trim()!==""){var Mr=Pi.wholeWords?er.slice(1,-1):er,_i=function(Qn,ti,Bi,Vi,Qi){var Fn=document.createRange(),pi=Vi.firstChild;if(!pi||pi.nodeType!==Node.TEXT_NODE)return null;var Ti=pi.textContent.length,$i=Qi[0].charIndexInSpan,Gi=Qi.length===1?$i:Qi[Qi.length-1].charIndexInSpan;if($i>Ti||Gi+1>Ti)return null;Fn.setStart(pi,$i),Fn.setEnd(pi,Gi+1);var ji=document.createElement("span");Fn.surroundContents(ji);var In=ji.getBoundingClientRect(),On=Bi.getBoundingClientRect(),Vn=On.height,ui=On.width,hi=100*(In.left-On.left)/ui,xi=100*(In.top-On.top)/Vn,Ai=100*In.height/Vn,Ui=100*In.width/ui;return Ge(ji),{keyword:ti,keywordStr:Qn,numPages:sn,pageIndex:hn,left:hi,top:xi,height:Ai,width:Ui,pageHeight:Vn,pageWidth:ui}}(Ei,Mi.keyword,Bn,gi[Mr[0].spanIndex],Mr);_i&&fi.push(_i)}})})}}),fi.sort(Xe)},Gn=function(Bn){Bn&&Bn.length>0&&_n(Bn)},wn=function(Bn){return fn(Bn)},Ln=function(Bn){if(Bn.has(hn)){var Yn=Bn.get(hn);Yn&&Rn({ele:Yn.ele,pageIndex:hn,scale:Yn.scale,status:Yn.status})}},Wn=function(){return ln.length===0||ln.length===1&&ln[0].keyword.trim()===""};return ke.useEffect(function(){if(!Wn()&&Pn.status===Ae.LayerRenderStatus.DidRender&&!Xn.current.length){var Bn=Pn.ele,Yn=[].slice.call(Bn.querySelectorAll(".rpv-core__text-layer-text")).map(function(fi){return fi.textContent}).reduce(function(fi,gi,$n){return fi.concat(gi.split("").map(function(Pi,Ei){return{char:Pi,charIndexInSpan:Ei,spanIndex:$n}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);Xn.current=Yn}},[ln,Pn.status]),ke.useEffect(function(){if(!Wn()&&Pn.ele&&Pn.status===Ae.LayerRenderStatus.DidRender&&yi()({pageIndex:hn,numPages:sn})){var Bn=Pn.ele,Yn=Zn(Bn);di(Yn)}},[ln,Sn,Pn.status,Xn.current]),ke.useEffect(function(){Wn()&&Pn.ele&&Pn.status===Ae.LayerRenderStatus.DidRender&&di([])},[ln,Pn.status]),ke.useEffect(function(){if(oi.length!==0){var Bn=yn.current;if(Sn.pageIndex===hn&&Bn&&Pn.status===Ae.LayerRenderStatus.DidRender){var Yn=Bn.querySelector('.rpv-search__highlight[data-index="'.concat(Sn.matchIndex,'"]'));if(Yn){var fi=function(Ei,Yi){for(var Wi=Ei.offsetTop,ir=Ei.offsetLeft,Mi=Ei.parentElement;Mi&&Mi!==Yi;)Wi+=Mi.offsetTop,ir+=Mi.offsetLeft,Mi=Mi.parentElement;return{left:ir,top:Wi}}(Yn,Bn),gi=fi.left,$n=fi.top,Pi=bn.get("jumpToDestination");Pi&&(Pi({pageIndex:hn,bottomOffset:(Bn.getBoundingClientRect().height-$n)/Pn.scale,leftOffset:gi/Pn.scale,scaleTo:Pn.scale}),Dn.current&&Dn.current.classList.remove("rpv-search__highlight--current"),Dn.current=Yn,Yn.classList.add("rpv-search__highlight--current"))}}}},[oi,Sn]),ke.useEffect(function(){return bn.subscribe("keyword",Gn),bn.subscribe("matchPosition",wn),bn.subscribe("renderStatus",Ln),function(){bn.unsubscribe("keyword",Gn),bn.unsubscribe("matchPosition",wn),bn.unsubscribe("renderStatus",Ln)}},[]),ke.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(hn),ref:yn},vn({getCssProperties:Be,highlightAreas:oi}))},qe=function(Ke){var sn,hn=Ke.wholeWords?" ".concat(Ke.keyword," "):Ke.keyword,Cn=Ke.matchCase?"g":"gi";return{keyword:Ke.keyword,regExp:new RegExp((sn=hn,sn.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),Cn),wholeWords:Ke.wholeWords||!1}},Ue=function(Ke,sn,hn){return Ke instanceof RegExp?{keyword:Ke.source,regExp:Ke,wholeWords:hn||!1}:typeof Ke=="string"?Ke===""?je:qe({keyword:Ke,matchCase:sn||!1,wholeWords:hn||!1}):(sn!==void 0&&(Ke.matchCase=sn),hn!==void 0&&(Ke.wholeWords=hn),qe(Ke))},Ye=function(Ke){var sn,hn=Ke.get("initialKeyword"),Cn=ke.useMemo(function(){if(hn&&hn.length===1){var wn=Ue(hn[0]);return{matchCase:wn.regExp.flags.indexOf("i")===-1,wholeWords:wn.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),bn=function(wn){var Ln=ke.useRef(wn.get("doc")),Wn=function(Bn){Ln.current=Bn};return ke.useEffect(function(){return wn.subscribe("doc",Wn),function(){wn.unsubscribe("doc",Wn)}},[]),Ln}(Ke),En=ke.useState(hn),yn=En[0],xn=En[1],vn=ke.useState([]),kn=vn[0],Sn=vn[1],fn=ke.useState(0),on=fn[0],ln=fn[1],_n=ke.useState(Cn.matchCase),Tn=_n[0],Pn=_n[1],Rn=ke.useRef([]),Dn=ke.useState(Cn.wholeWords),Xn=Dn[0],li=Dn[1],oi=function(){return!0},di=ke.useCallback(function(){return Ke.get("targetPageFilter")||oi},[Ke.get("targetPageFilter")]),vi=function(wn){var Ln=kn.length;if(yn.length===0||Ln===0)return null;var Wn=wn===Ln+1?1:Math.max(1,Math.min(Ln,wn));return ln(Wn),Zn(kn[Wn-1])},yi=function(wn){return xn(wn===""?[]:[wn])},Zn=function(wn){var Ln=Ke.get("jumpToPage");return Ln&&Ln(wn.pageIndex),Ke.update("matchPosition",{matchIndex:wn.matchIndex,pageIndex:wn.pageIndex}),wn},Gn=function(wn,Ln,Wn){var Bn=bn.current;if(!Bn)return Promise.resolve([]);var Yn=Bn.numPages,fi=wn.map(function(gi){return Ue(gi,Ln,Wn)});return Ke.update("keyword",fi),ln(0),Sn([]),new Promise(function(gi,$n){var Pi=Rn.current.length===0?function(){var Ei=bn.current;if(!Ei)return Promise.resolve([]);var Yi=Array(Ei.numPages).fill(0).map(function(Wi,ir){return Ae.getPage(Ei,ir).then(function(Mi){return Mi.getTextContent()}).then(function(Mi){var Xi=Mi.items.map(function(er){return er.str||""}).join("");return Promise.resolve({pageContent:Xi,pageIndex:ir})})});return Promise.all(Yi).then(function(Wi){return Wi.sort(function(ir,Mi){return ir.pageIndex-Mi.pageIndex}),Promise.resolve(Wi.map(function(ir){return ir.pageContent}))})}().then(function(Ei){return Rn.current=Ei,Promise.resolve(Ei)}):Promise.resolve(Rn.current);Pi.then(function(Ei){var Yi=[];Ei.forEach(function(Wi,ir){di()({pageIndex:ir,numPages:Yn})&&fi.forEach(function(Mi){for(var Xi,er=0;(Xi=Mi.regExp.exec(Wi))!==null;)Yi.push({keyword:Mi.regExp,matchIndex:er,pageIndex:ir,pageText:Wi,startIndex:Xi.index,endIndex:Mi.regExp.lastIndex}),er++})}),Sn(Yi),Yi.length>0&&(ln(1),Zn(Yi[0])),gi(Yi)})})};return ke.useEffect(function(){Rn.current=[]},[bn.current]),{clearKeyword:function(){Ke.update("keyword",[je]),yi(""),ln(0),Sn([]),Pn(!1),li(!1)},changeMatchCase:function(wn){Pn(wn),yn.length>0&&Gn(yn,wn,Xn)},changeWholeWords:function(wn){li(wn),yn.length>0&&Gn(yn,Tn,wn)},currentMatch:on,jumpToMatch:vi,jumpToNextMatch:function(){return vi(on+1)},jumpToPreviousMatch:function(){return vi(on-1)},keywords:yn,matchCase:Tn,numberOfMatches:kn.length,wholeWords:Xn,search:function(){return Gn(yn,Tn,Xn)},searchFor:Gn,setKeywords:xn,keyword:yn.length===0?"":(sn=yn[0],sn instanceof RegExp?sn.source:typeof sn=="string"?sn:sn.keyword),setKeyword:yi,setTargetPages:function(wn){Ke.update("targetPageFilter",wn)}}},Ze=function(Ke){var sn=Ke.children,hn=Ke.store,Cn=Ye(hn),bn=ke.useState(!1),En=bn[0],yn=bn[1],xn=function(vn){return yn(!0)};return ke.useEffect(function(){return hn.subscribe("doc",xn),function(){hn.unsubscribe("doc",xn)}},[]),sn(Ne(Ne({},Cn),{isDocumentLoaded:En}))},Qe=function(Ke){var sn=Ke.containerRef,hn=Ke.store,Cn=ke.useRef(!1),bn=function(){Cn.current=!0},En=function(){Cn.current=!1},yn=function(xn){var vn=sn.current;vn&&(xn.shiftKey||xn.altKey||xn.key!=="f"||(Ae.isMac()?xn.metaKey&&!xn.ctrlKey:xn.ctrlKey)&&(Cn.current||document.activeElement&&vn.contains(document.activeElement))&&(xn.preventDefault(),hn.update("areShortcutsPressed",!0)))};return ke.useEffect(function(){var xn=sn.current;if(xn)return document.addEventListener("keydown",yn),xn.addEventListener("mouseenter",bn),xn.addEventListener("mouseleave",En),function(){document.removeEventListener("keydown",yn),xn.removeEventListener("mouseenter",bn),xn.removeEventListener("mouseleave",En)}},[sn.current]),ke.createElement(ke.Fragment,null)},pn={left:0,top:8},nn=function(Ke){var sn=Ke.store,hn=Ke.onToggle,Cn=ke.useContext(Ae.LocalizationContext).l10n,bn=ke.useContext(Ae.ThemeContext).direction,En=ke.useState(!1),yn=En[0],xn=En[1],vn=ke.useState(!1),kn=vn[0],Sn=vn[1],fn=bn===Ae.TextDirection.RightToLeft,on=Ye(sn),ln=on.clearKeyword,_n=on.changeMatchCase,Tn=on.changeWholeWords,Pn=on.currentMatch,Rn=on.jumpToNextMatch,Dn=on.jumpToPreviousMatch,Xn=on.keyword,li=on.matchCase,oi=on.numberOfMatches,di=on.wholeWords,vi=on.search,yi=on.setKeyword,Zn=function(Bn){xn(!0),vi().then(function(Yn){xn(!1),Sn(!0),Bn&&Bn()})};ke.useEffect(function(){var Bn=sn.get("initialKeyword");Bn&&Bn.length===1&&Xn&&Zn(function(){sn.update("initialKeyword",[])})},[]);var Gn=Cn&&Cn.search?Cn.search.enterToSearch:"Enter to search",wn=Cn&&Cn.search?Cn.search.previousMatch:"Previous match",Ln=Cn&&Cn.search?Cn.search.nextMatch:"Next match",Wn=Cn&&Cn.search?Cn.search.close:"Close";return ke.createElement("div",{className:"rpv-search__popover"},ke.createElement("div",{className:"rpv-search__popover-input-counter"},ke.createElement(Ae.TextBox,{ariaLabel:Gn,autoFocus:!0,placeholder:Gn,type:"text",value:Xn,onChange:function(Bn){Sn(!1),yi(Bn)},onKeyDown:function(Bn){Bn.key==="Enter"&&Xn&&(kn?Rn():Zn())}}),ke.createElement("div",{className:Ae.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!fn,"rpv-search__popover-counter--rtl":fn})},yn&&ke.createElement(Ae.Spinner,{testId:"search__popover-searching",size:"1rem"}),!yn&&ke.createElement("span",{"data-testid":"search__popover-num-matches"},Pn,"/",oi))),ke.createElement("label",{className:"rpv-search__popover-label"},ke.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:li,type:"checkbox",onChange:function(Bn){Sn(!1),_n(Bn.target.checked)}})," ",Cn&&Cn.search?Cn.search.matchCase:"Match case"),ke.createElement("label",{className:"rpv-search__popover-label"},ke.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:di,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(Bn){Sn(!1),Tn(Bn.target.checked)}})," ",Cn&&Cn.search?Cn.search.wholeWords:"Whole words"),ke.createElement("div",{className:"rpv-search__popover-footer"},ke.createElement("div",{className:"rpv-search__popover-footer-item"},ke.createElement(Ae.Tooltip,{ariaControlsSuffix:"search-previous-match",position:fn?Ae.Position.BottomRight:Ae.Position.BottomCenter,target:ke.createElement(Ae.MinimalButton,{ariaLabel:wn,isDisabled:Pn<=1,onClick:Dn},ke.createElement(Ie,null)),content:function(){return wn},offset:pn})),ke.createElement("div",{className:"rpv-search__popover-footer-item"},ke.createElement(Ae.Tooltip,{ariaControlsSuffix:"search-next-match",position:Ae.Position.BottomCenter,target:ke.createElement(Ae.MinimalButton,{ariaLabel:Ln,isDisabled:Pn>oi-1,onClick:Rn},ke.createElement(Re,null)),content:function(){return Ln},offset:pn})),ke.createElement("div",{className:Ae.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!fn,"rpv-search__popover-footer-button--rtl":fn})},ke.createElement(Ae.Button,{onClick:function(){hn(),ln()}},Wn))))},rn=function(Ke){var sn=Ke.children,hn=Ke.onClick,Cn=ke.useContext(Ae.LocalizationContext).l10n,bn=Cn&&Cn.search?Cn.search.search:"Search";return sn({icon:ke.createElement(Fe,null),label:bn,onClick:hn})},cn={left:0,top:8},tn=function(Ke){var sn=Ke.enableShortcuts,hn=Ke.store,Cn=Ke.onClick,bn=sn?Ae.isMac()?"Meta+F":"Ctrl+F":"",En=function(yn){yn&&Cn()};return ke.useEffect(function(){return hn.subscribe("areShortcutsPressed",En),function(){hn.unsubscribe("areShortcutsPressed",En)}},[]),ke.createElement(rn,{onClick:Cn},function(yn){return ke.createElement(Ae.Tooltip,{ariaControlsSuffix:"search-popover",position:Ae.Position.BottomCenter,target:ke.createElement(Ae.MinimalButton,{ariaKeyShortcuts:bn,ariaLabel:yn.label,testId:"search__popover-button",onClick:Cn},yn.icon),content:function(){return yn.label},offset:cn})})},Je={left:0,top:8},an=function(Ke){var sn=Ke.children,hn=Ke.enableShortcuts,Cn=Ke.store,bn=ke.useContext(Ae.ThemeContext).direction===Ae.TextDirection.RightToLeft?Ae.Position.BottomRight:Ae.Position.BottomLeft,En=sn||function(yn){return ke.createElement(tn,Ne({enableShortcuts:hn,store:Cn},yn))};return ke.createElement(Ae.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:bn,target:function(yn){return En({onClick:yn})},content:function(yn){return ke.createElement(nn,{store:Cn,onToggle:yn})},offset:Je,closeOnClickOutside:!1,closeOnEscape:!0})},gn=function(Ke){return Array.isArray(Ke)?Ke.map(function(sn){return Ue(sn)}):[Ue(Ke)]};return search_min.NextIcon=Re,search_min.PreviousIcon=Ie,search_min.SearchIcon=Fe,search_min.searchPlugin=function(Ke){var sn=ke.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},Ke)},[]),hn=ke.useMemo(function(){return Ae.createStore({initialKeyword:Ke&&Ke.keyword?Array.isArray(Ke.keyword)?Ke.keyword:[Ke.keyword]:[],keyword:Ke&&Ke.keyword?gn(Ke.keyword):[je],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),Cn=Ye(hn),bn=Cn.clearKeyword,En=Cn.jumpToMatch,yn=Cn.jumpToNextMatch,xn=Cn.jumpToPreviousMatch,vn=Cn.searchFor,kn=Cn.setKeywords,Sn=Cn.setTargetPages,fn=function(on){return ke.createElement(an,Ne({enableShortcuts:sn.enableShortcuts},on,{store:hn}))};return{install:function(on){var ln=Ke&&Ke.keyword?Array.isArray(Ke.keyword)?Ke.keyword:[Ke.keyword]:[],_n=Ke&&Ke.keyword?gn(Ke.keyword):[je];hn.update("initialKeyword",ln),hn.update("jumpToDestination",on.jumpToDestination),hn.update("jumpToPage",on.jumpToPage),hn.update("keyword",_n)},renderPageLayer:function(on){return ke.createElement($e,{key:on.pageIndex,numPages:on.doc.numPages,pageIndex:on.pageIndex,renderHighlights:Ke==null?void 0:Ke.renderHighlights,store:hn,onHighlightKeyword:sn.onHighlightKeyword})},renderViewer:function(on){var ln=on.slot;return ln.subSlot&&(ln.subSlot.children=ke.createElement(ke.Fragment,null,sn.enableShortcuts&&ke.createElement(Qe,{containerRef:on.containerRef,store:hn}),ln.subSlot.children)),ln},uninstall:function(on){var ln=hn.get("renderStatus");ln&&ln.clear()},onDocumentLoad:function(on){hn.update("doc",on.doc)},onTextLayerRender:function(on){var ln=hn.get("renderStatus");ln&&(ln=ln.set(on.pageIndex,on),hn.update("renderStatus",ln))},Search:function(on){return ke.createElement(Ze,Ne({},on,{store:hn}))},ShowSearchPopover:fn,ShowSearchPopoverButton:function(){return ke.createElement(fn,null,function(on){return ke.createElement(tn,Ne({enableShortcuts:sn.enableShortcuts,store:hn},on))})},clearHighlights:function(){bn()},highlight:function(on){var ln=Array.isArray(on)?on:[on];return kn(ln),vn(ln)},jumpToMatch:En,jumpToNextMatch:yn,jumpToPreviousMatch:xn,setTargetPages:Sn}},search_min}var hasRequiredLib$4;function requireLib$4(){if(hasRequiredLib$4)return lib$2.exports;hasRequiredLib$4=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$2.exports=requireSearch_min(),lib$2.exports}var lib$1={exports:{}},theme_min={},hasRequiredTheme_min;function requireTheme_min(){if(hasRequiredTheme_min)return theme_min;hasRequiredTheme_min=1;var Ae=requireLib$h();function _e(We){var Ge=Object.create(null);return We&&Object.keys(We).forEach(function(Xe){if(Xe!=="default"){var $e=Object.getOwnPropertyDescriptor(We,Xe);Object.defineProperty(Ge,Xe,$e.get?$e:{enumerable:!0,get:function(){return We[Xe]}})}}),Ge.default=We,Object.freeze(Ge)}var ke=_e(requireReact()),Re=function(){return ke.createElement(Ae.Icon,{size:16},ke.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),ke.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},Ie=function(){return ke.createElement(Ae.Icon,{size:16},ke.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),ke.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},Fe=function(){return Fe=Object.assign||function(We){for(var Ge,Xe=1,$e=arguments.length;Xe<$e;Xe++)for(var qe in Ge=arguments[Xe])Object.prototype.hasOwnProperty.call(Ge,qe)&&(We[qe]=Ge[qe]);return We},Fe.apply(this,arguments)},Ne={left:0,top:8},je=function(We){var Ge=We.onClick,Xe=ke.useContext(Ae.ThemeContext),$e=ke.useContext(Ae.LocalizationContext).l10n,qe=Xe.currentTheme==="dark",Ue=$e&&$e.theme?qe?$e.theme.switchLightTheme:$e.theme.switchDarkTheme:qe?"Switch to the light theme":"Switch to the dark theme";return ke.createElement(Ae.Tooltip,{ariaControlsSuffix:"theme-switch",position:Ae.Position.BottomCenter,target:ke.createElement(Ae.MinimalButton,{ariaLabel:Ue,testId:"theme__switch-button",onClick:Ge},qe?ke.createElement(Ie,null):ke.createElement(Re,null)),content:function(){return Ue},offset:Ne})},Be=function(We){var Ge=We.children,Xe=ke.useContext(Ae.ThemeContext);return(Ge||function($e){return ke.createElement(je,{onClick:$e.onClick})})({onClick:function(){return Xe.setCurrentTheme(Xe.currentTheme==="dark"?"light":"dark")}})},He=function(We){var Ge=We.onClick,Xe=ke.useContext(Ae.ThemeContext),$e=ke.useContext(Ae.LocalizationContext).l10n,qe=Xe.currentTheme==="dark",Ue=$e&&$e.theme?qe?$e.theme.switchLightTheme:$e.theme.switchDarkTheme:qe?"Switch to the light theme":"Switch to the dark theme";return ke.createElement(Ae.MenuItem,{icon:qe?ke.createElement(Ie,null):ke.createElement(Re,null),testId:"theme__switch-menu",onClick:Ge},Ue)};return theme_min.DarkIcon=Re,theme_min.LightIcon=Ie,theme_min.themePlugin=function(){var We=function(Ge){return ke.createElement(Be,Fe({},Ge))};return{SwitchTheme:We,SwitchThemeButton:function(){return ke.createElement(We,null,function(Ge){return ke.createElement(je,Fe({},Ge))})},SwitchThemeMenuItem:function(Ge){return ke.createElement(We,null,function(Xe){return ke.createElement(He,{onClick:function(){Xe.onClick(),Ge.onClick()}})})}}},theme_min}var hasRequiredLib$3;function requireLib$3(){if(hasRequiredLib$3)return lib$1.exports;hasRequiredLib$3=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$1.exports=requireTheme_min(),lib$1.exports}var lib={exports:{}},zoom_min={},hasRequiredZoom_min;function requireZoom_min(){if(hasRequiredZoom_min)return zoom_min;hasRequiredZoom_min=1;var Ae=requireLib$h();function _e(Ke){var sn=Object.create(null);return Ke&&Object.keys(Ke).forEach(function(hn){if(hn!=="default"){var Cn=Object.getOwnPropertyDescriptor(Ke,hn);Object.defineProperty(sn,hn,Cn.get?Cn:{enumerable:!0,get:function(){return Ke[hn]}})}}),sn.default=Ke,Object.freeze(sn)}var ke=_e(requireReact()),Re=function(){return ke.createElement(Ae.Icon,{ignoreDirection:!0,size:16},ke.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},Ie=function(){return ke.createElement(Ae.Icon,{ignoreDirection:!0,size:16},ke.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},Fe=function(){return Fe=Object.assign||function(Ke){for(var sn,hn=1,Cn=arguments.length;hn<Cn;hn++)for(var bn in sn=arguments[hn])Object.prototype.hasOwnProperty.call(sn,bn)&&(Ke[bn]=sn[bn]);return Ke},Fe.apply(this,arguments)},Ne=function(Ke){var sn=ke.useState(Ke.get("scale")||0),hn=sn[0],Cn=sn[1],bn=function(En){Cn(En)};return ke.useEffect(function(){return Ke.subscribe("scale",bn),function(){Ke.unsubscribe("scale",bn)}},[]),{scale:hn}},je=function(Ke){var sn=Ke.children,hn=Ke.store;return(sn||function(Cn){return ke.createElement(ke.Fragment,null,"".concat(Math.round(100*Cn.scale),"%"))})({scale:Ne(hn).scale})},Be={passive:!1},He=null,We=function(Ke){var sn=Ke.pagesContainerRef,hn=Ke.store,Cn=Ae.useDebounceCallback(function(En){var yn=hn.get("zoom");yn&&yn(En)},40),bn=function(En){if(En.ctrlKey){En.preventDefault();var yn=En.target.getBoundingClientRect(),xn=1-En.deltaY/100,vn=En.clientX-yn.left,kn=En.clientY-yn.top,Sn=hn.get("scale"),fn=(He||(He=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(vn,kn).scale(xn).translate(-vn,-kn).scale(Sn);Cn(fn.a)}};return Ae.useIsomorphicLayoutEffect(function(){var En=sn.current;if(En)return En.addEventListener("wheel",bn,Be),function(){En.removeEventListener("wheel",bn)}},[]),ke.createElement(ke.Fragment,null)},Ge=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Xe=function(Ke){return Ge.find(function(sn){return sn>Ke})||Ke},$e=function(Ke){var sn=Ge.findIndex(function(hn){return hn>=Ke});return sn===-1||sn===0?Ke:Ge[sn-1]},qe=function(Ke){var sn=Ke.containerRef,hn=Ke.store,Cn=function(bn){if(!bn.shiftKey&&!bn.altKey&&(Ae.isMac()?bn.metaKey:bn.ctrlKey)){var En=sn.current;if(En&&document.activeElement&&En.contains(document.activeElement)){var yn=hn.get("zoom");if(yn){var xn=hn.get("scale")||1,vn=1;switch(bn.key){case"-":vn=$e(xn);break;case"=":vn=Xe(xn);break;case"0":vn=1;break;default:vn=xn}vn!==xn&&(bn.preventDefault(),yn(vn))}}}};return ke.useEffect(function(){if(sn.current)return document.addEventListener("keydown",Cn),function(){document.removeEventListener("keydown",Cn)}},[sn.current]),ke.createElement(ke.Fragment,null)},Ue=[.5,.75,1,1.25,1.5,2,3,4],Ye={left:0,top:8},Ze=function(Ke){var sn=Ke.levels,hn=sn===void 0?Ue:sn,Cn=Ke.scale,bn=Ke.onZoom,En=ke.useContext(Ae.LocalizationContext).l10n,yn=ke.useContext(Ae.ThemeContext).direction===Ae.TextDirection.RightToLeft,xn=En&&En.zoom?En.zoom.zoomDocument:"Zoom document";return ke.createElement(Ae.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:Ae.Position.BottomCenter,target:function(vn){return ke.createElement(Ae.MinimalButton,{ariaLabel:xn,testId:"zoom__popover-target",onClick:function(){vn()}},ke.createElement("span",{className:"rpv-zoom__popover-target"},ke.createElement("span",{"data-testid":"zoom__popover-target-scale",className:Ae.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!yn,"rpv-zoom__popover-target-scale--rtl":yn})},Math.round(100*Cn),"%"),ke.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(vn){return ke.createElement(Ae.Menu,null,Object.keys(Ae.SpecialZoomLevel).map(function(kn){var Sn=kn;return ke.createElement(Ae.MenuItem,{key:Sn,onClick:function(){vn(),bn(Sn)}},function(fn){switch(fn){case Ae.SpecialZoomLevel.ActualSize:return En&&En.zoom?En.zoom.actualSize:"Actual size";case Ae.SpecialZoomLevel.PageFit:return En&&En.zoom?En.zoom.pageFit:"Page fit";case Ae.SpecialZoomLevel.PageWidth:return En&&En.zoom?En.zoom.pageWidth:"Page width"}}(Sn))}),ke.createElement(Ae.MenuDivider,null),hn.map(function(kn){return ke.createElement(Ae.MenuItem,{key:kn,onClick:function(){vn(),bn(kn)}},"".concat(Math.round(100*kn),"%"))}))},offset:Ye,closeOnClickOutside:!0,closeOnEscape:!0})},Qe=function(Ke){var sn=Ke.children,hn=Ke.levels,Cn=Ke.store;return(sn||function(bn){return ke.createElement(Ze,{levels:hn,scale:bn.scale,onZoom:bn.onZoom})})({scale:Ne(Cn).scale,onZoom:function(bn){var En=Cn.get("zoom");En&&En(bn)}})},pn={left:0,top:8},nn=function(Ke){var sn=Ke.enableShortcuts,hn=Ke.onClick,Cn=ke.useContext(Ae.LocalizationContext).l10n,bn=Cn&&Cn.zoom?Cn.zoom.zoomIn:"Zoom in",En=sn?Ae.isMac()?"Meta+=":"Ctrl+=":"";return ke.createElement(Ae.Tooltip,{ariaControlsSuffix:"zoom-in",position:Ae.Position.BottomCenter,target:ke.createElement(Ae.MinimalButton,{ariaKeyShortcuts:En,ariaLabel:bn,testId:"zoom__in-button",onClick:hn},ke.createElement(Re,null)),content:function(){return bn},offset:pn})},rn=function(Ke){var sn=Ke.children,hn=Ke.enableShortcuts,Cn=Ke.store,bn=Ne(Cn).scale;return(sn||nn)({enableShortcuts:hn,onClick:function(){var En=Cn.get("zoom");En&&En(Xe(bn))}})},cn=function(Ke){var sn=Ke.onClick,hn=ke.useContext(Ae.LocalizationContext).l10n,Cn=hn&&hn.zoom?hn.zoom.zoomIn:"Zoom in";return ke.createElement(Ae.MenuItem,{icon:ke.createElement(Re,null),testId:"zoom__in-menu",onClick:sn},Cn)},tn={left:0,top:8},Je=function(Ke){var sn=Ke.enableShortcuts,hn=Ke.onClick,Cn=ke.useContext(Ae.LocalizationContext).l10n,bn=Cn&&Cn.zoom?Cn.zoom.zoomOut:"Zoom out",En=sn?Ae.isMac()?"Meta+-":"Ctrl+-":"";return ke.createElement(Ae.Tooltip,{ariaControlsSuffix:"zoom-out",position:Ae.Position.BottomCenter,target:ke.createElement(Ae.MinimalButton,{ariaKeyShortcuts:En,ariaLabel:bn,testId:"zoom__out-button",onClick:hn},ke.createElement(Ie,null)),content:function(){return bn},offset:tn})},an=function(Ke){var sn=Ke.children,hn=Ke.enableShortcuts,Cn=Ke.store,bn=Ne(Cn).scale;return(sn||Je)({enableShortcuts:hn,onClick:function(){var En=Cn.get("zoom");En&&En($e(bn))}})},gn=function(Ke){var sn=Ke.onClick,hn=ke.useContext(Ae.LocalizationContext).l10n,Cn=hn&&hn.zoom?hn.zoom.zoomOut:"Zoom out";return ke.createElement(Ae.MenuItem,{icon:ke.createElement(Ie,null),testId:"zoom__out-menu",onClick:sn},Cn)};return zoom_min.ZoomInIcon=Re,zoom_min.ZoomOutIcon=Ie,zoom_min.zoomPlugin=function(Ke){var sn=ke.useMemo(function(){return Object.assign({},{enableShortcuts:!0},Ke)},[]),hn=ke.useMemo(function(){return Ae.createStore({})},[]),Cn=function(yn){return ke.createElement(rn,Fe({enableShortcuts:sn.enableShortcuts},yn,{store:hn}))},bn=function(yn){return ke.createElement(an,Fe({enableShortcuts:sn.enableShortcuts},yn,{store:hn}))},En=function(yn){return ke.createElement(Qe,Fe({},yn,{store:hn}))};return{renderViewer:function(yn){var xn=yn.slot;if(!sn.enableShortcuts)return xn;var vn={children:ke.createElement(ke.Fragment,null,ke.createElement(qe,{containerRef:yn.containerRef,store:hn}),ke.createElement(We,{pagesContainerRef:yn.pagesContainerRef,store:hn}),xn.children)};return Fe(Fe({},xn),vn)},install:function(yn){hn.update("zoom",yn.zoom)},onViewerStateChange:function(yn){return hn.update("scale",yn.scale),yn},zoomTo:function(yn){var xn=hn.get("zoom");xn&&xn(yn)},CurrentScale:function(yn){return ke.createElement(je,Fe({},yn,{store:hn}))},ZoomIn:Cn,ZoomInButton:function(){return ke.createElement(Cn,null,function(yn){return ke.createElement(nn,Fe({},yn))})},ZoomInMenuItem:function(yn){return ke.createElement(Cn,null,function(xn){return ke.createElement(cn,{onClick:function(){xn.onClick(),yn.onClick()}})})},ZoomOut:bn,ZoomOutButton:function(){return ke.createElement(bn,null,function(yn){return ke.createElement(Je,Fe({},yn))})},ZoomOutMenuItem:function(yn){return ke.createElement(bn,null,function(xn){return ke.createElement(gn,{onClick:function(){xn.onClick(),yn.onClick()}})})},Zoom:En,ZoomPopover:function(yn){return ke.createElement(En,null,function(xn){return ke.createElement(Ze,Fe({levels:yn==null?void 0:yn.levels},xn))})}}},zoom_min}var hasRequiredLib$2;function requireLib$2(){if(hasRequiredLib$2)return lib.exports;hasRequiredLib$2=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib.exports=requireZoom_min(),lib.exports}var hasRequiredToolbar_min;function requireToolbar_min(){if(hasRequiredToolbar_min)return toolbar_min;hasRequiredToolbar_min=1;var Ae=requireLib$h(),_e=requireLib$d(),ke=requireReact(),Re=requireLib$c(),Ie=requireLib$b(),Fe=requireLib$a(),Ne=requireLib$9(),je=requireLib$8(),Be=requireLib$7(),He=requireLib$6(),We=requireLib$5(),Ge=requireLib$4(),Xe=requireLib$3(),$e=requireLib$2();function qe(Je){var an=Object.create(null);return Je&&Object.keys(Je).forEach(function(gn){if(gn!=="default"){var Ke=Object.getOwnPropertyDescriptor(Je,gn);Object.defineProperty(an,gn,Ke.get?Ke:{enumerable:!0,get:function(){return Je[gn]}})}}),an.default=Je,Object.freeze(an)}var Ue=qe(ke),Ye=function(){return Ue.createElement(Ae.Icon,{size:16},Ue.createElement("path",{d:`M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z
            M12,9.5
            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z
            M12,18.5c1.381,0,2.5,1.119,2.5,2.5
            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z`}))},Ze={left:0,top:8},Qe=function(Je){var an=Je.toolbarSlot,gn=Ue.useContext(Ae.LocalizationContext).l10n,Ke=Ue.useContext(Ae.ThemeContext).direction===Ae.TextDirection.RightToLeft?Ae.Position.BottomLeft:Ae.Position.BottomRight,sn=an.DownloadMenuItem,hn=an.EnterFullScreenMenuItem,Cn=an.GoToFirstPageMenuItem,bn=an.GoToLastPageMenuItem,En=an.GoToNextPageMenuItem,yn=an.GoToPreviousPageMenuItem,xn=an.OpenMenuItem,vn=an.PrintMenuItem,kn=an.RotateBackwardMenuItem,Sn=an.RotateForwardMenuItem,fn=an.ShowPropertiesMenuItem,on=an.SwitchScrollModeMenuItem,ln=an.SwitchSelectionModeMenuItem,_n=an.SwitchViewModeMenuItem,Tn=an.SwitchThemeMenuItem;return Ue.createElement(Ae.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:Ke,target:function(Pn,Rn){var Dn=gn&&gn.toolbar?gn.toolbar.moreActions:"More actions";return Ue.createElement(Ae.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:Ke,target:Ue.createElement(Ae.MinimalButton,{ariaLabel:Dn,isSelected:Rn,testId:"toolbar__more-actions-popover-target",onClick:Pn},Ue.createElement(Ye,null)),content:function(){return Dn},offset:Ze})},content:function(Pn){return Ue.createElement(Ae.Menu,null,Ue.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},Ue.createElement(Tn,{onClick:Pn})),Ue.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},Ue.createElement(hn,{onClick:Pn})),Ue.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},Ue.createElement(xn,null)),Ue.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},Ue.createElement(vn,{onClick:Pn})),Ue.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},Ue.createElement(sn,{onClick:Pn})),Ue.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},Ue.createElement(Ae.MenuDivider,null)),Ue.createElement(Cn,{onClick:Pn}),Ue.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},Ue.createElement(yn,{onClick:Pn})),Ue.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},Ue.createElement(En,{onClick:Pn})),Ue.createElement(bn,{onClick:Pn}),Ue.createElement(Ae.MenuDivider,null),Ue.createElement(Sn,{onClick:Pn}),Ue.createElement(kn,{onClick:Pn}),Ue.createElement(Ae.MenuDivider,null),Ue.createElement(ln,{mode:_e.SelectionMode.Text,onClick:Pn}),Ue.createElement(ln,{mode:_e.SelectionMode.Hand,onClick:Pn}),Ue.createElement(Ae.MenuDivider,null),Ue.createElement(on,{mode:Ae.ScrollMode.Page,onClick:Pn}),Ue.createElement(on,{mode:Ae.ScrollMode.Vertical,onClick:Pn}),Ue.createElement(on,{mode:Ae.ScrollMode.Horizontal,onClick:Pn}),Ue.createElement(on,{mode:Ae.ScrollMode.Wrapped,onClick:Pn}),Ue.createElement(Ae.MenuDivider,null),Ue.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},Ue.createElement(_n,{mode:Ae.ViewMode.SinglePage,onClick:Pn})),Ue.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},Ue.createElement(_n,{mode:Ae.ViewMode.DualPage,onClick:Pn})),Ue.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},Ue.createElement(_n,{mode:Ae.ViewMode.DualPageWithCover,onClick:Pn})),Ue.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},Ue.createElement(Ae.MenuDivider,null)),Ue.createElement(fn,{onClick:Pn}))},offset:Ze,closeOnClickOutside:!0,closeOnEscape:!0})},pn=function(){return pn=Object.assign||function(Je){for(var an,gn=1,Ke=arguments.length;gn<Ke;gn++)for(var sn in an=arguments[gn])Object.prototype.hasOwnProperty.call(an,sn)&&(Je[sn]=an[sn]);return Je},pn.apply(this,arguments)},nn=function(Je){return function(an){var gn=Ue.useMemo(function(){return Je(an)},[]),Ke=Ue.useContext(Ae.ThemeContext).direction===Ae.TextDirection.RightToLeft,sn=gn.CurrentPageInput,hn=gn.Download,Cn=gn.EnterFullScreen,bn=gn.GoToNextPage,En=gn.GoToPreviousPage,yn=gn.NumberOfPages,xn=gn.Open,vn=gn.Print,kn=gn.ShowSearchPopover,Sn=gn.SwitchTheme,fn=gn.Zoom,on=gn.ZoomIn,ln=gn.ZoomOut;return Ue.createElement("div",{"data-testid":"toolbar",className:Ae.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":Ke}),role:"toolbar","aria-orientation":"horizontal"},Ue.createElement("div",{className:"rpv-toolbar__left"},Ue.createElement("div",{className:"rpv-toolbar__item"},Ue.createElement(kn,null)),Ue.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},Ue.createElement("div",{className:"rpv-toolbar__item"},Ue.createElement(En,null))),Ue.createElement("div",{className:"rpv-toolbar__item"},Ue.createElement(sn,null),Ue.createElement("span",{className:"rpv-toolbar__label"},Ue.createElement(yn,null))),Ue.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},Ue.createElement("div",{className:"rpv-toolbar__item"},Ue.createElement(bn,null)))),Ue.createElement("div",{className:"rpv-toolbar__center"},Ue.createElement("div",{className:"rpv-toolbar__item"},Ue.createElement(ln,null)),Ue.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},Ue.createElement("div",{className:"rpv-toolbar__item"},Ue.createElement(fn,null))),Ue.createElement("div",{className:"rpv-toolbar__item"},Ue.createElement(on,null))),Ue.createElement("div",{className:"rpv-toolbar__right"},Ue.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},Ue.createElement("div",{className:"rpv-toolbar__item"},Ue.createElement(Sn,null))),Ue.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},Ue.createElement("div",{className:"rpv-toolbar__item"},Ue.createElement(Cn,null))),Ue.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},Ue.createElement("div",{className:"rpv-toolbar__item"},Ue.createElement(xn,null))),Ue.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},Ue.createElement("div",{className:"rpv-toolbar__item"},Ue.createElement(hn,null))),Ue.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},Ue.createElement("div",{className:"rpv-toolbar__item"},Ue.createElement(vn,null))),Ue.createElement("div",{className:"rpv-toolbar__item"},Ue.createElement(Qe,{toolbarSlot:gn}))))}},rn=function(Je){var an=Je.NumberOfPages;return Object.assign({},Je,{NumberOfPages:function(){return Ue.createElement(Ue.Fragment,null,"/ ",Ue.createElement(an,null))}})},cn=function(Je){return nn(rn)(Je)},tn=function(Je){var an=Je.children,gn=Je.slot;return(an||cn)(gn)};return toolbar_min.MoreActionsPopover=Qe,toolbar_min.MoreIcon=Ye,toolbar_min.toolbarPlugin=function(Je){var an=Re.fullScreenPlugin(Je?Je.fullScreenPlugin:{}),gn=Ie.getFilePlugin(Je?Je.getFilePlugin:{}),Ke=Fe.openPlugin(Je?Je.openPlugin:{}),sn=Ne.pageNavigationPlugin(Je?Je.pageNavigationPlugin:{}),hn=je.printPlugin(Je?Je.printPlugin:{}),Cn=Be.propertiesPlugin(),bn=He.rotatePlugin(),En=We.scrollModePlugin(),yn=Ge.searchPlugin(Je?Je.searchPlugin:{}),xn=_e.selectionModePlugin(Je?Je.selectionModePlugin:{}),vn=Xe.themePlugin(),kn=$e.zoomPlugin(Je?Je.zoomPlugin:{}),Sn=[an,gn,Ke,sn,hn,Cn,bn,En,yn,xn,vn,kn],fn=Ue.useCallback(function(on){var ln=an.EnterFullScreen,_n=an.EnterFullScreenMenuItem,Tn=gn.Download,Pn=gn.DownloadMenuItem,Rn=Ke.Open,Dn=Ke.OpenMenuItem,Xn=sn.CurrentPageInput,li=sn.CurrentPageLabel,oi=sn.GoToFirstPage,di=sn.GoToFirstPageMenuItem,vi=sn.GoToLastPage,yi=sn.GoToLastPageMenuItem,Zn=sn.GoToNextPage,Gn=sn.GoToNextPageMenuItem,wn=sn.GoToPreviousPage,Ln=sn.GoToPreviousPageMenuItem,Wn=sn.NumberOfPages,Bn=hn.Print,Yn=hn.PrintMenuItem,fi=Cn.ShowProperties,gi=Cn.ShowPropertiesMenuItem,$n=bn.Rotate,Pi=bn.RotateBackwardMenuItem,Ei=bn.RotateForwardMenuItem,Yi=En.SwitchScrollMode,Wi=En.SwitchScrollModeMenuItem,ir=En.SwitchViewMode,Mi=En.SwitchViewModeMenuItem,Xi=yn.Search,er=yn.ShowSearchPopover,Mr=xn.SwitchSelectionMode,_i=xn.SwitchSelectionModeMenuItem,Qn=vn.SwitchTheme,ti=vn.SwitchThemeMenuItem,Bi=kn.CurrentScale,Vi=kn.Zoom,Qi=kn.ZoomIn,Fn=kn.ZoomInMenuItem,pi=kn.ZoomOut,Ti=kn.ZoomOutMenuItem;return Ue.createElement(tn,pn({},on,{slot:{CurrentPageInput:Xn,CurrentPageLabel:li,CurrentScale:Bi,Download:Tn,DownloadMenuItem:Pn,EnterFullScreen:ln,EnterFullScreenMenuItem:_n,GoToFirstPage:oi,GoToFirstPageMenuItem:di,GoToLastPage:vi,GoToLastPageMenuItem:yi,GoToNextPage:Zn,GoToNextPageMenuItem:Gn,GoToPreviousPage:wn,GoToPreviousPageMenuItem:Ln,NumberOfPages:Wn,Open:Rn,OpenMenuItem:Dn,Print:Bn,PrintMenuItem:Yn,Rotate:$n,RotateBackwardMenuItem:Pi,RotateForwardMenuItem:Ei,Search:Xi,ShowProperties:fi,ShowPropertiesMenuItem:gi,ShowSearchPopover:er,SwitchScrollMode:Yi,SwitchScrollModeMenuItem:Wi,SwitchSelectionMode:Mr,SwitchSelectionModeMenuItem:_i,SwitchViewMode:ir,SwitchViewModeMenuItem:Mi,SwitchTheme:Qn,SwitchThemeMenuItem:ti,Zoom:Vi,ZoomIn:Qi,ZoomInMenuItem:Fn,ZoomOut:pi,ZoomOutMenuItem:Ti}}))},[]);return{fullScreenPluginInstance:an,getFilePluginInstance:gn,openPluginInstance:Ke,pageNavigationPluginInstance:sn,printPluginInstance:hn,propertiesPluginInstance:Cn,rotatePluginInstance:bn,scrollModePluginInstance:En,searchPluginInstance:yn,selectionModePluginInstance:xn,themePluginInstance:vn,zoomPluginInstance:kn,install:function(on){Sn.forEach(function(ln){ln.install&&ln.install(on)})},renderPageLayer:function(on){return Ue.createElement(Ue.Fragment,null,Sn.map(function(ln,_n){return ln.renderPageLayer?Ue.createElement(Ue.Fragment,{key:_n},ln.renderPageLayer(on)):Ue.createElement(Ue.Fragment,{key:_n})}))},renderViewer:function(on){var ln=on.slot;return Sn.forEach(function(_n){_n.renderViewer&&(ln=_n.renderViewer(pn(pn({},on),{slot:ln})))}),ln},uninstall:function(on){Sn.forEach(function(ln){ln.uninstall&&ln.uninstall(on)})},onDocumentLoad:function(on){Sn.forEach(function(ln){ln.onDocumentLoad&&ln.onDocumentLoad(on)})},onAnnotationLayerRender:function(on){Sn.forEach(function(ln){ln.onAnnotationLayerRender&&ln.onAnnotationLayerRender(on)})},onTextLayerRender:function(on){Sn.forEach(function(ln){ln.onTextLayerRender&&ln.onTextLayerRender(on)})},onViewerStateChange:function(on){var ln=on;return Sn.forEach(function(_n){_n.onViewerStateChange&&(ln=_n.onViewerStateChange(ln))}),ln},renderDefaultToolbar:nn,Toolbar:fn}},toolbar_min}var hasRequiredLib$1;function requireLib$1(){if(hasRequiredLib$1)return lib$c.exports;hasRequiredLib$1=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$c.exports=requireToolbar_min(),lib$c.exports}var hasRequiredDefaultLayout_min;function requireDefaultLayout_min(){if(hasRequiredDefaultLayout_min)return defaultLayout_min;hasRequiredDefaultLayout_min=1;var Ae=requireLib$h(),_e=requireReact(),ke=requireLib$g(),Re=requireLib$f(),Ie=requireLib$e(),Fe=requireLib$1();function Ne(Ue){var Ye=Object.create(null);return Ue&&Object.keys(Ue).forEach(function(Ze){if(Ze!=="default"){var Qe=Object.getOwnPropertyDescriptor(Ue,Ze);Object.defineProperty(Ye,Ze,Qe.get?Qe:{enumerable:!0,get:function(){return Ue[Ze]}})}}),Ye.default=Ue,Object.freeze(Ye)}var je=Ne(_e),Be=function(){return je.createElement(Ae.Icon,{size:16},je.createElement("path",{d:`M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3
            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5
            c0.552,0,1,0.448,1,1L11.5,10.5z
            M14.5,6.499h6
            M14.5,10.499h6
            M3.5,14.499h17
            M3.5,18.499h16.497`}))},He=function(){return He=Object.assign||function(Ue){for(var Ye,Ze=1,Qe=arguments.length;Ze<Qe;Ze++)for(var pn in Ye=arguments[Ze])Object.prototype.hasOwnProperty.call(Ye,pn)&&(Ue[pn]=Ye[pn]);return Ue},He.apply(this,arguments)},We=function(){return je.createElement(Ae.Icon,{size:16},je.createElement("path",{d:`M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883
            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0
            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9`}))},Ge=function(){return je.createElement(Ae.Icon,{size:16},je.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},Xe={left:8,top:0},$e={left:-8,top:0},qe=function(Ue){var Ye=Ue.attachmentTabContent,Ze=Ue.bookmarkTabContent,Qe=Ue.store,pn=Ue.thumbnailTabContent,nn=Ue.tabs,rn=je.useRef(),cn=je.useContext(Ae.LocalizationContext).l10n,tn=je.useState(Qe.get("isCurrentTabOpened")||!1),Je=tn[0],an=tn[1],gn=je.useState(Math.max(Qe.get("currentTab")||0,0)),Ke=gn[0],sn=gn[1],hn=je.useContext(Ae.ThemeContext).direction===Ae.TextDirection.RightToLeft,Cn=[{content:pn,icon:je.createElement(Ge,null),title:cn&&cn.defaultLayout?cn.defaultLayout.thumbnail:"Thumbnail"},{content:Ze,icon:je.createElement(Be,null),title:cn&&cn.defaultLayout?cn.defaultLayout.bookmark:"Bookmark"},{content:Ye,icon:je.createElement(We,null),title:cn&&cn.defaultLayout?cn.defaultLayout.attachment:"Attachment"}],bn=nn?nn(Cn):Cn,En=function(xn){xn>=0&&xn<=bn.length-1&&(Qe.update("isCurrentTabOpened",!0),sn(xn))},yn=function(xn){an(xn)};return je.useEffect(function(){return Qe.subscribe("currentTab",En),Qe.subscribe("isCurrentTabOpened",yn),function(){Qe.unsubscribe("currentTab",En),Qe.unsubscribe("isCurrentTabOpened",yn)}},[]),bn.length===0?je.createElement(je.Fragment,null):je.createElement(je.Fragment,null,je.createElement("div",{"data-testid":"default-layout__sidebar",className:Ae.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":Je,"rpv-default-layout__sidebar--ltr":!hn,"rpv-default-layout__sidebar--rtl":hn}),ref:rn},je.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},je.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},bn.map(function(xn,vn){return je.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":Ke===vn,key:vn,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat(vn),role:"tab"},je.createElement(Ae.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat(vn),position:hn?Ae.Position.LeftCenter:Ae.Position.RightCenter,target:je.createElement(Ae.MinimalButton,{ariaLabel:xn.title,isSelected:Ke===vn,onClick:function(){return function(kn){if(Ke===kn){Qe.update("isCurrentTabOpened",!Qe.get("isCurrentTabOpened"));var Sn=rn.current;Sn&&Sn.style.width&&Sn.style.removeProperty("width")}else Qe.update("currentTab",kn)}(vn)}},xn.icon),content:function(){return xn.title},offset:hn?$e:Xe}))})),je.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(Ke),id:"rpv-default-layout__sidebar-content",className:Ae.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":Je,"rpv-default-layout__sidebar-content--ltr":!hn,"rpv-default-layout__sidebar-content--rtl":hn}),role:"tabpanel",tabIndex:-1},bn[Ke].content))),Je&&je.createElement(Ae.Splitter,{constrain:function(xn){return xn.firstHalfPercentage>=20&&xn.firstHalfPercentage<=80}}))};return defaultLayout_min.BookmarkIcon=Be,defaultLayout_min.FileIcon=We,defaultLayout_min.ThumbnailIcon=Ge,defaultLayout_min.defaultLayoutPlugin=function(Ue){var Ye=je.useMemo(function(){return Ae.createStore({isCurrentTabOpened:!1,currentTab:0})},[]),Ze=ke.attachmentPlugin(),Qe=Re.bookmarkPlugin(),pn=Ie.thumbnailPlugin(Ue?Ue.thumbnailPlugin:{}),nn=Fe.toolbarPlugin(Ue?Ue.toolbarPlugin:{}),rn=Ze.Attachments,cn=Qe.Bookmarks,tn=pn.Thumbnails,Je=nn.Toolbar,an=Ue?Ue.sidebarTabs:function(Ke){return Ke},gn=[Ze,Qe,pn,nn];return{attachmentPluginInstance:Ze,bookmarkPluginInstance:Qe,thumbnailPluginInstance:pn,toolbarPluginInstance:nn,activateTab:function(Ke){Ye.update("currentTab",Ke)},toggleTab:function(Ke){var sn=Ye.get("currentTab");Ye.update("isCurrentTabOpened",!Ye.get("isCurrentTabOpened")),sn!==Ke&&Ye.update("currentTab",Ke)},install:function(Ke){gn.forEach(function(sn){sn.install&&sn.install(Ke)})},renderPageLayer:function(Ke){return je.createElement(je.Fragment,null,gn.map(function(sn,hn){return sn.renderPageLayer?je.createElement(je.Fragment,{key:hn},sn.renderPageLayer(Ke)):je.createElement(je.Fragment,{key:hn},je.createElement(je.Fragment,null))}))},renderViewer:function(Ke){var sn=Ke.slot;gn.forEach(function(Cn){Cn.renderViewer&&(sn=Cn.renderViewer(He(He({},Ke),{slot:sn})))});var hn=sn.subSlot&&sn.subSlot.attrs?{className:sn.subSlot.attrs.className,"data-testid":sn.subSlot.attrs["data-testid"],ref:sn.subSlot.attrs.ref,style:sn.subSlot.attrs.style}:{};return sn.children=je.createElement("div",{className:"rpv-default-layout__container"},je.createElement("div",{"data-testid":"default-layout__main",className:Ae.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":Ke.themeContext.direction===Ae.TextDirection.RightToLeft})},je.createElement(qe,{attachmentTabContent:je.createElement(rn,null),bookmarkTabContent:je.createElement(cn,null),store:Ye,thumbnailTabContent:je.createElement(tn,null),tabs:an}),je.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},je.createElement("div",{className:"rpv-default-layout__toolbar"},Ue&&Ue.renderToolbar?Ue.renderToolbar(Je):je.createElement(Je,null)),je.createElement("div",He({},hn),sn.subSlot.children))),sn.children),sn.subSlot.attrs={},sn.subSlot.children=je.createElement(je.Fragment,null),sn},uninstall:function(Ke){gn.forEach(function(sn){sn.uninstall&&sn.uninstall(Ke)})},onDocumentLoad:function(Ke){gn.forEach(function(sn){sn.onDocumentLoad&&sn.onDocumentLoad(Ke)}),Ue&&Ue.setInitialTab&&Ue.setInitialTab(Ke.doc).then(function(sn){Ye.update("currentTab",sn),Ye.update("isCurrentTabOpened",!0)})},onAnnotationLayerRender:function(Ke){gn.forEach(function(sn){sn.onAnnotationLayerRender&&sn.onAnnotationLayerRender(Ke)})},onTextLayerRender:function(Ke){gn.forEach(function(sn){sn.onTextLayerRender&&sn.onTextLayerRender(Ke)})},onViewerStateChange:function(Ke){var sn=Ke;return gn.forEach(function(hn){hn.onViewerStateChange&&(sn=hn.onViewerStateChange(sn))}),sn}}},defaultLayout_min.setInitialTabFromPageMode=function(Ue){return new Promise(function(Ye,Ze){Ue.getPageMode().then(function(Qe){if(Qe)switch(Qe){case Ae.PageMode.Attachments:Ye(2);break;case Ae.PageMode.Bookmarks:Ye(1);break;case Ae.PageMode.Thumbnails:Ye(0);break;default:Ye(-1)}else Ye(-1)})})},defaultLayout_min}var hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib$g.exports;hasRequiredLib=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$g.exports=requireDefaultLayout_min(),lib$g.exports}var libExports=requireLib();const PDFViewer=({url:Ae})=>{const _e=libExports.defaultLayoutPlugin({toolbarPlugin:{downloadPlugin:{enableDownload:!1}}});return jsxRuntimeExports.jsx(libExports$1.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js",children:jsxRuntimeExports.jsx("div",{style:{height:"750px"},children:jsxRuntimeExports.jsx(libExports$1.Viewer,{fileUrl:Ae,plugins:[_e]})})})},PDFComp=Ae=>jsxRuntimeExports.jsxs("div",{role:"button",className:"pdf-comp iconbtn",onClick:()=>Ae.func(Ae.url),children:[jsxRuntimeExports.jsx("i",{className:`bi bi-${Ae.icon}`}),jsxRuntimeExports.jsx("p",{children:Ae.title})]}),Certificates=()=>{const[Ae,_e]=reactExports.useState("./docs/certificado_poo.pdf");return jsxRuntimeExports.jsxs("div",{className:"certificates",children:[jsxRuntimeExports.jsx("h1",{children:data.certificates.title}),jsxRuntimeExports.jsx("p",{children:data.certificates.text}),jsxRuntimeExports.jsx("div",{className:"row",children:jsxRuntimeExports.jsx("div",{className:"col-md-12",children:jsxRuntimeExports.jsxs("div",{className:"row",children:[jsxRuntimeExports.jsx("div",{className:"col-md-6",children:jsxRuntimeExports.jsx("div",{className:"pdf-container",children:jsxRuntimeExports.jsx(PDFViewer,{url:Ae})})}),jsxRuntimeExports.jsx("div",{className:"col-md-6 mt-5",children:jsxRuntimeExports.jsx("div",{className:"row mt-5 mb-5",children:data.certificates.list.map((ke,Re)=>jsxRuntimeExports.jsx("div",{className:"col-6",children:jsxRuntimeExports.jsx(PDFComp,{icon:ke.icon,title:ke.name,url:ke.href,func:_e})},Re))})})]})})})]})},Contact=()=>jsxRuntimeExports.jsxs("div",{className:"contact",children:[jsxRuntimeExports.jsx("h1",{children:data.contact.title}),jsxRuntimeExports.jsxs("div",{className:"row",children:[jsxRuntimeExports.jsx("div",{className:"col-3"}),jsxRuntimeExports.jsxs("div",{className:"col-6",children:[jsxRuntimeExports.jsxs("div",{className:"row contact-icons",children:[jsxRuntimeExports.jsx("div",{className:"col-4",children:jsxRuntimeExports.jsx("h1",{onClick:()=>window.open("https://instagram.com/honey.vapor","_blank","noopener,noreferrer"),children:jsxRuntimeExports.jsx("i",{className:"bi bi-instagram iconbtn",role:"button"})})}),jsxRuntimeExports.jsx("div",{className:"col-4",children:jsxRuntimeExports.jsx("h1",{onClick:()=>window.open("https://wa.me/5213332330113?text=Hola HoneyVapor, me interesa tu trabajo","_blank","noopener,noreferrer"),children:jsxRuntimeExports.jsx("i",{className:"bi bi-whatsapp iconbtn",role:"button"})})}),jsxRuntimeExports.jsx("div",{className:"col-4",children:jsxRuntimeExports.jsx("h1",{onClick:()=>window.open("https://github.com/HoneyVapor/","_blank","noopener,noreferrer"),children:jsxRuntimeExports.jsx("i",{className:"bi bi-github iconbtn",role:"button"})})})]}),jsxRuntimeExports.jsx("h3",{children:data.contact.text})]}),jsxRuntimeExports.jsx("div",{className:"col-3"}),jsxRuntimeExports.jsx("h3",{className:"email",children:jsxRuntimeExports.jsx(Typewriter,{text:data.contact.email,delay:500})})]})]}),t=(Ae,_e=1e4)=>(Ae=parseFloat(Ae+"")||0,Math.round((Ae+Number.EPSILON)*_e)/_e),e=function(Ae){if(!(Ae&&Ae instanceof Element&&Ae.offsetParent))return!1;const _e=Ae.scrollHeight>Ae.clientHeight,ke=window.getComputedStyle(Ae).overflowY,Re=ke.indexOf("hidden")!==-1,Ie=ke.indexOf("visible")!==-1;return _e&&!Re&&!Ie},i=function(Ae,_e=void 0){return!(!Ae||Ae===document.body||_e&&Ae===_e)&&(e(Ae)?Ae:i(Ae.parentElement,_e))},n=function(Ae){var _e=new DOMParser().parseFromString(Ae,"text/html").body;if(_e.childElementCount>1){for(var ke=document.createElement("div");_e.firstChild;)ke.appendChild(_e.firstChild);return ke}return _e.firstChild},s=Ae=>`${Ae||""}`.split(" ").filter(_e=>!!_e),o=(Ae,_e,ke)=>{Ae&&s(_e).forEach(Re=>{Ae.classList.toggle(Re,ke||!1)})};class a{constructor(_e){Object.defineProperty(this,"pageX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nativePointer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=_e,this.pageX=_e.pageX,this.pageY=_e.pageY,this.clientX=_e.clientX,this.clientY=_e.clientY,this.id=self.Touch&&_e instanceof Touch?_e.identifier:-1,this.time=Date.now()}}const r={passive:!1};class l{constructor(_e,{start:ke=()=>!0,move:Re=()=>{},end:Ie=()=>{}}){Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"startPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=_e,this.startCallback=ke,this.moveCallback=Re,this.endCallback=Ie;for(const Fe of["onPointerStart","onTouchStart","onMove","onTouchEnd","onPointerEnd","onWindowBlur"])this[Fe]=this[Fe].bind(this);this.element.addEventListener("mousedown",this.onPointerStart,r),this.element.addEventListener("touchstart",this.onTouchStart,r),this.element.addEventListener("touchmove",this.onMove,r),this.element.addEventListener("touchend",this.onTouchEnd),this.element.addEventListener("touchcancel",this.onTouchEnd)}onPointerStart(_e){if(!_e.buttons||_e.button!==0)return;const ke=new a(_e);this.currentPointers.some(Re=>Re.id===ke.id)||this.triggerPointerStart(ke,_e)&&(window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseup",this.onPointerEnd),window.addEventListener("blur",this.onWindowBlur))}onTouchStart(_e){for(const ke of Array.from(_e.changedTouches||[]))this.triggerPointerStart(new a(ke),_e);window.addEventListener("blur",this.onWindowBlur)}onMove(_e){const ke=this.currentPointers.slice(),Re="changedTouches"in _e?Array.from(_e.changedTouches||[]).map(Fe=>new a(Fe)):[new a(_e)],Ie=[];for(const Fe of Re){const Ne=this.currentPointers.findIndex(je=>je.id===Fe.id);Ne<0||(Ie.push(Fe),this.currentPointers[Ne]=Fe)}Ie.length&&this.moveCallback(_e,this.currentPointers.slice(),ke)}onPointerEnd(_e){_e.buttons>0&&_e.button!==0||(this.triggerPointerEnd(_e,new a(_e)),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur))}onTouchEnd(_e){for(const ke of Array.from(_e.changedTouches||[]))this.triggerPointerEnd(_e,new a(ke))}triggerPointerStart(_e,ke){return!!this.startCallback(ke,_e,this.currentPointers.slice())&&(this.currentPointers.push(_e),this.startPointers.push(_e),!0)}triggerPointerEnd(_e,ke){const Re=this.currentPointers.findIndex(Ie=>Ie.id===ke.id);Re<0||(this.currentPointers.splice(Re,1),this.startPointers.splice(Re,1),this.endCallback(_e,ke,this.currentPointers.slice()))}onWindowBlur(){this.clear()}clear(){for(;this.currentPointers.length;){const _e=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event("touchend",{bubbles:!0,cancelable:!0,clientX:_e.clientX,clientY:_e.clientY}),_e,this.currentPointers.slice())}}stop(){this.element.removeEventListener("mousedown",this.onPointerStart,r),this.element.removeEventListener("touchstart",this.onTouchStart,r),this.element.removeEventListener("touchmove",this.onMove,r),this.element.removeEventListener("touchend",this.onTouchEnd),this.element.removeEventListener("touchcancel",this.onTouchEnd),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur)}}function c(Ae,_e){return _e?Math.sqrt(Math.pow(_e.clientX-Ae.clientX,2)+Math.pow(_e.clientY-Ae.clientY,2)):0}function h(Ae,_e){return _e?{clientX:(Ae.clientX+_e.clientX)/2,clientY:(Ae.clientY+_e.clientY)/2}:Ae}const d=Ae=>typeof Ae=="object"&&Ae!==null&&Ae.constructor===Object&&Object.prototype.toString.call(Ae)==="[object Object]",u=(Ae,..._e)=>{const ke=_e.length;for(let Re=0;Re<ke;Re++){const Ie=_e[Re]||{};Object.entries(Ie).forEach(([Fe,Ne])=>{const je=Array.isArray(Ne)?[]:{};Ae[Fe]||Object.assign(Ae,{[Fe]:je}),d(Ne)?Object.assign(Ae[Fe],u(je,Ne)):Array.isArray(Ne)?Object.assign(Ae,{[Fe]:[...Ne]}):Object.assign(Ae,{[Fe]:Ne})})}return Ae},p=function(Ae,_e){return Ae.split(".").reduce((ke,Re)=>typeof ke=="object"?ke[Re]:void 0,_e)};class f{constructor(_e={}){Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:_e}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(_e);for(const ke of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))ke.startsWith("on")&&typeof this[ke]=="function"&&(this[ke]=this[ke].bind(this))}setOptions(_e){this.options=_e?u({},this.constructor.defaults,_e):{};for(const[ke,Re]of Object.entries(this.option("on")||{}))this.on(ke,Re)}option(_e,...ke){let Re=p(_e,this.options);return Re&&typeof Re=="function"&&(Re=Re.call(this,this,...ke)),Re}optionFor(_e,ke,Re,...Ie){let Fe=p(ke,_e);var Ne;typeof(Ne=Fe)!="string"||isNaN(Ne)||isNaN(parseFloat(Ne))||(Fe=parseFloat(Fe)),Fe==="true"&&(Fe=!0),Fe==="false"&&(Fe=!1),Fe&&typeof Fe=="function"&&(Fe=Fe.call(this,this,_e,...Ie));let je=p(ke,this.options);return je&&typeof je=="function"?Fe=je.call(this,this,_e,...Ie,Fe):Fe===void 0&&(Fe=je),Fe===void 0?Re:Fe}cn(_e){const ke=this.options.classes;return ke&&ke[_e]||""}localize(_e,ke=[]){_e=String(_e).replace(/\{\{(\w+).?(\w+)?\}\}/g,(Re,Ie,Fe)=>{let Ne="";return Fe?Ne=this.option(`${Ie[0]+Ie.toLowerCase().substring(1)}.l10n.${Fe}`):Ie&&(Ne=this.option(`l10n.${Ie}`)),Ne||(Ne=Re),Ne});for(let Re=0;Re<ke.length;Re++)_e=_e.split(ke[Re][0]).join(ke[Re][1]);return _e=_e.replace(/\{\{(.*?)\}\}/g,(Re,Ie)=>Ie)}on(_e,ke){let Re=[];typeof _e=="string"?Re=_e.split(" "):Array.isArray(_e)&&(Re=_e),this.events||(this.events=new Map),Re.forEach(Ie=>{let Fe=this.events.get(Ie);Fe||(this.events.set(Ie,[]),Fe=[]),Fe.includes(ke)||Fe.push(ke),this.events.set(Ie,Fe)})}off(_e,ke){let Re=[];typeof _e=="string"?Re=_e.split(" "):Array.isArray(_e)&&(Re=_e),Re.forEach(Ie=>{const Fe=this.events.get(Ie);if(Array.isArray(Fe)){const Ne=Fe.indexOf(ke);Ne>-1&&Fe.splice(Ne,1)}})}emit(_e,...ke){[...this.events.get(_e)||[]].forEach(Re=>Re(this,...ke)),_e!=="*"&&this.emit("*",_e,...ke)}}Object.defineProperty(f,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(f,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});class g extends f{constructor(_e={}){super(_e),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}})}attachPlugins(_e={}){const ke=new Map;for(const[Re,Ie]of Object.entries(_e)){const Fe=this.option(Re),Ne=this.plugins[Re];Ne||Fe===!1?Ne&&Fe===!1&&(Ne.detach(),delete this.plugins[Re]):ke.set(Re,new Ie(this,Fe||{}))}for(const[Re,Ie]of ke)this.plugins[Re]=Ie,Ie.attach()}detachPlugins(_e){_e=_e||Object.keys(this.plugins);for(const ke of _e){const Re=this.plugins[ke];Re&&Re.detach(),delete this.plugins[ke]}return this.emit("detachPlugins"),this}}var m;(function(Ae){Ae[Ae.Init=0]="Init",Ae[Ae.Error=1]="Error",Ae[Ae.Ready=2]="Ready",Ae[Ae.Panning=3]="Panning",Ae[Ae.Mousemove=4]="Mousemove",Ae[Ae.Destroy=5]="Destroy"})(m||(m={}));const v=["a","b","c","d","e","f"],b={PANUP:"Move up",PANDOWN:"Move down",PANLEFT:"Move left",PANRIGHT:"Move right",ZOOMIN:"Zoom in",ZOOMOUT:"Zoom out",TOGGLEZOOM:"Toggle zoom level",TOGGLE1TO1:"Toggle zoom level",ITERATEZOOM:"Toggle zoom level",ROTATECCW:"Rotate counterclockwise",ROTATECW:"Rotate clockwise",FLIPX:"Flip horizontally",FLIPY:"Flip vertically",FITX:"Fit horizontally",FITY:"Fit vertically",RESET:"Reset",TOGGLEFS:"Toggle fullscreen"},y={content:null,width:"auto",height:"auto",panMode:"drag",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:"auto",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:"toggleZoom",dblClick:!1,wheel:"zoom",wheelLimit:7,spinner:!0,bounds:"auto",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:"f-panzoom__content",isLoading:"is-loading",canZoomIn:"can-zoom_in",canZoomOut:"can-zoom_out",isDraggable:"is-draggable",isDragging:"is-dragging",inFullscreen:"in-fullscreen",htmlHasFullscreen:"with-panzoom-in-fullscreen"},l10n:b},w='<circle cx="25" cy="25" r="20"></circle>',x='<div class="f-spinner"><svg viewBox="0 0 50 50">'+w+w+"</svg></div>",E=Ae=>Ae&&Ae!==null&&Ae instanceof Element&&"nodeType"in Ae,S=(Ae,_e)=>{Ae&&s(_e).forEach(ke=>{Ae.classList.remove(ke)})},P=(Ae,_e)=>{Ae&&s(_e).forEach(ke=>{Ae.classList.add(ke)})},C={a:1,b:0,c:0,d:1,e:0,f:0},T=1e5,M=1e4,O="mousemove",A="drag",L="content",z="auto";let R=null,k=null;class I extends g{get fits(){return this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1}get isTouchDevice(){return k===null&&(k=window.matchMedia("(hover: none)").matches),k}get isMobile(){return R===null&&(R=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),R}get panMode(){return this.options.panMode!==O||this.isTouchDevice?A:O}get panOnlyZoomed(){const _e=this.options.panOnlyZoomed;return _e===z?this.isTouchDevice:_e}get isInfinite(){return this.option("infinite")}get angle(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}get targetAngle(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}get scale(){const{a:_e,b:ke}=this.current;return Math.sqrt(_e*_e+ke*ke)||1}get targetScale(){const{a:_e,b:ke}=this.target;return Math.sqrt(_e*_e+ke*ke)||1}get minScale(){return this.option("minScale")||1}get fullScale(){const{contentRect:_e}=this;return _e.fullWidth/_e.fitWidth||1}get maxScale(){return this.fullScale*(this.option("maxScale")||1)||1}get coverScale(){const{containerRect:_e,contentRect:ke}=this,Re=Math.max(_e.height/ke.fitHeight,_e.width/ke.fitWidth)||1;return Math.min(this.fullScale,Re)}get isScaling(){return Math.abs(this.targetScale-this.scale)>1e-5&&!this.isResting}get isContentLoading(){const _e=this.content;return!!(_e&&_e instanceof HTMLImageElement)&&!_e.complete}get isResting(){if(this.isBouncingX||this.isBouncingY)return!1;for(const _e of v){const ke=_e=="e"||_e==="f"?1e-4:1e-5;if(Math.abs(this.target[_e]-this.current[_e])>ke)return!1}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}constructor(_e,ke={},Re={}){var Ie;if(super(ke),Object.defineProperty(this,"pointerTracker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"resizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"updateTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"rAF",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isTicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"clicks",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"trackingPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"cwd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"pmme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"friction",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:m.Init}),Object.defineProperty(this,"isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"spinner",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"containerRect",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(this,"contentRect",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(this,"dragStart",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(this,"dragOffset",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},C)}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},C)}),Object.defineProperty(this,"velocity",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(this,"lockedAxis",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!_e)throw new Error("Container Element Not Found");this.container=_e,this.initContent(),this.attachPlugins(Object.assign(Object.assign({},I.Plugins),Re)),this.emit("attachPlugins"),this.emit("init");const Fe=this.content;if(Fe.addEventListener("load",this.onLoad),Fe.addEventListener("error",this.onError),this.isContentLoading){if(this.option("spinner")){_e.classList.add(this.cn("isLoading"));const Ne=n(x);!_e.contains(Fe)||Fe.parentElement instanceof HTMLPictureElement?this.spinner=_e.appendChild(Ne):this.spinner=((Ie=Fe.parentElement)===null||Ie===void 0?void 0:Ie.insertBefore(Ne,Fe))||null}this.emit("beforeLoad")}else queueMicrotask(()=>{this.enable()})}initContent(){const{container:_e}=this,ke=this.cn(L);let Re=this.option(L)||_e.querySelector(`.${ke}`);if(Re||(Re=_e.querySelector("img,picture")||_e.firstElementChild,Re&&P(Re,ke)),Re instanceof HTMLPictureElement&&(Re=Re.querySelector("img")),!Re)throw new Error("No content found");this.content=Re}onLoad(){const{spinner:_e,container:ke,state:Re}=this;_e&&(_e.remove(),this.spinner=null),this.option("spinner")&&ke.classList.remove(this.cn("isLoading")),this.emit("afterLoad"),Re===m.Init?this.enable():this.updateMetrics()}onError(){this.state!==m.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=m.Error,this.emit("error"))}getNextScale(_e){const{fullScale:ke,targetScale:Re,coverScale:Ie,maxScale:Fe,minScale:Ne}=this;let je=Ne;switch(_e){case"toggleMax":je=Re-Ne<.5*(Fe-Ne)?Fe:Ne;break;case"toggleCover":je=Re-Ne<.5*(Ie-Ne)?Ie:Ne;break;case"toggleZoom":je=Re-Ne<.5*(ke-Ne)?ke:Ne;break;case"iterateZoom":let Be=[1,ke,Fe].sort((We,Ge)=>We-Ge),He=Be.findIndex(We=>We>Re+1e-5);je=Be[He]||1}return je}attachObserver(){var _e;const ke=()=>{const{container:Re,containerRect:Ie}=this;return Math.abs(Ie.width-Re.getBoundingClientRect().width)>.1||Math.abs(Ie.height-Re.getBoundingClientRect().height)>.1};this.resizeObserver||window.ResizeObserver===void 0||(this.resizeObserver=new ResizeObserver(()=>{this.updateTimer||(ke()?(this.onResize(),this.isMobile&&(this.updateTimer=setTimeout(()=>{ke()&&this.onResize(),this.updateTimer=null},500))):this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null))})),(_e=this.resizeObserver)===null||_e===void 0||_e.observe(this.container)}detachObserver(){var _e;(_e=this.resizeObserver)===null||_e===void 0||_e.disconnect()}attachEvents(){const{container:_e}=this;_e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),_e.addEventListener("wheel",this.onWheel,{passive:!1}),this.pointerTracker=new l(_e,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener(O,this.onMouseMove)}detachEvents(){var _e;const{container:ke}=this;ke.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),ke.removeEventListener("wheel",this.onWheel,{passive:!1}),(_e=this.pointerTracker)===null||_e===void 0||_e.stop(),this.pointerTracker=null,document.removeEventListener(O,this.onMouseMove),document.removeEventListener("keydown",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)}animate(){this.setTargetForce();const _e=this.friction,ke=this.option("maxVelocity");for(const Re of v)_e?(this.velocity[Re]*=1-_e,ke&&!this.isScaling&&(this.velocity[Re]=Math.max(Math.min(this.velocity[Re],ke),-1*ke)),this.current[Re]+=this.velocity[Re]):this.current[Re]=this.target[Re];this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame(()=>this.animate()):this.stop("current")}setTargetForce(){for(const _e of v)_e==="e"&&this.isBouncingX||_e==="f"&&this.isBouncingY||(this.velocity[_e]=(1/(1-this.friction)-1)*(this.target[_e]-this.current[_e]))}checkBounds(_e=0,ke=0){const{current:Re}=this,Ie=Re.e+_e,Fe=Re.f+ke,Ne=this.getBounds(),{x:je,y:Be}=Ne,He=je.min,We=je.max,Ge=Be.min,Xe=Be.max;let $e=0,qe=0;return He!==1/0&&Ie<He?$e=He-Ie:We!==1/0&&Ie>We&&($e=We-Ie),Ge!==1/0&&Fe<Ge?qe=Ge-Fe:Xe!==1/0&&Fe>Xe&&(qe=Xe-Fe),Math.abs($e)<1e-4&&($e=0),Math.abs(qe)<1e-4&&(qe=0),Object.assign(Object.assign({},Ne),{xDiff:$e,yDiff:qe,inBounds:!$e&&!qe})}clampTargetBounds(){const{target:_e}=this,{x:ke,y:Re}=this.getBounds();ke.min!==1/0&&(_e.e=Math.max(_e.e,ke.min)),ke.max!==1/0&&(_e.e=Math.min(_e.e,ke.max)),Re.min!==1/0&&(_e.f=Math.max(_e.f,Re.min)),Re.max!==1/0&&(_e.f=Math.min(_e.f,Re.max))}calculateContentDim(_e=this.current){const{content:ke,contentRect:Re}=this,{fitWidth:Ie,fitHeight:Fe,fullWidth:Ne,fullHeight:je}=Re;let Be=Ne,He=je;if(this.option("zoom")||this.angle!==0){const We=!(ke instanceof HTMLImageElement)&&(window.getComputedStyle(ke).maxWidth==="none"||window.getComputedStyle(ke).maxHeight==="none"),Ge=We?Ne:Ie,Xe=We?je:Fe,$e=this.getMatrix(_e),qe=new DOMPoint(0,0).matrixTransform($e),Ue=new DOMPoint(0+Ge,0).matrixTransform($e),Ye=new DOMPoint(0+Ge,0+Xe).matrixTransform($e),Ze=new DOMPoint(0,0+Xe).matrixTransform($e),Qe=Math.abs(Ye.x-qe.x),pn=Math.abs(Ye.y-qe.y),nn=Math.abs(Ze.x-Ue.x),rn=Math.abs(Ze.y-Ue.y);Be=Math.max(Qe,nn),He=Math.max(pn,rn)}return{contentWidth:Be,contentHeight:He}}setEdgeForce(){if(this.ignoreBounds||this.isDragging||this.panMode===O||this.targetScale<this.scale)return this.isBouncingX=!1,void(this.isBouncingY=!1);const{target:_e}=this,{x:ke,y:Re,xDiff:Ie,yDiff:Fe}=this.checkBounds(),Ne=this.option("maxVelocity");let je=this.velocity.e,Be=this.velocity.f;Ie!==0?(this.isBouncingX=!0,Ie*je<=0?je+=.14*Ie:(je=.14*Ie,ke.min!==1/0&&(this.target.e=Math.max(_e.e,ke.min)),ke.max!==1/0&&(this.target.e=Math.min(_e.e,ke.max))),Ne&&(je=Math.max(Math.min(je,Ne),-1*Ne))):this.isBouncingX=!1,Fe!==0?(this.isBouncingY=!0,Fe*Be<=0?Be+=.14*Fe:(Be=.14*Fe,Re.min!==1/0&&(this.target.f=Math.max(_e.f,Re.min)),Re.max!==1/0&&(this.target.f=Math.min(_e.f,Re.max))),Ne&&(Be=Math.max(Math.min(Be,Ne),-1*Ne))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=je),this.isBouncingY&&(this.velocity.f=Be)}enable(){const{content:_e}=this,ke=new DOMMatrixReadOnly(window.getComputedStyle(_e).transform);for(const Re of v)this.current[Re]=this.target[Re]=ke[Re];this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=m.Ready,this.emit("ready")}onClick(_e){var ke;_e.type==="click"&&_e.detail===0&&(this.dragOffset.x=0,this.dragOffset.y=0),this.isDragging&&((ke=this.pointerTracker)===null||ke===void 0||ke.clear(),this.trackingPoints=[],this.startDecelAnim());const Re=_e.target;if(!Re||_e.defaultPrevented)return;if(Re.hasAttribute("disabled"))return _e.preventDefault(),void _e.stopPropagation();if((()=>{const $e=window.getSelection();return $e&&$e.type==="Range"})()&&!Re.closest("button"))return;const Ie=Re.closest("[data-panzoom-action]"),Fe=Re.closest("[data-panzoom-change]"),Ne=Ie||Fe,je=Ne&&E(Ne)?Ne.dataset:null;if(je){const $e=je.panzoomChange,qe=je.panzoomAction;if(($e||qe)&&_e.preventDefault(),$e){let Ue={};try{Ue=JSON.parse($e)}catch{console&&console.warn("The given data was not valid JSON")}return void this.applyChange(Ue)}if(qe)return void(this[qe]&&this[qe]())}if(Math.abs(this.dragOffset.x)>3||Math.abs(this.dragOffset.y)>3)return _e.preventDefault(),void _e.stopPropagation();if(Re.closest("[data-fancybox]"))return;const Be=this.content.getBoundingClientRect(),He=this.dragStart;if(He.time&&!this.canZoomOut()&&(Math.abs(Be.x-He.x)>2||Math.abs(Be.y-He.y)>2))return;this.dragStart.time=0;const We=$e=>{this.option("zoom",_e)&&$e&&typeof $e=="string"&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test($e)&&typeof this[$e]=="function"&&(_e.preventDefault(),this[$e]({event:_e}))},Ge=this.option("click",_e),Xe=this.option("dblClick",_e);Xe?(this.clicks++,this.clicks==1&&(this.clickTimer=setTimeout(()=>{this.clicks===1?(this.emit("click",_e),!_e.defaultPrevented&&Ge&&We(Ge)):(this.emit("dblClick",_e),_e.defaultPrevented||We(Xe)),this.clicks=0,this.clickTimer=null},350))):(this.emit("click",_e),!_e.defaultPrevented&&Ge&&We(Ge))}addTrackingPoint(_e){const ke=this.trackingPoints.filter(Re=>Re.time>Date.now()-100);ke.push(_e),this.trackingPoints=ke}onPointerDown(_e,ke,Re){var Ie;if(this.option("touch",_e)===!1)return!1;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];const Fe=this.content.getBoundingClientRect();if(this.dragStart={x:Fe.x,y:Fe.y,top:Fe.top,left:Fe.left,time:Date.now()},this.clickTimer)return!1;if(this.panMode===O&&this.targetScale>1)return _e.preventDefault(),_e.stopPropagation(),!1;const Ne=_e.composedPath()[0];if(!Re.length){if(["TEXTAREA","OPTION","INPUT","SELECT","VIDEO","IFRAME"].includes(Ne.nodeName)||Ne.closest("[contenteditable],[data-selectable],[data-draggable],[data-clickable],[data-panzoom-change],[data-panzoom-action]"))return!1;(Ie=window.getSelection())===null||Ie===void 0||Ie.removeAllRanges()}if(_e.type==="mousedown")["A","BUTTON"].includes(Ne.nodeName)||_e.preventDefault();else if(Math.abs(this.velocity.a)>.3)return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(ke),this.emit("touchStart",_e)),!0}onPointerMove(_e,ke,Re){if(this.option("touch",_e)===!1||!this.isDragging||ke.length<2&&this.panOnlyZoomed&&t(this.targetScale)<=t(this.minScale)||(this.emit("touchMove",_e),_e.defaultPrevented))return;this.addTrackingPoint(ke[0]);const{content:Ie}=this,Fe=h(Re[0],Re[1]),Ne=h(ke[0],ke[1]);let je=0,Be=0;if(ke.length>1){const pn=Ie.getBoundingClientRect();je=Fe.clientX-pn.left-.5*pn.width,Be=Fe.clientY-pn.top-.5*pn.height}const He=c(Re[0],Re[1]),We=c(ke[0],ke[1]);let Ge=He?We/He:1,Xe=Ne.clientX-Fe.clientX,$e=Ne.clientY-Fe.clientY;this.dragOffset.x+=Xe,this.dragOffset.y+=$e,this.dragOffset.time=Date.now()-this.dragStart.time;let qe=t(this.targetScale)===t(this.minScale)&&this.option("lockAxis");if(qe&&!this.lockedAxis)if(qe==="xy"||qe==="y"||_e.type==="touchmove"){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void _e.preventDefault();const pn=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=pn>45&&pn<135?"y":"x",this.dragOffset.x=0,this.dragOffset.y=0,Xe=0,$e=0}else this.lockedAxis=qe;if(i(_e.target,this.content)&&(qe="x",this.dragOffset.y=0),qe&&qe!=="xy"&&this.lockedAxis!==qe&&t(this.targetScale)===t(this.minScale))return;_e.cancelable&&_e.preventDefault(),this.container.classList.add(this.cn("isDragging"));const Ue=this.checkBounds(Xe,$e);this.option("rubberband")?(this.isInfinite!=="x"&&(Ue.xDiff>0&&Xe<0||Ue.xDiff<0&&Xe>0)&&(Xe*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*Ue.xDiff))),this.isInfinite!=="y"&&(Ue.yDiff>0&&$e<0||Ue.yDiff<0&&$e>0)&&($e*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*Ue.yDiff)))):(Ue.xDiff&&(Xe=0),Ue.yDiff&&($e=0));const Ye=this.targetScale,Ze=this.minScale,Qe=this.maxScale;Ye<.5*Ze&&(Ge=Math.max(Ge,Ze)),Ye>1.5*Qe&&(Ge=Math.min(Ge,Qe)),this.lockedAxis==="y"&&t(Ye)===t(Ze)&&(Xe=0),this.lockedAxis==="x"&&t(Ye)===t(Ze)&&($e=0),this.applyChange({originX:je,originY:Be,panX:Xe,panY:$e,scale:Ge,friction:this.option("dragFriction"),ignoreBounds:!0})}onPointerUp(_e,ke,Re){if(Re.length)return this.dragOffset.x=0,this.dragOffset.y=0,void(this.trackingPoints=[]);this.container.classList.remove(this.cn("isDragging")),this.isDragging&&(this.addTrackingPoint(ke),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),i(_e.target,this.content)&&this.lockedAxis==="y"&&(this.trackingPoints=[]),this.emit("touchEnd",_e),this.isDragging=!1,this.lockedAxis=!1,this.state!==m.Destroy&&(_e.defaultPrevented||this.startDecelAnim()))}startDecelAnim(){var _e;const ke=this.isScaling;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const pn of v)this.velocity[pn]=0;this.target.e=this.current.e,this.target.f=this.current.f,S(this.container,"is-scaling"),S(this.container,"is-animating"),this.isTicking=!1;const{trackingPoints:Re}=this,Ie=Re[0],Fe=Re[Re.length-1];let Ne=0,je=0,Be=0;Fe&&Ie&&(Ne=Fe.clientX-Ie.clientX,je=Fe.clientY-Ie.clientY,Be=Fe.time-Ie.time);const He=((_e=window.visualViewport)===null||_e===void 0?void 0:_e.scale)||1;He!==1&&(Ne*=He,je*=He);let We=0,Ge=0,Xe=0,$e=0,qe=this.option("decelFriction");const Ue=this.targetScale;if(Be>0){Xe=Math.abs(Ne)>3?Ne/(Be/30):0,$e=Math.abs(je)>3?je/(Be/30):0;const pn=this.option("maxVelocity");pn&&(Xe=Math.max(Math.min(Xe,pn),-1*pn),$e=Math.max(Math.min($e,pn),-1*pn))}Xe&&(We=Xe/(1/(1-qe)-1)),$e&&(Ge=$e/(1/(1-qe)-1)),(this.option("lockAxis")==="y"||this.option("lockAxis")==="xy"&&this.lockedAxis==="y"&&t(Ue)===this.minScale)&&(We=Xe=0),(this.option("lockAxis")==="x"||this.option("lockAxis")==="xy"&&this.lockedAxis==="x"&&t(Ue)===this.minScale)&&(Ge=$e=0);const Ye=this.dragOffset.x,Ze=this.dragOffset.y,Qe=this.option("dragMinThreshold")||0;Math.abs(Ye)<Qe&&Math.abs(Ze)<Qe&&(We=Ge=0,Xe=$e=0),(this.option("zoom")&&(Ue<this.minScale-1e-5||Ue>this.maxScale+1e-5)||ke&&!We&&!Ge)&&(qe=.35),this.applyChange({panX:We,panY:Ge,friction:qe}),this.emit("decel",Xe,$e,Ye,Ze)}onWheel(_e){var ke=[-_e.deltaX||0,-_e.deltaY||0,-_e.detail||0].reduce(function(Fe,Ne){return Math.abs(Ne)>Math.abs(Fe)?Ne:Fe});const Re=Math.max(-1,Math.min(1,ke));if(this.emit("wheel",_e,Re),this.panMode===O||_e.defaultPrevented)return;const Ie=this.option("wheel");Ie==="pan"?(_e.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:2*-_e.deltaX,panY:2*-_e.deltaY,bounce:!1})):Ie==="zoom"&&this.option("zoom")!==!1&&this.zoomWithWheel(_e)}onMouseMove(_e){this.panWithMouse(_e)}onKeydown(_e){_e.key==="Escape"&&this.toggleFS()}onResize(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()}setTransform(){this.emit("beforeTransform");const{current:_e,target:ke,content:Re,contentRect:Ie}=this,Fe=Object.assign({},C);for(const Ye of v){const Ze=Ye=="e"||Ye==="f"?M:T;Fe[Ye]=t(_e[Ye],Ze),Math.abs(ke[Ye]-_e[Ye])<(Ye=="e"||Ye==="f"?.51:.001)&&(_e[Ye]=ke[Ye])}let{a:Ne,b:je,c:Be,d:He,e:We,f:Ge}=Fe,Xe=`matrix(${Ne}, ${je}, ${Be}, ${He}, ${We}, ${Ge})`,$e=Re.parentElement instanceof HTMLPictureElement?Re.parentElement:Re;if(this.option("transformParent")&&($e=$e.parentElement||$e),$e.style.transform===Xe)return;$e.style.transform=Xe;const{contentWidth:qe,contentHeight:Ue}=this.calculateContentDim();Ie.width=qe,Ie.height=Ue,this.emit("afterTransform")}updateMetrics(_e=!1){var ke;if(!this||this.state===m.Destroy||this.isContentLoading)return;const Re=Math.max(1,((ke=window.visualViewport)===null||ke===void 0?void 0:ke.scale)||1),{container:Ie,content:Fe}=this,Ne=Fe instanceof HTMLImageElement,je=Ie.getBoundingClientRect(),Be=getComputedStyle(this.container);let He=je.width*Re,We=je.height*Re;const Ge=parseFloat(Be.paddingTop)+parseFloat(Be.paddingBottom),Xe=He-(parseFloat(Be.paddingLeft)+parseFloat(Be.paddingRight)),$e=We-Ge;this.containerRect={width:He,height:We,innerWidth:Xe,innerHeight:$e};const qe=parseFloat(Fe.dataset.width||"")||(hn=>{let Cn=0;return Cn=hn instanceof HTMLImageElement?hn.naturalWidth:hn instanceof SVGElement?hn.width.baseVal.value:Math.max(hn.offsetWidth,hn.scrollWidth),Cn||0})(Fe),Ue=parseFloat(Fe.dataset.height||"")||(hn=>{let Cn=0;return Cn=hn instanceof HTMLImageElement?hn.naturalHeight:hn instanceof SVGElement?hn.height.baseVal.value:Math.max(hn.offsetHeight,hn.scrollHeight),Cn||0})(Fe);let Ye=this.option("width",qe)||z,Ze=this.option("height",Ue)||z;const Qe=Ye===z,pn=Ze===z;typeof Ye!="number"&&(Ye=qe),typeof Ze!="number"&&(Ze=Ue),Qe&&(Ye=qe*(Ze/Ue)),pn&&(Ze=Ue/(qe/Ye));let nn=Fe.parentElement instanceof HTMLPictureElement?Fe.parentElement:Fe;this.option("transformParent")&&(nn=nn.parentElement||nn);const rn=nn.getAttribute("style")||"";nn.style.setProperty("transform","none","important"),Ne&&(nn.style.width="",nn.style.height=""),nn.offsetHeight;const cn=Fe.getBoundingClientRect();let tn=cn.width*Re,Je=cn.height*Re,an=tn,gn=Je;tn=Math.min(tn,Ye),Je=Math.min(Je,Ze),Ne?{width:tn,height:Je}=((hn,Cn,bn,En)=>{const yn=bn/hn,xn=En/Cn,vn=Math.min(yn,xn);return{width:hn*=vn,height:Cn*=vn}})(Ye,Ze,tn,Je):(tn=Math.min(tn,Ye),Je=Math.min(Je,Ze));let Ke=.5*(gn-Je),sn=.5*(an-tn);this.contentRect=Object.assign(Object.assign({},this.contentRect),{top:cn.top-je.top+Ke,bottom:je.bottom-cn.bottom+Ke,left:cn.left-je.left+sn,right:je.right-cn.right+sn,fitWidth:tn,fitHeight:Je,width:tn,height:Je,fullWidth:Ye,fullHeight:Ze}),nn.style.cssText=rn,Ne&&(nn.style.width=`${tn}px`,nn.style.height=`${Je}px`),this.setTransform(),_e!==!0&&this.emit("refresh"),this.ignoreBounds||(t(this.targetScale)<t(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===m.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls()}calculateBounds(){const{contentWidth:_e,contentHeight:ke}=this.calculateContentDim(this.target),{targetScale:Re,lockedAxis:Ie}=this,{fitWidth:Fe,fitHeight:Ne}=this.contentRect;let je=0,Be=0,He=0,We=0;const Ge=this.option("infinite");if(Ge===!0||Ie&&Ge===Ie)je=-1/0,He=1/0,Be=-1/0,We=1/0;else{let{containerRect:Xe,contentRect:$e}=this,qe=t(Fe*Re,M),Ue=t(Ne*Re,M),{innerWidth:Ye,innerHeight:Ze}=Xe;if(Xe.width===qe&&(Ye=Xe.width),Xe.width===Ue&&(Ze=Xe.height),_e>Ye){He=.5*(_e-Ye),je=-1*He;let Qe=.5*($e.right-$e.left);je+=Qe,He+=Qe}if(Fe>Ye&&_e<Ye&&(je-=.5*(Fe-Ye),He-=.5*(Fe-Ye)),ke>Ze){We=.5*(ke-Ze),Be=-1*We;let Qe=.5*($e.bottom-$e.top);Be+=Qe,We+=Qe}Ne>Ze&&ke<Ze&&(je-=.5*(Ne-Ze),He-=.5*(Ne-Ze))}return{x:{min:je,max:He},y:{min:Be,max:We}}}getBounds(){const _e=this.option("bounds");return _e!==z?_e:this.calculateBounds()}updateControls(){const _e=this,ke=_e.container,{panMode:Re,contentRect:Ie,targetScale:Fe,minScale:Ne}=_e;let je=Ne,Be=_e.option("click")||!1;Be&&(je=_e.getNextScale(Be));let He=_e.canZoomIn(),We=_e.canZoomOut(),Ge=Re===A&&!!this.option("touch"),Xe=We&&Ge;if(Ge&&(t(Fe)<t(Ne)&&!this.panOnlyZoomed&&(Xe=!0),(t(Ie.width,1)>t(Ie.fitWidth,1)||t(Ie.height,1)>t(Ie.fitHeight,1))&&(Xe=!0)),t(Ie.width*Fe,1)<t(Ie.fitWidth,1)&&(Xe=!1),Re===O&&(Xe=!1),o(ke,this.cn("isDraggable"),Xe),!this.option("zoom"))return;let $e=He&&t(je)>t(Fe),qe=!$e&&!Xe&&We&&t(je)<t(Fe);o(ke,this.cn("canZoomIn"),$e),o(ke,this.cn("canZoomOut"),qe);for(const Ue of ke.querySelectorAll("[data-panzoom-action]")){let Ye=!1,Ze=!1;switch(Ue.dataset.panzoomAction){case"zoomIn":He?Ye=!0:Ze=!0;break;case"zoomOut":We?Ye=!0:Ze=!0;break;case"toggleZoom":case"iterateZoom":He||We?Ye=!0:Ze=!0;const Qe=Ue.querySelector("g");Qe&&(Qe.style.display=He?"":"none")}Ye?(Ue.removeAttribute("disabled"),Ue.removeAttribute("tabindex")):Ze&&(Ue.setAttribute("disabled",""),Ue.setAttribute("tabindex","-1"))}}panTo({x:_e=this.target.e,y:ke=this.target.f,scale:Re=this.targetScale,friction:Ie=this.option("friction"),angle:Fe=0,originX:Ne=0,originY:je=0,flipX:Be=!1,flipY:He=!1,ignoreBounds:We=!1}){this.state!==m.Destroy&&this.applyChange({panX:_e-this.target.e,panY:ke-this.target.f,scale:Re/this.targetScale,angle:Fe,originX:Ne,originY:je,friction:Ie,flipX:Be,flipY:He,ignoreBounds:We})}applyChange({panX:_e=0,panY:ke=0,scale:Re=1,angle:Ie=0,originX:Fe=-this.current.e,originY:Ne=-this.current.f,friction:je=this.option("friction"),flipX:Be=!1,flipY:He=!1,ignoreBounds:We=!1,bounce:Ge=this.option("bounce")}){const Xe=this.state;if(Xe===m.Destroy)return;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=je||0,this.ignoreBounds=We;const{current:$e}=this,qe=$e.e,Ue=$e.f,Ye=this.getMatrix(this.target);let Ze=new DOMMatrix().translate(qe,Ue).translate(Fe,Ne).translate(_e,ke);if(this.option("zoom")){if(!We){const Qe=this.targetScale,pn=this.minScale,nn=this.maxScale;Qe*Re<pn&&(Re=pn/Qe),Qe*Re>nn&&(Re=nn/Qe)}Ze=Ze.scale(Re)}Ze=Ze.translate(-Fe,-Ne).translate(-qe,-Ue).multiply(Ye),Ie&&(Ze=Ze.rotate(Ie)),Be&&(Ze=Ze.scale(-1,1)),He&&(Ze=Ze.scale(1,-1));for(const Qe of v)Qe!=="e"&&Qe!=="f"&&(Ze[Qe]>this.minScale+1e-5||Ze[Qe]<this.minScale-1e-5)?this.target[Qe]=Ze[Qe]:this.target[Qe]=t(Ze[Qe],M);(this.targetScale<this.scale||Math.abs(Re-1)>.1||this.panMode===O||Ge===!1)&&!We&&this.clampTargetBounds(),Xe===m.Init?this.animate():this.isResting||(this.state=m.Panning,this.requestTick())}stop(_e=!1){if(this.state===m.Init||this.state===m.Destroy)return;const ke=this.isTicking;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const Re of v)this.velocity[Re]=0,_e==="current"?this.current[Re]=this.target[Re]:_e==="target"&&(this.target[Re]=this.current[Re]);this.setTransform(),S(this.container,"is-scaling"),S(this.container,"is-animating"),this.isTicking=!1,this.state=m.Ready,ke&&(this.emit("endAnimation"),this.updateControls())}requestTick(){this.isTicking||(this.emit("startAnimation"),this.updateControls(),P(this.container,"is-animating"),this.isScaling&&P(this.container,"is-scaling")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame(()=>this.animate()))}panWithMouse(_e,ke=this.option("mouseMoveFriction")){if(this.pmme=_e,this.panMode!==O||!_e||t(this.targetScale)<=t(this.minScale))return;this.emit("mouseMove",_e);const{container:Re,containerRect:Ie,contentRect:Fe}=this,Ne=Ie.width,je=Ie.height,Be=Re.getBoundingClientRect(),He=(_e.clientX||0)-Be.left,We=(_e.clientY||0)-Be.top;let{contentWidth:Ge,contentHeight:Xe}=this.calculateContentDim(this.target);const $e=this.option("mouseMoveFactor");$e>1&&(Ge!==Ne&&(Ge*=$e),Xe!==je&&(Xe*=$e));let qe=.5*(Ge-Ne)-He/Ne*100/100*(Ge-Ne);qe+=.5*(Fe.right-Fe.left);let Ue=.5*(Xe-je)-We/je*100/100*(Xe-je);Ue+=.5*(Fe.bottom-Fe.top),this.applyChange({panX:qe-this.target.e,panY:Ue-this.target.f,friction:ke})}zoomWithWheel(_e){if(this.state===m.Destroy||this.state===m.Init)return;const ke=Date.now();if(ke-this.pwt<45)return void _e.preventDefault();this.pwt=ke;var Re=[-_e.deltaX||0,-_e.deltaY||0,-_e.detail||0].reduce(function(He,We){return Math.abs(We)>Math.abs(He)?We:He});const Ie=Math.max(-1,Math.min(1,Re)),{targetScale:Fe,maxScale:Ne,minScale:je}=this;let Be=Fe*(100+45*Ie)/100;t(Be)<t(je)&&t(Fe)<=t(je)?(this.cwd+=Math.abs(Ie),Be=je):t(Be)>t(Ne)&&t(Fe)>=t(Ne)?(this.cwd+=Math.abs(Ie),Be=Ne):(this.cwd=0,Be=Math.max(Math.min(Be,Ne),je)),this.cwd>this.option("wheelLimit")||(_e.preventDefault(),t(Be)!==t(Fe)&&this.zoomTo(Be,{event:_e}))}canZoomIn(){return this.option("zoom")&&(t(this.contentRect.width,1)<t(this.contentRect.fitWidth,1)||t(this.targetScale)<t(this.maxScale))}canZoomOut(){return this.option("zoom")&&t(this.targetScale)>t(this.minScale)}zoomIn(_e=1.25,ke){this.zoomTo(this.targetScale*_e,ke)}zoomOut(_e=.8,ke){this.zoomTo(this.targetScale*_e,ke)}zoomToFit(_e){this.zoomTo("fit",_e)}zoomToCover(_e){this.zoomTo("cover",_e)}zoomToFull(_e){this.zoomTo("full",_e)}zoomToMax(_e){this.zoomTo("max",_e)}toggleZoom(_e){this.zoomTo(this.getNextScale("toggleZoom"),_e)}toggleMax(_e){this.zoomTo(this.getNextScale("toggleMax"),_e)}toggleCover(_e){this.zoomTo(this.getNextScale("toggleCover"),_e)}iterateZoom(_e){this.zoomTo("next",_e)}zoomTo(_e=1,{friction:ke=z,originX:Re=z,originY:Ie=z,event:Fe}={}){if(this.isContentLoading||this.state===m.Destroy)return;const{targetScale:Ne,fullScale:je,maxScale:Be,coverScale:He}=this;if(this.stop(),this.panMode===O&&(Fe=this.pmme||Fe),Fe||Re===z||Ie===z){const Ge=this.content.getBoundingClientRect(),Xe=this.container.getBoundingClientRect(),$e=Fe?Fe.clientX:Xe.left+.5*Xe.width,qe=Fe?Fe.clientY:Xe.top+.5*Xe.height;Re=$e-Ge.left-.5*Ge.width,Ie=qe-Ge.top-.5*Ge.height}let We=1;typeof _e=="number"?We=_e:_e==="full"?We=je:_e==="cover"?We=He:_e==="max"?We=Be:_e==="fit"?We=1:_e==="next"&&(We=this.getNextScale("iterateZoom")),We=We/Ne||1,ke=ke===z?We>1?.15:.25:ke,this.applyChange({scale:We,originX:Re,originY:Ie,friction:ke}),Fe&&this.panMode===O&&this.panWithMouse(Fe,ke)}rotateCCW(){this.applyChange({angle:-90})}rotateCW(){this.applyChange({angle:90})}flipX(){this.applyChange({flipX:!0})}flipY(){this.applyChange({flipY:!0})}fitX(){this.stop("target");const{containerRect:_e,contentRect:ke,target:Re}=this;this.applyChange({panX:.5*_e.width-(ke.left+.5*ke.fitWidth)-Re.e,panY:.5*_e.height-(ke.top+.5*ke.fitHeight)-Re.f,scale:_e.width/ke.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}fitY(){this.stop("target");const{containerRect:_e,contentRect:ke,target:Re}=this;this.applyChange({panX:.5*_e.width-(ke.left+.5*ke.fitWidth)-Re.e,panY:.5*_e.innerHeight-(ke.top+.5*ke.fitHeight)-Re.f,scale:_e.height/ke.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}toggleFS(){const{container:_e}=this,ke=this.cn("inFullscreen"),Re=this.cn("htmlHasFullscreen");_e.classList.toggle(ke);const Ie=_e.classList.contains(ke);Ie?(document.documentElement.classList.add(Re),document.addEventListener("keydown",this.onKeydown,!0)):(document.documentElement.classList.remove(Re),document.removeEventListener("keydown",this.onKeydown,!0)),this.updateMetrics(),this.emit(Ie?"enterFS":"exitFS")}getMatrix(_e=this.current){const{a:ke,b:Re,c:Ie,d:Fe,e:Ne,f:je}=_e;return new DOMMatrix([ke,Re,Ie,Fe,Ne,je])}reset(_e){if(this.state!==m.Init&&this.state!==m.Destroy){this.stop("current");for(const ke of v)this.target[ke]=C[ke];this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=_e===void 0?this.option("friction"):_e,this.state=m.Panning,this.requestTick())}}destroy(){this.stop(),this.state=m.Destroy,this.detachEvents(),this.detachObserver();const{container:_e,content:ke}=this,Re=this.option("classes")||{};for(const Ie of Object.values(Re))_e.classList.remove(Ie+"");ke&&(ke.removeEventListener("load",this.onLoad),ke.removeEventListener("error",this.onError)),this.detachPlugins()}}Object.defineProperty(I,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:y}),Object.defineProperty(I,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}});const D=function(Ae,_e){let ke=!0;return(...Re)=>{ke&&(ke=!1,Ae(...Re),setTimeout(()=>{ke=!0},_e))}},F=(Ae,_e)=>{let ke=[];return Ae.childNodes.forEach(Re=>{Re.nodeType!==Node.ELEMENT_NODE||_e&&!Re.matches(_e)||ke.push(Re)}),ke},j={viewport:null,track:null,enabled:!0,slides:[],axis:"x",transition:"fade",preload:1,slidesPerPage:"auto",initialPage:0,friction:.12,Panzoom:{decelFriction:.12},center:!0,infinite:!0,fill:!0,dragFree:!1,adaptiveHeight:!1,direction:"ltr",classes:{container:"f-carousel",viewport:"f-carousel__viewport",track:"f-carousel__track",slide:"f-carousel__slide",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",inTransition:"in-transition",isSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}};var B;(function(Ae){Ae[Ae.Init=0]="Init",Ae[Ae.Ready=1]="Ready",Ae[Ae.Destroy=2]="Destroy"})(B||(B={}));const H=Ae=>{if(typeof Ae=="string"||Ae instanceof HTMLElement)Ae={html:Ae};else{const _e=Ae.thumb;_e!==void 0&&(typeof _e=="string"&&(Ae.thumbSrc=_e),_e instanceof HTMLImageElement&&(Ae.thumbEl=_e,Ae.thumbElSrc=_e.src,Ae.thumbSrc=_e.src),delete Ae.thumb)}return Object.assign({html:"",el:null,isDom:!1,class:"",customClass:"",index:-1,dim:0,gap:0,pos:0,transition:!1},Ae)},N=(Ae={})=>Object.assign({index:-1,slides:[],dim:0,pos:-1},Ae);class _ extends f{constructor(_e,ke){super(ke),Object.defineProperty(this,"instance",{enumerable:!0,configurable:!0,writable:!0,value:_e})}attach(){}detach(){}}const $={classes:{list:"f-carousel__dots",isDynamic:"is-dynamic",hasDots:"has-dots",dot:"f-carousel__dot",isBeforePrev:"is-before-prev",isPrev:"is-prev",isCurrent:"is-current",isNext:"is-next",isAfterNext:"is-after-next"},dotTpl:'<button type="button" data-carousel-page="%i" aria-label="{{GOTO}}"><span class="f-carousel__dot" aria-hidden="true"></span></button>',dynamicFrom:11,maxCount:1/0,minCount:2};class W extends _{constructor(){super(...arguments),Object.defineProperty(this,"isDynamic",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"list",{enumerable:!0,configurable:!0,writable:!0,value:null})}onRefresh(){this.refresh()}build(){let _e=this.list;if(!_e){_e=document.createElement("ul"),P(_e,this.cn("list")),_e.setAttribute("role","tablist");const ke=this.instance.container;ke.appendChild(_e),P(ke,this.cn("hasDots")),this.list=_e}return _e}refresh(){var _e;const ke=this.instance.pages.length,Re=Math.min(2,this.option("minCount")),Ie=Math.max(2e3,this.option("maxCount")),Fe=this.option("dynamicFrom");if(ke<Re||ke>Ie)return void this.cleanup();const Ne=typeof Fe=="number"&&ke>5&&ke>=Fe,je=!this.list||this.isDynamic!==Ne||this.list.children.length!==ke;je&&this.cleanup();const Be=this.build();if(o(Be,this.cn("isDynamic"),!!Ne),je)for(let Ge=0;Ge<ke;Ge++)Be.append(this.createItem(Ge));let He,We=0;for(const Ge of[...Be.children]){const Xe=We===this.instance.page;Xe&&(He=Ge),o(Ge,this.cn("isCurrent"),Xe),(_e=Ge.children[0])===null||_e===void 0||_e.setAttribute("aria-selected",Xe?"true":"false");for(const $e of["isBeforePrev","isPrev","isNext","isAfterNext"])S(Ge,this.cn($e));We++}if(He=He||Be.firstChild,Ne&&He){const Ge=He.previousElementSibling,Xe=Ge&&Ge.previousElementSibling;P(Ge,this.cn("isPrev")),P(Xe,this.cn("isBeforePrev"));const $e=He.nextElementSibling,qe=$e&&$e.nextElementSibling;P($e,this.cn("isNext")),P(qe,this.cn("isAfterNext"))}this.isDynamic=Ne}createItem(_e=0){var ke;const Re=document.createElement("li");Re.setAttribute("role","presentation");const Ie=n(this.instance.localize(this.option("dotTpl"),[["%d",_e+1]]).replace(/\%i/g,_e+""));return Re.appendChild(Ie),(ke=Re.children[0])===null||ke===void 0||ke.setAttribute("role","tab"),Re}cleanup(){this.list&&(this.list.remove(),this.list=null),this.isDynamic=!1,S(this.instance.container,this.cn("hasDots"))}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}Object.defineProperty(W,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:$});const X="disabled",q="next",Y="prev";class V extends _{constructor(){super(...arguments),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prev",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"next",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isDom",{enumerable:!0,configurable:!0,writable:!0,value:!1})}onRefresh(){const _e=this.instance,ke=_e.pages.length,Re=_e.page;if(ke<2)return void this.cleanup();this.build();let Ie=this.prev,Fe=this.next;Ie&&Fe&&(Ie.removeAttribute(X),Fe.removeAttribute(X),_e.isInfinite||(Re<=0&&Ie.setAttribute(X,""),Re>=ke-1&&Fe.setAttribute(X,"")))}addBtn(_e){var ke;const Re=this.instance,Ie=document.createElement("button");Ie.setAttribute("tabindex","0"),Ie.setAttribute("title",Re.localize(`{{${_e.toUpperCase()}}}`)),P(Ie,this.cn("button")+" "+this.cn(_e===q?"isNext":"isPrev"));const Fe=Re.isRTL?_e===q?Y:q:_e;var Ne;return Ie.innerHTML=Re.localize(this.option(`${Fe}Tpl`)),Ie.dataset[`carousel${Ne=_e,Ne?Ne.match("^[a-z]")?Ne.charAt(0).toUpperCase()+Ne.substring(1):Ne:""}`]="true",(ke=this.container)===null||ke===void 0||ke.appendChild(Ie),Ie}build(){const _e=this.instance.container,ke=this.cn("container");let{container:Re,prev:Ie,next:Fe}=this;Re||(Re=_e.querySelector("."+ke),this.isDom=!!Re),Re||(Re=document.createElement("div"),P(Re,ke),_e.appendChild(Re)),this.container=Re,Fe||(Fe=Re.querySelector("[data-carousel-next]")),Fe||(Fe=this.addBtn(q)),this.next=Fe,Ie||(Ie=Re.querySelector("[data-carousel-prev]")),Ie||(Ie=this.addBtn(Y)),this.prev=Ie}cleanup(){this.isDom||(this.prev&&this.prev.remove(),this.next&&this.next.remove(),this.container&&this.container.remove()),this.prev=null,this.next=null,this.container=null,this.isDom=!1}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}Object.defineProperty(V,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{container:"f-carousel__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"},nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>'}});class Z extends _{constructor(){super(...arguments),Object.defineProperty(this,"selectedIndex",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"nav",{enumerable:!0,configurable:!0,writable:!0,value:null})}addAsTargetFor(_e){this.target=this.instance,this.nav=_e,this.attachEvents()}addAsNavFor(_e){this.nav=this.instance,this.target=_e,this.attachEvents()}attachEvents(){const{nav:_e,target:ke}=this;_e&&ke&&(_e.options.initialSlide=ke.options.initialPage,_e.state===B.Ready?this.onNavReady(_e):_e.on("ready",this.onNavReady),ke.state===B.Ready?this.onTargetReady(ke):ke.on("ready",this.onTargetReady))}onNavReady(_e){_e.on("createSlide",this.onNavCreateSlide),_e.on("Panzoom.click",this.onNavClick),_e.on("Panzoom.touchEnd",this.onNavTouch),this.onTargetChange()}onTargetReady(_e){_e.on("change",this.onTargetChange),_e.on("Panzoom.refresh",this.onTargetChange),this.onTargetChange()}onNavClick(_e,ke,Re){this.onNavTouch(_e,_e.panzoom,Re)}onNavTouch(_e,ke,Re){var Ie,Fe;if(Math.abs(ke.dragOffset.x)>3||Math.abs(ke.dragOffset.y)>3)return;const Ne=Re.target,{nav:je,target:Be}=this;if(!je||!Be||!Ne)return;const He=Ne.closest("[data-index]");if(Re.stopPropagation(),Re.preventDefault(),!He)return;const We=parseInt(He.dataset.index||"",10)||0,Ge=Be.getPageForSlide(We),Xe=je.getPageForSlide(We);je.slideTo(Xe),Be.slideTo(Ge,{friction:((Fe=(Ie=this.nav)===null||Ie===void 0?void 0:Ie.plugins)===null||Fe===void 0?void 0:Fe.Sync.option("friction"))||0}),this.markSelectedSlide(We)}onNavCreateSlide(_e,ke){ke.index===this.selectedIndex&&this.markSelectedSlide(ke.index)}onTargetChange(){var _e,ke;const{target:Re,nav:Ie}=this;if(!Re||!Ie||Ie.state!==B.Ready||Re.state!==B.Ready)return;const Fe=(ke=(_e=Re.pages[Re.page])===null||_e===void 0?void 0:_e.slides[0])===null||ke===void 0?void 0:ke.index,Ne=Ie.getPageForSlide(Fe);this.markSelectedSlide(Fe),Ie.slideTo(Ne,Ie.prevPage===null&&Re.prevPage===null?{friction:0}:void 0)}markSelectedSlide(_e){const ke=this.nav;ke&&ke.state===B.Ready&&(this.selectedIndex=_e,[...ke.slides].map(Re=>{Re.el&&Re.el.classList[Re.index===_e?"add":"remove"]("is-nav-selected")}))}attach(){const _e=this;let ke=_e.options.target,Re=_e.options.nav;ke?_e.addAsNavFor(ke):Re&&_e.addAsTargetFor(Re)}detach(){const _e=this,ke=_e.nav,Re=_e.target;ke&&(ke.off("ready",_e.onNavReady),ke.off("createSlide",_e.onNavCreateSlide),ke.off("Panzoom.click",_e.onNavClick),ke.off("Panzoom.touchEnd",_e.onNavTouch)),_e.nav=null,Re&&(Re.off("ready",_e.onTargetReady),Re.off("refresh",_e.onTargetChange),Re.off("change",_e.onTargetChange)),_e.target=null}}Object.defineProperty(Z,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{friction:.35}});const U={Navigation:V,Dots:W,Sync:Z},G="animationend",K="isSelected",J="slide";class Q extends g{get axis(){return this.isHorizontal?"e":"f"}get isEnabled(){return this.state===B.Ready}get isInfinite(){let _e=!1;const{contentDim:ke,viewportDim:Re,pages:Ie,slides:Fe}=this,Ne=Fe[0];return Ie.length>=2&&Ne&&ke+Ne.dim>=Re&&(_e=this.option("infinite")),_e}get isRTL(){return this.option("direction")==="rtl"}get isHorizontal(){return this.option("axis")==="x"}constructor(_e,ke={},Re={}){if(super(),Object.defineProperty(this,"bp",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"lp",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"userOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:B.Init}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"prevPage",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"viewport",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"slides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"panzoom",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"inTransition",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"contentDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"viewportDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),typeof _e=="string"&&(_e=document.querySelector(_e)),!_e||!E(_e))throw new Error("No Element found");this.container=_e,this.slideNext=D(this.slideNext.bind(this),150),this.slidePrev=D(this.slidePrev.bind(this),150),this.userOptions=ke,this.userPlugins=Re,queueMicrotask(()=>{this.processOptions()})}processOptions(){var _e,ke;const Re=u({},Q.defaults,this.userOptions);let Ie="";const Fe=Re.breakpoints;if(Fe&&d(Fe))for(const[Ne,je]of Object.entries(Fe))window.matchMedia(Ne).matches&&d(je)&&(Ie+=Ne,u(Re,je));Ie===this.bp&&this.state!==B.Init||(this.bp=Ie,this.state===B.Ready&&(Re.initialSlide=((ke=(_e=this.pages[this.page])===null||_e===void 0?void 0:_e.slides[0])===null||ke===void 0?void 0:ke.index)||0),this.state!==B.Init&&this.destroy(),super.setOptions(Re),this.option("enabled")===!1?this.attachEvents():setTimeout(()=>{this.init()},0))}init(){this.state=B.Init,this.emit("init"),this.attachPlugins(Object.assign(Object.assign({},Q.Plugins),this.userPlugins)),this.emit("attachPlugins"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.setInitialPosition(),this.initPanzoom(),this.attachEvents(),this.state=B.Ready,this.emit("ready")}initLayout(){const{container:_e}=this,ke=this.option("classes");P(_e,this.cn("container")),o(_e,ke.isLTR,!this.isRTL),o(_e,ke.isRTL,this.isRTL),o(_e,ke.isVertical,!this.isHorizontal),o(_e,ke.isHorizontal,this.isHorizontal);let Re=this.option("viewport")||_e.querySelector(`.${ke.viewport}`);Re||(Re=document.createElement("div"),P(Re,ke.viewport),Re.append(...F(_e,`.${ke.slide}`)),_e.prepend(Re)),Re.addEventListener("scroll",this.onScroll);let Ie=this.option("track")||_e.querySelector(`.${ke.track}`);Ie||(Ie=document.createElement("div"),P(Ie,ke.track),Ie.append(...Array.from(Re.childNodes))),Ie.setAttribute("aria-live","polite"),Re.contains(Ie)||Re.prepend(Ie),this.viewport=Re,this.track=Ie,this.emit("initLayout")}initSlides(){const{track:_e}=this;if(!_e)return;const ke=[...this.slides],Re=[];[...F(_e,`.${this.cn(J)}`)].forEach(Ie=>{if(E(Ie)){const Fe=H({el:Ie,isDom:!0,index:this.slides.length});Re.push(Fe)}});for(let Ie of[...this.option("slides",[])||[],...ke])Re.push(H(Ie));this.slides=Re;for(let Ie=0;Ie<this.slides.length;Ie++)this.slides[Ie].index=Ie;for(const Ie of Re)this.emit("beforeInitSlide",Ie,Ie.index),this.emit("initSlide",Ie,Ie.index);this.emit("initSlides")}setInitialPage(){const _e=this.option("initialSlide");this.page=typeof _e=="number"?this.getPageForSlide(_e):parseInt(this.option("initialPage",0)+"",10)||0}setInitialPosition(){const{track:_e,pages:ke,isHorizontal:Re}=this;if(!_e||!ke.length)return;let Ie=this.page;ke[Ie]||(this.page=Ie=0);const Fe=(ke[Ie].pos||0)*(this.isRTL&&Re?1:-1),Ne=Re?`${Fe}px`:"0",je=Re?"0":`${Fe}px`;_e.style.transform=`translate3d(${Ne}, ${je}, 0) scale(1)`,this.option("adaptiveHeight")&&this.setViewportHeight()}initPanzoom(){this.panzoom&&(this.panzoom.destroy(),this.panzoom=null);const _e=this.option("Panzoom")||{};this.panzoom=new I(this.viewport,u({},{content:this.track,zoom:!1,panOnlyZoomed:!1,lockAxis:this.isHorizontal?"x":"y",infinite:this.isInfinite,click:!1,dblClick:!1,touch:ke=>!(this.pages.length<2&&!ke.options.infinite),bounds:()=>this.getBounds(),maxVelocity:ke=>Math.abs(ke.target[this.axis]-ke.current[this.axis])<2*this.viewportDim?100:0},_e)),this.panzoom.on("*",(ke,Re,...Ie)=>{this.emit(`Panzoom.${Re}`,ke,...Ie)}),this.panzoom.on("decel",this.onDecel),this.panzoom.on("refresh",this.onRefresh),this.panzoom.on("beforeTransform",this.onBeforeTransform),this.panzoom.on("endAnimation",this.onEndAnimation)}attachEvents(){const _e=this.container;_e&&(_e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),_e.addEventListener("slideTo",this.onSlideTo)),window.addEventListener("resize",this.onResize)}createPages(){let _e=[];const{contentDim:ke,viewportDim:Re}=this;let Ie=this.option("slidesPerPage");Ie=(Ie==="auto"||ke<=Re)&&this.option("fill")!==!1?1/0:parseFloat(Ie+"");let Fe=0,Ne=0,je=0;for(const Be of this.slides)(!_e.length||Ne+Be.dim-Re>.05||je>=Ie)&&(_e.push(N()),Fe=_e.length-1,Ne=0,je=0),_e[Fe].slides.push(Be),Ne+=Be.dim+Be.gap,je++;return _e}processPages(){const _e=this.pages,{contentDim:ke,viewportDim:Re,isInfinite:Ie}=this,Fe=this.option("center"),Ne=this.option("fill"),je=Ne&&Fe&&ke>Re&&!Ie;if(_e.forEach((We,Ge)=>{var Xe;We.index=Ge,We.pos=((Xe=We.slides[0])===null||Xe===void 0?void 0:Xe.pos)||0,We.dim=0;for(const[$e,qe]of We.slides.entries())We.dim+=qe.dim,$e<We.slides.length-1&&(We.dim+=qe.gap);je&&We.pos+.5*We.dim<.5*Re?We.pos=0:je&&We.pos+.5*We.dim>=ke-.5*Re?We.pos=ke-Re:Fe&&(We.pos+=-.5*(Re-We.dim))}),_e.forEach(We=>{Ne&&!Ie&&ke>Re&&(We.pos=Math.max(We.pos,0),We.pos=Math.min(We.pos,ke-Re)),We.pos=t(We.pos,1e3),We.dim=t(We.dim,1e3),Math.abs(We.pos)<=.1&&(We.pos=0)}),Ie)return _e;const Be=[];let He;return _e.forEach(We=>{const Ge=Object.assign({},We);He&&Ge.pos===He.pos?(He.dim+=Ge.dim,He.slides=[...He.slides,...Ge.slides]):(Ge.index=Be.length,He=Ge,Be.push(Ge))}),Be}getPageFromIndex(_e=0){const ke=this.pages.length;let Re;return _e=parseInt((_e||0).toString())||0,Re=this.isInfinite?(_e%ke+ke)%ke:Math.max(Math.min(_e,ke-1),0),Re}getSlideMetrics(_e){var ke,Re;const Ie=this.isHorizontal?"width":"height";let Fe=0,Ne=0,je=_e.el;const Be=!(!je||je.parentNode);if(je?Fe=parseFloat(je.dataset[Ie]||"")||0:(je=document.createElement("div"),je.style.visibility="hidden",(this.track||document.body).prepend(je)),P(je,this.cn(J)+" "+_e.class+" "+_e.customClass),Fe)je.style[Ie]=`${Fe}px`,je.style[Ie==="width"?"height":"width"]="";else{Be&&(this.track||document.body).prepend(je),Fe=je.getBoundingClientRect()[Ie]*Math.max(1,((ke=window.visualViewport)===null||ke===void 0?void 0:ke.scale)||1);let We=je[this.isHorizontal?"offsetWidth":"offsetHeight"];We-1>Fe&&(Fe=We)}const He=getComputedStyle(je);return He.boxSizing==="content-box"&&(this.isHorizontal?(Fe+=parseFloat(He.paddingLeft)||0,Fe+=parseFloat(He.paddingRight)||0):(Fe+=parseFloat(He.paddingTop)||0,Fe+=parseFloat(He.paddingBottom)||0)),Ne=parseFloat(He[this.isHorizontal?"marginRight":"marginBottom"])||0,Be?(Re=je.parentElement)===null||Re===void 0||Re.removeChild(je):_e.el||je.remove(),{dim:t(Fe,1e3),gap:t(Ne,1e3)}}getBounds(){const{isInfinite:_e,isRTL:ke,isHorizontal:Re,pages:Ie}=this;let Fe={min:0,max:0};if(_e)Fe={min:-1/0,max:1/0};else if(Ie.length){const Ne=Ie[0].pos,je=Ie[Ie.length-1].pos;Fe=ke&&Re?{min:Ne,max:je}:{min:-1*je,max:-1*Ne}}return{x:Re?Fe:{min:0,max:0},y:Re?{min:0,max:0}:Fe}}repositionSlides(){let _e,{isHorizontal:ke,isRTL:Re,isInfinite:Ie,viewport:Fe,viewportDim:Ne,contentDim:je,page:Be,pages:He,slides:We,panzoom:Ge}=this,Xe=0,$e=0,qe=0,Ue=0;Ge?Ue=-1*Ge.current[this.axis]:He[Be]&&(Ue=He[Be].pos||0),_e=ke?Re?"right":"left":"top",Re&&ke&&(Ue*=-1);for(const pn of We){const nn=pn.el;nn?(_e==="top"?(nn.style.right="",nn.style.left=""):nn.style.top="",pn.index!==Xe?nn.style[_e]=$e===0?"":`${t($e,1e3)}px`:nn.style[_e]="",qe+=pn.dim+pn.gap,Xe++):$e+=pn.dim+pn.gap}if(Ie&&qe&&Fe){let pn=getComputedStyle(Fe),nn="padding",rn=ke?"Right":"Bottom",cn=parseFloat(pn[nn+(ke?"Left":"Top")]);Ue-=cn,Ne+=cn,Ne+=parseFloat(pn[nn+rn]);for(const tn of We)tn.el&&(t(tn.pos)<t(Ne)&&t(tn.pos+tn.dim+tn.gap)<t(Ue)&&t(Ue)>t(je-Ne)&&(tn.el.style[_e]=`${t($e+qe,1e3)}px`),t(tn.pos+tn.gap)>=t(je-Ne)&&t(tn.pos)>t(Ue+Ne)&&t(Ue)<t(Ne)&&(tn.el.style[_e]=`-${t(qe,1e3)}px`))}let Ye,Ze,Qe=[...this.inTransition];if(Qe.length>1&&(Ye=He[Qe[0]],Ze=He[Qe[1]]),Ye&&Ze){let pn=0;for(const nn of We)nn.el?this.inTransition.has(nn.index)&&Ye.slides.indexOf(nn)<0&&(nn.el.style[_e]=`${t(pn+(Ye.pos-Ze.pos),1e3)}px`):pn+=nn.dim+nn.gap}}createSlideEl(_e){const{track:ke,slides:Re}=this;if(!ke||!_e||_e.el&&_e.el.parentNode)return;const Ie=_e.el||document.createElement("div");P(Ie,this.cn(J)),P(Ie,_e.class),P(Ie,_e.customClass);const Fe=_e.html;Fe&&(Fe instanceof HTMLElement?Ie.appendChild(Fe):Ie.innerHTML=_e.html+"");const Ne=[];Re.forEach((We,Ge)=>{We.el&&Ne.push(Ge)});const je=_e.index;let Be=null;Ne.length&&(Be=Re[Ne.reduce((We,Ge)=>Math.abs(Ge-je)<Math.abs(We-je)?Ge:We)]);const He=Be&&Be.el&&Be.el.parentNode?Be.index<_e.index?Be.el.nextSibling:Be.el:null;ke.insertBefore(Ie,ke.contains(He)?He:null),_e.el=Ie,this.emit("createSlide",_e)}removeSlideEl(_e,ke=!1){const Re=_e==null?void 0:_e.el;if(!Re||!Re.parentNode)return;const Ie=this.cn(K);if(Re.classList.contains(Ie)&&(S(Re,Ie),this.emit("unselectSlide",_e)),_e.isDom&&!ke)return Re.removeAttribute("aria-hidden"),Re.removeAttribute("data-index"),void(Re.style.left="");this.emit("removeSlide",_e);const Fe=new CustomEvent(G);Re.dispatchEvent(Fe),_e.el&&(_e.el.remove(),_e.el=null)}transitionTo(_e=0,ke=this.option("transition")){var Re,Ie,Fe,Ne;if(!ke)return!1;const je=this.page,{pages:Be,panzoom:He}=this;_e=parseInt((_e||0).toString())||0;const We=this.getPageFromIndex(_e);if(!He||!Be[We]||Be.length<2||Math.abs((((Ie=(Re=Be[je])===null||Re===void 0?void 0:Re.slides[0])===null||Ie===void 0?void 0:Ie.dim)||0)-this.viewportDim)>1)return!1;let Ge=_e>je?1:-1;this.isInfinite&&(je===0&&_e===Be.length-1&&(Ge=-1),je===Be.length-1&&_e===0&&(Ge=1));const Xe=Be[We].pos*(this.isRTL?1:-1);if(je===We&&Math.abs(Xe-He.target[this.axis])<1)return!1;this.clearTransitions();const $e=He.isResting;P(this.container,this.cn("inTransition"));const qe=((Fe=Be[je])===null||Fe===void 0?void 0:Fe.slides[0])||null,Ue=((Ne=Be[We])===null||Ne===void 0?void 0:Ne.slides[0])||null;this.inTransition.add(Ue.index),this.createSlideEl(Ue);let Ye=qe.el,Ze=Ue.el;$e||ke===J||(ke="fadeFast",Ye=null);const Qe=this.isRTL?"next":"prev",pn=this.isRTL?"prev":"next";return Ye&&(this.inTransition.add(qe.index),qe.transition=ke,Ye.addEventListener(G,this.onAnimationEnd),Ye.classList.add(`f-${ke}Out`,`to-${Ge>0?pn:Qe}`)),Ze&&(Ue.transition=ke,Ze.addEventListener(G,this.onAnimationEnd),Ze.classList.add(`f-${ke}In`,`from-${Ge>0?Qe:pn}`)),He.current[this.axis]=Xe,He.target[this.axis]=Xe,He.requestTick(),this.onChange(We),!0}manageSlideVisiblity(){const _e=new Set,ke=new Set,Re=this.getVisibleSlides(parseFloat(this.option("preload",0)+"")||0);for(const Ie of this.slides)Re.has(Ie)?_e.add(Ie):ke.add(Ie);for(const Ie of this.inTransition)_e.add(this.slides[Ie]);for(const Ie of _e)this.createSlideEl(Ie),this.lazyLoadSlide(Ie);for(const Ie of ke)_e.has(Ie)||this.removeSlideEl(Ie);this.markSelectedSlides(),this.repositionSlides()}markSelectedSlides(){if(!this.pages[this.page]||!this.pages[this.page].slides)return;const _e="aria-hidden";let ke=this.cn(K);if(ke)for(const Re of this.slides){const Ie=Re.el;Ie&&(Ie.dataset.index=`${Re.index}`,Ie.classList.contains("f-thumbs__slide")?this.getVisibleSlides(0).has(Re)?Ie.removeAttribute(_e):Ie.setAttribute(_e,"true"):this.pages[this.page].slides.includes(Re)?(Ie.classList.contains(ke)||(P(Ie,ke),this.emit("selectSlide",Re)),Ie.removeAttribute(_e)):(Ie.classList.contains(ke)&&(S(Ie,ke),this.emit("unselectSlide",Re)),Ie.setAttribute(_e,"true")))}}flipInfiniteTrack(){const{axis:_e,isHorizontal:ke,isInfinite:Re,isRTL:Ie,viewportDim:Fe,contentDim:Ne}=this,je=this.panzoom;if(!je||!Re)return;let Be=je.current[_e],He=je.target[_e]-Be,We=0,Ge=.5*Fe;Ie&&ke?(Be<-Ge&&(We=-1,Be+=Ne),Be>Ne-Ge&&(We=1,Be-=Ne)):(Be>Ge&&(We=1,Be-=Ne),Be<-Ne+Ge&&(We=-1,Be+=Ne)),We&&(je.current[_e]=Be,je.target[_e]=Be+He)}lazyLoadImg(_e,ke){const Re=this,Ie="f-fadeIn",Fe="is-preloading";let Ne=!1,je=null;const Be=()=>{Ne||(Ne=!0,je&&(je.remove(),je=null),S(ke,Fe),ke.complete&&(P(ke,Ie),setTimeout(()=>{S(ke,Ie)},350)),this.option("adaptiveHeight")&&_e.el&&this.pages[this.page].slides.indexOf(_e)>-1&&(Re.updateMetrics(),Re.setViewportHeight()),this.emit("load",_e))};P(ke,Fe),ke.src=ke.dataset.lazySrcset||ke.dataset.lazySrc||"",delete ke.dataset.lazySrc,delete ke.dataset.lazySrcset,ke.addEventListener("error",()=>{Be()}),ke.addEventListener("load",()=>{Be()}),setTimeout(()=>{const He=ke.parentNode;He&&_e.el&&(ke.complete?Be():Ne||(je=n(x),He.insertBefore(je,ke)))},300)}lazyLoadSlide(_e){const ke=_e&&_e.el;if(!ke)return;const Re=new Set;let Ie=Array.from(ke.querySelectorAll("[data-lazy-src],[data-lazy-srcset]"));ke.dataset.lazySrc&&Ie.push(ke),Ie.map(Fe=>{Fe instanceof HTMLImageElement?Re.add(Fe):Fe instanceof HTMLElement&&Fe.dataset.lazySrc&&(Fe.style.backgroundImage=`url('${Fe.dataset.lazySrc}')`,delete Fe.dataset.lazySrc)});for(const Fe of Re)this.lazyLoadImg(_e,Fe)}onAnimationEnd(_e){var ke;const Re=_e.target,Ie=Re?parseInt(Re.dataset.index||"",10)||0:-1,Fe=this.slides[Ie],Ne=_e.animationName;if(!Re||!Fe||!Ne)return;const je=!!this.inTransition.has(Ie)&&Fe.transition;je&&Ne.substring(0,je.length+2)===`f-${je}`&&this.inTransition.delete(Ie),this.inTransition.size||this.clearTransitions(),Ie===this.page&&(!((ke=this.panzoom)===null||ke===void 0)&&ke.isResting)&&this.emit("settle")}onDecel(_e,ke=0,Re=0,Ie=0,Fe=0){if(this.option("dragFree"))return void this.setPageFromPosition();const{isRTL:Ne,isHorizontal:je,axis:Be,pages:He}=this,We=He.length,Ge=Math.abs(Math.atan2(Re,ke)/(Math.PI/180));let Xe=0;if(Xe=Ge>45&&Ge<135?je?0:Re:je?ke:0,!We)return;let $e=this.page,qe=Ne&&je?1:-1;const Ue=_e.current[Be]*qe;let{pageIndex:Ye}=this.getPageFromPosition(Ue);Math.abs(Xe)>5?(He[$e].dim<document.documentElement["client"+(this.isHorizontal?"Width":"Height")]-1&&($e=Ye),$e=Ne&&je?Xe<0?$e-1:$e+1:Xe<0?$e+1:$e-1):$e=Ie===0&&Fe===0?$e:Ye,this.slideTo($e,{transition:!1,friction:_e.option("decelFriction")})}onClick(_e){const ke=_e.target,Re=ke&&E(ke)?ke.dataset:null;let Ie,Fe;Re&&(Re.carouselPage!==void 0?(Fe="slideTo",Ie=Re.carouselPage):Re.carouselNext!==void 0?Fe="slideNext":Re.carouselPrev!==void 0&&(Fe="slidePrev")),Fe?(_e.preventDefault(),_e.stopPropagation(),ke&&!ke.hasAttribute("disabled")&&this[Fe](Ie)):this.emit("click",_e)}onSlideTo(_e){const ke=_e.detail||0;this.slideTo(this.getPageForSlide(ke),{friction:0})}onChange(_e,ke=0){const Re=this.page;this.prevPage=Re,this.page=_e,this.option("adaptiveHeight")&&this.setViewportHeight(),_e!==Re&&(this.markSelectedSlides(),this.emit("change",_e,Re,ke))}onRefresh(){let _e=this.contentDim,ke=this.viewportDim;this.updateMetrics(),this.contentDim===_e&&this.viewportDim===ke||this.slideTo(this.page,{friction:0,transition:!1})}onScroll(){var _e;(_e=this.viewport)===null||_e===void 0||_e.scroll(0,0)}onResize(){this.option("breakpoints")&&this.processOptions()}onBeforeTransform(_e){this.lp!==_e.current[this.axis]&&(this.flipInfiniteTrack(),this.manageSlideVisiblity()),this.lp=_e.current.e}onEndAnimation(){this.inTransition.size||this.emit("settle")}reInit(_e=null,ke=null){this.destroy(),this.state=B.Init,this.prevPage=null,this.userOptions=_e||this.userOptions,this.userPlugins=ke||this.userPlugins,this.processOptions()}slideTo(_e=0,{friction:ke=this.option("friction"),transition:Re=this.option("transition")}={}){if(this.state===B.Destroy)return;_e=parseInt((_e||0).toString())||0;const Ie=this.getPageFromIndex(_e),{axis:Fe,isHorizontal:Ne,isRTL:je,pages:Be,panzoom:He}=this,We=Be.length,Ge=je&&Ne?1:-1;if(!He||!We)return;if(this.page!==Ie){const $e=new Event("beforeChange",{bubbles:!0,cancelable:!0});if(this.emit("beforeChange",$e,_e),$e.defaultPrevented)return}if(this.transitionTo(_e,Re))return;let Xe=Be[Ie].pos;if(this.isInfinite){const $e=this.contentDim,qe=He.target[Fe]*Ge;We===2?Xe+=$e*Math.floor(parseFloat(_e+"")/2):Xe=[Xe,Xe-$e,Xe+$e].reduce(function(Ue,Ye){return Math.abs(Ye-qe)<Math.abs(Ue-qe)?Ye:Ue})}Xe*=Ge,Math.abs(He.target[Fe]-Xe)<1||(He.panTo({x:Ne?Xe:0,y:Ne?0:Xe,friction:ke}),this.onChange(Ie))}slideToClosest(_e){if(this.panzoom){const{pageIndex:ke}=this.getPageFromPosition();this.slideTo(ke,_e)}}slideNext(){this.slideTo(this.page+1)}slidePrev(){this.slideTo(this.page-1)}clearTransitions(){this.inTransition.clear(),S(this.container,this.cn("inTransition"));const _e=["to-prev","to-next","from-prev","from-next"];for(const ke of this.slides){const Re=ke.el;if(Re){Re.removeEventListener(G,this.onAnimationEnd),Re.classList.remove(..._e);const Ie=ke.transition;Ie&&Re.classList.remove(`f-${Ie}Out`,`f-${Ie}In`)}}this.manageSlideVisiblity()}addSlide(_e,ke){var Re,Ie,Fe,Ne;const je=this.panzoom,Be=((Re=this.pages[this.page])===null||Re===void 0?void 0:Re.pos)||0,He=((Ie=this.pages[this.page])===null||Ie===void 0?void 0:Ie.dim)||0,We=this.contentDim<this.viewportDim;let Ge=Array.isArray(ke)?ke:[ke];const Xe=[];for(const $e of Ge)Xe.push(H($e));this.slides.splice(_e,0,...Xe);for(let $e=0;$e<this.slides.length;$e++)this.slides[$e].index=$e;for(const $e of Xe)this.emit("beforeInitSlide",$e,$e.index);if(this.page>=_e&&(this.page+=Xe.length),this.updateMetrics(),je){const $e=((Fe=this.pages[this.page])===null||Fe===void 0?void 0:Fe.pos)||0,qe=((Ne=this.pages[this.page])===null||Ne===void 0?void 0:Ne.dim)||0,Ue=this.pages.length||1,Ye=this.isRTL?He-qe:qe-He,Ze=this.isRTL?Be-$e:$e-Be;We&&Ue===1?(_e<=this.page&&(je.current[this.axis]-=Ye,je.target[this.axis]-=Ye),je.panTo({[this.isHorizontal?"x":"y"]:-1*$e})):Ze&&_e<=this.page&&(je.target[this.axis]-=Ze,je.current[this.axis]-=Ze,je.requestTick())}for(const $e of Xe)this.emit("initSlide",$e,$e.index)}prependSlide(_e){this.addSlide(0,_e)}appendSlide(_e){this.addSlide(this.slides.length,_e)}removeSlide(_e){const ke=this.slides.length;_e=(_e%ke+ke)%ke;const Re=this.slides[_e];if(Re){this.removeSlideEl(Re,!0),this.slides.splice(_e,1);for(let Ie=0;Ie<this.slides.length;Ie++)this.slides[Ie].index=Ie;this.updateMetrics(),this.slideTo(this.page,{friction:0,transition:!1}),this.emit("destroySlide",Re)}}updateMetrics(){const{panzoom:_e,viewport:ke,track:Re,slides:Ie,isHorizontal:Fe,isInfinite:Ne}=this;if(!Re)return;const je=Fe?"width":"height",Be=Fe?"offsetWidth":"offsetHeight";if(ke){let Ge=Math.max(ke[Be],t(ke.getBoundingClientRect()[je],1e3)),Xe=getComputedStyle(ke),$e="padding",qe=Fe?"Right":"Bottom";Ge-=parseFloat(Xe[$e+(Fe?"Left":"Top")])+parseFloat(Xe[$e+qe]),this.viewportDim=Ge}let He,We=0;for(const[Ge,Xe]of Ie.entries()){let $e=0,qe=0;!Xe.el&&He?($e=He.dim,qe=He.gap):({dim:$e,gap:qe}=this.getSlideMetrics(Xe),He=Xe),$e=t($e,1e3),qe=t(qe,1e3),Xe.dim=$e,Xe.gap=qe,Xe.pos=We,We+=$e,(Ne||Ge<Ie.length-1)&&(We+=qe)}We=t(We,1e3),this.contentDim=We,_e&&(_e.contentRect[je]=We,_e.contentRect[Fe?"fullWidth":"fullHeight"]=We),this.pages=this.createPages(),this.pages=this.processPages(),this.state===B.Init&&this.setInitialPage(),this.page=Math.max(0,Math.min(this.page,this.pages.length-1)),this.manageSlideVisiblity(),this.emit("refresh")}getProgress(_e,ke=!1,Re=!1){_e===void 0&&(_e=this.page);const Ie=this,Fe=Ie.panzoom,Ne=Ie.contentDim,je=Ie.pages[_e]||0;if(!je||!Fe)return _e>this.page?-1:1;let Be=-1*Fe.current.e,He=t((Be-je.pos)/(1*je.dim),1e3),We=He,Ge=He;this.isInfinite&&Re!==!0&&(We=t((Be-je.pos+Ne)/(1*je.dim),1e3),Ge=t((Be-je.pos-Ne)/(1*je.dim),1e3));let Xe=[He,We,Ge].reduce(function($e,qe){return Math.abs(qe)<Math.abs($e)?qe:$e});return ke?Xe:Xe>1?1:Xe<-1?-1:Xe}setViewportHeight(){const{page:_e,pages:ke,viewport:Re,isHorizontal:Ie}=this;if(!Re||!ke[_e])return;let Fe=0;Ie&&this.track&&(this.track.style.height="auto",ke[_e].slides.forEach(Ne=>{Ne.el&&(Fe=Math.max(Fe,Ne.el.offsetHeight))})),Re.style.height=Fe?`${Fe}px`:""}getPageForSlide(_e){for(const ke of this.pages)for(const Re of ke.slides)if(Re.index===_e)return ke.index;return-1}getVisibleSlides(_e=0){var ke;const Re=new Set;let{panzoom:Ie,contentDim:Fe,viewportDim:Ne,pages:je,page:Be}=this;if(Ne){Fe=Fe+((ke=this.slides[this.slides.length-1])===null||ke===void 0?void 0:ke.gap)||0;let He=0;He=Ie&&Ie.state!==m.Init&&Ie.state!==m.Destroy?-1*Ie.current[this.axis]:je[Be]&&je[Be].pos||0,this.isInfinite&&(He-=Math.floor(He/Fe)*Fe),this.isRTL&&this.isHorizontal&&(He*=-1);const We=He-Ne*_e,Ge=He+Ne*(_e+1),Xe=this.isInfinite?[-1,0,1]:[0];for(const $e of this.slides)for(const qe of Xe){const Ue=$e.pos+qe*Fe,Ye=Ue+$e.dim+$e.gap;Ue<Ge&&Ye>We&&Re.add($e)}}return Re}getPageFromPosition(_e){const{viewportDim:ke,contentDim:Re,slides:Ie,pages:Fe,panzoom:Ne}=this,je=Fe.length,Be=Ie.length,He=Ie[0],We=Ie[Be-1],Ge=this.option("center");let Xe=0,$e=0,qe=0,Ue=_e===void 0?-1*((Ne==null?void 0:Ne.target[this.axis])||0):_e;Ge&&(Ue+=.5*ke),this.isInfinite?(Ue<He.pos-.5*We.gap&&(Ue-=Re,qe=-1),Ue>We.pos+We.dim+.5*We.gap&&(Ue-=Re,qe=1)):Ue=Math.max(He.pos||0,Math.min(Ue,We.pos));let Ye=We,Ze=Ie.find(Qe=>{const pn=Qe.pos-.5*Ye.gap,nn=Qe.pos+Qe.dim+.5*Qe.gap;return Ye=Qe,Ue>=pn&&Ue<nn});return Ze||(Ze=We),$e=this.getPageForSlide(Ze.index),Xe=$e+qe*je,{page:Xe,pageIndex:$e}}setPageFromPosition(){const{pageIndex:_e}=this.getPageFromPosition();this.onChange(_e)}destroy(){if([B.Destroy].includes(this.state))return;this.state=B.Destroy;const{container:_e,viewport:ke,track:Re,slides:Ie,panzoom:Fe}=this,Ne=this.option("classes");_e.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),_e.removeEventListener("slideTo",this.onSlideTo),window.removeEventListener("resize",this.onResize),Fe&&(Fe.destroy(),this.panzoom=null),Ie&&Ie.forEach(Be=>{this.removeSlideEl(Be)}),this.detachPlugins(),ke&&(ke.removeEventListener("scroll",this.onScroll),ke.offsetParent&&Re&&Re.offsetParent&&ke.replaceWith(...Re.childNodes));for(const[Be,He]of Object.entries(Ne))Be!=="container"&&He&&_e.classList.remove(He);this.track=null,this.viewport=null,this.page=0,this.slides=[];const je=this.events.get("ready");this.events=new Map,je&&this.events.set("ready",je)}}Object.defineProperty(Q,"Panzoom",{enumerable:!0,configurable:!0,writable:!0,value:I}),Object.defineProperty(Q,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:j}),Object.defineProperty(Q,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:U});const tt=function(Ae){if(!E(Ae))return 0;const _e=window.scrollY,ke=window.innerHeight,Re=_e+ke,Ie=Ae.getBoundingClientRect(),Fe=Ie.y+_e,Ne=Ie.height,je=Fe+Ne;if(_e>je||Re<Fe)return 0;if(_e<Fe&&Re>je||Fe<_e&&je>Re)return 100;let Be=Ne;Fe<_e&&(Be-=_e-Fe),je>Re&&(Be-=je-Re);const He=Be/ke*100;return Math.round(He)},et=!(typeof window>"u"||!window.document||!window.document.createElement);let it;const nt=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden]):not(.fancybox-focus-guard)","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'].join(","),st=Ae=>{if(Ae&&et){it===void 0&&document.createElement("div").focus({get preventScroll(){return it=!0,!1}});try{if(it)Ae.focus({preventScroll:!0});else{const _e=window.scrollY||document.body.scrollTop,ke=window.scrollX||document.body.scrollLeft;Ae.focus(),document.body.scrollTo({top:_e,left:ke,behavior:"auto"})}}catch{}}},ot=()=>{const Ae=document;let _e,ke="",Re="",Ie="";return Ae.fullscreenEnabled?(ke="requestFullscreen",Re="exitFullscreen",Ie="fullscreenElement"):Ae.webkitFullscreenEnabled&&(ke="webkitRequestFullscreen",Re="webkitExitFullscreen",Ie="webkitFullscreenElement"),ke&&(_e={request:function(Fe=Ae.documentElement){return ke==="webkitRequestFullscreen"?Fe[ke](Element.ALLOW_KEYBOARD_INPUT):Fe[ke]()},exit:function(){return Ae[Ie]&&Ae[Re]()},isFullscreen:function(){return Ae[Ie]}}),_e},at={animated:!0,autoFocus:!0,backdropClick:"close",Carousel:{classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"}},closeButton:"auto",closeExisting:!1,commonCaption:!1,compact:()=>window.matchMedia("(max-width: 578px), (max-height: 578px)").matches,contentClick:"toggleZoom",contentDblClick:!1,defaultType:"image",defaultDisplay:"flex",dragToClose:!0,Fullscreen:{autoStart:!1},groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,idle:3500,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:Object.assign(Object.assign({},b),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}),parentEl:null,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,tpl:{closeButton:'<button data-fancybox-close class="f-button is-close-btn" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg></button>',main:`<div class="fancybox__container" role="dialog" aria-modal="true" aria-label="{{MODAL}}" tabindex="-1">
    <div class="fancybox__backdrop"></div>
    <div class="fancybox__carousel"></div>
    <div class="fancybox__footer"></div>
  </div>`},trapFocus:!0,wheel:"zoom"};var rt,lt;(function(Ae){Ae[Ae.Init=0]="Init",Ae[Ae.Ready=1]="Ready",Ae[Ae.Closing=2]="Closing",Ae[Ae.CustomClosing=3]="CustomClosing",Ae[Ae.Destroy=4]="Destroy"})(rt||(rt={})),function(Ae){Ae[Ae.Loading=0]="Loading",Ae[Ae.Opening=1]="Opening",Ae[Ae.Ready=2]="Ready",Ae[Ae.Closing=3]="Closing"}(lt||(lt={}));let ct="",ht=!1,dt=!1,ut=null;const pt=()=>{let Ae="",_e="";const ke=Oe.getInstance();if(ke){const Re=ke.carousel,Ie=ke.getSlide();if(Re&&Ie){let Fe=Ie.slug||void 0,Ne=Ie.triggerEl||void 0;_e=Fe||ke.option("slug")||"",!_e&&Ne&&Ne.dataset&&(_e=Ne.dataset.fancybox||""),_e&&_e!=="true"&&(Ae="#"+_e+(!Fe&&Re.slides.length>1?"-"+(Ie.index+1):""))}}return{hash:Ae,slug:_e,index:1}},ft=()=>{const Ae=new URL(document.URL).hash,_e=Ae.slice(1).split("-"),ke=_e[_e.length-1],Re=ke&&/^\+?\d+$/.test(ke)&&parseInt(_e.pop()||"1",10)||1;return{hash:Ae,slug:_e.join("-"),index:Re}},gt=()=>{const{slug:Ae,index:_e}=ft();if(!Ae)return;let ke=document.querySelector(`[data-slug="${Ae}"]`);if(ke&&ke.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),Oe.getInstance())return;const Re=document.querySelectorAll(`[data-fancybox="${Ae}"]`);Re.length&&(ke=Re[_e-1],ke&&ke.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))},mt=()=>{if(Oe.defaults.Hash===!1)return;const Ae=Oe.getInstance();if((Ae==null?void 0:Ae.options.Hash)===!1)return;const{slug:_e,index:ke}=ft(),{slug:Re}=pt();Ae&&(_e===Re?Ae.jumpTo(ke-1):(ht=!0,Ae.close())),gt()},vt=()=>{ut&&clearTimeout(ut),queueMicrotask(()=>{mt()})},bt=()=>{window.addEventListener("hashchange",vt,!1),setTimeout(()=>{mt()},500)};et&&(/complete|interactive|loaded/.test(document.readyState)?bt():document.addEventListener("DOMContentLoaded",bt));const yt="is-zooming-in";class wt extends _{onCreateSlide(_e,ke,Re){const Ie=this.instance.optionFor(Re,"src")||"";Re.el&&Re.type==="image"&&typeof Ie=="string"&&this.setImage(Re,Ie)}onRemoveSlide(_e,ke,Re){Re.panzoom&&Re.panzoom.destroy(),Re.panzoom=void 0,Re.imageEl=void 0}onChange(_e,ke,Re,Ie){S(this.instance.container,yt);for(const Fe of ke.slides){const Ne=Fe.panzoom;Ne&&Fe.index!==Re&&Ne.reset(.35)}}onClose(){var _e;const ke=this.instance,Re=ke.container,Ie=ke.getSlide();if(!Re||!Re.parentElement||!Ie)return;const{el:Fe,contentEl:Ne,panzoom:je,thumbElSrc:Be}=Ie;if(!Fe||!Be||!Ne||!je||je.isContentLoading||je.state===m.Init||je.state===m.Destroy)return;je.updateMetrics();let He=this.getZoomInfo(Ie);if(!He)return;this.instance.state=rt.CustomClosing,Re.classList.remove(yt),Re.classList.add("is-zooming-out"),Ne.style.backgroundImage=`url('${Be}')`;const We=Re.getBoundingClientRect();(((_e=window.visualViewport)===null||_e===void 0?void 0:_e.scale)||1)===1&&Object.assign(Re.style,{position:"absolute",top:`${Re.offsetTop+window.scrollY}px`,left:`${Re.offsetLeft+window.scrollX}px`,bottom:"auto",right:"auto",width:`${We.width}px`,height:`${We.height}px`,overflow:"hidden"});const{x:Ge,y:Xe,scale:$e,opacity:qe}=He;if(qe){const Ue=((Ye,Ze,Qe,pn)=>{const nn=Ze-Ye,rn=pn-Qe;return cn=>Qe+((cn-Ye)/nn*rn||0)})(je.scale,$e,1,0);je.on("afterTransform",()=>{Ne.style.opacity=Ue(je.scale)+""})}je.on("endAnimation",()=>{ke.destroy()}),je.target.a=$e,je.target.b=0,je.target.c=0,je.target.d=$e,je.panTo({x:Ge,y:Xe,scale:$e,friction:qe?.2:.33,ignoreBounds:!0}),je.isResting&&ke.destroy()}setImage(_e,ke){const Re=this.instance;_e.src=ke,this.process(_e,ke).then(Ie=>{const{contentEl:Fe,imageEl:Ne,thumbElSrc:je,el:Be}=_e;if(Re.isClosing()||!Fe||!Ne)return;Fe.offsetHeight;const He=!!Re.isOpeningSlide(_e)&&this.getZoomInfo(_e);if(this.option("protected")&&Be){Be.addEventListener("contextmenu",Xe=>{Xe.preventDefault()});const Ge=document.createElement("div");P(Ge,"fancybox-protected"),Fe.appendChild(Ge)}if(je&&He){const Ge=Ie.contentRect,Xe=Math.max(Ge.fullWidth,Ge.fullHeight);let $e=null;!He.opacity&&Xe>1200&&($e=document.createElement("img"),P($e,"fancybox-ghost"),$e.src=je,Fe.appendChild($e));const qe=()=>{$e&&(P($e,"f-fadeFastOut"),setTimeout(()=>{$e&&($e.remove(),$e=null)},200))};(We=je,new Promise((Ue,Ye)=>{const Ze=new Image;Ze.onload=Ue,Ze.onerror=Ye,Ze.src=We})).then(()=>{Re.hideLoading(_e),_e.state=lt.Opening,this.instance.emit("reveal",_e),this.zoomIn(_e).then(()=>{qe(),this.instance.done(_e)},()=>{}),$e&&setTimeout(()=>{qe()},Xe>2500?800:200)},()=>{Re.hideLoading(_e),Re.revealContent(_e)})}else{const Ge=this.optionFor(_e,"initialSize"),Xe=this.optionFor(_e,"zoom"),$e={event:Re.prevMouseMoveEvent||Re.options.event,friction:Xe?.12:0};let qe=Re.optionFor(_e,"showClass")||void 0,Ue=!0;Re.isOpeningSlide(_e)&&(Ge==="full"?Ie.zoomToFull($e):Ge==="cover"?Ie.zoomToCover($e):Ge==="max"?Ie.zoomToMax($e):Ue=!1,Ie.stop("current")),Ue&&qe&&(qe=Ie.isDragging?"f-fadeIn":""),Re.hideLoading(_e),Re.revealContent(_e,qe)}var We},()=>{Re.setError(_e,"{{IMAGE_ERROR}}")})}process(_e,ke){return new Promise((Re,Ie)=>{var Fe;const Ne=this.instance,je=_e.el;Ne.clearContent(_e),Ne.showLoading(_e);let Be=this.optionFor(_e,"content");if(typeof Be=="string"&&(Be=n(Be)),!Be||!E(Be)){if(Be=document.createElement("img"),Be instanceof HTMLImageElement){let He="",We=_e.caption;He=typeof We=="string"&&We?We.replace(/<[^>]+>/gi,"").substring(0,1e3):`Image ${_e.index+1} of ${((Fe=Ne.carousel)===null||Fe===void 0?void 0:Fe.pages.length)||1}`,Be.src=ke||"",Be.alt=He,Be.draggable=!1,_e.srcset&&Be.setAttribute("srcset",_e.srcset),this.instance.isOpeningSlide(_e)&&(Be.fetchPriority="high")}_e.sizes&&Be.setAttribute("sizes",_e.sizes)}P(Be,"fancybox-image"),_e.imageEl=Be,Ne.setContent(_e,Be,!1),_e.panzoom=new I(je,u({transformParent:!0},this.option("Panzoom")||{},{content:Be,width:(He,We)=>Ne.optionFor(_e,"width","auto",We)||"auto",height:(He,We)=>Ne.optionFor(_e,"height","auto",We)||"auto",wheel:()=>{const He=Ne.option("wheel");return(He==="zoom"||He=="pan")&&He},click:(He,We)=>{var Ge,Xe;if(Ne.isCompact||Ne.isClosing()||_e.index!==((Ge=Ne.getSlide())===null||Ge===void 0?void 0:Ge.index))return!1;if(We){const qe=We.composedPath()[0];if(["A","BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].includes(qe.nodeName))return!1}let $e=!We||We.target&&((Xe=_e.contentEl)===null||Xe===void 0?void 0:Xe.contains(We.target));return Ne.option($e?"contentClick":"backdropClick")||!1},dblClick:()=>Ne.isCompact?"toggleZoom":Ne.option("contentDblClick")||!1,spinner:!1,panOnlyZoomed:!0,wheelLimit:1/0,on:{ready:He=>{Re(He)},error:()=>{Ie()},destroy:()=>{Ie()}}}))})}zoomIn(_e){return new Promise((ke,Re)=>{const Ie=this.instance,Fe=Ie.container,{panzoom:Ne,contentEl:je,el:Be}=_e;Ne&&Ne.updateMetrics();const He=this.getZoomInfo(_e);if(!(He&&Be&&je&&Ne&&Fe))return void Re();const{x:We,y:Ge,scale:Xe,opacity:$e}=He,qe=()=>{_e.state!==lt.Closing&&($e&&(je.style.opacity=Math.max(Math.min(1,1-(1-Ne.scale)/(1-Xe)),0)+""),Ne.scale>=1&&Ne.scale>Ne.targetScale-.1&&ke(Ne))},Ue=Qe=>{(Qe.scale<.99||Qe.scale>1.01)&&!Qe.isDragging||(S(Fe,yt),je.style.opacity="",Qe.off("endAnimation",Ue),Qe.off("touchStart",Ue),Qe.off("afterTransform",qe),ke(Qe))};Ne.on("endAnimation",Ue),Ne.on("touchStart",Ue),Ne.on("afterTransform",qe),Ne.on(["error","destroy"],()=>{Re()}),Ne.panTo({x:We,y:Ge,scale:Xe,friction:0,ignoreBounds:!0}),Ne.stop("current");const Ye={event:Ne.panMode==="mousemove"?Ie.prevMouseMoveEvent||Ie.options.event:void 0},Ze=this.optionFor(_e,"initialSize");P(Fe,yt),Ie.hideLoading(_e),Ze==="full"?Ne.zoomToFull(Ye):Ze==="cover"?Ne.zoomToCover(Ye):Ze==="max"?Ne.zoomToMax(Ye):Ne.reset(.172)})}getZoomInfo(_e){const{el:ke,imageEl:Re,thumbEl:Ie,panzoom:Fe}=_e,Ne=this.instance,je=Ne.container;if(!ke||!Re||!Ie||!Fe||tt(Ie)<3||!this.optionFor(_e,"zoom")||!je||Ne.state===rt.Destroy||getComputedStyle(je).getPropertyValue("--f-images-zoom")==="0")return!1;const Be=window.visualViewport||null;if((Be?Be.scale:1)!==1)return!1;let{top:He,left:We,width:Ge,height:Xe}=Ie.getBoundingClientRect(),{top:$e,left:qe,fitWidth:Ue,fitHeight:Ye}=Fe.contentRect;if(!(Ge&&Xe&&Ue&&Ye))return!1;const Ze=Fe.container.getBoundingClientRect();qe+=Ze.left,$e+=Ze.top;const Qe=-1*(qe+.5*Ue-(We+.5*Ge)),pn=-1*($e+.5*Ye-(He+.5*Xe)),nn=Ge/Ue;let rn=this.option("zoomOpacity")||!1;return rn==="auto"&&(rn=Math.abs(Ge/Xe-Ue/Ye)>.1),{x:Qe,y:pn,scale:nn,opacity:rn}}attach(){const _e=this,ke=_e.instance;ke.on("Carousel.change",_e.onChange),ke.on("Carousel.createSlide",_e.onCreateSlide),ke.on("Carousel.removeSlide",_e.onRemoveSlide),ke.on("close",_e.onClose)}detach(){const _e=this,ke=_e.instance;ke.off("Carousel.change",_e.onChange),ke.off("Carousel.createSlide",_e.onCreateSlide),ke.off("Carousel.removeSlide",_e.onRemoveSlide),ke.off("close",_e.onClose)}}Object.defineProperty(wt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{initialSize:"fit",Panzoom:{maxScale:1},protected:!1,zoom:!0,zoomOpacity:"auto"}}),typeof SuppressedError=="function"&&SuppressedError;const xt="html",Et="image",St="map",Pt="youtube",Ct="vimeo",Tt="html5video",Mt=(Ae,_e={})=>{const ke=new URL(Ae),Re=new URLSearchParams(ke.search),Ie=new URLSearchParams;for(const[je,Be]of[...Re,...Object.entries(_e)]){let He=Be+"";if(je==="t"){let We=He.match(/((\d*)m)?(\d*)s?/);We&&Ie.set("start",60*parseInt(We[2]||"0")+parseInt(We[3]||"0")+"")}else Ie.set(je,He)}let Fe=Ie+"",Ne=Ae.match(/#t=((.*)?\d+s)/);return Ne&&(Fe+=`#t=${Ne[1]}`),Fe},Ot={ajax:null,autoSize:!0,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"},preload:!0,videoAutoplay:!0,videoRatio:16/9,videoTpl:`<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">
  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn't support embedded videos.</video>`,videoFormat:"",vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}},At=["image","html","ajax","inline","clone","iframe","map","pdf","html5video","youtube","vimeo"];class Lt extends _{onBeforeInitSlide(_e,ke,Re){this.processType(Re)}onCreateSlide(_e,ke,Re){this.setContent(Re)}onClearContent(_e,ke){ke.xhr&&(ke.xhr.abort(),ke.xhr=null);const Re=ke.iframeEl;Re&&(Re.onload=Re.onerror=null,Re.src="//about:blank",ke.iframeEl=null);const Ie=ke.contentEl,Fe=ke.placeholderEl;if(ke.type==="inline"&&Ie&&Fe)Ie.classList.remove("fancybox__content"),getComputedStyle(Ie).getPropertyValue("display")!=="none"&&(Ie.style.display="none"),setTimeout(()=>{Fe&&(Ie&&Fe.parentNode&&Fe.parentNode.insertBefore(Ie,Fe),Fe.remove())},0),ke.contentEl=void 0,ke.placeholderEl=void 0;else for(;ke.el&&ke.el.firstChild;)ke.el.removeChild(ke.el.firstChild)}onSelectSlide(_e,ke,Re){Re.state===lt.Ready&&this.playVideo()}onUnselectSlide(_e,ke,Re){var Ie,Fe;if(Re.type===Tt){try{(Fe=(Ie=Re.el)===null||Ie===void 0?void 0:Ie.querySelector("video"))===null||Fe===void 0||Fe.pause()}catch{}return}let Ne;Re.type===Ct?Ne={method:"pause",value:"true"}:Re.type===Pt&&(Ne={event:"command",func:"pauseVideo"}),Ne&&Re.iframeEl&&Re.iframeEl.contentWindow&&Re.iframeEl.contentWindow.postMessage(JSON.stringify(Ne),"*"),Re.poller&&clearTimeout(Re.poller)}onDone(_e,ke){_e.isCurrentSlide(ke)&&!_e.isClosing()&&this.playVideo()}onRefresh(_e,ke){ke.slides.forEach(Re=>{Re.el&&(this.resizeIframe(Re),this.setAspectRatio(Re))})}onMessage(_e){try{let ke=JSON.parse(_e.data);if(_e.origin==="https://player.vimeo.com"){if(ke.event==="ready")for(let Re of Array.from(document.getElementsByClassName("fancybox__iframe")))Re instanceof HTMLIFrameElement&&Re.contentWindow===_e.source&&(Re.dataset.ready="true")}else if(_e.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&ke.event==="onReady"){const Re=document.getElementById(ke.id);Re&&(Re.dataset.ready="true")}}catch{}}loadAjaxContent(_e){const ke=this.instance.optionFor(_e,"src")||"";this.instance.showLoading(_e);const Re=this.instance,Ie=new XMLHttpRequest;Re.showLoading(_e),Ie.onreadystatechange=function(){Ie.readyState===XMLHttpRequest.DONE&&Re.state===rt.Ready&&(Re.hideLoading(_e),Ie.status===200?Re.setContent(_e,Ie.responseText):Re.setError(_e,Ie.status===404?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};const Fe=_e.ajax||null;Ie.open(Fe?"POST":"GET",ke+""),Ie.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),Ie.setRequestHeader("X-Requested-With","XMLHttpRequest"),Ie.send(Fe),_e.xhr=Ie}setInlineContent(_e){let ke=null;if(E(_e.src))ke=_e.src;else if(typeof _e.src=="string"){const Re=_e.src.split("#",2).pop();ke=Re?document.getElementById(Re):null}if(ke){if(_e.type==="clone"||ke.closest(".fancybox__slide")){ke=ke.cloneNode(!0);const Re=ke.dataset.animationName;Re&&(ke.classList.remove(Re),delete ke.dataset.animationName);let Ie=ke.getAttribute("id");Ie=Ie?`${Ie}--clone`:`clone-${this.instance.id}-${_e.index}`,ke.setAttribute("id",Ie)}else if(ke.parentNode){const Re=document.createElement("div");Re.classList.add("fancybox-placeholder"),ke.parentNode.insertBefore(Re,ke),_e.placeholderEl=Re}this.instance.setContent(_e,ke)}else this.instance.setError(_e,"{{ELEMENT_NOT_FOUND}}")}setIframeContent(_e){const{src:ke,el:Re}=_e;if(!ke||typeof ke!="string"||!Re)return;Re.classList.add("is-loading");const Ie=this.instance,Fe=document.createElement("iframe");Fe.className="fancybox__iframe",Fe.setAttribute("id",`fancybox__iframe_${Ie.id}_${_e.index}`);for(const[je,Be]of Object.entries(this.optionFor(_e,"iframeAttr")||{}))Fe.setAttribute(je,Be);Fe.onerror=()=>{Ie.setError(_e,"{{IFRAME_ERROR}}")},_e.iframeEl=Fe;const Ne=this.optionFor(_e,"preload");if(_e.type!=="iframe"||Ne===!1)return Fe.setAttribute("src",_e.src+""),Ie.setContent(_e,Fe,!1),this.resizeIframe(_e),void Ie.revealContent(_e);Ie.showLoading(_e),Fe.onload=()=>{if(!Fe.src.length)return;const je=Fe.dataset.ready!=="true";Fe.dataset.ready="true",this.resizeIframe(_e),je?Ie.revealContent(_e):Ie.hideLoading(_e)},Fe.setAttribute("src",ke),Ie.setContent(_e,Fe,!1)}resizeIframe(_e){const{type:ke,iframeEl:Re}=_e;if(ke===Pt||ke===Ct)return;const Ie=Re==null?void 0:Re.parentElement;if(!Re||!Ie)return;let Fe=_e.autoSize;Fe===void 0&&(Fe=this.optionFor(_e,"autoSize"));let Ne=_e.width||0,je=_e.height||0;Ne&&je&&(Fe=!1);const Be=Ie&&Ie.style;if(_e.preload!==!1&&Fe!==!1&&Be)try{const He=window.getComputedStyle(Ie),We=parseFloat(He.paddingLeft)+parseFloat(He.paddingRight),Ge=parseFloat(He.paddingTop)+parseFloat(He.paddingBottom),Xe=Re.contentWindow;if(Xe){const $e=Xe.document,qe=$e.getElementsByTagName(xt)[0],Ue=$e.body;Be.width="",Ue.style.overflow="hidden",Ne=Ne||qe.scrollWidth+We,Be.width=`${Ne}px`,Ue.style.overflow="",Be.flex="0 0 auto",Be.height=`${Ue.scrollHeight}px`,je=qe.scrollHeight+Ge}}catch{}if(Ne||je){const He={flex:"0 1 auto",width:"",height:""};Ne&&Ne!=="auto"&&(He.width=`${Ne}px`),je&&je!=="auto"&&(He.height=`${je}px`),Object.assign(Be,He)}}playVideo(){const _e=this.instance.getSlide();if(!_e)return;const{el:ke}=_e;if(!ke||!ke.offsetParent||!this.optionFor(_e,"videoAutoplay"))return;if(_e.type===Tt)try{const Ie=ke.querySelector("video");if(Ie){const Fe=Ie.play();Fe!==void 0&&Fe.then(()=>{}).catch(Ne=>{Ie.muted=!0,Ie.play()})}}catch{}if(_e.type!==Pt&&_e.type!==Ct)return;const Re=()=>{if(_e.iframeEl&&_e.iframeEl.contentWindow){let Ie;if(_e.iframeEl.dataset.ready==="true")return Ie=_e.type===Pt?{event:"command",func:"playVideo"}:{method:"play",value:"true"},Ie&&_e.iframeEl.contentWindow.postMessage(JSON.stringify(Ie),"*"),void(_e.poller=void 0);_e.type===Pt&&(Ie={event:"listening",id:_e.iframeEl.getAttribute("id")},_e.iframeEl.contentWindow.postMessage(JSON.stringify(Ie),"*"))}_e.poller=setTimeout(Re,250)};Re()}processType(_e){if(_e.html)return _e.type=xt,_e.src=_e.html,void(_e.html="");const ke=this.instance.optionFor(_e,"src","");if(!ke||typeof ke!="string")return;let Re=_e.type,Ie=null;if(Ie=ke.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){const Fe=this.optionFor(_e,Pt),{nocookie:Ne}=Fe,je=function(Ge,Xe){var $e={};for(var qe in Ge)Object.prototype.hasOwnProperty.call(Ge,qe)&&Xe.indexOf(qe)<0&&($e[qe]=Ge[qe]);if(Ge!=null&&typeof Object.getOwnPropertySymbols=="function"){var Ue=0;for(qe=Object.getOwnPropertySymbols(Ge);Ue<qe.length;Ue++)Xe.indexOf(qe[Ue])<0&&Object.prototype.propertyIsEnumerable.call(Ge,qe[Ue])&&($e[qe[Ue]]=Ge[qe[Ue]])}return $e}(Fe,["nocookie"]),Be=`www.youtube${Ne?"-nocookie":""}.com`,He=Mt(ke,je),We=encodeURIComponent(Ie[2]);_e.videoId=We,_e.src=`https://${Be}/embed/${We}?${He}`,_e.thumbSrc=_e.thumbSrc||`https://i.ytimg.com/vi/${We}/mqdefault.jpg`,Re=Pt}else if(Ie=ke.match(/^.+vimeo.com\/(?:\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/)){const Fe=Mt(ke,this.optionFor(_e,Ct)),Ne=encodeURIComponent(Ie[1]),je=Ie[4]||"";_e.videoId=Ne,_e.src=`https://player.vimeo.com/video/${Ne}?${je?`h=${je}${Fe?"&":""}`:""}${Fe}`,Re=Ct}if(!Re&&_e.triggerEl){const Fe=_e.triggerEl.dataset.type;At.includes(Fe)&&(Re=Fe)}Re||typeof ke=="string"&&(ke.charAt(0)==="#"?Re="inline":(Ie=ke.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(Re=Tt,_e.videoFormat=_e.videoFormat||"video/"+(Ie[1]==="ogv"?"ogg":Ie[1])):ke.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?Re=Et:ke.match(/\.(pdf)((\?|#).*)?$/i)&&(Re="pdf")),(Ie=ke.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(_e.src=`https://maps.google.${Ie[1]}/?ll=${(Ie[2]?Ie[2]+"&z="+Math.floor(parseFloat(Ie[3]))+(Ie[4]?Ie[4].replace(/^\//,"&"):""):Ie[4]+"").replace(/\?/,"&")}&output=${Ie[4]&&Ie[4].indexOf("layer=c")>0?"svembed":"embed"}`,Re=St):(Ie=ke.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(_e.src=`https://maps.google.${Ie[1]}/maps?q=${Ie[2].replace("query=","q=").replace("api=1","")}&output=embed`,Re=St),Re=Re||this.instance.option("defaultType"),_e.type=Re,Re===Et&&(_e.thumbSrc=_e.thumbSrc||_e.src)}setContent(_e){const ke=this.instance.optionFor(_e,"src")||"";if(_e&&_e.type&&ke){switch(_e.type){case xt:this.instance.setContent(_e,ke);break;case Tt:const Re=this.option("videoTpl");Re&&this.instance.setContent(_e,Re.replace(/\{\{src\}\}/gi,ke+"").replace(/\{\{format\}\}/gi,this.optionFor(_e,"videoFormat")||"").replace(/\{\{poster\}\}/gi,_e.poster||_e.thumbSrc||""));break;case"inline":case"clone":this.setInlineContent(_e);break;case"ajax":this.loadAjaxContent(_e);break;case"pdf":case St:case Pt:case Ct:_e.preload=!1;case"iframe":this.setIframeContent(_e)}this.setAspectRatio(_e)}}setAspectRatio(_e){const ke=_e.contentEl;if(!(_e.el&&ke&&_e.type&&[Pt,Ct,Tt].includes(_e.type)))return;let Re,Ie=_e.width||"auto",Fe=_e.height||"auto";if(Ie==="auto"||Fe==="auto"){Re=this.optionFor(_e,"videoRatio");const He=(Re+"").match(/(\d+)\s*\/\s?(\d+)/);Re=He&&He.length>2?parseFloat(He[1])/parseFloat(He[2]):parseFloat(Re+"")}else Ie&&Fe&&(Re=Ie/Fe);if(!Re)return;ke.style.aspectRatio="",ke.style.width="",ke.style.height="",ke.offsetHeight;const Ne=ke.getBoundingClientRect(),je=Ne.width||1,Be=Ne.height||1;ke.style.aspectRatio=Re+"",Re<je/Be?(Fe=Fe==="auto"?Be:Math.min(Be,Fe),ke.style.width="auto",ke.style.height=`${Fe}px`):(Ie=Ie==="auto"?je:Math.min(je,Ie),ke.style.width=`${Ie}px`,ke.style.height="auto")}attach(){const _e=this,ke=_e.instance;ke.on("Carousel.beforeInitSlide",_e.onBeforeInitSlide),ke.on("Carousel.createSlide",_e.onCreateSlide),ke.on("Carousel.selectSlide",_e.onSelectSlide),ke.on("Carousel.unselectSlide",_e.onUnselectSlide),ke.on("Carousel.Panzoom.refresh",_e.onRefresh),ke.on("done",_e.onDone),ke.on("clearContent",_e.onClearContent),window.addEventListener("message",_e.onMessage)}detach(){const _e=this,ke=_e.instance;ke.off("Carousel.beforeInitSlide",_e.onBeforeInitSlide),ke.off("Carousel.createSlide",_e.onCreateSlide),ke.off("Carousel.selectSlide",_e.onSelectSlide),ke.off("Carousel.unselectSlide",_e.onUnselectSlide),ke.off("Carousel.Panzoom.refresh",_e.onRefresh),ke.off("done",_e.onDone),ke.off("clearContent",_e.onClearContent),window.removeEventListener("message",_e.onMessage)}}Object.defineProperty(Lt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Ot});const zt="play",Rt="pause",kt="ready";class It extends _{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:kt}),Object.defineProperty(this,"inHover",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"progressBar",{enumerable:!0,configurable:!0,writable:!0,value:null})}get isActive(){return this.state!==kt}onReady(_e){this.option("autoStart")&&(_e.isInfinite||_e.page<_e.pages.length-1)&&this.start()}onChange(){this.removeProgressBar(),this.pause()}onSettle(){this.resume()}onVisibilityChange(){document.visibilityState==="visible"?this.resume():this.pause()}onMouseEnter(){this.inHover=!0,this.pause()}onMouseLeave(){var _e;this.inHover=!1,!((_e=this.instance.panzoom)===null||_e===void 0)&&_e.isResting&&this.resume()}onTimerEnd(){const _e=this.instance;this.state==="play"&&(_e.isInfinite||_e.page!==_e.pages.length-1?_e.slideNext():_e.slideTo(0))}removeProgressBar(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)}createProgressBar(){var _e;if(!this.option("showProgress"))return null;this.removeProgressBar();const ke=this.instance,Re=((_e=ke.pages[ke.page])===null||_e===void 0?void 0:_e.slides)||[];let Ie=this.option("progressParentEl");if(Ie||(Ie=(Re.length===1?Re[0].el:null)||ke.viewport),!Ie)return null;const Fe=document.createElement("div");return P(Fe,"f-progress"),Ie.prepend(Fe),this.progressBar=Fe,Fe.offsetHeight,Fe}set(){const _e=this,ke=_e.instance;if(ke.pages.length<2||_e.timer)return;const Re=_e.option("timeout");_e.state=zt,P(ke.container,"has-autoplay");let Ie=_e.createProgressBar();Ie&&(Ie.style.transitionDuration=`${Re}ms`,Ie.style.transform="scaleX(1)"),_e.timer=setTimeout(()=>{_e.timer=null,_e.inHover||_e.onTimerEnd()},Re),_e.emit("set")}clear(){const _e=this;_e.timer&&(clearTimeout(_e.timer),_e.timer=null),_e.removeProgressBar()}start(){const _e=this;if(_e.set(),_e.state!==kt){if(_e.option("pauseOnHover")){const ke=_e.instance.container;ke.addEventListener("mouseenter",_e.onMouseEnter,!1),ke.addEventListener("mouseleave",_e.onMouseLeave,!1)}document.addEventListener("visibilitychange",_e.onVisibilityChange,!1),_e.emit("start")}}stop(){const _e=this,ke=_e.state,Re=_e.instance.container;_e.clear(),_e.state=kt,Re.removeEventListener("mouseenter",_e.onMouseEnter,!1),Re.removeEventListener("mouseleave",_e.onMouseLeave,!1),document.removeEventListener("visibilitychange",_e.onVisibilityChange,!1),S(Re,"has-autoplay"),ke!==kt&&_e.emit("stop")}pause(){const _e=this;_e.state===zt&&(_e.state=Rt,_e.clear(),_e.emit(Rt))}resume(){const _e=this,ke=_e.instance;if(ke.isInfinite||ke.page!==ke.pages.length-1)if(_e.state!==zt){if(_e.state===Rt&&!_e.inHover){const Re=new Event("resume",{bubbles:!0,cancelable:!0});_e.emit("resume",Re),Re.defaultPrevented||_e.set()}}else _e.set();else _e.stop()}toggle(){this.state===zt||this.state===Rt?this.stop():this.start()}attach(){const _e=this,ke=_e.instance;ke.on("ready",_e.onReady),ke.on("Panzoom.startAnimation",_e.onChange),ke.on("Panzoom.endAnimation",_e.onSettle),ke.on("Panzoom.touchMove",_e.onChange)}detach(){const _e=this,ke=_e.instance;ke.off("ready",_e.onReady),ke.off("Panzoom.startAnimation",_e.onChange),ke.off("Panzoom.endAnimation",_e.onSettle),ke.off("Panzoom.touchMove",_e.onChange),_e.stop()}}Object.defineProperty(It,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{autoStart:!0,pauseOnHover:!0,progressParentEl:null,showProgress:!0,timeout:3e3}});class Dt extends _{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null})}onPrepare(_e){const ke=_e.carousel;if(!ke)return;const Re=_e.container;Re&&(ke.options.Autoplay=u({autoStart:!1},this.option("Autoplay")||{},{pauseOnHover:!1,timeout:this.option("timeout"),progressParentEl:()=>this.option("progressParentEl")||null,on:{start:()=>{_e.emit("startSlideshow")},set:Ie=>{var Fe;Re.classList.add("has-slideshow"),((Fe=_e.getSlide())===null||Fe===void 0?void 0:Fe.state)!==lt.Ready&&Ie.pause()},stop:()=>{Re.classList.remove("has-slideshow"),_e.isCompact||_e.endIdle(),_e.emit("endSlideshow")},resume:(Ie,Fe)=>{var Ne,je,Be;!Fe||!Fe.cancelable||((Ne=_e.getSlide())===null||Ne===void 0?void 0:Ne.state)===lt.Ready&&(!((Be=(je=_e.carousel)===null||je===void 0?void 0:je.panzoom)===null||Be===void 0)&&Be.isResting)||Fe.preventDefault()}}}),ke.attachPlugins({Autoplay:It}),this.ref=ke.plugins.Autoplay)}onReady(_e){const ke=_e.carousel,Re=this.ref;Re&&ke&&this.option("playOnStart")&&(ke.isInfinite||ke.page<ke.pages.length-1)&&Re.start()}onDone(_e,ke){const Re=this.ref,Ie=_e.carousel;if(!Re||!Ie)return;const Fe=ke.panzoom;Fe&&Fe.on("startAnimation",()=>{_e.isCurrentSlide(ke)&&Re.stop()}),_e.isCurrentSlide(ke)&&Re.resume()}onKeydown(_e,ke){var Re;const Ie=this.ref;Ie&&ke===this.option("key")&&((Re=document.activeElement)===null||Re===void 0?void 0:Re.nodeName)!=="BUTTON"&&Ie.toggle()}attach(){const _e=this,ke=_e.instance;ke.on("Carousel.init",_e.onPrepare),ke.on("Carousel.ready",_e.onReady),ke.on("done",_e.onDone),ke.on("keydown",_e.onKeydown)}detach(){const _e=this,ke=_e.instance;ke.off("Carousel.init",_e.onPrepare),ke.off("Carousel.ready",_e.onReady),ke.off("done",_e.onDone),ke.off("keydown",_e.onKeydown)}}Object.defineProperty(Dt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{key:" ",playOnStart:!1,progressParentEl:Ae=>{var _e;return((_e=Ae.instance.container)===null||_e===void 0?void 0:_e.querySelector(".fancybox__toolbar [data-fancybox-toggle-slideshow]"))||Ae.instance.container},timeout:3e3}});const Ft={classes:{container:"f-thumbs f-carousel__thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide",isResting:"is-resting",isSelected:"is-selected",isLoading:"is-loading",hasThumbs:"has-thumbs"},minCount:2,parentEl:null,thumbTpl:'<button class="f-thumbs__slide__button" tabindex="0" type="button" aria-label="{{GOTO}}" data-carousel-index="%i"><img class="f-thumbs__slide__img" data-lazy-src="{{%s}}" alt="" /></button>',type:"modern"};var jt;(function(Ae){Ae[Ae.Init=0]="Init",Ae[Ae.Ready=1]="Ready",Ae[Ae.Hidden=2]="Hidden"})(jt||(jt={}));const Bt="isResting",Ht="thumbWidth",Nt="thumbHeight",_t="thumbClipWidth";let $t=class extends _{constructor(){super(...arguments),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:"modern"}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"thumbWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbClipWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbExtraGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:jt.Init})}get isModern(){return this.type==="modern"}onInitSlide(Ae,_e){const ke=_e.el?_e.el.dataset:void 0;ke&&(_e.thumbSrc=ke.thumbSrc||_e.thumbSrc||"",_e[_t]=parseFloat(ke[_t]||"")||_e[_t]||0,_e[Nt]=parseFloat(ke.thumbHeight||"")||_e[Nt]||0),this.addSlide(_e)}onInitSlides(){this.build()}onChange(){var Ae;if(!this.isModern)return;const _e=this.container,ke=this.instance,Re=ke.panzoom,Ie=this.carousel,Fe=Ie?Ie.panzoom:null,Ne=ke.page;if(Re&&Ie&&Fe){if(Re.isDragging){S(_e,this.cn(Bt));let je=((Ae=Ie.pages[Ne])===null||Ae===void 0?void 0:Ae.pos)||0;je+=ke.getProgress(Ne)*(this[_t]+this.thumbGap);let Be=Fe.getBounds();-1*je>Be.x.min&&-1*je<Be.x.max&&Fe.panTo({x:-1*je,friction:.12})}else o(_e,this.cn(Bt),Re.isResting);this.shiftModern()}}onRefresh(){this.updateProps();for(const Ae of this.instance.slides||[])this.resizeModernSlide(Ae);this.shiftModern()}isDisabled(){const Ae=this.option("minCount")||0;if(Ae){const ke=this.instance;let Re=0;for(const Ie of ke.slides||[])Ie.thumbSrc&&Re++;if(Re<Ae)return!0}const _e=this.option("type");return["modern","classic"].indexOf(_e)<0}getThumb(Ae){const _e=this.option("thumbTpl")||"";return{html:this.instance.localize(_e,[["%i",Ae.index],["%d",Ae.index+1],["%s",Ae.thumbSrc||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"]])}}addSlide(Ae){const _e=this.carousel;_e&&_e.addSlide(Ae.index,this.getThumb(Ae))}getSlides(){const Ae=[];for(const _e of this.instance.slides||[])Ae.push(this.getThumb(_e));return Ae}resizeModernSlide(Ae){this.isModern&&(Ae[Ht]=Ae[_t]&&Ae[Nt]?Math.round(this[Nt]*(Ae[_t]/Ae[Nt])):this[Ht])}updateProps(){const Ae=this.container;if(!Ae)return;const _e=ke=>parseFloat(getComputedStyle(Ae).getPropertyValue("--f-thumb-"+ke))||0;this.thumbGap=_e("gap"),this.thumbExtraGap=_e("extra-gap"),this[Ht]=_e("width")||40,this[_t]=_e("clip-width")||40,this[Nt]=_e("height")||40}build(){const Ae=this;if(Ae.state!==jt.Init)return;if(Ae.isDisabled())return void Ae.emit("disabled");const _e=Ae.instance,ke=_e.container,Re=Ae.getSlides(),Ie=Ae.option("type");Ae.type=Ie;const Fe=Ae.option("parentEl"),Ne=Ae.cn("container"),je=Ae.cn("track");let Be=Fe==null?void 0:Fe.querySelector("."+Ne);Be||(Be=document.createElement("div"),P(Be,Ne),Fe?Fe.appendChild(Be):ke.after(Be)),P(Be,`is-${Ie}`),P(ke,Ae.cn("hasThumbs")),Ae.container=Be,Ae.updateProps();let He=Be.querySelector("."+je);He||(He=document.createElement("div"),P(He,Ae.cn("track")),Be.appendChild(He)),Ae.track=He;const We=u({},{track:He,infinite:!1,center:!0,fill:Ie==="classic",dragFree:!0,slidesPerPage:1,transition:!1,preload:.25,friction:.12,Panzoom:{maxVelocity:0},Dots:!1,Navigation:!1,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide"}},Ae.option("Carousel")||{},{Sync:{target:_e},slides:Re}),Ge=new _e.constructor(Be,We);Ge.on("createSlide",(Xe,$e)=>{Ae.setProps($e.index),Ae.emit("createSlide",$e,$e.el)}),Ge.on("ready",()=>{Ae.shiftModern(),Ae.emit("ready")}),Ge.on("refresh",()=>{Ae.shiftModern()}),Ge.on("Panzoom.click",(Xe,$e,qe)=>{Ae.onClick(qe)}),Ae.carousel=Ge,Ae.state=jt.Ready}onClick(Ae){Ae.preventDefault(),Ae.stopPropagation();const _e=this.instance,{pages:ke,page:Re}=_e,Ie=Ue=>{if(Ue){const Ye=Ue.closest("[data-carousel-index]");if(Ye)return[parseInt(Ye.dataset.carouselIndex||"",10)||0,Ye]}return[-1,void 0]},Fe=(Ue,Ye)=>{const Ze=document.elementFromPoint(Ue,Ye);return Ze?Ie(Ze):[-1,void 0]};let[Ne,je]=Ie(Ae.target);if(Ne>-1)return;const Be=this[_t],He=Ae.clientX,We=Ae.clientY;let[Ge,Xe]=Fe(He-Be,We),[$e,qe]=Fe(He+Be,We);Xe&&qe?(Ne=Math.abs(He-Xe.getBoundingClientRect().right)<Math.abs(He-qe.getBoundingClientRect().left)?Ge:$e,Ne===Re&&(Ne=Ne===Ge?$e:Ge)):Xe?Ne=Ge:qe&&(Ne=$e),Ne>-1&&ke[Ne]&&_e.slideTo(Ne)}getShift(Ae){var _e;const ke=this,{instance:Re}=ke,Ie=ke.carousel;if(!Re||!Ie)return 0;const Fe=ke[Ht],Ne=ke[_t],je=ke.thumbGap,Be=ke.thumbExtraGap;if(!(!((_e=Ie.slides[Ae])===null||_e===void 0)&&_e.el))return 0;const He=.5*(Fe-Ne),We=Re.pages.length-1;let Ge=Re.getProgress(0),Xe=Re.getProgress(We),$e=Re.getProgress(Ae,!1,!0),qe=0,Ue=He+Be+je;const Ye=Ge<0&&Ge>-1,Ze=Xe>0&&Xe<1;return Ae===0?(qe=Ue*Math.abs(Ge),Ze&&Ge===1&&(qe-=Ue*Math.abs(Xe))):Ae===We?(qe=Ue*Math.abs(Xe)*-1,Ye&&Xe===-1&&(qe+=Ue*Math.abs(Ge))):Ye||Ze?(qe=-1*Ue,qe+=Ue*Math.abs(Ge),qe+=Ue*(1-Math.abs(Xe))):qe=Ue*$e,qe}setProps(Ae){var _e;const ke=this;if(!ke.isModern)return;const{instance:Re}=ke,Ie=ke.carousel;if(Re&&Ie){const Fe=(_e=Ie.slides[Ae])===null||_e===void 0?void 0:_e.el;if(Fe&&Fe.childNodes.length){let Ne=t(1-Math.abs(Re.getProgress(Ae))),je=t(ke.getShift(Ae));Fe.style.setProperty("--progress",Ne?Ne+"":""),Fe.style.setProperty("--shift",je+"")}}}shiftModern(){const Ae=this;if(!Ae.isModern)return;const{instance:_e,track:ke}=Ae,Re=_e.panzoom,Ie=Ae.carousel;if(!(_e&&ke&&Re&&Ie)||Re.state===m.Init||Re.state===m.Destroy)return;for(const Ne of _e.slides)Ae.setProps(Ne.index);let Fe=(Ae[_t]+Ae.thumbGap)*(Ie.slides.length||0);ke.style.setProperty("--width",Fe+"")}cleanup(){const Ae=this;Ae.carousel&&Ae.carousel.destroy(),Ae.carousel=null,Ae.container&&Ae.container.remove(),Ae.container=null,Ae.track&&Ae.track.remove(),Ae.track=null,Ae.state=jt.Init,S(Ae.instance.container,Ae.cn("hasThumbs"))}attach(){const Ae=this,_e=Ae.instance;_e.on("initSlide",Ae.onInitSlide),_e.state===B.Init?_e.on("initSlides",Ae.onInitSlides):Ae.onInitSlides(),_e.on(["change","Panzoom.afterTransform"],Ae.onChange),_e.on("Panzoom.refresh",Ae.onRefresh)}detach(){const Ae=this,_e=Ae.instance;_e.off("initSlide",Ae.onInitSlide),_e.off("initSlides",Ae.onInitSlides),_e.off(["change","Panzoom.afterTransform"],Ae.onChange),_e.off("Panzoom.refresh",Ae.onRefresh),Ae.cleanup()}};Object.defineProperty($t,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Ft});const Wt=Object.assign(Object.assign({},Ft),{key:"t",showOnStart:!0,parentEl:null}),Xt="is-masked",qt="aria-hidden";class Yt extends _{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hidden",{enumerable:!0,configurable:!0,writable:!0,value:!1})}get isEnabled(){const _e=this.ref;return _e&&!_e.isDisabled()}get isHidden(){return this.hidden}onClick(_e,ke){ke.stopPropagation()}onCreateSlide(_e,ke){var Re,Ie,Fe;const Ne=((Fe=(Ie=(Re=this.instance)===null||Re===void 0?void 0:Re.carousel)===null||Ie===void 0?void 0:Ie.slides[ke.index])===null||Fe===void 0?void 0:Fe.type)||"",je=ke.el;if(je&&Ne){let Be=`for-${Ne}`;["video","youtube","vimeo","html5video"].includes(Ne)&&(Be+=" for-video"),P(je,Be)}}onInit(){var _e;const ke=this,Re=ke.instance,Ie=Re.carousel;if(ke.ref||!Ie)return;const Fe=ke.option("parentEl")||Re.footer||Re.container;if(!Fe)return;const Ne=u({},ke.options,{parentEl:Fe,classes:{container:"f-thumbs fancybox__thumbs"},Carousel:{Sync:{friction:Re.option("Carousel.friction")||0}},on:{ready:je=>{const Be=je.container;Be&&this.hidden&&(ke.refresh(),Be.style.transition="none",ke.hide(),Be.offsetHeight,queueMicrotask(()=>{Be.style.transition="",ke.show()}))}}});Ne.Carousel=Ne.Carousel||{},Ne.Carousel.on=u(((_e=ke.options.Carousel)===null||_e===void 0?void 0:_e.on)||{},{click:this.onClick,createSlide:this.onCreateSlide}),Ie.options.Thumbs=Ne,Ie.attachPlugins({Thumbs:$t}),ke.ref=Ie.plugins.Thumbs,ke.option("showOnStart")||(ke.ref.state=jt.Hidden,ke.hidden=!0)}onResize(){var _e;const ke=(_e=this.ref)===null||_e===void 0?void 0:_e.container;ke&&(ke.style.maxHeight="")}onKeydown(_e,ke){const Re=this.option("key");Re&&Re===ke&&this.toggle()}toggle(){const _e=this.ref;if(_e&&!_e.isDisabled())return _e.state===jt.Hidden?(_e.state=jt.Init,void _e.build()):void(this.hidden?this.show():this.hide())}show(){const _e=this.ref;if(!_e||_e.isDisabled())return;const ke=_e.container;ke&&(this.refresh(),ke.offsetHeight,ke.removeAttribute(qt),ke.classList.remove(Xt),this.hidden=!1)}hide(){const _e=this.ref,ke=_e&&_e.container;ke&&(this.refresh(),ke.offsetHeight,ke.classList.add(Xt),ke.setAttribute(qt,"true")),this.hidden=!0}refresh(){const _e=this.ref;if(!_e||!_e.state)return;const ke=_e.container,Re=(ke==null?void 0:ke.firstChild)||null;ke&&Re&&Re.childNodes.length&&(ke.style.maxHeight=`${Re.getBoundingClientRect().height}px`)}attach(){const _e=this,ke=_e.instance;ke.state===rt.Init?ke.on("Carousel.init",_e.onInit):_e.onInit(),ke.on("resize",_e.onResize),ke.on("keydown",_e.onKeydown)}detach(){var _e;const ke=this,Re=ke.instance;Re.off("Carousel.init",ke.onInit),Re.off("resize",ke.onResize),Re.off("keydown",ke.onKeydown),(_e=Re.carousel)===null||_e===void 0||_e.detachPlugins(["Thumbs"]),ke.ref=null}}Object.defineProperty(Yt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Wt});const Vt={panLeft:{icon:'<svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg>',change:{panX:-100}},panRight:{icon:'<svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg>',change:{panX:100}},panUp:{icon:'<svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg>',change:{panY:-100}},panDown:{icon:'<svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg>',change:{panY:100}},zoomIn:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg>',action:"zoomIn"},zoomOut:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"zoomOut"},toggle1to1:{icon:'<svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg>',action:"toggleZoom"},toggleZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"toggleZoom"},iterateZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"iterateZoom"},rotateCCW:{icon:'<svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg>',action:"rotateCCW"},rotateCW:{icon:'<svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg>',action:"rotateCW"},flipX:{icon:'<svg style="stroke-width: 1.3"><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg>',action:"flipX"},flipY:{icon:'<svg style="stroke-width: 1.3"><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg>',action:"flipY"},fitX:{icon:'<svg><path d="M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6M10 18H3M21 18h-7M6 15l-3 3 3 3M18 15l3 3-3 3"/></svg>',action:"fitX"},fitY:{icon:'<svg><path d="M12 20H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6M18 14v7M18 3v7M15 18l3 3 3-3M15 6l3-3 3 3"/></svg>',action:"fitY"},reset:{icon:'<svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg>',action:"reset"},toggleFS:{icon:'<svg><g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g></svg>',action:"toggleFS"}};var Zt;(function(Ae){Ae[Ae.Init=0]="Init",Ae[Ae.Ready=1]="Ready",Ae[Ae.Disabled=2]="Disabled"})(Zt||(Zt={}));const Ut={absolute:"auto",display:{left:["infobar"],middle:[],right:["iterateZoom","slideshow","fullscreen","thumbs","close"]},enabled:"auto",items:{infobar:{tpl:'<div class="fancybox__infobar" tabindex="-1"><span data-fancybox-current-index></span>/<span data-fancybox-count></span></div>'},download:{tpl:'<a class="f-button" title="{{DOWNLOAD}}" data-fancybox-download href="javasript:;"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></a>'},prev:{tpl:'<button class="f-button" title="{{PREV}}" data-fancybox-prev><svg><path d="m15 6-6 6 6 6"/></svg></button>'},next:{tpl:'<button class="f-button" title="{{NEXT}}" data-fancybox-next><svg><path d="m9 6 6 6-6 6"/></svg></button>'},slideshow:{tpl:'<button class="f-button" title="{{TOGGLE_SLIDESHOW}}" data-fancybox-toggle-slideshow><svg><g><path d="M8 4v16l13 -8z"></path></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},fullscreen:{tpl:'<button class="f-button" title="{{TOGGLE_FULLSCREEN}}" data-fancybox-toggle-fullscreen><svg><g><path d="M4 8V6a2 2 0 0 1 2-2h2M4 16v2a2 2 0 0 0 2 2h2M16 4h2a2 2 0 0 1 2 2v2M16 20h2a2 2 0 0 0 2-2v-2"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},thumbs:{tpl:'<button class="f-button" title="{{TOGGLE_THUMBS}}" data-fancybox-toggle-thumbs><svg><circle cx="5.5" cy="5.5" r="1"/><circle cx="12" cy="5.5" r="1"/><circle cx="18.5" cy="5.5" r="1"/><circle cx="5.5" cy="12" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="18.5" cy="12" r="1"/><circle cx="5.5" cy="18.5" r="1"/><circle cx="12" cy="18.5" r="1"/><circle cx="18.5" cy="18.5" r="1"/></svg></button>'},close:{tpl:'<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="m19.5 4.5-15 15M4.5 4.5l15 15"/></svg></button>'}},parentEl:null},Gt={tabindex:"-1",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Kt="has-toolbar",Jt="fancybox__toolbar";class Qt extends _{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Zt.Init}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null})}onReady(_e){var ke;if(!_e.carousel)return;let Re=this.option("display"),Ie=this.option("absolute"),Fe=this.option("enabled");if(Fe==="auto"){const He=this.instance.carousel;let We=0;if(He)for(const Ge of He.slides)(Ge.panzoom||Ge.type==="image")&&We++;We||(Fe=!1)}Fe||(Re=void 0);let Ne=0;const je={left:[],middle:[],right:[]};if(Re)for(const He of["left","middle","right"])for(const We of Re[He]){const Ge=this.createEl(We);Ge&&((ke=je[He])===null||ke===void 0||ke.push(Ge),Ne++)}let Be=null;if(Ne&&(Be=this.createContainer()),Be){for(const[He,We]of Object.entries(je)){const Ge=document.createElement("div");P(Ge,Jt+"__column is-"+He);for(const Xe of We)Ge.appendChild(Xe);Ie!=="auto"||He!=="middle"||We.length||(Ie=!0),Be.appendChild(Ge)}Ie===!0&&P(Be,"is-absolute"),this.state=Zt.Ready,this.onRefresh()}else this.state=Zt.Disabled}onClick(_e){var ke,Re;const Ie=this.instance,Fe=Ie.getSlide(),Ne=Fe==null?void 0:Fe.panzoom,je=_e.target,Be=je&&E(je)?je.dataset:null;if(!Be)return;if(Be.fancyboxToggleThumbs!==void 0)return _e.preventDefault(),_e.stopPropagation(),void((ke=Ie.plugins.Thumbs)===null||ke===void 0||ke.toggle());if(Be.fancyboxToggleFullscreen!==void 0)return _e.preventDefault(),_e.stopPropagation(),void this.instance.toggleFullscreen();if(Be.fancyboxToggleSlideshow!==void 0){_e.preventDefault(),_e.stopPropagation();const Ge=(Re=Ie.carousel)===null||Re===void 0?void 0:Re.plugins.Autoplay;let Xe=Ge.isActive;return Ne&&Ne.panMode==="mousemove"&&!Xe&&Ne.reset(),void(Xe?Ge.stop():Ge.start())}const He=Be.panzoomAction,We=Be.panzoomChange;if((We||He)&&(_e.preventDefault(),_e.stopPropagation()),We){let Ge={};try{Ge=JSON.parse(We)}catch{}Ne&&Ne.applyChange(Ge)}else He&&Ne&&Ne[He]&&Ne[He]()}onChange(){this.onRefresh()}onRefresh(){if(this.instance.isClosing())return;const _e=this.container;if(!_e)return;const ke=this.instance.getSlide();if(!ke||ke.state!==lt.Ready)return;const Re=ke&&!ke.error&&ke.panzoom;for(const Ne of _e.querySelectorAll("[data-panzoom-action]"))Re?(Ne.removeAttribute("disabled"),Ne.removeAttribute("tabindex")):(Ne.setAttribute("disabled",""),Ne.setAttribute("tabindex","-1"));let Ie=Re&&Re.canZoomIn(),Fe=Re&&Re.canZoomOut();for(const Ne of _e.querySelectorAll('[data-panzoom-action="zoomIn"]'))Ie?(Ne.removeAttribute("disabled"),Ne.removeAttribute("tabindex")):(Ne.setAttribute("disabled",""),Ne.setAttribute("tabindex","-1"));for(const Ne of _e.querySelectorAll('[data-panzoom-action="zoomOut"]'))Fe?(Ne.removeAttribute("disabled"),Ne.removeAttribute("tabindex")):(Ne.setAttribute("disabled",""),Ne.setAttribute("tabindex","-1"));for(const Ne of _e.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')){Fe||Ie?(Ne.removeAttribute("disabled"),Ne.removeAttribute("tabindex")):(Ne.setAttribute("disabled",""),Ne.setAttribute("tabindex","-1"));const je=Ne.querySelector("g");je&&(je.style.display=Ie?"":"none")}}onDone(_e,ke){var Re;(Re=ke.panzoom)===null||Re===void 0||Re.on("afterTransform",()=>{this.instance.isCurrentSlide(ke)&&this.onRefresh()}),this.instance.isCurrentSlide(ke)&&this.onRefresh()}createContainer(){const _e=this.instance.container;if(!_e)return null;const ke=this.option("parentEl")||_e;let Re=ke.querySelector("."+Jt);return Re||(Re=document.createElement("div"),P(Re,Jt),ke.prepend(Re)),Re.addEventListener("click",this.onClick,{passive:!1,capture:!0}),_e&&P(_e,Kt),this.container=Re,Re}createEl(_e){const ke=this.instance,Re=ke.carousel;if(!Re||_e==="toggleFS"||_e==="fullscreen"&&!ot())return null;let Ie=null;const Fe=Re.slides.length||0;let Ne=0,je=0;for(const He of Re.slides)(He.panzoom||He.type==="image")&&Ne++,(He.type==="image"||He.downloadSrc)&&je++;if(Fe<2&&["infobar","prev","next"].includes(_e))return Ie;if(Vt[_e]!==void 0&&!Ne||_e==="download"&&!je)return null;if(_e==="thumbs"){const He=ke.plugins.Thumbs;if(!He||!He.isEnabled)return null}if(_e==="slideshow"&&(!Re.plugins.Autoplay||Fe<2))return null;if(Vt[_e]!==void 0){const He=Vt[_e];Ie=document.createElement("button"),Ie.setAttribute("title",this.instance.localize(`{{${_e.toUpperCase()}}}`)),P(Ie,"f-button"),He.action&&(Ie.dataset.panzoomAction=He.action),He.change&&(Ie.dataset.panzoomChange=JSON.stringify(He.change)),Ie.appendChild(n(this.instance.localize(He.icon)))}else{const He=(this.option("items")||[])[_e];He&&(Ie=n(this.instance.localize(He.tpl)),typeof He.click=="function"&&Ie.addEventListener("click",We=>{We.preventDefault(),We.stopPropagation(),typeof He.click=="function"&&He.click.call(this,this,We)}))}const Be=Ie==null?void 0:Ie.querySelector("svg");if(Be)for(const[He,We]of Object.entries(Gt))Be.getAttribute(He)||Be.setAttribute(He,String(We));return Ie}removeContainer(){const _e=this.container;_e&&_e.remove(),this.container=null,this.state=Zt.Disabled;const ke=this.instance.container;ke&&S(ke,Kt)}attach(){const _e=this,ke=_e.instance;ke.on("Carousel.initSlides",_e.onReady),ke.on("done",_e.onDone),ke.on(["reveal","Carousel.change"],_e.onChange),_e.onReady(_e.instance)}detach(){const _e=this,ke=_e.instance;ke.off("Carousel.initSlides",_e.onReady),ke.off("done",_e.onDone),ke.off(["reveal","Carousel.change"],_e.onChange),_e.removeContainer()}}Object.defineProperty(Qt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Ut});const te={Hash:class extends _{onReady(){ht=!1}onChange(Ae){ut&&clearTimeout(ut);const{hash:_e}=pt(),{hash:ke}=ft(),Re=Ae.isOpeningSlide(Ae.getSlide());Re&&(ct=ke===_e?"":ke),_e&&_e!==ke&&(ut=setTimeout(()=>{try{if(Ae.state===rt.Ready){let Ie="replaceState";Re&&!dt&&(Ie="pushState",dt=!0),window.history[Ie]({},document.title,window.location.pathname+window.location.search+_e)}}catch{}},300))}onClose(Ae){if(ut&&clearTimeout(ut),!ht&&dt)return dt=!1,ht=!1,void window.history.back();if(!ht)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+(ct||""))}catch{}}attach(){const Ae=this.instance;Ae.on("ready",this.onReady),Ae.on(["Carousel.ready","Carousel.change"],this.onChange),Ae.on("close",this.onClose)}detach(){const Ae=this.instance;Ae.off("ready",this.onReady),Ae.off(["Carousel.ready","Carousel.change"],this.onChange),Ae.off("close",this.onClose)}static parseURL(){return ft()}static startFromUrl(){gt()}static destroy(){window.removeEventListener("hashchange",vt,!1)}},Html:Lt,Images:wt,Slideshow:Dt,Thumbs:Yt,Toolbar:Qt},ee="with-fancybox",ie="hide-scrollbar",ne="--fancybox-scrollbar-compensate",se="--fancybox-body-margin",oe="aria-hidden",ae="is-using-tab",re="is-animated",le="is-compact",ce="is-loading",he="is-opening",de="has-caption",ue="disabled",pe="tabindex",fe="download",ge="href",me="src",ve=Ae=>typeof Ae=="string",be=function(){var Ae=window.getSelection();return!!Ae&&Ae.type==="Range"};let ye,we=null,xe=null,Ee=0,Se=0,Pe=0,Ce=0;const Te=new Map;let Me=0;class Oe extends g{get isIdle(){return this.idle}get isCompact(){return this.option("compact")}constructor(_e=[],ke={},Re={}){super(ke),Object.defineProperty(this,"userSlides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"idle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"idleTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"ignoreFocusChange",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"startedFs",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:rt.Init}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"footer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"lastFocus",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prevMouseMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),ye||(ye=ot()),this.id=ke.id||++Me,Te.set(this.id,this),this.userSlides=_e,this.userPlugins=Re,queueMicrotask(()=>{this.init()})}init(){if(this.state===rt.Destroy)return;this.state=rt.Init,this.attachPlugins(Object.assign(Object.assign({},Oe.Plugins),this.userPlugins)),this.emit("init"),this.emit("attachPlugins"),this.option("hideScrollbar")===!0&&(()=>{if(!et)return;const ke=document,Re=ke.body,Ie=ke.documentElement;if(Re.classList.contains(ie))return;let Fe=window.innerWidth-Ie.getBoundingClientRect().width;const Ne=parseFloat(window.getComputedStyle(Re).marginRight);Fe<0&&(Fe=0),Ie.style.setProperty(ne,`${Fe}px`),Ne&&Re.style.setProperty(se,`${Ne}px`),Re.classList.add(ie)})(),this.initLayout(),this.scale();const _e=()=>{this.initCarousel(this.userSlides),this.state=rt.Ready,this.attachEvents(),this.emit("ready"),setTimeout(()=>{this.container&&this.container.setAttribute(oe,"false")},16)};this.option("Fullscreen.autoStart")&&ye&&!ye.isFullscreen()?ye.request().then(()=>{this.startedFs=!0,_e()}).catch(()=>_e()):_e()}initLayout(){var _e,ke;const Re=this.option("parentEl")||document.body,Ie=n(this.localize(this.option("tpl.main")||""));if(Ie){if(Ie.setAttribute("id",`fancybox-${this.id}`),Ie.setAttribute("aria-label",this.localize("{{MODAL}}")),Ie.classList.toggle(le,this.isCompact),P(Ie,this.option("mainClass")||""),P(Ie,he),this.container=Ie,this.footer=Ie.querySelector(".fancybox__footer"),Re.appendChild(Ie),P(document.documentElement,ee),we&&xe||(we=document.createElement("span"),P(we,"fancybox-focus-guard"),we.setAttribute(pe,"0"),we.setAttribute(oe,"true"),we.setAttribute("aria-label","Focus guard"),xe=we.cloneNode(),(_e=Ie.parentElement)===null||_e===void 0||_e.insertBefore(we,Ie),(ke=Ie.parentElement)===null||ke===void 0||ke.append(xe)),Ie.addEventListener("mousedown",Fe=>{Ee=Fe.pageX,Se=Fe.pageY,S(Ie,ae)}),this.option("closeExisting"))for(const Fe of Te.values())Fe.id!==this.id&&Fe.close();else this.option("animated")&&(P(Ie,re),setTimeout(()=>{this.isClosing()||S(Ie,re)},350));this.emit("initLayout")}}initCarousel(_e){const ke=this.container;if(!ke)return;const Re=ke.querySelector(".fancybox__carousel");if(!Re)return;const Ie=this.carousel=new Q(Re,u({},{slides:_e,transition:"fade",Panzoom:{lockAxis:this.option("dragToClose")?"xy":"x",infinite:!!this.option("dragToClose")&&"y"},Dots:!1,Navigation:{classes:{container:"fancybox__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"}},initialPage:this.option("startIndex"),l10n:this.option("l10n")},this.option("Carousel")||{}));Ie.on("*",(Fe,Ne,...je)=>{this.emit(`Carousel.${Ne}`,Fe,...je)}),Ie.on(["ready","change"],()=>{this.manageCaption()}),this.on("Carousel.removeSlide",(Fe,Ne,je)=>{this.clearContent(je),je.state=void 0}),Ie.on("Panzoom.touchStart",()=>{var Fe,Ne;this.isCompact||this.endIdle(),!((Fe=document.activeElement)===null||Fe===void 0)&&Fe.closest(".f-thumbs")&&((Ne=this.container)===null||Ne===void 0||Ne.focus())}),Ie.on("settle",()=>{this.idleTimer||this.isCompact||!this.option("idle")||this.setIdle(),this.option("autoFocus")&&!this.isClosing&&this.checkFocus()}),this.option("dragToClose")&&(Ie.on("Panzoom.afterTransform",(Fe,Ne)=>{const je=this.getSlide();if(je&&e(je.el))return;const Be=this.container;if(Be){const He=Math.abs(Ne.current.f),We=He<1?"":Math.max(.5,Math.min(1,1-He/Ne.contentRect.fitHeight*1.5));Be.style.setProperty("--fancybox-ts",We?"0s":""),Be.style.setProperty("--fancybox-opacity",We+"")}}),Ie.on("Panzoom.touchEnd",(Fe,Ne,je)=>{var Be;const He=this.getSlide();if(He&&e(He.el)||Ne.isMobile&&document.activeElement&&["TEXTAREA","INPUT"].indexOf((Be=document.activeElement)===null||Be===void 0?void 0:Be.nodeName)!==-1)return;const We=Math.abs(Ne.dragOffset.y);Ne.lockedAxis==="y"&&(We>=200||We>=50&&Ne.dragOffset.time<300)&&(je&&je.cancelable&&je.preventDefault(),this.close(je,"f-throwOut"+(Ne.current.f<0?"Up":"Down")))})),Ie.on("change",Fe=>{var Ne;let je=(Ne=this.getSlide())===null||Ne===void 0?void 0:Ne.triggerEl;if(je){const Be=new CustomEvent("slideTo",{bubbles:!0,cancelable:!0,detail:Fe.page});je.dispatchEvent(Be)}}),Ie.on(["refresh","change"],Fe=>{const Ne=this.container;if(!Ne)return;for(const He of Ne.querySelectorAll("[data-fancybox-current-index]"))He.innerHTML=Fe.page+1;for(const He of Ne.querySelectorAll("[data-fancybox-count]"))He.innerHTML=Fe.pages.length;if(!Fe.isInfinite){for(const He of Ne.querySelectorAll("[data-fancybox-next]"))Fe.page<Fe.pages.length-1?(He.removeAttribute(ue),He.removeAttribute(pe)):(He.setAttribute(ue,""),He.setAttribute(pe,"-1"));for(const He of Ne.querySelectorAll("[data-fancybox-prev]"))Fe.page>0?(He.removeAttribute(ue),He.removeAttribute(pe)):(He.setAttribute(ue,""),He.setAttribute(pe,"-1"))}const je=this.getSlide();if(!je)return;let Be=je.downloadSrc||"";Be||je.type!=="image"||je.error||!ve(je[me])||(Be=je[me]);for(const He of Ne.querySelectorAll("[data-fancybox-download]")){const We=je.downloadFilename;Be?(He.removeAttribute(ue),He.removeAttribute(pe),He.setAttribute(ge,Be),He.setAttribute(fe,We||Be),He.setAttribute("target","_blank")):(He.setAttribute(ue,""),He.setAttribute(pe,"-1"),He.removeAttribute(ge),He.removeAttribute(fe))}}),this.emit("initCarousel")}attachEvents(){const _e=this,ke=_e.container;if(!ke)return;ke.addEventListener("click",_e.onClick,{passive:!1,capture:!1}),ke.addEventListener("wheel",_e.onWheel,{passive:!1,capture:!1}),document.addEventListener("keydown",_e.onKeydown,{passive:!1,capture:!0}),document.addEventListener("visibilitychange",_e.onVisibilityChange,!1),document.addEventListener("mousemove",_e.onMousemove),_e.option("trapFocus")&&document.addEventListener("focus",_e.onFocus,!0),window.addEventListener("resize",_e.onResize);const Re=window.visualViewport;Re&&(Re.addEventListener("scroll",_e.onResize),Re.addEventListener("resize",_e.onResize))}detachEvents(){const _e=this,ke=_e.container;if(!ke)return;document.removeEventListener("keydown",_e.onKeydown,{passive:!1,capture:!0}),ke.removeEventListener("wheel",_e.onWheel,{passive:!1,capture:!1}),ke.removeEventListener("click",_e.onClick,{passive:!1,capture:!1}),document.removeEventListener("mousemove",_e.onMousemove),window.removeEventListener("resize",_e.onResize);const Re=window.visualViewport;Re&&(Re.removeEventListener("resize",_e.onResize),Re.removeEventListener("scroll",_e.onResize)),document.removeEventListener("visibilitychange",_e.onVisibilityChange,!1),document.removeEventListener("focus",_e.onFocus,!0)}scale(){const _e=this.container;if(!_e)return;const ke=window.visualViewport,Re=Math.max(1,(ke==null?void 0:ke.scale)||1);let Ie="",Fe="",Ne="";if(ke&&Re>1){let je=`${ke.offsetLeft}px`,Be=`${ke.offsetTop}px`;Ie=ke.width*Re+"px",Fe=ke.height*Re+"px",Ne=`translate3d(${je}, ${Be}, 0) scale(${1/Re})`}_e.style.transform=Ne,_e.style.width=Ie,_e.style.height=Fe}onClick(_e){var ke;const{container:Re,isCompact:Ie}=this;if(!Re||this.isClosing())return;!Ie&&this.option("idle")&&this.resetIdle();const Fe=_e.composedPath()[0];if(Fe.closest(".fancybox-spinner")||Fe.closest("[data-fancybox-close]"))return _e.preventDefault(),void this.close(_e);if(Fe.closest("[data-fancybox-prev]"))return _e.preventDefault(),void this.prev();if(Fe.closest("[data-fancybox-next]"))return _e.preventDefault(),void this.next();if(_e.type==="click"&&_e.detail===0||Math.abs(_e.pageX-Ee)>30||Math.abs(_e.pageY-Se)>30)return;const Ne=document.activeElement;if(be()&&Ne&&Re.contains(Ne))return;if(Ie&&((ke=this.getSlide())===null||ke===void 0?void 0:ke.type)==="image")return void(this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null):this.clickTimer=setTimeout(()=>{this.toggleIdle(),this.clickTimer=null},350));if(this.emit("click",_e),_e.defaultPrevented)return;let je=!1;if(Fe.closest(".fancybox__content")){if(Ne){if(Ne.closest("[contenteditable]"))return;Fe.matches(nt)||Ne.blur()}if(be())return;je=this.option("contentClick")}else Fe.closest(".fancybox__carousel")&&!Fe.matches(nt)&&(je=this.option("backdropClick"));je==="close"?(_e.preventDefault(),this.close(_e)):je==="next"?(_e.preventDefault(),this.next()):je==="prev"&&(_e.preventDefault(),this.prev())}onWheel(_e){const ke=_e.target;let Re=this.option("wheel",_e);ke.closest(".fancybox__thumbs")&&(Re="slide");const Ie=Re==="slide",Fe=[-_e.deltaX||0,-_e.deltaY||0,-_e.detail||0].reduce(function(Be,He){return Math.abs(He)>Math.abs(Be)?He:Be}),Ne=Math.max(-1,Math.min(1,Fe)),je=Date.now();this.pwt&&je-this.pwt<300?Ie&&_e.preventDefault():(this.pwt=je,this.emit("wheel",_e,Ne),_e.defaultPrevented||(Re==="close"?(_e.preventDefault(),this.close(_e)):Re==="slide"&&(i(ke)||(_e.preventDefault(),this[Ne>0?"prev":"next"]()))))}onScroll(){window.scrollTo(Pe,Ce)}onKeydown(_e){if(!this.isTopmost())return;this.isCompact||!this.option("idle")||this.isClosing()||this.resetIdle();const ke=_e.key,Re=this.option("keyboard");if(!Re)return;const Ie=_e.composedPath()[0],Fe=document.activeElement&&document.activeElement.classList,Ne=Fe&&Fe.contains("f-button")||Ie.dataset.carouselPage||Ie.dataset.carouselIndex;if(ke!=="Escape"&&!Ne&&E(Ie)&&(Ie.isContentEditable||["TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(Ie.nodeName)!==-1)||(_e.key==="Tab"?P(this.container,ae):S(this.container,ae),_e.ctrlKey||_e.altKey||_e.shiftKey))return;this.emit("keydown",ke,_e);const je=Re[ke];je&&typeof this[je]=="function"&&(_e.preventDefault(),this[je]())}onResize(){const _e=this.container;if(!_e)return;const ke=this.isCompact;_e.classList.toggle(le,ke),this.manageCaption(this.getSlide()),this.isCompact?this.clearIdle():this.endIdle(),this.scale(),this.emit("resize")}onFocus(_e){this.isTopmost()&&this.checkFocus(_e)}onMousemove(_e){this.prevMouseMoveEvent=_e,!this.isCompact&&this.option("idle")&&this.resetIdle()}onVisibilityChange(){document.visibilityState==="visible"?this.checkFocus():this.endIdle()}manageCloseBtn(_e){const ke=this.optionFor(_e,"closeButton")||!1;if(ke==="auto"){const Ie=this.plugins.Toolbar;if(Ie&&Ie.state===Zt.Ready)return}if(!ke||!_e.contentEl||_e.closeBtnEl)return;const Re=this.option("tpl.closeButton");if(Re){const Ie=n(this.localize(Re));_e.closeBtnEl=_e.contentEl.appendChild(Ie),_e.el&&P(_e.el,"has-close-btn")}}manageCaption(_e=void 0){var ke,Re;const Ie="fancybox__caption",Fe=this.container;if(!Fe)return;S(Fe,de);const Ne=this.isCompact||this.option("commonCaption"),je=!Ne;if(this.caption&&this.stop(this.caption),je&&this.caption&&(this.caption.remove(),this.caption=null),Ne&&!this.caption)for(const Ge of((ke=this.carousel)===null||ke===void 0?void 0:ke.slides)||[])Ge.captionEl&&(Ge.captionEl.remove(),Ge.captionEl=void 0,S(Ge.el,de),(Re=Ge.el)===null||Re===void 0||Re.removeAttribute("aria-labelledby"));if(_e||(_e=this.getSlide()),!_e||Ne&&!this.isCurrentSlide(_e))return;const Be=_e.el;let He=this.optionFor(_e,"caption","");if(!He)return void(Ne&&this.caption&&this.animate(this.caption,"f-fadeOut",()=>{this.caption&&(this.caption.innerHTML="")}));let We=null;if(je){if(We=_e.captionEl||null,Be&&!We){const Ge=Ie+`_${this.id}_${_e.index}`;We=document.createElement("div"),P(We,Ie),We.setAttribute("id",Ge),_e.captionEl=Be.appendChild(We),P(Be,de),Be.setAttribute("aria-labelledby",Ge)}}else We=this.caption,We||(We=Fe.querySelector("."+Ie)),!We&&(We=document.createElement("div"),We.dataset.fancyboxCaption="",P(We,Ie),(this.footer||Fe).prepend(We)),P(Fe,de),this.caption=We;We&&(We.innerHTML="",ve(He)||typeof He=="number"?We.innerHTML=He+"":He instanceof HTMLElement&&We.appendChild(He))}checkFocus(_e){this.focus(_e)}focus(_e){var ke;if(this.ignoreFocusChange)return;const Re=document.activeElement||null,Ie=(_e==null?void 0:_e.target)||null,Fe=this.container,Ne=(ke=this.carousel)===null||ke===void 0?void 0:ke.viewport;if(!Fe||!Ne||!_e&&Re&&Fe.contains(Re))return;const je=this.getSlide(),Be=je&&je.state===lt.Ready?je.el:null;if(!Be||Be.contains(Re)||Fe===Re)return;_e&&_e.cancelable&&_e.preventDefault(),this.ignoreFocusChange=!0;const He=Array.from(Fe.querySelectorAll(nt));let We=[],Ge=null;for(let $e of He){const qe=!$e.offsetParent||!!$e.closest('[aria-hidden="true"]'),Ue=Be&&Be.contains($e),Ye=!Ne.contains($e);if($e===Fe||(Ue||Ye)&&!qe){We.push($e);const Ze=$e.dataset.origTabindex;Ze!==void 0&&Ze&&($e.tabIndex=parseFloat(Ze)),$e.removeAttribute("data-orig-tabindex"),!$e.hasAttribute("autoFocus")&&Ge||(Ge=$e)}else{const Ze=$e.dataset.origTabindex===void 0?$e.getAttribute("tabindex")||"":$e.dataset.origTabindex;Ze&&($e.dataset.origTabindex=Ze),$e.tabIndex=-1}}let Xe=null;_e?(!Ie||We.indexOf(Ie)<0)&&(Xe=Ge||Fe,We.length&&(Re===xe?Xe=We[0]:this.lastFocus!==Fe&&Re!==we||(Xe=We[We.length-1]))):Xe=je&&je.type==="image"?Fe:Ge||Fe,Xe&&st(Xe),this.lastFocus=document.activeElement,this.ignoreFocusChange=!1}next(){const _e=this.carousel;_e&&_e.pages.length>1&&_e.slideNext()}prev(){const _e=this.carousel;_e&&_e.pages.length>1&&_e.slidePrev()}jumpTo(..._e){this.carousel&&this.carousel.slideTo(..._e)}isTopmost(){var _e;return((_e=Oe.getInstance())===null||_e===void 0?void 0:_e.id)==this.id}animate(_e=null,ke="",Re){if(!_e||!ke)return void(Re&&Re());this.stop(_e);const Ie=Fe=>{Fe.target===_e&&_e.dataset.animationName&&(_e.removeEventListener("animationend",Ie),delete _e.dataset.animationName,Re&&Re(),S(_e,ke))};_e.dataset.animationName=ke,_e.addEventListener("animationend",Ie),P(_e,ke)}stop(_e){_e&&_e.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:_e}))}setContent(_e,ke="",Re=!0){if(this.isClosing())return;const Ie=_e.el;if(!Ie)return;let Fe=null;if(E(ke)?Fe=ke:(Fe=n(ke+""),E(Fe)||(Fe=document.createElement("div"),Fe.innerHTML=ke+"")),["img","picture","iframe","video","audio"].includes(Fe.nodeName.toLowerCase())){const Ne=document.createElement("div");Ne.appendChild(Fe),Fe=Ne}E(Fe)&&_e.filter&&!_e.error&&(Fe=Fe.querySelector(_e.filter)),Fe&&E(Fe)?(P(Fe,"fancybox__content"),_e.id&&Fe.setAttribute("id",_e.id),Ie.classList.add(`has-${_e.error?"error":_e.type||"unknown"}`),Ie.prepend(Fe),Fe.style.display==="none"&&(Fe.style.display=""),getComputedStyle(Fe).getPropertyValue("display")==="none"&&(Fe.style.display=_e.display||this.option("defaultDisplay")||"flex"),_e.contentEl=Fe,Re&&this.revealContent(_e),this.manageCloseBtn(_e),this.manageCaption(_e)):this.setError(_e,"{{ELEMENT_NOT_FOUND}}")}revealContent(_e,ke){const Re=_e.el,Ie=_e.contentEl;Re&&Ie&&(this.emit("reveal",_e),this.hideLoading(_e),_e.state=lt.Opening,(ke=this.isOpeningSlide(_e)?ke===void 0?this.optionFor(_e,"showClass"):ke:"f-fadeIn")?this.animate(Ie,ke,()=>{this.done(_e)}):this.done(_e))}done(_e){this.isClosing()||(_e.state=lt.Ready,this.emit("done",_e),P(_e.el,"is-done"),this.isCurrentSlide(_e)&&this.option("autoFocus")&&queueMicrotask(()=>{var ke;(ke=_e.panzoom)===null||ke===void 0||ke.updateControls(),this.option("autoFocus")&&this.focus()}),this.isOpeningSlide(_e)&&(S(this.container,he),!this.isCompact&&this.option("idle")&&this.setIdle()))}isCurrentSlide(_e){const ke=this.getSlide();return!(!_e||!ke)&&ke.index===_e.index}isOpeningSlide(_e){var ke,Re;return((ke=this.carousel)===null||ke===void 0?void 0:ke.prevPage)===null&&_e&&_e.index===((Re=this.getSlide())===null||Re===void 0?void 0:Re.index)}showLoading(_e){_e.state=lt.Loading;const ke=_e.el;ke&&(P(ke,ce),this.emit("loading",_e),_e.spinnerEl||setTimeout(()=>{if(!this.isClosing()&&!_e.spinnerEl&&_e.state===lt.Loading){let Re=n(x);P(Re,"fancybox-spinner"),_e.spinnerEl=Re,ke.prepend(Re),this.animate(Re,"f-fadeIn")}},250))}hideLoading(_e){const ke=_e.el;if(!ke)return;const Re=_e.spinnerEl;this.isClosing()?Re==null||Re.remove():(S(ke,ce),Re&&this.animate(Re,"f-fadeOut",()=>{Re.remove()}),_e.state===lt.Loading&&(this.emit("loaded",_e),_e.state=lt.Ready))}setError(_e,ke){if(this.isClosing())return;const Re=new Event("error",{bubbles:!0,cancelable:!0});if(this.emit("error",Re,_e),Re.defaultPrevented)return;_e.error=ke,this.hideLoading(_e),this.clearContent(_e);const Ie=document.createElement("div");Ie.classList.add("fancybox-error"),Ie.innerHTML=this.localize(ke||"<p>{{ERROR}}</p>"),this.setContent(_e,Ie)}clearContent(_e){if(_e.state===void 0)return;this.emit("clearContent",_e),_e.contentEl&&(_e.contentEl.remove(),_e.contentEl=void 0);const ke=_e.el;ke&&(S(ke,"has-error"),S(ke,"has-unknown"),S(ke,`has-${_e.type||"unknown"}`)),_e.closeBtnEl&&_e.closeBtnEl.remove(),_e.closeBtnEl=void 0,_e.captionEl&&_e.captionEl.remove(),_e.captionEl=void 0,_e.spinnerEl&&_e.spinnerEl.remove(),_e.spinnerEl=void 0}getSlide(){var _e;const ke=this.carousel;return((_e=ke==null?void 0:ke.pages[ke==null?void 0:ke.page])===null||_e===void 0?void 0:_e.slides[0])||void 0}close(_e,ke){if(this.isClosing())return;const Re=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(this.emit("shouldClose",Re,_e),Re.defaultPrevented)return;_e&&_e.cancelable&&(_e.preventDefault(),_e.stopPropagation());const Ie=()=>{this.proceedClose(_e,ke)};this.startedFs&&ye&&ye.isFullscreen()?Promise.resolve(ye.exit()).then(()=>Ie()):Ie()}clearIdle(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=null}setIdle(_e=!1){const ke=()=>{this.clearIdle(),this.idle=!0,P(this.container,"is-idle"),this.emit("setIdle")};if(this.clearIdle(),!this.isClosing())if(_e)ke();else{const Re=this.option("idle");Re&&(this.idleTimer=setTimeout(ke,Re))}}endIdle(){this.clearIdle(),this.idle&&!this.isClosing()&&(this.idle=!1,S(this.container,"is-idle"),this.emit("endIdle"))}resetIdle(){this.endIdle(),this.setIdle()}toggleIdle(){this.idle?this.endIdle():this.setIdle(!0)}toggleFullscreen(){ye&&(ye.isFullscreen()?ye.exit():ye.request().then(()=>{this.startedFs=!0}))}isClosing(){return[rt.Closing,rt.CustomClosing,rt.Destroy].includes(this.state)}proceedClose(_e,ke){var Re,Ie;this.state=rt.Closing,this.clearIdle(),this.detachEvents();const Fe=this.container,Ne=this.carousel,je=this.getSlide(),Be=je&&this.option("placeFocusBack")?je.triggerEl||this.option("triggerEl"):null;if(Be&&(tt(Be)?st(Be):Be.focus()),Fe&&(S(Fe,he),P(Fe,"is-closing"),Fe.setAttribute(oe,"true"),this.option("animated")&&P(Fe,re),Fe.style.pointerEvents="none"),Ne){Ne.clearTransitions(),(Re=Ne.panzoom)===null||Re===void 0||Re.destroy(),(Ie=Ne.plugins.Navigation)===null||Ie===void 0||Ie.detach();for(const He of Ne.slides){He.state=lt.Closing,this.hideLoading(He);const We=He.contentEl;We&&this.stop(We);const Ge=He==null?void 0:He.panzoom;Ge&&(Ge.stop(),Ge.detachEvents(),Ge.detachObserver()),this.isCurrentSlide(He)||Ne.emit("removeSlide",He)}}Pe=window.scrollX,Ce=window.scrollY,window.addEventListener("scroll",this.onScroll),this.emit("close",_e),this.state!==rt.CustomClosing?(ke===void 0&&je&&(ke=this.optionFor(je,"hideClass")),ke&&je?(this.animate(je.contentEl,ke,()=>{Ne&&Ne.emit("removeSlide",je)}),setTimeout(()=>{this.destroy()},500)):this.destroy()):setTimeout(()=>{this.destroy()},500)}destroy(){var _e;if(this.state===rt.Destroy)return;window.removeEventListener("scroll",this.onScroll),this.state=rt.Destroy,(_e=this.carousel)===null||_e===void 0||_e.destroy();const ke=this.container;ke&&ke.remove(),Te.delete(this.id);const Re=Oe.getInstance();Re?Re.focus():(we&&(we.remove(),we=null),xe&&(xe.remove(),xe=null),S(document.documentElement,ee),(()=>{if(!et)return;const Ie=document,Fe=Ie.body;Fe.classList.remove(ie),Fe.style.setProperty(se,""),Ie.documentElement.style.setProperty(ne,"")})(),this.emit("destroy"))}static bind(_e,ke,Re){if(!et)return;let Ie,Fe="",Ne={};if(_e===void 0?Ie=document.body:ve(_e)?(Ie=document.body,Fe=_e,typeof ke=="object"&&(Ne=ke||{})):(Ie=_e,ve(ke)&&(Fe=ke),typeof Re=="object"&&(Ne=Re||{})),!Ie||!E(Ie))return;Fe=Fe||"[data-fancybox]";const je=Oe.openers.get(Ie)||new Map;je.set(Fe,Ne),Oe.openers.set(Ie,je),je.size===1&&Ie.addEventListener("click",Oe.fromEvent)}static unbind(_e,ke){let Re,Ie="";if(ve(_e)?(Re=document.body,Ie=_e):(Re=_e,ve(ke)&&(Ie=ke)),!Re)return;const Fe=Oe.openers.get(Re);Fe&&Ie&&Fe.delete(Ie),Ie&&Fe||(Oe.openers.delete(Re),Re.removeEventListener("click",Oe.fromEvent))}static destroy(){let _e;for(;_e=Oe.getInstance();)_e.destroy();for(const ke of Oe.openers.keys())ke.removeEventListener("click",Oe.fromEvent);Oe.openers=new Map}static fromEvent(_e){if(_e.defaultPrevented||_e.button&&_e.button!==0||_e.ctrlKey||_e.metaKey||_e.shiftKey)return;let ke=_e.composedPath()[0];const Re=ke.closest("[data-fancybox-trigger]");if(Re){const qe=Re.dataset.fancyboxTrigger||"",Ue=document.querySelectorAll(`[data-fancybox="${qe}"]`),Ye=parseInt(Re.dataset.fancyboxIndex||"",10)||0;ke=Ue[Ye]||ke}if(!(ke&&ke instanceof Element))return;let Ie,Fe,Ne,je;if([...Oe.openers].reverse().find(([qe,Ue])=>!(!qe.contains(ke)||![...Ue].reverse().find(([Ye,Ze])=>{let Qe=ke.closest(Ye);return!!Qe&&(Ie=qe,Fe=Ye,Ne=Qe,je=Ze,!0)}))),!Ie||!Fe||!Ne)return;je=je||{},_e.preventDefault(),ke=Ne;let Be=[],He=u({},at,je);He.event=_e,He.triggerEl=ke,He.delegate=Re;const We=He.groupAll,Ge=He.groupAttr,Xe=Ge&&ke?ke.getAttribute(`${Ge}`):"";if((!ke||Xe||We)&&(Be=[].slice.call(Ie.querySelectorAll(Fe))),ke&&!We&&(Be=Xe?Be.filter(qe=>qe.getAttribute(`${Ge}`)===Xe):[ke]),!Be.length)return;const $e=Oe.getInstance();return $e&&$e.options.triggerEl&&Be.indexOf($e.options.triggerEl)>-1?void 0:(ke&&(He.startIndex=Be.indexOf(ke)),Oe.fromNodes(Be,He))}static fromSelector(_e,ke,Re){let Ie=null,Fe="",Ne={};if(ve(_e)?(Ie=document.body,Fe=_e,typeof ke=="object"&&(Ne=ke||{})):_e instanceof HTMLElement&&ve(ke)&&(Ie=_e,Fe=ke,typeof Re=="object"&&(Ne=Re||{})),!Ie||!Fe)return!1;const je=Oe.openers.get(Ie);return!!je&&(Ne=u({},je.get(Fe)||{},Ne),!!Ne&&Oe.fromNodes(Array.from(Ie.querySelectorAll(Fe)),Ne))}static fromNodes(_e,ke){ke=u({},at,ke||{});const Re=[];for(const Ie of _e){const Fe=Ie.dataset||{},Ne=Fe[me]||Ie.getAttribute(ge)||Ie.getAttribute("currentSrc")||Ie.getAttribute(me)||void 0;let je;const Be=ke.delegate;let He;Be&&Re.length===ke.startIndex&&(je=Be instanceof HTMLImageElement?Be:Be.querySelector("img:not([aria-hidden])")),je||(je=Ie instanceof HTMLImageElement?Ie:Ie.querySelector("img:not([aria-hidden])")),je&&(He=je.currentSrc||je[me]||void 0,!He&&je.dataset&&(He=je.dataset.lazySrc||je.dataset[me]||void 0));const We={src:Ne,triggerEl:Ie,thumbEl:je,thumbElSrc:He,thumbSrc:He};for(const Ge in Fe){let Xe=Fe[Ge]+"";Xe=Xe!=="false"&&(Xe==="true"||Xe),We[Ge]=Xe}Re.push(We)}return new Oe(Re,ke)}static getInstance(_e){return _e?Te.get(_e):Array.from(Te.values()).reverse().find(ke=>!ke.isClosing()&&ke)||null}static getSlide(){var _e;return((_e=Oe.getInstance())===null||_e===void 0?void 0:_e.getSlide())||null}static show(_e=[],ke={}){return new Oe(_e,ke)}static next(){const _e=Oe.getInstance();_e&&_e.next()}static prev(){const _e=Oe.getInstance();_e&&_e.prev()}static close(_e=!0,...ke){if(_e)for(const Re of Te.values())Re.close(...ke);else{const Re=Oe.getInstance();Re&&Re.close(...ke)}}}Object.defineProperty(Oe,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(Oe,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:at}),Object.defineProperty(Oe,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:te}),Object.defineProperty(Oe,"openers",{enumerable:!0,configurable:!0,writable:!0,value:new Map});const FancyboxWrapper=({children:Ae,options:_e})=>(reactExports.useEffect(()=>(Oe.bind("[data-fancybox]",_e||{}),()=>{Oe.unbind("[data-fancybox]"),Oe.close()}),[_e]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ae})),Proj=Ae=>{const[_e,ke]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"card bg-dark project",children:[jsxRuntimeExports.jsx("h1",{className:"iconbtn",role:"button",onClick:()=>ke(!_e),children:Ae.title}),jsxRuntimeExports.jsxs("div",{className:"proj-img",children:[jsxRuntimeExports.jsx(FancyboxWrapper,{options:{},children:jsxRuntimeExports.jsx("a",{"data-fancybox":"gallery",href:Ae.img,className:"iconbtn","data-caption":Ae.title,children:jsxRuntimeExports.jsx("img",{src:Ae.img,alt:`${Ae.title} img`})})}),jsxRuntimeExports.jsx("p",{className:`${_e?"show":""}`,children:Ae.desc})]})]})},Projects=()=>jsxRuntimeExports.jsxs("div",{className:"projects",children:[jsxRuntimeExports.jsx("h1",{className:"mb-5",children:"Projects"}),jsxRuntimeExports.jsx("div",{className:"row",children:data.projects.map((Ae,_e)=>jsxRuntimeExports.jsx("div",{className:"col-md-6 mb-4",children:jsxRuntimeExports.jsx(Proj,{title:Ae.title,desc:Ae.desc,tech:Ae.tech,img:Ae.img,page:Ae.page})},_e))})]}),Tab=Ae=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("li",{className:"nav-item",children:jsxRuntimeExports.jsx("button",{className:`nav-link ${Ae.actualComp===Ae.numb?"active":""} text-yellow`,onClick:()=>Ae.setActualComp(Ae.numb),children:Ae.title})})}),Main=()=>{const[Ae,_e]=reactExports.useState(0),[ke,Re]=reactExports.useState(!1),Ie=()=>{Re(!0),setTimeout(()=>{Re(!1)},500)};return jsxRuntimeExports.jsxs("div",{className:`main-container ${ke?"active":""}`,children:[jsxRuntimeExports.jsxs("ul",{className:"nav nav-tabs",children:[jsxRuntimeExports.jsx(Tab,{actualComp:Ae,setActualComp:_e,title:"Home",numb:0}),jsxRuntimeExports.jsx(Tab,{actualComp:Ae,setActualComp:_e,title:"About",numb:1}),jsxRuntimeExports.jsx(Tab,{actualComp:Ae,setActualComp:_e,title:"Tech",numb:2}),jsxRuntimeExports.jsx(Tab,{actualComp:Ae,setActualComp:_e,title:"Certif",numb:3}),jsxRuntimeExports.jsx(Tab,{actualComp:Ae,setActualComp:_e,title:"Projects",numb:4}),jsxRuntimeExports.jsx(Tab,{actualComp:Ae,setActualComp:_e,title:"Contact",numb:5})]}),jsxRuntimeExports.jsx("div",{className:`main-card ${ke?"hide":""} text-yellow`,children:Ae===0?jsxRuntimeExports.jsx(Home,{clicked:Ie}):Ae===1?jsxRuntimeExports.jsx(About,{}):Ae===2?jsxRuntimeExports.jsx(Technologies,{}):Ae===3?jsxRuntimeExports.jsx(Certificates,{}):Ae===4?jsxRuntimeExports.jsx(Projects,{}):Ae===5?jsxRuntimeExports.jsx(Contact,{}):null})]})};function App(){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Main,{})})}const MContext=reactExports.createContext({darkTheme:!1,changeTheme:()=>{}}),MContextProvider=({children:Ae})=>{const[_e,ke]=reactExports.useState(!0),Re=()=>{ke(!_e)};return jsxRuntimeExports.jsx(MContext.Provider,{value:{darkTheme:_e,changeTheme:Re},children:Ae})};ReactDOM.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(MContextProvider,{children:jsxRuntimeExports.jsx(App,{})})}));
